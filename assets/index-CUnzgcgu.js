function oP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function ja(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IU(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Wy={exports:{}},Au={};var xC;function LU(){if(xC)return Au;xC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:s}}return Au.Fragment=t,Au.jsx=r,Au.jsxs=r,Au}var bC;function $U(){return bC||(bC=1,Wy.exports=LU()),Wy.exports}var l=$U(),Yy={exports:{}},Ge={};var wC;function zU(){if(wC)return Ge;wC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function E(D,H,Q){this.props=D,this.context=H,this.refs=_,this.updater=Q||S}E.prototype.isReactComponent={},E.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=E.prototype;function C(D,H,Q){this.props=D,this.context=H,this.refs=_,this.updater=Q||S}var I=C.prototype=new O;I.constructor=C,w(I,E.prototype),I.isPureReactComponent=!0;var A=Array.isArray;function M(){}var N={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function U(D,H,Q){var P=Q.ref;return{$$typeof:e,type:D,key:H,ref:P!==void 0?P:null,props:Q}}function G(D,H){return U(D.type,H,D.props)}function B(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function K(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return H[Q]})}var F=/\/+/g;function se(D,H){return typeof D=="object"&&D!==null&&D.key!=null?K(""+D.key):H.toString(36)}function J(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(M,M):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,H,Q,P,V){var ie=typeof D;(ie==="undefined"||ie==="boolean")&&(D=null);var W=!1;if(D===null)W=!0;else switch(ie){case"bigint":case"string":case"number":W=!0;break;case"object":switch(D.$$typeof){case e:case t:W=!0;break;case m:return W=D._init,L(W(D._payload),H,Q,P,V)}}if(W)return V=V(D),W=P===""?"."+se(D,0):P,A(V)?(Q="",W!=null&&(Q=W.replace(F,"$&/")+"/"),L(V,H,Q,"",function(ee){return ee})):V!=null&&(B(V)&&(V=G(V,Q+(V.key==null||D&&D.key===V.key?"":(""+V.key).replace(F,"$&/")+"/")+W)),H.push(V)),1;W=0;var je=P===""?".":P+":";if(A(D))for(var $=0;$<D.length;$++)P=D[$],ie=je+se(P,$),W+=L(P,H,Q,ie,V);else if($=x(D),typeof $=="function")for(D=$.call(D),$=0;!(P=D.next()).done;)P=P.value,ie=je+se(P,$++),W+=L(P,H,Q,ie,V);else if(ie==="object"){if(typeof D.then=="function")return L(J(D),H,Q,P,V);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return W}function R(D,H,Q){if(D==null)return D;var P=[],V=0;return L(D,P,"","",function(ie){return H.call(Q,ie,V++)}),P}function q(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var re=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},X={map:R,forEach:function(D,H,Q){R(D,function(){H.apply(this,arguments)},Q)},count:function(D){var H=0;return R(D,function(){H++}),H},toArray:function(D){return R(D,function(H){return H})||[]},only:function(D){if(!B(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ge.Activity=g,Ge.Children=X,Ge.Component=E,Ge.Fragment=r,Ge.Profiler=a,Ge.PureComponent=C,Ge.StrictMode=n,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Ge.cache=function(D){return function(){return D.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(D,H,Q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var P=w({},D.props),V=D.key;if(H!=null)for(ie in H.key!==void 0&&(V=""+H.key),H)!T.call(H,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&H.ref===void 0||(P[ie]=H[ie]);var ie=arguments.length-2;if(ie===1)P.children=Q;else if(1<ie){for(var W=Array(ie),je=0;je<ie;je++)W[je]=arguments[je+2];P.children=W}return U(D.type,V,P)},Ge.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},Ge.createElement=function(D,H,Q){var P,V={},ie=null;if(H!=null)for(P in H.key!==void 0&&(ie=""+H.key),H)T.call(H,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(V[P]=H[P]);var W=arguments.length-2;if(W===1)V.children=Q;else if(1<W){for(var je=Array(W),$=0;$<W;$++)je[$]=arguments[$+2];V.children=je}if(D&&D.defaultProps)for(P in W=D.defaultProps,W)V[P]===void 0&&(V[P]=W[P]);return U(D,ie,V)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(D){return{$$typeof:u,render:D}},Ge.isValidElement=B,Ge.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:q}},Ge.memo=function(D,H){return{$$typeof:h,type:D,compare:H===void 0?null:H}},Ge.startTransition=function(D){var H=N.T,Q={};N.T=Q;try{var P=D(),V=N.S;V!==null&&V(Q,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(M,re)}catch(ie){re(ie)}finally{H!==null&&Q.types!==null&&(H.types=Q.types),N.T=H}},Ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ge.use=function(D){return N.H.use(D)},Ge.useActionState=function(D,H,Q){return N.H.useActionState(D,H,Q)},Ge.useCallback=function(D,H){return N.H.useCallback(D,H)},Ge.useContext=function(D){return N.H.useContext(D)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(D,H){return N.H.useDeferredValue(D,H)},Ge.useEffect=function(D,H){return N.H.useEffect(D,H)},Ge.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Ge.useId=function(){return N.H.useId()},Ge.useImperativeHandle=function(D,H,Q){return N.H.useImperativeHandle(D,H,Q)},Ge.useInsertionEffect=function(D,H){return N.H.useInsertionEffect(D,H)},Ge.useLayoutEffect=function(D,H){return N.H.useLayoutEffect(D,H)},Ge.useMemo=function(D,H){return N.H.useMemo(D,H)},Ge.useOptimistic=function(D,H){return N.H.useOptimistic(D,H)},Ge.useReducer=function(D,H,Q){return N.H.useReducer(D,H,Q)},Ge.useRef=function(D){return N.H.useRef(D)},Ge.useState=function(D){return N.H.useState(D)},Ge.useSyncExternalStore=function(D,H,Q){return N.H.useSyncExternalStore(D,H,Q)},Ge.useTransition=function(){return N.H.useTransition()},Ge.version="19.2.0",Ge}var jC;function yc(){return jC||(jC=1,Yy.exports=zU()),Yy.exports}var v=yc();const ps=ja(v),xp=oP({__proto__:null,default:ps},[v]);var Xy={exports:{}},Tu={},Zy={exports:{}},Qy={};var _C;function UU(){return _C||(_C=1,(function(e){function t(L,R){var q=L.length;L.push(R);e:for(;0<q;){var re=q-1>>>1,X=L[re];if(0<a(X,R))L[re]=R,L[q]=X,q=re;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],q=L.pop();if(q!==R){L[0]=q;e:for(var re=0,X=L.length,D=X>>>1;re<D;){var H=2*(re+1)-1,Q=L[H],P=H+1,V=L[P];if(0>a(Q,q))P<X&&0>a(V,Q)?(L[re]=V,L[P]=q,re=P):(L[re]=Q,L[H]=q,re=H);else if(P<X&&0>a(V,q))L[re]=V,L[P]=q,re=P;else break e}}return R}function a(L,R){var q=L.sortIndex-R.sortIndex;return q!==0?q:L.id-R.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,g=null,y=3,x=!1,S=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function I(L){for(var R=r(h);R!==null;){if(R.callback===null)n(h);else if(R.startTime<=L)n(h),R.sortIndex=R.expirationTime,t(f,R);else break;R=r(h)}}function A(L){if(w=!1,I(L),!S)if(r(f)!==null)S=!0,M||(M=!0,K());else{var R=r(h);R!==null&&J(A,R.startTime-L)}}var M=!1,N=-1,T=5,U=-1;function G(){return _?!0:!(e.unstable_now()-U<T)}function B(){if(_=!1,M){var L=e.unstable_now();U=L;var R=!0;try{e:{S=!1,w&&(w=!1,O(N),N=-1),x=!0;var q=y;try{t:{for(I(L),g=r(f);g!==null&&!(g.expirationTime>L&&G());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var X=re(g.expirationTime<=L);if(L=e.unstable_now(),typeof X=="function"){g.callback=X,I(L),R=!0;break t}g===r(f)&&n(f),I(L)}else n(f);g=r(f)}if(g!==null)R=!0;else{var D=r(h);D!==null&&J(A,D.startTime-L),R=!1}}break e}finally{g=null,y=q,x=!1}R=void 0}}finally{R?K():M=!1}}}var K;if(typeof C=="function")K=function(){C(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,se=F.port2;F.port1.onmessage=B,K=function(){se.postMessage(null)}}else K=function(){E(B,0)};function J(L,R){N=E(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var R=3;break;default:R=y}var q=y;y=R;try{return L()}finally{y=q}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=y;y=L;try{return R()}finally{y=q}},e.unstable_scheduleCallback=function(L,R,q){var re=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?re+q:re):q=re,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,L={id:m++,callback:R,priorityLevel:L,startTime:q,expirationTime:X,sortIndex:-1},q>re?(L.sortIndex=q,t(h,L),r(f)===null&&L===r(h)&&(w?(O(N),N=-1):w=!0,J(A,q-re))):(L.sortIndex=X,t(f,L),S||x||(S=!0,M||(M=!0,K()))),L},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(L){var R=y;return function(){var q=y;y=R;try{return L.apply(this,arguments)}finally{y=q}}}})(Qy)),Qy}var SC;function BU(){return SC||(SC=1,Zy.exports=UU()),Zy.exports}var Jy={exports:{}},Mr={};var EC;function qU(){if(EC)return Mr;EC=1;var e=yc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Mr.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,m)},Mr.flushSync=function(f){var h=c.T,m=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=h,n.p=m,n.d.f()}},Mr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Mr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Mr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):m==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Mr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);n.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mr.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Mr.requestFormReset=function(f){n.d.r(f)},Mr.unstable_batchedUpdates=function(f,h){return f(h)},Mr.useFormState=function(f,h,m){return c.H.useFormState(f,h,m)},Mr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mr.version="19.2.0",Mr}var NC;function lP(){if(NC)return Jy.exports;NC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jy.exports=qU(),Jy.exports}var CC;function FU(){if(CC)return Tu;CC=1;var e=BU(),t=yc(),r=lP();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,p=o;;){var b=d.return;if(b===null)break;var j=b.alternate;if(j===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===j.child){for(j=b.child;j;){if(j===d)return f(b),i;if(j===p)return f(b),o;j=j.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=j;else{for(var k=!1,z=b.child;z;){if(z===d){k=!0,d=b,p=j;break}if(z===p){k=!0,p=b,d=j;break}z=z.sibling}if(!k){for(z=j.child;z;){if(z===d){k=!0,d=j,p=b;break}if(z===p){k=!0,p=j,d=b;break}z=z.sibling}if(!k)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case C:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case I:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return o=i.displayName||null,o!==null?o:se(i.type)||"Memo";case T:o=i._payload,i=i._init;try{return se(i(o))}catch{}}return null}var J=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},re=[],X=-1;function D(i){return{current:i}}function H(i){0>X||(i.current=re[X],re[X]=null,X--)}function Q(i,o){X++,re[X]=i.current,i.current=o}var P=D(null),V=D(null),ie=D(null),W=D(null);function je(i,o){switch(Q(ie,o),Q(V,i),Q(P,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?qN(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=qN(o),i=FN(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(P),Q(P,i)}function $(){H(P),H(V),H(ie)}function ee(i){i.memoizedState!==null&&Q(W,i);var o=P.current,d=FN(o,i.type);o!==d&&(Q(V,i),Q(P,d))}function ce(i){V.current===i&&(H(P),H(V)),W.current===i&&(H(W),Eu._currentValue=q)}var Y,ae;function he(i){if(Y===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Y=o&&o[1]||"",ae=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+i+ae}var Se=!1;function Oe(i,o){if(!i||Se)return"";Se=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(me){var fe=me}Reflect.construct(i,[],xe)}else{try{xe.call()}catch(me){fe=me}i.call(xe.prototype)}}else{try{throw Error()}catch(me){fe=me}(xe=i())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=p.DetermineComponentFrameRoot(),k=j[0],z=j[1];if(k&&z){var Z=k.split(`
`),ue=z.split(`
`);for(b=p=0;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ue.length&&!ue[b].includes("DetermineComponentFrameRoot");)b++;if(p===Z.length||b===ue.length)for(p=Z.length-1,b=ue.length-1;1<=p&&0<=b&&Z[p]!==ue[b];)b--;for(;1<=p&&0<=b;p--,b--)if(Z[p]!==ue[b]){if(p!==1||b!==1)do if(p--,b--,0>b||Z[p]!==ue[b]){var ve=`
`+Z[p].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=p&&0<=b);break}}}finally{Se=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?he(d):""}function Ke(i,o){switch(i.tag){case 26:case 27:case 5:return he(i.type);case 16:return he("Lazy");case 13:return i.child!==o&&o!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return Oe(i.type,!1);case 11:return Oe(i.type.render,!1);case 1:return Oe(i.type,!0);case 31:return he("Activity");default:return""}}function ct(i){try{var o="",d=null;do o+=Ke(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var pe=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,it=e.unstable_cancelCallback,Ht=e.unstable_shouldYield,Ot=e.unstable_requestPaint,gt=e.unstable_now,$s=e.unstable_getCurrentPriorityLevel,$i=e.unstable_ImmediatePriority,Kr=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,Va=e.unstable_LowPriority,$n=e.unstable_IdlePriority,Lc=e.log,Mg=e.unstable_setDisableYieldValue,zi=null,Gr=null;function Ui(i){if(typeof Lc=="function"&&Mg(i),Gr&&typeof Gr.setStrictMode=="function")try{Gr.setStrictMode(zi,i)}catch{}}var yn=Math.clz32?Math.clz32:jz,bz=Math.log,wz=Math.LN2;function jz(i){return i>>>=0,i===0?32:31-(bz(i)/wz|0)|0}var Gd=256,Wd=262144,Yd=4194304;function zs(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xd(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var b=0,j=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var z=p&134217727;return z!==0?(p=z&~j,p!==0?b=zs(p):(k&=z,k!==0?b=zs(k):d||(d=z&~i,d!==0&&(b=zs(d))))):(z=p&~j,z!==0?b=zs(z):k!==0?b=zs(k):d||(d=p&~i,d!==0&&(b=zs(d)))),b===0?0:o!==0&&o!==b&&(o&j)===0&&(j=b&-b,d=o&-o,j>=d||j===32&&(d&4194048)!==0)?o:b}function $c(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function _z(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _1(){var i=Yd;return Yd<<=1,(Yd&62914560)===0&&(Yd=4194304),i}function Ig(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function zc(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sz(i,o,d,p,b,j){var k=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var z=i.entanglements,Z=i.expirationTimes,ue=i.hiddenUpdates;for(d=k&~d;0<d;){var ve=31-yn(d),xe=1<<ve;z[ve]=0,Z[ve]=-1;var fe=ue[ve];if(fe!==null)for(ue[ve]=null,ve=0;ve<fe.length;ve++){var me=fe[ve];me!==null&&(me.lane&=-536870913)}d&=~xe}p!==0&&S1(i,p,0),j!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=j&~(k&~o))}function S1(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-yn(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function E1(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-yn(d),b=1<<p;b&o|i[p]&o&&(i[p]|=o),d&=~b}}function N1(i,o){var d=o&-o;return d=(d&42)!==0?1:Lg(d),(d&(i.suspendedLanes|o))!==0?0:d}function Lg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $g(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function C1(){var i=R.p;return i!==0?i:(i=window.event,i===void 0?32:fC(i.type))}function O1(i,o){var d=R.p;try{return R.p=i,o()}finally{R.p=d}}var Bi=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Bi,rn="__reactProps$"+Bi,Ho="__reactContainer$"+Bi,zg="__reactEvents$"+Bi,Ez="__reactListeners$"+Bi,Nz="__reactHandles$"+Bi,A1="__reactResources$"+Bi,Uc="__reactMarker$"+Bi;function Ug(i){delete i[Cr],delete i[rn],delete i[zg],delete i[Ez],delete i[Nz]}function Vo(i){var o=i[Cr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Ho]||d[Cr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=XN(i);i!==null;){if(d=i[Cr])return d;i=XN(i)}return o}i=d,d=i.parentNode}return null}function Ko(i){if(i=i[Cr]||i[Ho]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Bc(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function Go(i){var o=i[A1];return o||(o=i[A1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xr(i){i[Uc]=!0}var T1=new Set,k1={};function Us(i,o){Wo(i,o),Wo(i+"Capture",o)}function Wo(i,o){for(k1[i]=o,i=0;i<o.length;i++)T1.add(o[i])}var Cz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),P1={},R1={};function Oz(i){return pe.call(R1,i)?!0:pe.call(P1,i)?!1:Cz.test(i)?R1[i]=!0:(P1[i]=!0,!1)}function Zd(i,o,d){if(Oz(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Qd(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function Ka(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function D1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Az(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,j=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(k){d=""+k,j.call(this,k)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Bg(i){if(!i._valueTracker){var o=D1(i)?"checked":"value";i._valueTracker=Az(i,o,""+i[o])}}function M1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=D1(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function Jd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Tz=/[\n"\\]/g;function Un(i){return i.replace(Tz,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function qg(i,o,d,p,b,j,k,z){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),o!=null?k==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+zn(o)):i.value!==""+zn(o)&&(i.value=""+zn(o)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),o!=null?Fg(i,k,zn(o)):d!=null?Fg(i,k,zn(d)):p!=null&&i.removeAttribute("value"),b==null&&j!=null&&(i.defaultChecked=!!j),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.name=""+zn(z):i.removeAttribute("name")}function I1(i,o,d,p,b,j,k,z){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),o!=null||d!=null){if(!(j!=="submit"&&j!=="reset"||o!=null)){Bg(i);return}d=d!=null?""+zn(d):"",o=o!=null?""+zn(o):d,z||o===i.value||(i.value=o),i.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=z?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Bg(i)}function Fg(i,o,d){o==="number"&&Jd(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Yo(i,o,d,p){if(i=i.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=o.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&p&&(i[d].defaultSelected=!0)}else{for(d=""+zn(d),o=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function L1(i,o,d){if(o!=null&&(o=""+zn(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+zn(d):""}function $1(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(J(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=zn(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Bg(i)}function Xo(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var kz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function z1(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||kz.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function U1(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&d[b]!==p&&z1(i,b,p)}else for(var j in o)o.hasOwnProperty(j)&&z1(i,j,o[j])}function Hg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ef(i){return Rz.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ga(){}var Vg=null;function Kg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zo=null,Qo=null;function B1(i){var o=Ko(i);if(o&&(i=o.stateNode)){var d=i[rn]||null;e:switch(i=o.stateNode,o.type){case"input":if(qg(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Un(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var b=p[rn]||null;if(!b)throw Error(n(90));qg(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&M1(p)}break e;case"textarea":L1(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Yo(i,!!d.multiple,o,!1)}}}var Gg=!1;function q1(i,o,d){if(Gg)return i(o,d);Gg=!0;try{var p=i(o);return p}finally{if(Gg=!1,(Zo!==null||Qo!==null)&&(qf(),Zo&&(o=Zo,i=Qo,Qo=Zo=null,B1(o),i)))for(o=0;o<i.length;o++)B1(i[o])}}function qc(i,o){var d=i.stateNode;if(d===null)return null;var p=d[rn]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=!1;if(Wa)try{var Fc={};Object.defineProperty(Fc,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{Wg=!1}var qi=null,Yg=null,tf=null;function F1(){if(tf)return tf;var i,o=Yg,d=o.length,p,b="value"in qi?qi.value:qi.textContent,j=b.length;for(i=0;i<d&&o[i]===b[i];i++);var k=d-i;for(p=1;p<=k&&o[d-p]===b[j-p];p++);return tf=b.slice(i,1<p?1-p:void 0)}function rf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function nf(){return!0}function H1(){return!1}function nn(i){function o(d,p,b,j,k){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=j,this.target=k,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(d=i[z],this[z]=d?d(j):j[z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?nf:H1,this.isPropagationStopped=H1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),o}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=nn(Bs),Hc=g({},Bs,{view:0,detail:0}),Dz=nn(Hc),Xg,Zg,Vc,sf=g({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vc&&(Vc&&i.type==="mousemove"?(Xg=i.screenX-Vc.screenX,Zg=i.screenY-Vc.screenY):Zg=Xg=0,Vc=i),Xg)},movementY:function(i){return"movementY"in i?i.movementY:Zg}}),V1=nn(sf),Mz=g({},sf,{dataTransfer:0}),Iz=nn(Mz),Lz=g({},Hc,{relatedTarget:0}),Qg=nn(Lz),$z=g({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),zz=nn($z),Uz=g({},Bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bz=nn(Uz),qz=g({},Bs,{data:0}),K1=nn(qz),Fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kz(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Vz[i])?!!o[i]:!1}function Jg(){return Kz}var Gz=g({},Hc,{key:function(i){if(i.key){var o=Fz[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=rf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hz[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jg,charCode:function(i){return i.type==="keypress"?rf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wz=nn(Gz),Yz=g({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G1=nn(Yz),Xz=g({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jg}),Zz=nn(Xz),Qz=g({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jz=nn(Qz),e5=g({},sf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),t5=nn(e5),r5=g({},Bs,{newState:0,oldState:0}),n5=nn(r5),a5=[9,13,27,32],ev=Wa&&"CompositionEvent"in window,Kc=null;Wa&&"documentMode"in document&&(Kc=document.documentMode);var i5=Wa&&"TextEvent"in window&&!Kc,W1=Wa&&(!ev||Kc&&8<Kc&&11>=Kc),Y1=" ",X1=!1;function Z1(i,o){switch(i){case"keyup":return a5.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jo=!1;function s5(i,o){switch(i){case"compositionend":return Q1(o);case"keypress":return o.which!==32?null:(X1=!0,Y1);case"textInput":return i=o.data,i===Y1&&X1?null:i;default:return null}}function o5(i,o){if(Jo)return i==="compositionend"||!ev&&Z1(i,o)?(i=F1(),tf=Yg=qi=null,Jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return W1&&o.locale!=="ko"?null:o.data;default:return null}}var l5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!l5[i.type]:o==="textarea"}function eS(i,o,d,p){Zo?Qo?Qo.push(p):Qo=[p]:Zo=p,o=Yf(o,"onChange"),0<o.length&&(d=new af("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Gc=null,Wc=null;function c5(i){IN(i,0)}function of(i){var o=Bc(i);if(M1(o))return i}function tS(i,o){if(i==="change")return o}var rS=!1;if(Wa){var tv;if(Wa){var rv="oninput"in document;if(!rv){var nS=document.createElement("div");nS.setAttribute("oninput","return;"),rv=typeof nS.oninput=="function"}tv=rv}else tv=!1;rS=tv&&(!document.documentMode||9<document.documentMode)}function aS(){Gc&&(Gc.detachEvent("onpropertychange",iS),Wc=Gc=null)}function iS(i){if(i.propertyName==="value"&&of(Wc)){var o=[];eS(o,Wc,i,Kg(i)),q1(c5,o)}}function u5(i,o,d){i==="focusin"?(aS(),Gc=o,Wc=d,Gc.attachEvent("onpropertychange",iS)):i==="focusout"&&aS()}function d5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return of(Wc)}function f5(i,o){if(i==="click")return of(o)}function h5(i,o){if(i==="input"||i==="change")return of(o)}function m5(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var xn=typeof Object.is=="function"?Object.is:m5;function Yc(i,o){if(xn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!pe.call(o,b)||!xn(i[b],o[b]))return!1}return!0}function sS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function oS(i,o){var d=sS(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=sS(d)}}function lS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?lS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function cS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Jd(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=Jd(i.document)}return o}function nv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var p5=Wa&&"documentMode"in document&&11>=document.documentMode,el=null,av=null,Xc=null,iv=!1;function uS(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;iv||el==null||el!==Jd(p)||(p=el,"selectionStart"in p&&nv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Xc&&Yc(Xc,p)||(Xc=p,p=Yf(av,"onSelect"),0<p.length&&(o=new af("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=el)))}function qs(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var tl={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},sv={},dS={};Wa&&(dS=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Fs(i){if(sv[i])return sv[i];if(!tl[i])return i;var o=tl[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in dS)return sv[i]=o[d];return i}var fS=Fs("animationend"),hS=Fs("animationiteration"),mS=Fs("animationstart"),g5=Fs("transitionrun"),v5=Fs("transitionstart"),y5=Fs("transitioncancel"),pS=Fs("transitionend"),gS=new Map,ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ov.push("scrollEnd");function ia(i,o){gS.set(i,o),Us(o,[i])}var lf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],rl=0,lv=0;function cf(){for(var i=rl,o=lv=rl=0;o<i;){var d=Bn[o];Bn[o++]=null;var p=Bn[o];Bn[o++]=null;var b=Bn[o];Bn[o++]=null;var j=Bn[o];if(Bn[o++]=null,p!==null&&b!==null){var k=p.pending;k===null?b.next=b:(b.next=k.next,k.next=b),p.pending=b}j!==0&&vS(d,b,j)}}function uf(i,o,d,p){Bn[rl++]=i,Bn[rl++]=o,Bn[rl++]=d,Bn[rl++]=p,lv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function cv(i,o,d,p){return uf(i,o,d,p),df(i)}function Hs(i,o){return uf(i,null,null,o),df(i)}function vS(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var b=!1,j=i.return;j!==null;)j.childLanes|=d,p=j.alternate,p!==null&&(p.childLanes|=d),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(b=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,b&&o!==null&&(b=31-yn(d),i=j.hiddenUpdates,p=i[b],p===null?i[b]=[o]:p.push(o),o.lane=d|536870912),j):null}function df(i){if(50<yu)throw yu=0,yy=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var nl={};function x5(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,o,d,p){return new x5(i,o,d,p)}function uv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ya(i,o){var d=i.alternate;return d===null?(d=bn(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function yS(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function ff(i,o,d,p,b,j){var k=0;if(p=i,typeof i=="function")uv(i)&&(k=1);else if(typeof i=="string")k=SU(i,d,P.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=bn(31,d,o,b),i.elementType=U,i.lanes=j,i;case w:return Vs(d.children,b,j,o);case _:k=8,b|=24;break;case E:return i=bn(12,d,o,b|2),i.elementType=E,i.lanes=j,i;case A:return i=bn(13,d,o,b),i.elementType=A,i.lanes=j,i;case M:return i=bn(19,d,o,b),i.elementType=M,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:k=10;break e;case O:k=9;break e;case I:k=11;break e;case N:k=14;break e;case T:k=16,p=null;break e}k=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=bn(k,d,o,b),o.elementType=i,o.type=p,o.lanes=j,o}function Vs(i,o,d,p){return i=bn(7,i,p,o),i.lanes=d,i}function dv(i,o,d){return i=bn(6,i,null,o),i.lanes=d,i}function xS(i){var o=bn(18,null,null,0);return o.stateNode=i,o}function fv(i,o,d){return o=bn(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var bS=new WeakMap;function qn(i,o){if(typeof i=="object"&&i!==null){var d=bS.get(i);return d!==void 0?d:(o={value:i,source:o,stack:ct(o)},bS.set(i,o),o)}return{value:i,source:o,stack:ct(o)}}var al=[],il=0,hf=null,Zc=0,Fn=[],Hn=0,Fi=null,Oa=1,Aa="";function Xa(i,o){al[il++]=Zc,al[il++]=hf,hf=i,Zc=o}function wS(i,o,d){Fn[Hn++]=Oa,Fn[Hn++]=Aa,Fn[Hn++]=Fi,Fi=i;var p=Oa;i=Aa;var b=32-yn(p)-1;p&=~(1<<b),d+=1;var j=32-yn(o)+b;if(30<j){var k=b-b%5;j=(p&(1<<k)-1).toString(32),p>>=k,b-=k,Oa=1<<32-yn(o)+b|d<<b|p,Aa=j+i}else Oa=1<<j|d<<b|p,Aa=i}function hv(i){i.return!==null&&(Xa(i,1),wS(i,1,0))}function mv(i){for(;i===hf;)hf=al[--il],al[il]=null,Zc=al[--il],al[il]=null;for(;i===Fi;)Fi=Fn[--Hn],Fn[Hn]=null,Aa=Fn[--Hn],Fn[Hn]=null,Oa=Fn[--Hn],Fn[Hn]=null}function jS(i,o){Fn[Hn++]=Oa,Fn[Hn++]=Aa,Fn[Hn++]=Fi,Oa=o.id,Aa=o.overflow,Fi=i}var Or=null,kt=null,lt=!1,Hi=null,Vn=!1,pv=Error(n(519));function Vi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qc(qn(o,i)),pv}function _S(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Cr]=i,o[rn]=p,d){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(d=0;d<bu.length;d++)at(bu[d],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),I1(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),$1(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||UN(o.textContent,d)?(p.popover!=null&&(at("beforetoggle",o),at("toggle",o)),p.onScroll!=null&&at("scroll",o),p.onScrollEnd!=null&&at("scrollend",o),p.onClick!=null&&(o.onclick=Ga),o=!0):o=!1,o||Vi(i,!0)}function SS(i){for(Or=i.return;Or;)switch(Or.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Or=Or.return}}function sl(i){if(i!==Or)return!1;if(!lt)return SS(i),lt=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||Ry(i.type,i.memoizedProps)),d=!d),d&&kt&&Vi(i),SS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));kt=YN(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));kt=YN(i)}else o===27?(o=kt,is(i.type)?(i=$y,$y=null,kt=i):kt=o):kt=Or?Gn(i.stateNode.nextSibling):null;return!0}function Ks(){kt=Or=null,lt=!1}function gv(){var i=Hi;return i!==null&&(ln===null?ln=i:ln.push.apply(ln,i),Hi=null),i}function Qc(i){Hi===null?Hi=[i]:Hi.push(i)}var vv=D(null),Gs=null,Za=null;function Ki(i,o,d){Q(vv,o._currentValue),o._currentValue=d}function Qa(i){i._currentValue=vv.current,H(vv)}function yv(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function xv(i,o,d,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var j=b.dependencies;if(j!==null){var k=b.child;j=j.firstContext;e:for(;j!==null;){var z=j;j=b;for(var Z=0;Z<o.length;Z++)if(z.context===o[Z]){j.lanes|=d,z=j.alternate,z!==null&&(z.lanes|=d),yv(j.return,d,i),p||(k=null);break e}j=z.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=d,j=k.alternate,j!==null&&(j.lanes|=d),yv(k,d,i),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===i){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function ol(i,o,d,p){i=null;for(var b=o,j=!1;b!==null;){if(!j){if((b.flags&524288)!==0)j=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var z=b.type;xn(b.pendingProps.value,k.value)||(i!==null?i.push(z):i=[z])}}else if(b===W.current){if(k=b.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}b=b.return}i!==null&&xv(o,i,d,p),o.flags|=262144}function mf(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ws(i){Gs=i,Za=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ar(i){return ES(Gs,i)}function pf(i,o){return Gs===null&&Ws(i),ES(i,o)}function ES(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Za===null){if(i===null)throw Error(n(308));Za=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Za=Za.next=o;return d}var b5=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},w5=e.unstable_scheduleCallback,j5=e.unstable_NormalPriority,Jt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bv(){return{controller:new b5,data:new Map,refCount:0}}function Jc(i){i.refCount--,i.refCount===0&&w5(j5,function(){i.controller.abort()})}var eu=null,wv=0,ll=0,cl=null;function _5(i,o){if(eu===null){var d=eu=[];wv=0,ll=Sy(),cl={status:"pending",value:void 0,then:function(p){d.push(p)}}}return wv++,o.then(NS,NS),o}function NS(){if(--wv===0&&eu!==null){cl!==null&&(cl.status="fulfilled");var i=eu;eu=null,ll=0,cl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function S5(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var CS=L.S;L.S=function(i,o){uN=gt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&_5(i,o),CS!==null&&CS(i,o)};var Ys=D(null);function jv(){var i=Ys.current;return i!==null?i:St.pooledCache}function gf(i,o){o===null?Q(Ys,Ys.current):Q(Ys,o.pool)}function OS(){var i=jv();return i===null?null:{parent:Jt._currentValue,pool:i}}var ul=Error(n(460)),_v=Error(n(474)),vf=Error(n(542)),yf={then:function(){}};function AS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function TS(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(Ga,Ga),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,PS(i),i;default:if(typeof o.status=="string")o.then(Ga,Ga);else{if(i=St,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,PS(i),i}throw Zs=o,ul}}function Xs(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Zs=d,ul):d}}var Zs=null;function kS(){if(Zs===null)throw Error(n(459));var i=Zs;return Zs=null,i}function PS(i){if(i===ul||i===vf)throw Error(n(483))}var dl=null,tu=0;function xf(i){var o=tu;return tu+=1,dl===null&&(dl=[]),TS(dl,i,o)}function ru(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function bf(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function RS(i){function o(ne,te){if(i){var le=ne.deletions;le===null?(ne.deletions=[te],ne.flags|=16):le.push(te)}}function d(ne,te){if(!i)return null;for(;te!==null;)o(ne,te),te=te.sibling;return null}function p(ne){for(var te=new Map;ne!==null;)ne.key!==null?te.set(ne.key,ne):te.set(ne.index,ne),ne=ne.sibling;return te}function b(ne,te){return ne=Ya(ne,te),ne.index=0,ne.sibling=null,ne}function j(ne,te,le){return ne.index=le,i?(le=ne.alternate,le!==null?(le=le.index,le<te?(ne.flags|=67108866,te):le):(ne.flags|=67108866,te)):(ne.flags|=1048576,te)}function k(ne){return i&&ne.alternate===null&&(ne.flags|=67108866),ne}function z(ne,te,le,ye){return te===null||te.tag!==6?(te=dv(le,ne.mode,ye),te.return=ne,te):(te=b(te,le),te.return=ne,te)}function Z(ne,te,le,ye){var Be=le.type;return Be===w?ve(ne,te,le.props.children,ye,le.key):te!==null&&(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===T&&Xs(Be)===te.type)?(te=b(te,le.props),ru(te,le),te.return=ne,te):(te=ff(le.type,le.key,le.props,null,ne.mode,ye),ru(te,le),te.return=ne,te)}function ue(ne,te,le,ye){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=fv(le,ne.mode,ye),te.return=ne,te):(te=b(te,le.children||[]),te.return=ne,te)}function ve(ne,te,le,ye,Be){return te===null||te.tag!==7?(te=Vs(le,ne.mode,ye,Be),te.return=ne,te):(te=b(te,le),te.return=ne,te)}function xe(ne,te,le){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=dv(""+te,ne.mode,le),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return le=ff(te.type,te.key,te.props,null,ne.mode,le),ru(le,te),le.return=ne,le;case S:return te=fv(te,ne.mode,le),te.return=ne,te;case T:return te=Xs(te),xe(ne,te,le)}if(J(te)||K(te))return te=Vs(te,ne.mode,le,null),te.return=ne,te;if(typeof te.then=="function")return xe(ne,xf(te),le);if(te.$$typeof===C)return xe(ne,pf(ne,te),le);bf(ne,te)}return null}function fe(ne,te,le,ye){var Be=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Be!==null?null:z(ne,te,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return le.key===Be?Z(ne,te,le,ye):null;case S:return le.key===Be?ue(ne,te,le,ye):null;case T:return le=Xs(le),fe(ne,te,le,ye)}if(J(le)||K(le))return Be!==null?null:ve(ne,te,le,ye,null);if(typeof le.then=="function")return fe(ne,te,xf(le),ye);if(le.$$typeof===C)return fe(ne,te,pf(ne,le),ye);bf(ne,le)}return null}function me(ne,te,le,ye,Be){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ne=ne.get(le)||null,z(te,ne,""+ye,Be);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ne=ne.get(ye.key===null?le:ye.key)||null,Z(te,ne,ye,Be);case S:return ne=ne.get(ye.key===null?le:ye.key)||null,ue(te,ne,ye,Be);case T:return ye=Xs(ye),me(ne,te,le,ye,Be)}if(J(ye)||K(ye))return ne=ne.get(le)||null,ve(te,ne,ye,Be,null);if(typeof ye.then=="function")return me(ne,te,le,xf(ye),Be);if(ye.$$typeof===C)return me(ne,te,le,pf(te,ye),Be);bf(te,ye)}return null}function Pe(ne,te,le,ye){for(var Be=null,ut=null,Le=te,Ze=te=0,ot=null;Le!==null&&Ze<le.length;Ze++){Le.index>Ze?(ot=Le,Le=null):ot=Le.sibling;var dt=fe(ne,Le,le[Ze],ye);if(dt===null){Le===null&&(Le=ot);break}i&&Le&&dt.alternate===null&&o(ne,Le),te=j(dt,te,Ze),ut===null?Be=dt:ut.sibling=dt,ut=dt,Le=ot}if(Ze===le.length)return d(ne,Le),lt&&Xa(ne,Ze),Be;if(Le===null){for(;Ze<le.length;Ze++)Le=xe(ne,le[Ze],ye),Le!==null&&(te=j(Le,te,Ze),ut===null?Be=Le:ut.sibling=Le,ut=Le);return lt&&Xa(ne,Ze),Be}for(Le=p(Le);Ze<le.length;Ze++)ot=me(Le,ne,Ze,le[Ze],ye),ot!==null&&(i&&ot.alternate!==null&&Le.delete(ot.key===null?Ze:ot.key),te=j(ot,te,Ze),ut===null?Be=ot:ut.sibling=ot,ut=ot);return i&&Le.forEach(function(us){return o(ne,us)}),lt&&Xa(ne,Ze),Be}function Fe(ne,te,le,ye){if(le==null)throw Error(n(151));for(var Be=null,ut=null,Le=te,Ze=te=0,ot=null,dt=le.next();Le!==null&&!dt.done;Ze++,dt=le.next()){Le.index>Ze?(ot=Le,Le=null):ot=Le.sibling;var us=fe(ne,Le,dt.value,ye);if(us===null){Le===null&&(Le=ot);break}i&&Le&&us.alternate===null&&o(ne,Le),te=j(us,te,Ze),ut===null?Be=us:ut.sibling=us,ut=us,Le=ot}if(dt.done)return d(ne,Le),lt&&Xa(ne,Ze),Be;if(Le===null){for(;!dt.done;Ze++,dt=le.next())dt=xe(ne,dt.value,ye),dt!==null&&(te=j(dt,te,Ze),ut===null?Be=dt:ut.sibling=dt,ut=dt);return lt&&Xa(ne,Ze),Be}for(Le=p(Le);!dt.done;Ze++,dt=le.next())dt=me(Le,ne,Ze,dt.value,ye),dt!==null&&(i&&dt.alternate!==null&&Le.delete(dt.key===null?Ze:dt.key),te=j(dt,te,Ze),ut===null?Be=dt:ut.sibling=dt,ut=dt);return i&&Le.forEach(function(MU){return o(ne,MU)}),lt&&Xa(ne,Ze),Be}function jt(ne,te,le,ye){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case x:e:{for(var Be=le.key;te!==null;){if(te.key===Be){if(Be=le.type,Be===w){if(te.tag===7){d(ne,te.sibling),ye=b(te,le.props.children),ye.return=ne,ne=ye;break e}}else if(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===T&&Xs(Be)===te.type){d(ne,te.sibling),ye=b(te,le.props),ru(ye,le),ye.return=ne,ne=ye;break e}d(ne,te);break}else o(ne,te);te=te.sibling}le.type===w?(ye=Vs(le.props.children,ne.mode,ye,le.key),ye.return=ne,ne=ye):(ye=ff(le.type,le.key,le.props,null,ne.mode,ye),ru(ye,le),ye.return=ne,ne=ye)}return k(ne);case S:e:{for(Be=le.key;te!==null;){if(te.key===Be)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){d(ne,te.sibling),ye=b(te,le.children||[]),ye.return=ne,ne=ye;break e}else{d(ne,te);break}else o(ne,te);te=te.sibling}ye=fv(le,ne.mode,ye),ye.return=ne,ne=ye}return k(ne);case T:return le=Xs(le),jt(ne,te,le,ye)}if(J(le))return Pe(ne,te,le,ye);if(K(le)){if(Be=K(le),typeof Be!="function")throw Error(n(150));return le=Be.call(le),Fe(ne,te,le,ye)}if(typeof le.then=="function")return jt(ne,te,xf(le),ye);if(le.$$typeof===C)return jt(ne,te,pf(ne,le),ye);bf(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,te!==null&&te.tag===6?(d(ne,te.sibling),ye=b(te,le),ye.return=ne,ne=ye):(d(ne,te),ye=dv(le,ne.mode,ye),ye.return=ne,ne=ye),k(ne)):d(ne,te)}return function(ne,te,le,ye){try{tu=0;var Be=jt(ne,te,le,ye);return dl=null,Be}catch(Le){if(Le===ul||Le===vf)throw Le;var ut=bn(29,Le,null,ne.mode);return ut.lanes=ye,ut.return=ne,ut}finally{}}}var Qs=RS(!0),DS=RS(!1),Gi=!1;function Sv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ev(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Yi(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(mt&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=df(i),vS(i,null,d),o}return uf(i,p,o,d),df(i)}function nu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,E1(i,d)}}function Nv(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};j===null?b=j=k:j=j.next=k,d=d.next}while(d!==null);j===null?b=j=o:j=j.next=o}else b=j=o;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:j,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var Cv=!1;function au(){if(Cv){var i=cl;if(i!==null)throw i}}function iu(i,o,d,p){Cv=!1;var b=i.updateQueue;Gi=!1;var j=b.firstBaseUpdate,k=b.lastBaseUpdate,z=b.shared.pending;if(z!==null){b.shared.pending=null;var Z=z,ue=Z.next;Z.next=null,k===null?j=ue:k.next=ue,k=Z;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,z=ve.lastBaseUpdate,z!==k&&(z===null?ve.firstBaseUpdate=ue:z.next=ue,ve.lastBaseUpdate=Z))}if(j!==null){var xe=b.baseState;k=0,ve=ue=Z=null,z=j;do{var fe=z.lane&-536870913,me=fe!==z.lane;if(me?(st&fe)===fe:(p&fe)===fe){fe!==0&&fe===ll&&(Cv=!0),ve!==null&&(ve=ve.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Pe=i,Fe=z;fe=o;var jt=d;switch(Fe.tag){case 1:if(Pe=Fe.payload,typeof Pe=="function"){xe=Pe.call(jt,xe,fe);break e}xe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Fe.payload,fe=typeof Pe=="function"?Pe.call(jt,xe,fe):Pe,fe==null)break e;xe=g({},xe,fe);break e;case 2:Gi=!0}}fe=z.callback,fe!==null&&(i.flags|=64,me&&(i.flags|=8192),me=b.callbacks,me===null?b.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ve===null?(ue=ve=me,Z=xe):ve=ve.next=me,k|=fe;if(z=z.next,z===null){if(z=b.shared.pending,z===null)break;me=z,z=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);ve===null&&(Z=xe),b.baseState=Z,b.firstBaseUpdate=ue,b.lastBaseUpdate=ve,j===null&&(b.shared.lanes=0),es|=k,i.lanes=k,i.memoizedState=xe}}function MS(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function IS(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)MS(d[i],o)}var fl=D(null),wf=D(0);function LS(i,o){i=oi,Q(wf,i),Q(fl,o),oi=i|o.baseLanes}function Ov(){Q(wf,oi),Q(fl,fl.current)}function Av(){oi=wf.current,H(fl),H(wf)}var wn=D(null),Kn=null;function Xi(i){var o=i.alternate;Q(Wt,Wt.current&1),Q(wn,i),Kn===null&&(o===null||fl.current!==null||o.memoizedState!==null)&&(Kn=i)}function Tv(i){Q(Wt,Wt.current),Q(wn,i),Kn===null&&(Kn=i)}function $S(i){i.tag===22?(Q(Wt,Wt.current),Q(wn,i),Kn===null&&(Kn=i)):Zi()}function Zi(){Q(Wt,Wt.current),Q(wn,wn.current)}function jn(i){H(wn),Kn===i&&(Kn=null),H(Wt)}var Wt=D(0);function jf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Iy(d)||Ly(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ja=0,We=null,bt=null,er=null,_f=!1,hl=!1,Js=!1,Sf=0,su=0,ml=null,E5=0;function Vt(){throw Error(n(321))}function kv(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!xn(i[d],o[d]))return!1;return!0}function Pv(i,o,d,p,b,j){return Ja=j,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=i===null||i.memoizedState===null?wE:Gv,Js=!1,j=d(p,b),Js=!1,hl&&(j=US(o,d,p,b)),zS(i),j}function zS(i){L.H=cu;var o=bt!==null&&bt.next!==null;if(Ja=0,er=bt=We=null,_f=!1,su=0,ml=null,o)throw Error(n(300));i===null||tr||(i=i.dependencies,i!==null&&mf(i)&&(tr=!0))}function US(i,o,d,p){We=i;var b=0;do{if(hl&&(ml=null),su=0,hl=!1,25<=b)throw Error(n(301));if(b+=1,er=bt=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}L.H=jE,j=o(d,p)}while(hl);return j}function N5(){var i=L.H,o=i.useState()[0];return o=typeof o.then=="function"?ou(o):o,i=i.useState()[0],(bt!==null?bt.memoizedState:null)!==i&&(We.flags|=1024),o}function Rv(){var i=Sf!==0;return Sf=0,i}function Dv(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function Mv(i){if(_f){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}_f=!1}Ja=0,er=bt=We=null,hl=!1,su=Sf=0,ml=null}function Wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?We.memoizedState=er=i:er=er.next=i,er}function Yt(){if(bt===null){var i=We.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=er===null?We.memoizedState:er.next;if(o!==null)er=o,bt=i;else{if(i===null)throw We.alternate===null?Error(n(467)):Error(n(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},er===null?We.memoizedState=er=i:er=er.next=i}return er}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var o=su;return su+=1,ml===null&&(ml=[]),i=TS(ml,i,o),o=We,(er===null?o.memoizedState:er.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?wE:Gv),i}function Nf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===C)return Ar(i)}throw Error(n(438,String(i)))}function Iv(i){var o=null,d=We.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=We.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Ef(),We.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=G;return o.index++,d}function ei(i,o){return typeof o=="function"?o(i):o}function Cf(i){var o=Yt();return Lv(o,bt,i)}function Lv(i,o,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=i.baseQueue,j=p.pending;if(j!==null){if(b!==null){var k=b.next;b.next=j.next,j.next=k}o.baseQueue=b=j,p.pending=null}if(j=i.baseState,b===null)i.memoizedState=j;else{o=b.next;var z=k=null,Z=null,ue=o,ve=!1;do{var xe=ue.lane&-536870913;if(xe!==ue.lane?(st&xe)===xe:(Ja&xe)===xe){var fe=ue.revertLane;if(fe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),xe===ll&&(ve=!0);else if((Ja&fe)===fe){ue=ue.next,fe===ll&&(ve=!0);continue}else xe={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(z=Z=xe,k=j):Z=Z.next=xe,We.lanes|=fe,es|=fe;xe=ue.action,Js&&d(j,xe),j=ue.hasEagerState?ue.eagerState:d(j,xe)}else fe={lane:xe,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(z=Z=fe,k=j):Z=Z.next=fe,We.lanes|=xe,es|=xe;ue=ue.next}while(ue!==null&&ue!==o);if(Z===null?k=j:Z.next=z,!xn(j,i.memoizedState)&&(tr=!0,ve&&(d=cl,d!==null)))throw d;i.memoizedState=j,i.baseState=k,i.baseQueue=Z,p.lastRenderedState=j}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function $v(i){var o=Yt(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,b=d.pending,j=o.memoizedState;if(b!==null){d.pending=null;var k=b=b.next;do j=i(j,k.action),k=k.next;while(k!==b);xn(j,o.memoizedState)||(tr=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),d.lastRenderedState=j}return[j,p]}function BS(i,o,d){var p=We,b=Yt(),j=lt;if(j){if(d===void 0)throw Error(n(407));d=d()}else d=o();var k=!xn((bt||b).memoizedState,d);if(k&&(b.memoizedState=d,tr=!0),b=b.queue,Bv(HS.bind(null,p,b,i),[i]),b.getSnapshot!==o||k||er!==null&&er.memoizedState.tag&1){if(p.flags|=2048,pl(9,{destroy:void 0},FS.bind(null,p,b,d,o),null),St===null)throw Error(n(349));j||(Ja&127)!==0||qS(p,o,d)}return d}function qS(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=We.updateQueue,o===null?(o=Ef(),We.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function FS(i,o,d,p){o.value=d,o.getSnapshot=p,VS(o)&&KS(i)}function HS(i,o,d){return d(function(){VS(o)&&KS(i)})}function VS(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!xn(i,d)}catch{return!0}}function KS(i){var o=Hs(i,2);o!==null&&cn(o,i,2)}function zv(i){var o=Wr();if(typeof i=="function"){var d=i;if(i=d(),Js){Ui(!0);try{d()}finally{Ui(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},o}function GS(i,o,d,p){return i.baseState=d,Lv(i,bt,typeof p=="function"?p:ei)}function C5(i,o,d,p,b){if(Tf(i))throw Error(n(485));if(i=o.action,i!==null){var j={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){j.listeners.push(k)}};L.T!==null?d(!0):j.isTransition=!1,p(j),d=o.pending,d===null?(j.next=o.pending=j,WS(o,j)):(j.next=d.next,o.pending=d.next=j)}}function WS(i,o){var d=o.action,p=o.payload,b=i.state;if(o.isTransition){var j=L.T,k={};L.T=k;try{var z=d(b,p),Z=L.S;Z!==null&&Z(k,z),YS(i,o,z)}catch(ue){Uv(i,o,ue)}finally{j!==null&&k.types!==null&&(j.types=k.types),L.T=j}}else try{j=d(b,p),YS(i,o,j)}catch(ue){Uv(i,o,ue)}}function YS(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){XS(i,o,p)},function(p){return Uv(i,o,p)}):XS(i,o,d)}function XS(i,o,d){o.status="fulfilled",o.value=d,ZS(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,WS(i,d)))}function Uv(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,ZS(o),o=o.next;while(o!==p)}i.action=null}function ZS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function QS(i,o){return o}function JS(i,o){if(lt){var d=St.formState;if(d!==null){e:{var p=We;if(lt){if(kt){t:{for(var b=kt,j=Vn;b.nodeType!==8;){if(!j){b=null;break t}if(b=Gn(b.nextSibling),b===null){b=null;break t}}j=b.data,b=j==="F!"||j==="F"?b:null}if(b){kt=Gn(b.nextSibling),p=b.data==="F!";break e}}Vi(p)}p=!1}p&&(o=d[0])}}return d=Wr(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QS,lastRenderedState:o},d.queue=p,d=yE.bind(null,We,p),p.dispatch=d,p=zv(!1),j=Kv.bind(null,We,!1,p.queue),p=Wr(),b={state:o,dispatch:null,action:i,pending:null},p.queue=b,d=C5.bind(null,We,b,j,d),b.dispatch=d,p.memoizedState=i,[o,d,!1]}function eE(i){var o=Yt();return tE(o,bt,i)}function tE(i,o,d){if(o=Lv(i,o,QS)[0],i=Cf(ei)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=ou(o)}catch(k){throw k===ul?vf:k}else p=o;o=Yt();var b=o.queue,j=b.dispatch;return d!==o.memoizedState&&(We.flags|=2048,pl(9,{destroy:void 0},O5.bind(null,b,d),null)),[p,j,i]}function O5(i,o){i.action=o}function rE(i){var o=Yt(),d=bt;if(d!==null)return tE(o,d,i);Yt(),o=o.memoizedState,d=Yt();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function pl(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=We.updateQueue,o===null&&(o=Ef(),We.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function nE(){return Yt().memoizedState}function Of(i,o,d,p){var b=Wr();We.flags|=i,b.memoizedState=pl(1|o,{destroy:void 0},d,p===void 0?null:p)}function Af(i,o,d,p){var b=Yt();p=p===void 0?null:p;var j=b.memoizedState.inst;bt!==null&&p!==null&&kv(p,bt.memoizedState.deps)?b.memoizedState=pl(o,j,d,p):(We.flags|=i,b.memoizedState=pl(1|o,j,d,p))}function aE(i,o){Of(8390656,8,i,o)}function Bv(i,o){Af(2048,8,i,o)}function A5(i){We.flags|=4;var o=We.updateQueue;if(o===null)o=Ef(),We.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function iE(i){var o=Yt().memoizedState;return A5({ref:o,nextImpl:i}),function(){if((mt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function sE(i,o){return Af(4,2,i,o)}function oE(i,o){return Af(4,4,i,o)}function lE(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function cE(i,o,d){d=d!=null?d.concat([i]):null,Af(4,4,lE.bind(null,o,i),d)}function qv(){}function uE(i,o){var d=Yt();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&kv(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function dE(i,o){var d=Yt();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&kv(o,p[1]))return p[0];if(p=i(),Js){Ui(!0);try{i()}finally{Ui(!1)}}return d.memoizedState=[p,o],p}function Fv(i,o,d){return d===void 0||(Ja&1073741824)!==0&&(st&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=fN(),We.lanes|=i,es|=i,d)}function fE(i,o,d,p){return xn(d,o)?d:fl.current!==null?(i=Fv(i,d,p),xn(i,o)||(tr=!0),i):(Ja&42)===0||(Ja&1073741824)!==0&&(st&261930)===0?(tr=!0,i.memoizedState=d):(i=fN(),We.lanes|=i,es|=i,o)}function hE(i,o,d,p,b){var j=R.p;R.p=j!==0&&8>j?j:8;var k=L.T,z={};L.T=z,Kv(i,!1,o,d);try{var Z=b(),ue=L.S;if(ue!==null&&ue(z,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ve=S5(Z,p);lu(i,o,ve,En(i))}else lu(i,o,p,En(i))}catch(xe){lu(i,o,{then:function(){},status:"rejected",reason:xe},En())}finally{R.p=j,k!==null&&z.types!==null&&(k.types=z.types),L.T=k}}function T5(){}function Hv(i,o,d,p){if(i.tag!==5)throw Error(n(476));var b=mE(i).queue;hE(i,b,o,q,d===null?T5:function(){return pE(i),d(p)})}function mE(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:q},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function pE(i){var o=mE(i);o.next===null&&(o=i.alternate.memoizedState),lu(i,o.next.queue,{},En())}function Vv(){return Ar(Eu)}function gE(){return Yt().memoizedState}function vE(){return Yt().memoizedState}function k5(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=En();i=Wi(d);var p=Yi(o,i,d);p!==null&&(cn(p,o,d),nu(p,o,d)),o={cache:bv()},i.payload=o;return}o=o.return}}function P5(i,o,d){var p=En();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Tf(i)?xE(o,d):(d=cv(i,o,d,p),d!==null&&(cn(d,i,p),bE(d,o,p)))}function yE(i,o,d){var p=En();lu(i,o,d,p)}function lu(i,o,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Tf(i))xE(o,b);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var k=o.lastRenderedState,z=j(k,d);if(b.hasEagerState=!0,b.eagerState=z,xn(z,k))return uf(i,o,b,0),St===null&&cf(),!1}catch{}finally{}if(d=cv(i,o,b,p),d!==null)return cn(d,i,p),bE(d,o,p),!0}return!1}function Kv(i,o,d,p){if(p={lane:2,revertLane:Sy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Tf(i)){if(o)throw Error(n(479))}else o=cv(i,d,p,2),o!==null&&cn(o,i,2)}function Tf(i){var o=i.alternate;return i===We||o!==null&&o===We}function xE(i,o){hl=_f=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function bE(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,E1(i,d)}}var cu={readContext:Ar,use:Nf,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};cu.useEffectEvent=Vt;var wE={readContext:Ar,use:Nf,useCallback:function(i,o){return Wr().memoizedState=[i,o===void 0?null:o],i},useContext:Ar,useEffect:aE,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,Of(4194308,4,lE.bind(null,o,i),d)},useLayoutEffect:function(i,o){return Of(4194308,4,i,o)},useInsertionEffect:function(i,o){Of(4,2,i,o)},useMemo:function(i,o){var d=Wr();o=o===void 0?null:o;var p=i();if(Js){Ui(!0);try{i()}finally{Ui(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Wr();if(d!==void 0){var b=d(o);if(Js){Ui(!0);try{d(o)}finally{Ui(!1)}}}else b=o;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=P5.bind(null,We,i),[p.memoizedState,i]},useRef:function(i){var o=Wr();return i={current:i},o.memoizedState=i},useState:function(i){i=zv(i);var o=i.queue,d=yE.bind(null,We,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:qv,useDeferredValue:function(i,o){var d=Wr();return Fv(d,i,o)},useTransition:function(){var i=zv(!1);return i=hE.bind(null,We,i.queue,!0,!1),Wr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=We,b=Wr();if(lt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),St===null)throw Error(n(349));(st&127)!==0||qS(p,o,d)}b.memoizedState=d;var j={value:d,getSnapshot:o};return b.queue=j,aE(HS.bind(null,p,j,i),[i]),p.flags|=2048,pl(9,{destroy:void 0},FS.bind(null,p,j,d,o),null),d},useId:function(){var i=Wr(),o=St.identifierPrefix;if(lt){var d=Aa,p=Oa;d=(p&~(1<<32-yn(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Sf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=E5++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Vv,useFormState:JS,useActionState:JS,useOptimistic:function(i){var o=Wr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Kv.bind(null,We,!0,d),d.dispatch=o,[i,o]},useMemoCache:Iv,useCacheRefresh:function(){return Wr().memoizedState=k5.bind(null,We)},useEffectEvent:function(i){var o=Wr(),d={impl:i};return o.memoizedState=d,function(){if((mt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Gv={readContext:Ar,use:Nf,useCallback:uE,useContext:Ar,useEffect:Bv,useImperativeHandle:cE,useInsertionEffect:sE,useLayoutEffect:oE,useMemo:dE,useReducer:Cf,useRef:nE,useState:function(){return Cf(ei)},useDebugValue:qv,useDeferredValue:function(i,o){var d=Yt();return fE(d,bt.memoizedState,i,o)},useTransition:function(){var i=Cf(ei)[0],o=Yt().memoizedState;return[typeof i=="boolean"?i:ou(i),o]},useSyncExternalStore:BS,useId:gE,useHostTransitionStatus:Vv,useFormState:eE,useActionState:eE,useOptimistic:function(i,o){var d=Yt();return GS(d,bt,i,o)},useMemoCache:Iv,useCacheRefresh:vE};Gv.useEffectEvent=iE;var jE={readContext:Ar,use:Nf,useCallback:uE,useContext:Ar,useEffect:Bv,useImperativeHandle:cE,useInsertionEffect:sE,useLayoutEffect:oE,useMemo:dE,useReducer:$v,useRef:nE,useState:function(){return $v(ei)},useDebugValue:qv,useDeferredValue:function(i,o){var d=Yt();return bt===null?Fv(d,i,o):fE(d,bt.memoizedState,i,o)},useTransition:function(){var i=$v(ei)[0],o=Yt().memoizedState;return[typeof i=="boolean"?i:ou(i),o]},useSyncExternalStore:BS,useId:gE,useHostTransitionStatus:Vv,useFormState:rE,useActionState:rE,useOptimistic:function(i,o){var d=Yt();return bt!==null?GS(d,bt,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Iv,useCacheRefresh:vE};jE.useEffectEvent=iE;function Wv(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:g({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Yv={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=En(),b=Wi(p);b.payload=o,d!=null&&(b.callback=d),o=Yi(i,b,p),o!==null&&(cn(o,i,p),nu(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=En(),b=Wi(p);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=Yi(i,b,p),o!==null&&(cn(o,i,p),nu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=En(),p=Wi(d);p.tag=2,o!=null&&(p.callback=o),o=Yi(i,p,d),o!==null&&(cn(o,i,d),nu(o,i,d))}};function _E(i,o,d,p,b,j,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,j,k):o.prototype&&o.prototype.isPureReactComponent?!Yc(d,p)||!Yc(b,j):!0}function SE(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Yv.enqueueReplaceState(o,o.state,null)}function eo(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=g({},d));for(var b in i)d[b]===void 0&&(d[b]=i[b])}return d}function EE(i){lf(i)}function NE(i){console.error(i)}function CE(i){lf(i)}function kf(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function OE(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Xv(i,o,d){return d=Wi(d),d.tag=3,d.payload={element:null},d.callback=function(){kf(i,o)},d}function AE(i){return i=Wi(i),i.tag=3,i}function TE(i,o,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var j=p.value;i.payload=function(){return b(j)},i.callback=function(){OE(o,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){OE(o,d,p),typeof b!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})})}function R5(i,o,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&ol(o,d,b,!0),d=wn.current,d!==null){switch(d.tag){case 31:case 13:return Kn===null?Ff():d.alternate===null&&Kt===0&&(Kt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===yf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),wy(i,p,b)),!1;case 22:return d.flags|=65536,p===yf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),wy(i,p,b)),!1}throw Error(n(435,d.tag))}return wy(i,p,b),Ff(),!1}if(lt)return o=wn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==pv&&(i=Error(n(422),{cause:p}),Qc(qn(i,d)))):(p!==pv&&(o=Error(n(423),{cause:p}),Qc(qn(o,d))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=qn(p,d),b=Xv(i.stateNode,p,b),Nv(i,b),Kt!==4&&(Kt=2)),!1;var j=Error(n(520),{cause:p});if(j=qn(j,d),vu===null?vu=[j]:vu.push(j),Kt!==4&&(Kt=2),o===null)return!0;p=qn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=b&-b,d.lanes|=i,i=Xv(d.stateNode,p,i),Nv(d,i),!1;case 1:if(o=d.type,j=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ts===null||!ts.has(j))))return d.flags|=65536,b&=-b,d.lanes|=b,b=AE(b),TE(b,i,d,p),Nv(d,b),!1}d=d.return}while(d!==null);return!1}var Zv=Error(n(461)),tr=!1;function Tr(i,o,d,p){o.child=i===null?DS(o,null,d,p):Qs(o,i.child,d,p)}function kE(i,o,d,p,b){d=d.render;var j=o.ref;if("ref"in p){var k={};for(var z in p)z!=="ref"&&(k[z]=p[z])}else k=p;return Ws(o),p=Pv(i,o,d,k,j,b),z=Rv(),i!==null&&!tr?(Dv(i,o,b),ti(i,o,b)):(lt&&z&&hv(o),o.flags|=1,Tr(i,o,p,b),o.child)}function PE(i,o,d,p,b){if(i===null){var j=d.type;return typeof j=="function"&&!uv(j)&&j.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=j,RE(i,o,j,p,b)):(i=ff(d.type,null,p,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(j=i.child,!iy(i,b)){var k=j.memoizedProps;if(d=d.compare,d=d!==null?d:Yc,d(k,p)&&i.ref===o.ref)return ti(i,o,b)}return o.flags|=1,i=Ya(j,p),i.ref=o.ref,i.return=o,o.child=i}function RE(i,o,d,p,b){if(i!==null){var j=i.memoizedProps;if(Yc(j,p)&&i.ref===o.ref)if(tr=!1,o.pendingProps=p=j,iy(i,b))(i.flags&131072)!==0&&(tr=!0);else return o.lanes=i.lanes,ti(i,o,b)}return Qv(i,o,d,p,b)}function DE(i,o,d,p){var b=p.children,j=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(j=j!==null?j.baseLanes|d:d,i!==null){for(p=o.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~j}else p=0,o.child=null;return ME(i,o,j,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&gf(o,j!==null?j.cachePool:null),j!==null?LS(o,j):Ov(),$S(o);else return p=o.lanes=536870912,ME(i,o,j!==null?j.baseLanes|d:d,d,p)}else j!==null?(gf(o,j.cachePool),LS(o,j),Zi(),o.memoizedState=null):(i!==null&&gf(o,null),Ov(),Zi());return Tr(i,o,b,d),o.child}function uu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ME(i,o,d,p,b){var j=jv();return j=j===null?null:{parent:Jt._currentValue,pool:j},o.memoizedState={baseLanes:d,cachePool:j},i!==null&&gf(o,null),Ov(),$S(o),i!==null&&ol(i,o,p,!0),o.childLanes=b,null}function Pf(i,o){return o=Df({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function IE(i,o,d){return Qs(o,i.child,null,d),i=Pf(o,o.pendingProps),i.flags|=2,jn(o),o.memoizedState=null,i}function D5(i,o,d){var p=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(lt){if(p.mode==="hidden")return i=Pf(o,p),o.lanes=536870912,uu(null,i);if(Tv(o),(i=kt)?(i=WN(i,Vn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Fi!==null?{id:Oa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},d=xS(i),d.return=o,o.child=d,Or=o,kt=null)):i=null,i===null)throw Vi(o);return o.lanes=536870912,null}return Pf(o,p)}var j=i.memoizedState;if(j!==null){var k=j.dehydrated;if(Tv(o),b)if(o.flags&256)o.flags&=-257,o=IE(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(tr||ol(i,o,d,!1),b=(d&i.childLanes)!==0,tr||b){if(p=St,p!==null&&(k=N1(p,d),k!==0&&k!==j.retryLane))throw j.retryLane=k,Hs(i,k),cn(p,i,k),Zv;Ff(),o=IE(i,o,d)}else i=j.treeContext,kt=Gn(k.nextSibling),Or=o,lt=!0,Hi=null,Vn=!1,i!==null&&jS(o,i),o=Pf(o,p),o.flags|=4096;return o}return i=Ya(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Rf(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Qv(i,o,d,p,b){return Ws(o),d=Pv(i,o,d,p,void 0,b),p=Rv(),i!==null&&!tr?(Dv(i,o,b),ti(i,o,b)):(lt&&p&&hv(o),o.flags|=1,Tr(i,o,d,b),o.child)}function LE(i,o,d,p,b,j){return Ws(o),o.updateQueue=null,d=US(o,p,d,b),zS(i),p=Rv(),i!==null&&!tr?(Dv(i,o,j),ti(i,o,j)):(lt&&p&&hv(o),o.flags|=1,Tr(i,o,d,j),o.child)}function $E(i,o,d,p,b){if(Ws(o),o.stateNode===null){var j=nl,k=d.contextType;typeof k=="object"&&k!==null&&(j=Ar(k)),j=new d(p,j),o.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Yv,o.stateNode=j,j._reactInternals=o,j=o.stateNode,j.props=p,j.state=o.memoizedState,j.refs={},Sv(o),k=d.contextType,j.context=typeof k=="object"&&k!==null?Ar(k):nl,j.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Wv(o,d,k,p),j.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(k=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),k!==j.state&&Yv.enqueueReplaceState(j,j.state,null),iu(o,p,j,b),au(),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){j=o.stateNode;var z=o.memoizedProps,Z=eo(d,z);j.props=Z;var ue=j.context,ve=d.contextType;k=nl,typeof ve=="object"&&ve!==null&&(k=Ar(ve));var xe=d.getDerivedStateFromProps;ve=typeof xe=="function"||typeof j.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,ve||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(z||ue!==k)&&SE(o,j,p,k),Gi=!1;var fe=o.memoizedState;j.state=fe,iu(o,p,j,b),au(),ue=o.memoizedState,z||fe!==ue||Gi?(typeof xe=="function"&&(Wv(o,d,xe,p),ue=o.memoizedState),(Z=Gi||_E(o,d,Z,p,fe,ue,k))?(ve||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(o.flags|=4194308)):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ue),j.props=p,j.state=ue,j.context=k,p=Z):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{j=o.stateNode,Ev(i,o),k=o.memoizedProps,ve=eo(d,k),j.props=ve,xe=o.pendingProps,fe=j.context,ue=d.contextType,Z=nl,typeof ue=="object"&&ue!==null&&(Z=Ar(ue)),z=d.getDerivedStateFromProps,(ue=typeof z=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(k!==xe||fe!==Z)&&SE(o,j,p,Z),Gi=!1,fe=o.memoizedState,j.state=fe,iu(o,p,j,b),au();var me=o.memoizedState;k!==xe||fe!==me||Gi||i!==null&&i.dependencies!==null&&mf(i.dependencies)?(typeof z=="function"&&(Wv(o,d,z,p),me=o.memoizedState),(ve=Gi||_E(o,d,ve,p,fe,me,Z)||i!==null&&i.dependencies!==null&&mf(i.dependencies))?(ue||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(p,me,Z),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(p,me,Z)),typeof j.componentDidUpdate=="function"&&(o.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof j.componentDidUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=me),j.props=p,j.state=me,j.context=Z,p=ve):(typeof j.componentDidUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(o.flags|=1024),p=!1)}return j=p,Rf(i,o),p=(o.flags&128)!==0,j||p?(j=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:j.render(),o.flags|=1,i!==null&&p?(o.child=Qs(o,i.child,null,b),o.child=Qs(o,null,d,b)):Tr(i,o,d,b),o.memoizedState=j.state,i=o.child):i=ti(i,o,b),i}function zE(i,o,d,p){return Ks(),o.flags|=256,Tr(i,o,d,p),o.child}var Jv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ey(i){return{baseLanes:i,cachePool:OS()}}function ty(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Sn),i}function UE(i,o,d){var p=o.pendingProps,b=!1,j=(o.flags&128)!==0,k;if((k=j)||(k=i!==null&&i.memoizedState===null?!1:(Wt.current&2)!==0),k&&(b=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,i===null){if(lt){if(b?Xi(o):Zi(),(i=kt)?(i=WN(i,Vn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Fi!==null?{id:Oa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},d=xS(i),d.return=o,o.child=d,Or=o,kt=null)):i=null,i===null)throw Vi(o);return Ly(i)?o.lanes=32:o.lanes=536870912,null}var z=p.children;return p=p.fallback,b?(Zi(),b=o.mode,z=Df({mode:"hidden",children:z},b),p=Vs(p,b,d,null),z.return=o,p.return=o,z.sibling=p,o.child=z,p=o.child,p.memoizedState=ey(d),p.childLanes=ty(i,k,d),o.memoizedState=Jv,uu(null,p)):(Xi(o),ry(o,z))}var Z=i.memoizedState;if(Z!==null&&(z=Z.dehydrated,z!==null)){if(j)o.flags&256?(Xi(o),o.flags&=-257,o=ny(i,o,d)):o.memoizedState!==null?(Zi(),o.child=i.child,o.flags|=128,o=null):(Zi(),z=p.fallback,b=o.mode,p=Df({mode:"visible",children:p.children},b),z=Vs(z,b,d,null),z.flags|=2,p.return=o,z.return=o,p.sibling=z,o.child=p,Qs(o,i.child,null,d),p=o.child,p.memoizedState=ey(d),p.childLanes=ty(i,k,d),o.memoizedState=Jv,o=uu(null,p));else if(Xi(o),Ly(z)){if(k=z.nextSibling&&z.nextSibling.dataset,k)var ue=k.dgst;k=ue,p=Error(n(419)),p.stack="",p.digest=k,Qc({value:p,source:null,stack:null}),o=ny(i,o,d)}else if(tr||ol(i,o,d,!1),k=(d&i.childLanes)!==0,tr||k){if(k=St,k!==null&&(p=N1(k,d),p!==0&&p!==Z.retryLane))throw Z.retryLane=p,Hs(i,p),cn(k,i,p),Zv;Iy(z)||Ff(),o=ny(i,o,d)}else Iy(z)?(o.flags|=192,o.child=i.child,o=null):(i=Z.treeContext,kt=Gn(z.nextSibling),Or=o,lt=!0,Hi=null,Vn=!1,i!==null&&jS(o,i),o=ry(o,p.children),o.flags|=4096);return o}return b?(Zi(),z=p.fallback,b=o.mode,Z=i.child,ue=Z.sibling,p=Ya(Z,{mode:"hidden",children:p.children}),p.subtreeFlags=Z.subtreeFlags&65011712,ue!==null?z=Ya(ue,z):(z=Vs(z,b,d,null),z.flags|=2),z.return=o,p.return=o,p.sibling=z,o.child=p,uu(null,p),p=o.child,z=i.child.memoizedState,z===null?z=ey(d):(b=z.cachePool,b!==null?(Z=Jt._currentValue,b=b.parent!==Z?{parent:Z,pool:Z}:b):b=OS(),z={baseLanes:z.baseLanes|d,cachePool:b}),p.memoizedState=z,p.childLanes=ty(i,k,d),o.memoizedState=Jv,uu(i.child,p)):(Xi(o),d=i.child,i=d.sibling,d=Ya(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(k=o.deletions,k===null?(o.deletions=[i],o.flags|=16):k.push(i)),o.child=d,o.memoizedState=null,d)}function ry(i,o){return o=Df({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Df(i,o){return i=bn(22,i,null,o),i.lanes=0,i}function ny(i,o,d){return Qs(o,i.child,null,d),i=ry(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function BE(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),yv(i.return,o,d)}function ay(i,o,d,p,b,j){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:j}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=b,k.treeForkCount=j)}function qE(i,o,d){var p=o.pendingProps,b=p.revealOrder,j=p.tail;p=p.children;var k=Wt.current,z=(k&2)!==0;if(z?(k=k&1|2,o.flags|=128):k&=1,Q(Wt,k),Tr(i,o,p,d),p=lt?Zc:0,!z&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&BE(i,d,o);else if(i.tag===19)BE(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)i=d.alternate,i!==null&&jf(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),ay(o,!1,b,d,j,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&jf(i)===null){o.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}ay(o,!0,d,null,j,p);break;case"together":ay(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ti(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),es|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(ol(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=Ya(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=Ya(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function iy(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&mf(i)))}function M5(i,o,d){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),Ki(o,Jt,i.memoizedState.cache),Ks();break;case 27:case 5:ee(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:Ki(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Tv(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Xi(o),o.flags|=128,null):(d&o.child.childLanes)!==0?UE(i,o,d):(Xi(o),i=ti(i,o,d),i!==null?i.sibling:null);Xi(o);break;case 19:var b=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(ol(i,o,d,!1),p=(d&o.childLanes)!==0),b){if(p)return qE(i,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Q(Wt,Wt.current),p)break;return null;case 22:return o.lanes=0,DE(i,o,d,o.pendingProps);case 24:Ki(o,Jt,i.memoizedState.cache)}return ti(i,o,d)}function FE(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)tr=!0;else{if(!iy(i,d)&&(o.flags&128)===0)return tr=!1,M5(i,o,d);tr=(i.flags&131072)!==0}else tr=!1,lt&&(o.flags&1048576)!==0&&wS(o,Zc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=Xs(o.elementType),o.type=i,typeof i=="function")uv(i)?(p=eo(i,p),o.tag=1,o=$E(null,o,i,p,d)):(o.tag=0,o=Qv(null,o,i,p,d));else{if(i!=null){var b=i.$$typeof;if(b===I){o.tag=11,o=kE(null,o,i,p,d);break e}else if(b===N){o.tag=14,o=PE(null,o,i,p,d);break e}}throw o=se(i)||i,Error(n(306,o,""))}}return o;case 0:return Qv(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,b=eo(p,o.pendingProps),$E(i,o,p,b,d);case 3:e:{if(je(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var j=o.memoizedState;b=j.element,Ev(i,o),iu(o,p,null,d);var k=o.memoizedState;if(p=k.cache,Ki(o,Jt,p),p!==j.cache&&xv(o,[Jt],d,!0),au(),p=k.element,j.isDehydrated)if(j={element:p,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){o=zE(i,o,p,d);break e}else if(p!==b){b=qn(Error(n(424)),o),Qc(b),o=zE(i,o,p,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=Gn(i.firstChild),Or=o,lt=!0,Hi=null,Vn=!0,d=DS(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ks(),p===b){o=ti(i,o,d);break e}Tr(i,o,p,d)}o=o.child}return o;case 26:return Rf(i,o),i===null?(d=eC(o.type,null,o.pendingProps,null))?o.memoizedState=d:lt||(d=o.type,i=o.pendingProps,p=Xf(ie.current).createElement(d),p[Cr]=o,p[rn]=i,kr(p,d,i),xr(p),o.stateNode=p):o.memoizedState=eC(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ee(o),i===null&&lt&&(p=o.stateNode=ZN(o.type,o.pendingProps,ie.current),Or=o,Vn=!0,b=kt,is(o.type)?($y=b,kt=Gn(p.firstChild)):kt=b),Tr(i,o,o.pendingProps.children,d),Rf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&lt&&((b=p=kt)&&(p=dU(p,o.type,o.pendingProps,Vn),p!==null?(o.stateNode=p,Or=o,kt=Gn(p.firstChild),Vn=!1,b=!0):b=!1),b||Vi(o)),ee(o),b=o.type,j=o.pendingProps,k=i!==null?i.memoizedProps:null,p=j.children,Ry(b,j)?p=null:k!==null&&Ry(b,k)&&(o.flags|=32),o.memoizedState!==null&&(b=Pv(i,o,N5,null,null,d),Eu._currentValue=b),Rf(i,o),Tr(i,o,p,d),o.child;case 6:return i===null&&lt&&((i=d=kt)&&(d=fU(d,o.pendingProps,Vn),d!==null?(o.stateNode=d,Or=o,kt=null,i=!0):i=!1),i||Vi(o)),null;case 13:return UE(i,o,d);case 4:return je(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Qs(o,null,p,d):Tr(i,o,p,d),o.child;case 11:return kE(i,o,o.type,o.pendingProps,d);case 7:return Tr(i,o,o.pendingProps,d),o.child;case 8:return Tr(i,o,o.pendingProps.children,d),o.child;case 12:return Tr(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,Ki(o,o.type,p.value),Tr(i,o,p.children,d),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,Ws(o),b=Ar(b),p=p(b),o.flags|=1,Tr(i,o,p,d),o.child;case 14:return PE(i,o,o.type,o.pendingProps,d);case 15:return RE(i,o,o.type,o.pendingProps,d);case 19:return qE(i,o,d);case 31:return D5(i,o,d);case 22:return DE(i,o,d,o.pendingProps);case 24:return Ws(o),p=Ar(Jt),i===null?(b=jv(),b===null&&(b=St,j=bv(),b.pooledCache=j,j.refCount++,j!==null&&(b.pooledCacheLanes|=d),b=j),o.memoizedState={parent:p,cache:b},Sv(o),Ki(o,Jt,b)):((i.lanes&d)!==0&&(Ev(i,o),iu(o,null,null,d),au()),b=i.memoizedState,j=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Ki(o,Jt,p)):(p=j.cache,Ki(o,Jt,p),p!==b.cache&&xv(o,[Jt],d,!0))),Tr(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ri(i){i.flags|=4}function sy(i,o,d,p,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(gN())i.flags|=8192;else throw Zs=yf,_v}else i.flags&=-16777217}function HE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!iC(o))if(gN())i.flags|=8192;else throw Zs=yf,_v}function Mf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?_1():536870912,i.lanes|=o,xl|=o)}function du(i,o){if(!lt)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Pt(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function I5(i,o,d){var p=o.pendingProps;switch(mv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(o),null;case 1:return Pt(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Qa(Jt),$(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(sl(o)?ri(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gv())),Pt(o),null;case 26:var b=o.type,j=o.memoizedState;return i===null?(ri(o),j!==null?(Pt(o),HE(o,j)):(Pt(o),sy(o,b,null,p,d))):j?j!==i.memoizedState?(ri(o),Pt(o),HE(o,j)):(Pt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&ri(o),Pt(o),sy(o,b,i,p,d)),null;case 27:if(ce(o),d=ie.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ri(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Pt(o),null}i=P.current,sl(o)?_S(o):(i=ZN(b,p,d),o.stateNode=i,ri(o))}return Pt(o),null;case 5:if(ce(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ri(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Pt(o),null}if(j=P.current,sl(o))_S(o);else{var k=Xf(ie.current);switch(j){case 1:j=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:j=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":j=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":j=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":j=k.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?j.multiple=!0:p.size&&(j.size=p.size);break;default:j=typeof p.is=="string"?k.createElement(b,{is:p.is}):k.createElement(b)}}j[Cr]=o,j[rn]=p;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)j.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=j;e:switch(kr(j,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ri(o)}}return Pt(o),sy(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&ri(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=ie.current,sl(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,b=Or,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Cr]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||UN(i.nodeValue,d)),i||Vi(o,!0)}else i=Xf(i).createTextNode(p),i[Cr]=o,o.stateNode=i}return Pt(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=sl(o),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Cr]=o}else Ks(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),i=!1}else d=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(jn(o),o):(jn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Pt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=sl(o),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Cr]=o}else Ks(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),b=!1}else b=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(jn(o),o):(jn(o),null)}return jn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),j=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(j=p.memoizedState.cachePool.pool),j!==b&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),Mf(o,o.updateQueue),Pt(o),null);case 4:return $(),i===null&&Oy(o.stateNode.containerInfo),Pt(o),null;case 10:return Qa(o.type),Pt(o),null;case 19:if(H(Wt),p=o.memoizedState,p===null)return Pt(o),null;if(b=(o.flags&128)!==0,j=p.rendering,j===null)if(b)du(p,!1);else{if(Kt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(j=jf(i),j!==null){for(o.flags|=128,du(p,!1),i=j.updateQueue,o.updateQueue=i,Mf(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)yS(d,i),d=d.sibling;return Q(Wt,Wt.current&1|2),lt&&Xa(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&gt()>Uf&&(o.flags|=128,b=!0,du(p,!1),o.lanes=4194304)}else{if(!b)if(i=jf(j),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Mf(o,i),du(p,!0),p.tail===null&&p.tailMode==="hidden"&&!j.alternate&&!lt)return Pt(o),null}else 2*gt()-p.renderingStartTime>Uf&&d!==536870912&&(o.flags|=128,b=!0,du(p,!1),o.lanes=4194304);p.isBackwards?(j.sibling=o.child,o.child=j):(i=p.last,i!==null?i.sibling=j:o.child=j,p.last=j)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=gt(),i.sibling=null,d=Wt.current,Q(Wt,b?d&1|2:d&1),lt&&Xa(o,p.treeForkCount),i):(Pt(o),null);case 22:case 23:return jn(o),Av(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Pt(o),o.subtreeFlags&6&&(o.flags|=8192)):Pt(o),d=o.updateQueue,d!==null&&Mf(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&H(Ys),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Qa(Jt),Pt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function L5(i,o){switch(mv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qa(Jt),$(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ce(o),null;case 31:if(o.memoizedState!==null){if(jn(o),o.alternate===null)throw Error(n(340));Ks()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(jn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ks()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return H(Wt),null;case 4:return $(),null;case 10:return Qa(o.type),null;case 22:case 23:return jn(o),Av(),i!==null&&H(Ys),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Qa(Jt),null;case 25:return null;default:return null}}function VE(i,o){switch(mv(o),o.tag){case 3:Qa(Jt),$();break;case 26:case 27:case 5:ce(o);break;case 4:$();break;case 31:o.memoizedState!==null&&jn(o);break;case 13:jn(o);break;case 19:H(Wt);break;case 10:Qa(o.type);break;case 22:case 23:jn(o),Av(),i!==null&&H(Ys);break;case 24:Qa(Jt)}}function fu(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){p=void 0;var j=d.create,k=d.inst;p=j(),k.destroy=p}d=d.next}while(d!==b)}}catch(z){yt(o,o.return,z)}}function Qi(i,o,d){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var j=b.next;p=j;do{if((p.tag&i)===i){var k=p.inst,z=k.destroy;if(z!==void 0){k.destroy=void 0,b=o;var Z=d,ue=z;try{ue()}catch(ve){yt(b,Z,ve)}}}p=p.next}while(p!==j)}}catch(ve){yt(o,o.return,ve)}}function KE(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{IS(o,d)}catch(p){yt(i,i.return,p)}}}function GE(i,o,d){d.props=eo(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){yt(i,o,p)}}function hu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(b){yt(i,o,b)}}function Ta(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){yt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){yt(i,o,b)}else d.current=null}function WE(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){yt(i,i.return,b)}}function oy(i,o,d){try{var p=i.stateNode;iU(p,i.type,d,o),p[rn]=o}catch(b){yt(i,i.return,b)}}function YE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&is(i.type)||i.tag===4}function ly(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||YE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&is(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cy(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Ga));else if(p!==4&&(p===27&&is(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(cy(i,o,d),i=i.sibling;i!==null;)cy(i,o,d),i=i.sibling}function If(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&is(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(If(i,o,d),i=i.sibling;i!==null;)If(i,o,d),i=i.sibling}function XE(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);kr(o,p,d),o[Cr]=i,o[rn]=d}catch(j){yt(i,i.return,j)}}var ni=!1,rr=!1,uy=!1,ZE=typeof WeakSet=="function"?WeakSet:Set,br=null;function $5(i,o){if(i=i.containerInfo,ky=nh,i=cS(i),nv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,j=p.focusNode;p=p.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var k=0,z=-1,Z=-1,ue=0,ve=0,xe=i,fe=null;t:for(;;){for(var me;xe!==d||b!==0&&xe.nodeType!==3||(z=k+b),xe!==j||p!==0&&xe.nodeType!==3||(Z=k+p),xe.nodeType===3&&(k+=xe.nodeValue.length),(me=xe.firstChild)!==null;)fe=xe,xe=me;for(;;){if(xe===i)break t;if(fe===d&&++ue===b&&(z=k),fe===j&&++ve===p&&(Z=k),(me=xe.nextSibling)!==null)break;xe=fe,fe=xe.parentNode}xe=me}d=z===-1||Z===-1?null:{start:z,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Py={focusedElem:i,selectionRange:d},nh=!1,br=o;br!==null;)if(o=br,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,br=i;else for(;br!==null;){switch(o=br,j=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)b=i[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,d=o,b=j.memoizedProps,j=j.memoizedState,p=d.stateNode;try{var Pe=eo(d.type,b);i=p.getSnapshotBeforeUpdate(Pe,j),p.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){yt(d,d.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)My(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":My(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,br=i;break}br=o.return}}function QE(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:ii(i,d),p&4&&fu(5,d);break;case 1:if(ii(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(k){yt(d,d.return,k)}else{var b=eo(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(k){yt(d,d.return,k)}}p&64&&KE(d),p&512&&hu(d,d.return);break;case 3:if(ii(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{IS(i,o)}catch(k){yt(d,d.return,k)}}break;case 27:o===null&&p&4&&XE(d);case 26:case 5:ii(i,d),o===null&&p&4&&WE(d),p&512&&hu(d,d.return);break;case 12:ii(i,d);break;case 31:ii(i,d),p&4&&tN(i,d);break;case 13:ii(i,d),p&4&&rN(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=G5.bind(null,d),hU(i,d))));break;case 22:if(p=d.memoizedState!==null||ni,!p){o=o!==null&&o.memoizedState!==null||rr,b=ni;var j=rr;ni=p,(rr=o)&&!j?si(i,d,(d.subtreeFlags&8772)!==0):ii(i,d),ni=b,rr=j}break;case 30:break;default:ii(i,d)}}function JE(i){var o=i.alternate;o!==null&&(i.alternate=null,JE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ug(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,an=!1;function ai(i,o,d){for(d=d.child;d!==null;)eN(i,o,d),d=d.sibling}function eN(i,o,d){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(zi,d)}catch{}switch(d.tag){case 26:rr||Ta(d,o),ai(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:rr||Ta(d,o);var p=Dt,b=an;is(d.type)&&(Dt=d.stateNode,an=!1),ai(i,o,d),ju(d.stateNode),Dt=p,an=b;break;case 5:rr||Ta(d,o);case 6:if(p=Dt,b=an,Dt=null,ai(i,o,d),Dt=p,an=b,Dt!==null)if(an)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(d.stateNode)}catch(j){yt(d,o,j)}else try{Dt.removeChild(d.stateNode)}catch(j){yt(d,o,j)}break;case 18:Dt!==null&&(an?(i=Dt,KN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Cl(i)):KN(Dt,d.stateNode));break;case 4:p=Dt,b=an,Dt=d.stateNode.containerInfo,an=!0,ai(i,o,d),Dt=p,an=b;break;case 0:case 11:case 14:case 15:Qi(2,d,o),rr||Qi(4,d,o),ai(i,o,d);break;case 1:rr||(Ta(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&GE(d,o,p)),ai(i,o,d);break;case 21:ai(i,o,d);break;case 22:rr=(p=rr)||d.memoizedState!==null,ai(i,o,d),rr=p;break;default:ai(i,o,d)}}function tN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Cl(i)}catch(d){yt(o,o.return,d)}}}function rN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Cl(i)}catch(d){yt(o,o.return,d)}}function z5(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new ZE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new ZE),o;default:throw Error(n(435,i.tag))}}function Lf(i,o){var d=z5(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var b=W5.bind(null,i,p);p.then(b,b)}})}function sn(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],j=i,k=o,z=k;e:for(;z!==null;){switch(z.tag){case 27:if(is(z.type)){Dt=z.stateNode,an=!1;break e}break;case 5:Dt=z.stateNode,an=!1;break e;case 3:case 4:Dt=z.stateNode.containerInfo,an=!0;break e}z=z.return}if(Dt===null)throw Error(n(160));eN(j,k,b),Dt=null,an=!1,j=b.alternate,j!==null&&(j.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)nN(o,i),o=o.sibling}var sa=null;function nN(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:sn(o,i),on(i),p&4&&(Qi(3,i,i.return),fu(3,i),Qi(5,i,i.return));break;case 1:sn(o,i),on(i),p&512&&(rr||d===null||Ta(d,d.return)),p&64&&ni&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=sa;if(sn(o,i),on(i),p&512&&(rr||d===null||Ta(d,d.return)),p&4){var j=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":j=b.getElementsByTagName("title")[0],(!j||j[Uc]||j[Cr]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=b.createElement(p),b.head.insertBefore(j,b.querySelector("head > title"))),kr(j,p,d),j[Cr]=i,xr(j),p=j;break e;case"link":var k=nC("link","href",b).get(p+(d.href||""));if(k){for(var z=0;z<k.length;z++)if(j=k[z],j.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&j.getAttribute("rel")===(d.rel==null?null:d.rel)&&j.getAttribute("title")===(d.title==null?null:d.title)&&j.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(z,1);break t}}j=b.createElement(p),kr(j,p,d),b.head.appendChild(j);break;case"meta":if(k=nC("meta","content",b).get(p+(d.content||""))){for(z=0;z<k.length;z++)if(j=k[z],j.getAttribute("content")===(d.content==null?null:""+d.content)&&j.getAttribute("name")===(d.name==null?null:d.name)&&j.getAttribute("property")===(d.property==null?null:d.property)&&j.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&j.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(z,1);break t}}j=b.createElement(p),kr(j,p,d),b.head.appendChild(j);break;default:throw Error(n(468,p))}j[Cr]=i,xr(j),p=j}i.stateNode=p}else aC(b,i.type,i.stateNode);else i.stateNode=rC(b,p,i.memoizedProps);else j!==p?(j===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):j.count--,p===null?aC(b,i.type,i.stateNode):rC(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&oy(i,i.memoizedProps,d.memoizedProps)}break;case 27:sn(o,i),on(i),p&512&&(rr||d===null||Ta(d,d.return)),d!==null&&p&4&&oy(i,i.memoizedProps,d.memoizedProps);break;case 5:if(sn(o,i),on(i),p&512&&(rr||d===null||Ta(d,d.return)),i.flags&32){b=i.stateNode;try{Xo(b,"")}catch(Pe){yt(i,i.return,Pe)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,oy(i,b,d!==null?d.memoizedProps:b)),p&1024&&(uy=!0);break;case 6:if(sn(o,i),on(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Pe){yt(i,i.return,Pe)}}break;case 3:if(Jf=null,b=sa,sa=Zf(o.containerInfo),sn(o,i),sa=b,on(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Cl(o.containerInfo)}catch(Pe){yt(i,i.return,Pe)}uy&&(uy=!1,aN(i));break;case 4:p=sa,sa=Zf(i.stateNode.containerInfo),sn(o,i),on(i),sa=p;break;case 12:sn(o,i),on(i);break;case 31:sn(o,i),on(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 13:sn(o,i),on(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(zf=gt()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 22:b=i.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,ue=ni,ve=rr;if(ni=ue||b,rr=ve||Z,sn(o,i),rr=ve,ni=ue,on(i),p&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||Z||ni||rr||to(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){Z=d=o;try{if(j=Z.stateNode,b)k=j.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{z=Z.stateNode;var xe=Z.memoizedProps.style,fe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;z.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Pe){yt(Z,Z.return,Pe)}}}else if(o.tag===6){if(d===null){Z=o;try{Z.stateNode.nodeValue=b?"":Z.memoizedProps}catch(Pe){yt(Z,Z.return,Pe)}}}else if(o.tag===18){if(d===null){Z=o;try{var me=Z.stateNode;b?GN(me,!0):GN(Z.stateNode,!1)}catch(Pe){yt(Z,Z.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Lf(i,d))));break;case 19:sn(o,i),on(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 30:break;case 21:break;default:sn(o,i),on(i)}}function on(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(YE(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,j=ly(i);If(i,j,b);break;case 5:var k=d.stateNode;d.flags&32&&(Xo(k,""),d.flags&=-33);var z=ly(i);If(i,z,k);break;case 3:case 4:var Z=d.stateNode.containerInfo,ue=ly(i);cy(i,ue,Z);break;default:throw Error(n(161))}}catch(ve){yt(i,i.return,ve)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function aN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;aN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ii(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)QE(i,o.alternate,o),o=o.sibling}function to(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Qi(4,o,o.return),to(o);break;case 1:Ta(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&GE(o,o.return,d),to(o);break;case 27:ju(o.stateNode);case 26:case 5:Ta(o,o.return),to(o);break;case 22:o.memoizedState===null&&to(o);break;case 30:to(o);break;default:to(o)}i=i.sibling}}function si(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=i,j=o,k=j.flags;switch(j.tag){case 0:case 11:case 15:si(b,j,d),fu(4,j);break;case 1:if(si(b,j,d),p=j,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ue){yt(p,p.return,ue)}if(p=j,b=p.updateQueue,b!==null){var z=p.stateNode;try{var Z=b.shared.hiddenCallbacks;if(Z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Z.length;b++)MS(Z[b],z)}catch(ue){yt(p,p.return,ue)}}d&&k&64&&KE(j),hu(j,j.return);break;case 27:XE(j);case 26:case 5:si(b,j,d),d&&p===null&&k&4&&WE(j),hu(j,j.return);break;case 12:si(b,j,d);break;case 31:si(b,j,d),d&&k&4&&tN(b,j);break;case 13:si(b,j,d),d&&k&4&&rN(b,j);break;case 22:j.memoizedState===null&&si(b,j,d),hu(j,j.return);break;case 30:break;default:si(b,j,d)}o=o.sibling}}function dy(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Jc(d))}function fy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jc(i))}function oa(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)iN(i,o,d,p),o=o.sibling}function iN(i,o,d,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:oa(i,o,d,p),b&2048&&fu(9,o);break;case 1:oa(i,o,d,p);break;case 3:oa(i,o,d,p),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jc(i)));break;case 12:if(b&2048){oa(i,o,d,p),i=o.stateNode;try{var j=o.memoizedProps,k=j.id,z=j.onPostCommit;typeof z=="function"&&z(k,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){yt(o,o.return,Z)}}else oa(i,o,d,p);break;case 31:oa(i,o,d,p);break;case 13:oa(i,o,d,p);break;case 23:break;case 22:j=o.stateNode,k=o.alternate,o.memoizedState!==null?j._visibility&2?oa(i,o,d,p):mu(i,o):j._visibility&2?oa(i,o,d,p):(j._visibility|=2,gl(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),b&2048&&dy(k,o);break;case 24:oa(i,o,d,p),b&2048&&fy(o.alternate,o);break;default:oa(i,o,d,p)}}function gl(i,o,d,p,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var j=i,k=o,z=d,Z=p,ue=k.flags;switch(k.tag){case 0:case 11:case 15:gl(j,k,z,Z,b),fu(8,k);break;case 23:break;case 22:var ve=k.stateNode;k.memoizedState!==null?ve._visibility&2?gl(j,k,z,Z,b):mu(j,k):(ve._visibility|=2,gl(j,k,z,Z,b)),b&&ue&2048&&dy(k.alternate,k);break;case 24:gl(j,k,z,Z,b),b&&ue&2048&&fy(k.alternate,k);break;default:gl(j,k,z,Z,b)}o=o.sibling}}function mu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,b=p.flags;switch(p.tag){case 22:mu(d,p),b&2048&&dy(p.alternate,p);break;case 24:mu(d,p),b&2048&&fy(p.alternate,p);break;default:mu(d,p)}o=o.sibling}}var pu=8192;function vl(i,o,d){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)sN(i,o,d),i=i.sibling}function sN(i,o,d){switch(i.tag){case 26:vl(i,o,d),i.flags&pu&&i.memoizedState!==null&&EU(d,sa,i.memoizedState,i.memoizedProps);break;case 5:vl(i,o,d);break;case 3:case 4:var p=sa;sa=Zf(i.stateNode.containerInfo),vl(i,o,d),sa=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=pu,pu=16777216,vl(i,o,d),pu=p):vl(i,o,d));break;default:vl(i,o,d)}}function oN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function gu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];br=p,cN(p,i)}oN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lN(i),i=i.sibling}function lN(i){switch(i.tag){case 0:case 11:case 15:gu(i),i.flags&2048&&Qi(9,i,i.return);break;case 3:gu(i);break;case 12:gu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,$f(i)):gu(i);break;default:gu(i)}}function $f(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];br=p,cN(p,i)}oN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Qi(8,o,o.return),$f(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,$f(o));break;default:$f(o)}i=i.sibling}}function cN(i,o){for(;br!==null;){var d=br;switch(d.tag){case 0:case 11:case 15:Qi(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Jc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,br=p;else e:for(d=i;br!==null;){p=br;var b=p.sibling,j=p.return;if(JE(p),p===d){br=null;break e}if(b!==null){b.return=j,br=b;break e}br=j}}}var U5={getCacheForType:function(i){var o=Ar(Jt),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Ar(Jt).controller.signal}},B5=typeof WeakMap=="function"?WeakMap:Map,mt=0,St=null,nt=null,st=0,vt=0,_n=null,Ji=!1,yl=!1,hy=!1,oi=0,Kt=0,es=0,ro=0,my=0,Sn=0,xl=0,vu=null,ln=null,py=!1,zf=0,uN=0,Uf=1/0,Bf=null,ts=null,cr=0,rs=null,bl=null,li=0,gy=0,vy=null,dN=null,yu=0,yy=null;function En(){return(mt&2)!==0&&st!==0?st&-st:L.T!==null?Sy():C1()}function fN(){if(Sn===0)if((st&536870912)===0||lt){var i=Wd;Wd<<=1,(Wd&3932160)===0&&(Wd=262144),Sn=i}else Sn=536870912;return i=wn.current,i!==null&&(i.flags|=32),Sn}function cn(i,o,d){(i===St&&(vt===2||vt===9)||i.cancelPendingCommit!==null)&&(wl(i,0),ns(i,st,Sn,!1)),zc(i,d),((mt&2)===0||i!==St)&&(i===St&&((mt&2)===0&&(ro|=d),Kt===4&&ns(i,st,Sn,!1)),ka(i))}function hN(i,o,d){if((mt&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||$c(i,o),b=p?H5(i,o):by(i,o,!0),j=p;do{if(b===0){yl&&!p&&ns(i,o,0,!1);break}else{if(d=i.current.alternate,j&&!q5(d)){b=by(i,o,!1),j=!1;continue}if(b===2){if(j=o,i.errorRecoveryDisabledLanes&j)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var z=i;b=vu;var Z=z.current.memoizedState.isDehydrated;if(Z&&(wl(z,k).flags|=256),k=by(z,k,!1),k!==2){if(hy&&!Z){z.errorRecoveryDisabledLanes|=j,ro|=j,b=4;break e}j=ln,ln=b,j!==null&&(ln===null?ln=j:ln.push.apply(ln,j))}b=k}if(j=!1,b!==2)continue}}if(b===1){wl(i,0),ns(i,o,0,!0);break}e:{switch(p=i,j=b,j){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ns(p,o,Sn,!Ji);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=zf+300-gt(),10<b)){if(ns(p,o,Sn,!Ji),Xd(p,0,!0)!==0)break e;li=o,p.timeoutHandle=HN(mN.bind(null,p,d,ln,Bf,py,o,Sn,ro,xl,Ji,j,"Throttled",-0,0),b);break e}mN(p,d,ln,Bf,py,o,Sn,ro,xl,Ji,j,null,-0,0)}}break}while(!0);ka(i)}function mN(i,o,d,p,b,j,k,z,Z,ue,ve,xe,fe,me){if(i.timeoutHandle=-1,xe=o.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},sN(o,j,xe);var Pe=(j&62914560)===j?zf-gt():(j&4194048)===j?uN-gt():0;if(Pe=NU(xe,Pe),Pe!==null){li=j,i.cancelPendingCommit=Pe(jN.bind(null,i,o,j,d,p,b,k,z,Z,ve,xe,null,fe,me)),ns(i,j,k,!ue);return}}jN(i,o,j,d,p,b,k,z,Z)}function q5(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],j=b.getSnapshot;b=b.value;try{if(!xn(j(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ns(i,o,d,p){o&=~my,o&=~ro,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var b=o;0<b;){var j=31-yn(b),k=1<<j;p[j]=-1,b&=~k}d!==0&&S1(i,d,o)}function qf(){return(mt&6)===0?(xu(0),!1):!0}function xy(){if(nt!==null){if(vt===0)var i=nt.return;else i=nt,Za=Gs=null,Mv(i),dl=null,tu=0,i=nt;for(;i!==null;)VE(i.alternate,i),i=i.return;nt=null}}function wl(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,lU(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),li=0,xy(),St=i,nt=d=Ya(i.current,null),st=o,vt=0,_n=null,Ji=!1,yl=$c(i,o),hy=!1,xl=Sn=my=ro=es=Kt=0,ln=vu=null,py=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var b=31-yn(p),j=1<<b;o|=i[b],p&=~j}return oi=o,cf(),d}function pN(i,o){We=null,L.H=cu,o===ul||o===vf?(o=kS(),vt=3):o===_v?(o=kS(),vt=4):vt=o===Zv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,_n=o,nt===null&&(Kt=1,kf(i,qn(o,i.current)))}function gN(){var i=wn.current;return i===null?!0:(st&4194048)===st?Kn===null:(st&62914560)===st||(st&536870912)!==0?i===Kn:!1}function vN(){var i=L.H;return L.H=cu,i===null?cu:i}function yN(){var i=L.A;return L.A=U5,i}function Ff(){Kt=4,Ji||(st&4194048)!==st&&wn.current!==null||(yl=!0),(es&134217727)===0&&(ro&134217727)===0||St===null||ns(St,st,Sn,!1)}function by(i,o,d){var p=mt;mt|=2;var b=vN(),j=yN();(St!==i||st!==o)&&(Bf=null,wl(i,o)),o=!1;var k=Kt;e:do try{if(vt!==0&&nt!==null){var z=nt,Z=_n;switch(vt){case 8:xy(),k=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(o=!0);var ue=vt;if(vt=0,_n=null,jl(i,z,Z,ue),d&&yl){k=0;break e}break;default:ue=vt,vt=0,_n=null,jl(i,z,Z,ue)}}F5(),k=Kt;break}catch(ve){pN(i,ve)}while(!0);return o&&i.shellSuspendCounter++,Za=Gs=null,mt=p,L.H=b,L.A=j,nt===null&&(St=null,st=0,cf()),k}function F5(){for(;nt!==null;)xN(nt)}function H5(i,o){var d=mt;mt|=2;var p=vN(),b=yN();St!==i||st!==o?(Bf=null,Uf=gt()+500,wl(i,o)):yl=$c(i,o);e:do try{if(vt!==0&&nt!==null){o=nt;var j=_n;t:switch(vt){case 1:vt=0,_n=null,jl(i,o,j,1);break;case 2:case 9:if(AS(j)){vt=0,_n=null,bN(o);break}o=function(){vt!==2&&vt!==9||St!==i||(vt=7),ka(i)},j.then(o,o);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:AS(j)?(vt=0,_n=null,bN(o)):(vt=0,_n=null,jl(i,o,j,7));break;case 5:var k=null;switch(nt.tag){case 26:k=nt.memoizedState;case 5:case 27:var z=nt;if(k?iC(k):z.stateNode.complete){vt=0,_n=null;var Z=z.sibling;if(Z!==null)nt=Z;else{var ue=z.return;ue!==null?(nt=ue,Hf(ue)):nt=null}break t}}vt=0,_n=null,jl(i,o,j,5);break;case 6:vt=0,_n=null,jl(i,o,j,6);break;case 8:xy(),Kt=6;break e;default:throw Error(n(462))}}V5();break}catch(ve){pN(i,ve)}while(!0);return Za=Gs=null,L.H=p,L.A=b,mt=d,nt!==null?0:(St=null,st=0,cf(),Kt)}function V5(){for(;nt!==null&&!Ht();)xN(nt)}function xN(i){var o=FE(i.alternate,i,oi);i.memoizedProps=i.pendingProps,o===null?Hf(i):nt=o}function bN(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=LE(d,o,o.pendingProps,o.type,void 0,st);break;case 11:o=LE(d,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:Mv(o);default:VE(d,o),o=nt=yS(o,oi),o=FE(d,o,oi)}i.memoizedProps=i.pendingProps,o===null?Hf(i):nt=o}function jl(i,o,d,p){Za=Gs=null,Mv(o),dl=null,tu=0;var b=o.return;try{if(R5(i,b,o,d,st)){Kt=1,kf(i,qn(d,i.current)),nt=null;return}}catch(j){if(b!==null)throw nt=b,j;Kt=1,kf(i,qn(d,i.current)),nt=null;return}o.flags&32768?(lt||p===1?i=!0:yl||(st&536870912)!==0?i=!1:(Ji=i=!0,(p===2||p===9||p===3||p===6)&&(p=wn.current,p!==null&&p.tag===13&&(p.flags|=16384))),wN(o,i)):Hf(o)}function Hf(i){var o=i;do{if((o.flags&32768)!==0){wN(o,Ji);return}i=o.return;var d=I5(o.alternate,o,oi);if(d!==null){nt=d;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=i}while(o!==null);Kt===0&&(Kt=5)}function wN(i,o){do{var d=L5(i.alternate,i);if(d!==null){d.flags&=32767,nt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){nt=i;return}nt=i=d}while(i!==null);Kt=6,nt=null}function jN(i,o,d,p,b,j,k,z,Z){i.cancelPendingCommit=null;do Vf();while(cr!==0);if((mt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(j=o.lanes|o.childLanes,j|=lv,Sz(i,d,j,k,z,Z),i===St&&(nt=St=null,st=0),bl=o,rs=i,li=d,gy=j,vy=b,dN=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Y5(lr,function(){return CN(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,b=R.p,R.p=2,k=mt,mt|=4;try{$5(i,o,d)}finally{mt=k,R.p=b,L.T=p}}cr=1,_N(),SN(),EN()}}function _N(){if(cr===1){cr=0;var i=rs,o=bl,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var p=R.p;R.p=2;var b=mt;mt|=4;try{nN(o,i);var j=Py,k=cS(i.containerInfo),z=j.focusedElem,Z=j.selectionRange;if(k!==z&&z&&z.ownerDocument&&lS(z.ownerDocument.documentElement,z)){if(Z!==null&&nv(z)){var ue=Z.start,ve=Z.end;if(ve===void 0&&(ve=ue),"selectionStart"in z)z.selectionStart=ue,z.selectionEnd=Math.min(ve,z.value.length);else{var xe=z.ownerDocument||document,fe=xe&&xe.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Pe=z.textContent.length,Fe=Math.min(Z.start,Pe),jt=Z.end===void 0?Fe:Math.min(Z.end,Pe);!me.extend&&Fe>jt&&(k=jt,jt=Fe,Fe=k);var ne=oS(z,Fe),te=oS(z,jt);if(ne&&te&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==te.node||me.focusOffset!==te.offset)){var le=xe.createRange();le.setStart(ne.node,ne.offset),me.removeAllRanges(),Fe>jt?(me.addRange(le),me.extend(te.node,te.offset)):(le.setEnd(te.node,te.offset),me.addRange(le))}}}}for(xe=[],me=z;me=me.parentNode;)me.nodeType===1&&xe.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<xe.length;z++){var ye=xe[z];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}nh=!!ky,Py=ky=null}finally{mt=b,R.p=p,L.T=d}}i.current=o,cr=2}}function SN(){if(cr===2){cr=0;var i=rs,o=bl,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var p=R.p;R.p=2;var b=mt;mt|=4;try{QE(i,o.alternate,o)}finally{mt=b,R.p=p,L.T=d}}cr=3}}function EN(){if(cr===4||cr===3){cr=0,Ot();var i=rs,o=bl,d=li,p=dN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?cr=5:(cr=0,bl=rs=null,NN(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ts=null),$g(d),o=o.stateNode,Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(zi,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=L.T,b=R.p,R.p=2,L.T=null;try{for(var j=i.onRecoverableError,k=0;k<p.length;k++){var z=p[k];j(z.value,{componentStack:z.stack})}}finally{L.T=o,R.p=b}}(li&3)!==0&&Vf(),ka(i),b=i.pendingLanes,(d&261930)!==0&&(b&42)!==0?i===yy?yu++:(yu=0,yy=i):yu=0,xu(0)}}function NN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Jc(o)))}function Vf(){return _N(),SN(),EN(),CN()}function CN(){if(cr!==5)return!1;var i=rs,o=gy;gy=0;var d=$g(li),p=L.T,b=R.p;try{R.p=32>d?32:d,L.T=null,d=vy,vy=null;var j=rs,k=li;if(cr=0,bl=rs=null,li=0,(mt&6)!==0)throw Error(n(331));var z=mt;if(mt|=4,lN(j.current),iN(j,j.current,k,d),mt=z,xu(0,!1),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(zi,j)}catch{}return!0}finally{R.p=b,L.T=p,NN(i,o)}}function ON(i,o,d){o=qn(d,o),o=Xv(i.stateNode,o,2),i=Yi(i,o,2),i!==null&&(zc(i,2),ka(i))}function yt(i,o,d){if(i.tag===3)ON(i,i,d);else for(;o!==null;){if(o.tag===3){ON(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ts===null||!ts.has(p))){i=qn(d,i),d=AE(2),p=Yi(o,d,2),p!==null&&(TE(d,p,o,i),zc(p,2),ka(p));break}}o=o.return}}function wy(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new B5;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(d)||(hy=!0,b.add(d),i=K5.bind(null,i,o,d),o.then(i,i))}function K5(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,St===i&&(st&d)===d&&(Kt===4||Kt===3&&(st&62914560)===st&&300>gt()-zf?(mt&2)===0&&wl(i,0):my|=d,xl===st&&(xl=0)),ka(i)}function AN(i,o){o===0&&(o=_1()),i=Hs(i,o),i!==null&&(zc(i,o),ka(i))}function G5(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),AN(i,d)}function W5(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),AN(i,d)}function Y5(i,o){return ke(i,o)}var Kf=null,_l=null,jy=!1,Gf=!1,_y=!1,as=0;function ka(i){i!==_l&&i.next===null&&(_l===null?Kf=_l=i:_l=_l.next=i),Gf=!0,jy||(jy=!0,Z5())}function xu(i,o){if(!_y&&Gf){_y=!0;do for(var d=!1,p=Kf;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var j=0;else{var k=p.suspendedLanes,z=p.pingedLanes;j=(1<<31-yn(42|i)+1)-1,j&=b&~(k&~z),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(d=!0,RN(p,j))}else j=st,j=Xd(p,p===St?j:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(j&3)===0||$c(p,j)||(d=!0,RN(p,j));p=p.next}while(d);_y=!1}}function X5(){TN()}function TN(){Gf=jy=!1;var i=0;as!==0&&oU()&&(i=as);for(var o=gt(),d=null,p=Kf;p!==null;){var b=p.next,j=kN(p,o);j===0?(p.next=null,d===null?Kf=b:d.next=b,b===null&&(_l=d)):(d=p,(i!==0||(j&3)!==0)&&(Gf=!0)),p=b}cr!==0&&cr!==5||xu(i),as!==0&&(as=0)}function kN(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var k=31-yn(j),z=1<<k,Z=b[k];Z===-1?((z&d)===0||(z&p)!==0)&&(b[k]=_z(z,o)):Z<=o&&(i.expiredLanes|=z),j&=~z}if(o=St,d=st,d=Xd(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(vt===2||vt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&it(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||$c(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&it(p),$g(d)){case 2:case 8:d=Kr;break;case 32:d=lr;break;case 268435456:d=$n;break;default:d=lr}return p=PN.bind(null,i),d=ke(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&it(p),i.callbackPriority=2,i.callbackNode=null,2}function PN(i,o){if(cr!==0&&cr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Vf()&&i.callbackNode!==d)return null;var p=st;return p=Xd(i,i===St?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(hN(i,p,o),kN(i,gt()),i.callbackNode!=null&&i.callbackNode===d?PN.bind(null,i):null)}function RN(i,o){if(Vf())return null;hN(i,o,!0)}function Z5(){cU(function(){(mt&6)!==0?ke($i,X5):TN()})}function Sy(){if(as===0){var i=ll;i===0&&(i=Gd,Gd<<=1,(Gd&261888)===0&&(Gd=256)),as=i}return as}function DN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ef(""+i)}function MN(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function Q5(i,o,d,p,b){if(o==="submit"&&d&&d.stateNode===b){var j=DN((b[rn]||null).action),k=p.submitter;k&&(o=(o=k[rn]||null)?DN(o.formAction):k.getAttribute("formAction"),o!==null&&(j=o,k=null));var z=new af("action","action",null,p,b);i.push({event:z,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(as!==0){var Z=k?MN(b,k):new FormData(b);Hv(d,{pending:!0,data:Z,method:b.method,action:j},null,Z)}}else typeof j=="function"&&(z.preventDefault(),Z=k?MN(b,k):new FormData(b),Hv(d,{pending:!0,data:Z,method:b.method,action:j},j,Z))},currentTarget:b}]})}}for(var Ey=0;Ey<ov.length;Ey++){var Ny=ov[Ey],J5=Ny.toLowerCase(),eU=Ny[0].toUpperCase()+Ny.slice(1);ia(J5,"on"+eU)}ia(fS,"onAnimationEnd"),ia(hS,"onAnimationIteration"),ia(mS,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(g5,"onTransitionRun"),ia(v5,"onTransitionStart"),ia(y5,"onTransitionCancel"),ia(pS,"onTransitionEnd"),Wo("onMouseEnter",["mouseout","mouseover"]),Wo("onMouseLeave",["mouseout","mouseover"]),Wo("onPointerEnter",["pointerout","pointerover"]),Wo("onPointerLeave",["pointerout","pointerover"]),Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Us("onBeforeInput",["compositionend","keypress","textInput","paste"]),Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function IN(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],b=p.event;p=p.listeners;e:{var j=void 0;if(o)for(var k=p.length-1;0<=k;k--){var z=p[k],Z=z.instance,ue=z.currentTarget;if(z=z.listener,Z!==j&&b.isPropagationStopped())break e;j=z,b.currentTarget=ue;try{j(b)}catch(ve){lf(ve)}b.currentTarget=null,j=Z}else for(k=0;k<p.length;k++){if(z=p[k],Z=z.instance,ue=z.currentTarget,z=z.listener,Z!==j&&b.isPropagationStopped())break e;j=z,b.currentTarget=ue;try{j(b)}catch(ve){lf(ve)}b.currentTarget=null,j=Z}}}}function at(i,o){var d=o[zg];d===void 0&&(d=o[zg]=new Set);var p=i+"__bubble";d.has(p)||(LN(o,i,2,!1),d.add(p))}function Cy(i,o,d){var p=0;o&&(p|=4),LN(d,i,p,o)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function Oy(i){if(!i[Wf]){i[Wf]=!0,T1.forEach(function(d){d!=="selectionchange"&&(tU.has(d)||Cy(d,!1,i),Cy(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Wf]||(o[Wf]=!0,Cy("selectionchange",!1,o))}}function LN(i,o,d,p){switch(fC(o)){case 2:var b=AU;break;case 8:b=TU;break;default:b=Fy}d=b.bind(null,o,d,i),b=void 0,!Wg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(o,d,{capture:!0,passive:b}):i.addEventListener(o,d,!0):b!==void 0?i.addEventListener(o,d,{passive:b}):i.addEventListener(o,d,!1)}function Ay(i,o,d,p,b){var j=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var z=p.stateNode.containerInfo;if(z===b)break;if(k===4)for(k=p.return;k!==null;){var Z=k.tag;if((Z===3||Z===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;z!==null;){if(k=Vo(z),k===null)return;if(Z=k.tag,Z===5||Z===6||Z===26||Z===27){p=j=k;continue e}z=z.parentNode}}p=p.return}q1(function(){var ue=j,ve=Kg(d),xe=[];e:{var fe=gS.get(i);if(fe!==void 0){var me=af,Pe=i;switch(i){case"keypress":if(rf(d)===0)break e;case"keydown":case"keyup":me=Wz;break;case"focusin":Pe="focus",me=Qg;break;case"focusout":Pe="blur",me=Qg;break;case"beforeblur":case"afterblur":me=Qg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=V1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Iz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Zz;break;case fS:case hS:case mS:me=zz;break;case pS:me=Jz;break;case"scroll":case"scrollend":me=Dz;break;case"wheel":me=t5;break;case"copy":case"cut":case"paste":me=Bz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=G1;break;case"toggle":case"beforetoggle":me=n5}var Fe=(o&4)!==0,jt=!Fe&&(i==="scroll"||i==="scrollend"),ne=Fe?fe!==null?fe+"Capture":null:fe;Fe=[];for(var te=ue,le;te!==null;){var ye=te;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||ne===null||(ye=qc(te,ne),ye!=null&&Fe.push(wu(te,ye,le))),jt)break;te=te.return}0<Fe.length&&(fe=new me(fe,Pe,null,d,ve),xe.push({event:fe,listeners:Fe}))}}if((o&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",fe&&d!==Vg&&(Pe=d.relatedTarget||d.fromElement)&&(Vo(Pe)||Pe[Ho]))break e;if((me||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Pe=d.relatedTarget||d.toElement,me=ue,Pe=Pe?Vo(Pe):null,Pe!==null&&(jt=s(Pe),Fe=Pe.tag,Pe!==jt||Fe!==5&&Fe!==27&&Fe!==6)&&(Pe=null)):(me=null,Pe=ue),me!==Pe)){if(Fe=V1,ye="onMouseLeave",ne="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=G1,ye="onPointerLeave",ne="onPointerEnter",te="pointer"),jt=me==null?fe:Bc(me),le=Pe==null?fe:Bc(Pe),fe=new Fe(ye,te+"leave",me,d,ve),fe.target=jt,fe.relatedTarget=le,ye=null,Vo(ve)===ue&&(Fe=new Fe(ne,te+"enter",Pe,d,ve),Fe.target=le,Fe.relatedTarget=jt,ye=Fe),jt=ye,me&&Pe)t:{for(Fe=rU,ne=me,te=Pe,le=0,ye=ne;ye;ye=Fe(ye))le++;ye=0;for(var Be=te;Be;Be=Fe(Be))ye++;for(;0<le-ye;)ne=Fe(ne),le--;for(;0<ye-le;)te=Fe(te),ye--;for(;le--;){if(ne===te||te!==null&&ne===te.alternate){Fe=ne;break t}ne=Fe(ne),te=Fe(te)}Fe=null}else Fe=null;me!==null&&$N(xe,fe,me,Fe,!1),Pe!==null&&jt!==null&&$N(xe,jt,Pe,Fe,!0)}}e:{if(fe=ue?Bc(ue):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var ut=tS;else if(J1(fe))if(rS)ut=h5;else{ut=d5;var Le=u5}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&Hg(ue.elementType)&&(ut=tS):ut=f5;if(ut&&(ut=ut(i,ue))){eS(xe,ut,d,ve);break e}Le&&Le(i,fe,ue),i==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&Fg(fe,"number",fe.value)}switch(Le=ue?Bc(ue):window,i){case"focusin":(J1(Le)||Le.contentEditable==="true")&&(el=Le,av=ue,Xc=null);break;case"focusout":Xc=av=el=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,uS(xe,d,ve);break;case"selectionchange":if(p5)break;case"keydown":case"keyup":uS(xe,d,ve)}var Ze;if(ev)e:{switch(i){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Jo?Z1(i,d)&&(ot="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ot="onCompositionStart");ot&&(W1&&d.locale!=="ko"&&(Jo||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Jo&&(Ze=F1()):(qi=ve,Yg="value"in qi?qi.value:qi.textContent,Jo=!0)),Le=Yf(ue,ot),0<Le.length&&(ot=new K1(ot,i,null,d,ve),xe.push({event:ot,listeners:Le}),Ze?ot.data=Ze:(Ze=Q1(d),Ze!==null&&(ot.data=Ze)))),(Ze=i5?s5(i,d):o5(i,d))&&(ot=Yf(ue,"onBeforeInput"),0<ot.length&&(Le=new K1("onBeforeInput","beforeinput",null,d,ve),xe.push({event:Le,listeners:ot}),Le.data=Ze)),Q5(xe,i,ue,d,ve)}IN(xe,o)})}function wu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Yf(i,o){for(var d=o+"Capture",p=[];i!==null;){var b=i,j=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||j===null||(b=qc(i,d),b!=null&&p.unshift(wu(i,b,j)),b=qc(i,o),b!=null&&p.push(wu(i,b,j))),i.tag===3)return p;i=i.return}return[]}function rU(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $N(i,o,d,p,b){for(var j=o._reactName,k=[];d!==null&&d!==p;){var z=d,Z=z.alternate,ue=z.stateNode;if(z=z.tag,Z!==null&&Z===p)break;z!==5&&z!==26&&z!==27||ue===null||(Z=ue,b?(ue=qc(d,j),ue!=null&&k.unshift(wu(d,ue,Z))):b||(ue=qc(d,j),ue!=null&&k.push(wu(d,ue,Z)))),d=d.return}k.length!==0&&i.push({event:o,listeners:k})}var nU=/\r\n?/g,aU=/\u0000|\uFFFD/g;function zN(i){return(typeof i=="string"?i:""+i).replace(nU,`
`).replace(aU,"")}function UN(i,o){return o=zN(o),zN(i)===o}function wt(i,o,d,p,b,j){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Xo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Xo(i,""+p);break;case"className":Qd(i,"class",p);break;case"tabIndex":Qd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Qd(i,d,p);break;case"style":U1(i,p,j);break;case"data":if(o!=="object"){Qd(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=ef(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(d==="formAction"?(o!=="input"&&wt(i,o,"name",b.name,b,null),wt(i,o,"formEncType",b.formEncType,b,null),wt(i,o,"formMethod",b.formMethod,b,null),wt(i,o,"formTarget",b.formTarget,b,null)):(wt(i,o,"encType",b.encType,b,null),wt(i,o,"method",b.method,b,null),wt(i,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=ef(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Ga);break;case"onScroll":p!=null&&at("scroll",i);break;case"onScrollEnd":p!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=ef(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":at("beforetoggle",i),at("toggle",i),Zd(i,"popover",p);break;case"xlinkActuate":Ka(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ka(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ka(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ka(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ka(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ka(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ka(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ka(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ka(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Zd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Pz.get(d)||d,Zd(i,d,p))}}function Ty(i,o,d,p,b,j){switch(d){case"style":U1(i,p,j);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Xo(i,p):(typeof p=="number"||typeof p=="bigint")&&Xo(i,""+p);break;case"onScroll":p!=null&&at("scroll",i);break;case"onScrollEnd":p!=null&&at("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!k1.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),j=i[rn]||null,j=j!=null?j[d]:null,typeof j=="function"&&i.removeEventListener(o,j,b),typeof p=="function")){typeof j!="function"&&j!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,b);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Zd(i,d,p)}}}function kr(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var p=!1,b=!1,j;for(j in d)if(d.hasOwnProperty(j)){var k=d[j];if(k!=null)switch(j){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:wt(i,o,j,k,d,null)}}b&&wt(i,o,"srcSet",d.srcSet,d,null),p&&wt(i,o,"src",d.src,d,null);return;case"input":at("invalid",i);var z=j=k=b=null,Z=null,ue=null;for(p in d)if(d.hasOwnProperty(p)){var ve=d[p];if(ve!=null)switch(p){case"name":b=ve;break;case"type":k=ve;break;case"checked":Z=ve;break;case"defaultChecked":ue=ve;break;case"value":j=ve;break;case"defaultValue":z=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,o));break;default:wt(i,o,p,ve,d,null)}}I1(i,j,z,Z,ue,k,b,!1);return;case"select":at("invalid",i),p=k=j=null;for(b in d)if(d.hasOwnProperty(b)&&(z=d[b],z!=null))switch(b){case"value":j=z;break;case"defaultValue":k=z;break;case"multiple":p=z;default:wt(i,o,b,z,d,null)}o=j,d=k,i.multiple=!!p,o!=null?Yo(i,!!p,o,!1):d!=null&&Yo(i,!!p,d,!0);return;case"textarea":at("invalid",i),j=b=p=null;for(k in d)if(d.hasOwnProperty(k)&&(z=d[k],z!=null))switch(k){case"value":p=z;break;case"defaultValue":b=z;break;case"children":j=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:wt(i,o,k,z,d,null)}$1(i,p,b,j);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(p=d[Z],p!=null))switch(Z){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:wt(i,o,Z,p,d,null)}return;case"dialog":at("beforetoggle",i),at("toggle",i),at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(p=0;p<bu.length;p++)at(bu[p],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(p=d[ue],p!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:wt(i,o,ue,p,d,null)}return;default:if(Hg(o)){for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!==void 0&&Ty(i,o,ve,p,d,void 0));return}}for(z in d)d.hasOwnProperty(z)&&(p=d[z],p!=null&&wt(i,o,z,p,d,null))}function iU(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,j=null,k=null,z=null,Z=null,ue=null,ve=null;for(me in d){var xe=d[me];if(d.hasOwnProperty(me)&&xe!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Z=xe;default:p.hasOwnProperty(me)||wt(i,o,me,null,p,xe)}}for(var fe in p){var me=p[fe];if(xe=d[fe],p.hasOwnProperty(fe)&&(me!=null||xe!=null))switch(fe){case"type":j=me;break;case"name":b=me;break;case"checked":ue=me;break;case"defaultChecked":ve=me;break;case"value":k=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,o));break;default:me!==xe&&wt(i,o,fe,me,p,xe)}}qg(i,k,z,Z,ue,ve,j,b);return;case"select":me=k=z=fe=null;for(j in d)if(Z=d[j],d.hasOwnProperty(j)&&Z!=null)switch(j){case"value":break;case"multiple":me=Z;default:p.hasOwnProperty(j)||wt(i,o,j,null,p,Z)}for(b in p)if(j=p[b],Z=d[b],p.hasOwnProperty(b)&&(j!=null||Z!=null))switch(b){case"value":fe=j;break;case"defaultValue":z=j;break;case"multiple":k=j;default:j!==Z&&wt(i,o,b,j,p,Z)}o=z,d=k,p=me,fe!=null?Yo(i,!!d,fe,!1):!!p!=!!d&&(o!=null?Yo(i,!!d,o,!0):Yo(i,!!d,d?[]:"",!1));return;case"textarea":me=fe=null;for(z in d)if(b=d[z],d.hasOwnProperty(z)&&b!=null&&!p.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:wt(i,o,z,null,p,b)}for(k in p)if(b=p[k],j=d[k],p.hasOwnProperty(k)&&(b!=null||j!=null))switch(k){case"value":fe=b;break;case"defaultValue":me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==j&&wt(i,o,k,b,p,j)}L1(i,fe,me);return;case"option":for(var Pe in d)if(fe=d[Pe],d.hasOwnProperty(Pe)&&fe!=null&&!p.hasOwnProperty(Pe))switch(Pe){case"selected":i.selected=!1;break;default:wt(i,o,Pe,null,p,fe)}for(Z in p)if(fe=p[Z],me=d[Z],p.hasOwnProperty(Z)&&fe!==me&&(fe!=null||me!=null))switch(Z){case"selected":i.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:wt(i,o,Z,fe,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in d)fe=d[Fe],d.hasOwnProperty(Fe)&&fe!=null&&!p.hasOwnProperty(Fe)&&wt(i,o,Fe,null,p,fe);for(ue in p)if(fe=p[ue],me=d[ue],p.hasOwnProperty(ue)&&fe!==me&&(fe!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,o));break;default:wt(i,o,ue,fe,p,me)}return;default:if(Hg(o)){for(var jt in d)fe=d[jt],d.hasOwnProperty(jt)&&fe!==void 0&&!p.hasOwnProperty(jt)&&Ty(i,o,jt,void 0,p,fe);for(ve in p)fe=p[ve],me=d[ve],!p.hasOwnProperty(ve)||fe===me||fe===void 0&&me===void 0||Ty(i,o,ve,fe,p,me);return}}for(var ne in d)fe=d[ne],d.hasOwnProperty(ne)&&fe!=null&&!p.hasOwnProperty(ne)&&wt(i,o,ne,null,p,fe);for(xe in p)fe=p[xe],me=d[xe],!p.hasOwnProperty(xe)||fe===me||fe==null&&me==null||wt(i,o,xe,fe,p,me)}function BN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sU(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],j=b.transferSize,k=b.initiatorType,z=b.duration;if(j&&z&&BN(k)){for(k=0,z=b.responseEnd,p+=1;p<d.length;p++){var Z=d[p],ue=Z.startTime;if(ue>z)break;var ve=Z.transferSize,xe=Z.initiatorType;ve&&BN(xe)&&(Z=Z.responseEnd,k+=ve*(Z<z?1:(z-ue)/(Z-ue)))}if(--p,o+=8*(j+k)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ky=null,Py=null;function Xf(i){return i.nodeType===9?i:i.ownerDocument}function qN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FN(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Ry(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dy=null;function oU(){var i=window.event;return i&&i.type==="popstate"?i===Dy?!1:(Dy=i,!0):(Dy=null,!1)}var HN=typeof setTimeout=="function"?setTimeout:void 0,lU=typeof clearTimeout=="function"?clearTimeout:void 0,VN=typeof Promise=="function"?Promise:void 0,cU=typeof queueMicrotask=="function"?queueMicrotask:typeof VN<"u"?function(i){return VN.resolve(null).then(i).catch(uU)}:HN;function uU(i){setTimeout(function(){throw i})}function is(i){return i==="head"}function KN(i,o){var d=o,p=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(b),Cl(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")ju(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,ju(d);for(var j=d.firstChild;j;){var k=j.nextSibling,z=j.nodeName;j[Uc]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=k}}else d==="body"&&ju(i.ownerDocument.body);d=b}while(d);Cl(o)}function GN(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function My(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":My(d),Ug(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function dU(i,o,d,p){for(;i.nodeType===1;){var b=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Uc])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var j=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=Gn(i.nextSibling),i===null)break}return null}function fU(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Gn(i.nextSibling),i===null))return null;return i}function WN(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Gn(i.nextSibling),i===null))return null;return i}function Iy(i){return i.data==="$?"||i.data==="$~"}function Ly(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function hU(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Gn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var $y=null;function YN(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Gn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function XN(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function ZN(i,o,d){switch(o=Xf(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function ju(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ug(i)}var Wn=new Map,QN=new Set;function Zf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ci=R.d;R.d={f:mU,r:pU,D:gU,C:vU,L:yU,m:xU,X:wU,S:bU,M:jU};function mU(){var i=ci.f(),o=qf();return i||o}function pU(i){var o=Ko(i);o!==null&&o.tag===5&&o.type==="form"?pE(o):ci.r(i)}var Sl=typeof document>"u"?null:document;function JN(i,o,d){var p=Sl;if(p&&typeof o=="string"&&o){var b=Un(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),QN.has(b)||(QN.add(b),i={rel:i,crossOrigin:d,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),kr(o,"link",i),xr(o),p.head.appendChild(o)))}}function gU(i){ci.D(i),JN("dns-prefetch",i,null)}function vU(i,o){ci.C(i,o),JN("preconnect",i,o)}function yU(i,o,d){ci.L(i,o,d);var p=Sl;if(p&&i&&o){var b='link[rel="preload"][as="'+Un(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Un(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Un(d.imageSizes)+'"]')):b+='[href="'+Un(i)+'"]';var j=b;switch(o){case"style":j=El(i);break;case"script":j=Nl(i)}Wn.has(j)||(i=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Wn.set(j,i),p.querySelector(b)!==null||o==="style"&&p.querySelector(_u(j))||o==="script"&&p.querySelector(Su(j))||(o=p.createElement("link"),kr(o,"link",i),xr(o),p.head.appendChild(o)))}}function xU(i,o){ci.m(i,o);var d=Sl;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Un(p)+'"][href="'+Un(i)+'"]',j=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Nl(i)}if(!Wn.has(j)&&(i=g({rel:"modulepreload",href:i},o),Wn.set(j,i),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Su(j)))return}p=d.createElement("link"),kr(p,"link",i),xr(p),d.head.appendChild(p)}}}function bU(i,o,d){ci.S(i,o,d);var p=Sl;if(p&&i){var b=Go(p).hoistableStyles,j=El(i);o=o||"default";var k=b.get(j);if(!k){var z={loading:0,preload:null};if(k=p.querySelector(_u(j)))z.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Wn.get(j))&&zy(i,d);var Z=k=p.createElement("link");xr(Z),kr(Z,"link",i),Z._p=new Promise(function(ue,ve){Z.onload=ue,Z.onerror=ve}),Z.addEventListener("load",function(){z.loading|=1}),Z.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Qf(k,o,p)}k={type:"stylesheet",instance:k,count:1,state:z},b.set(j,k)}}}function wU(i,o){ci.X(i,o);var d=Sl;if(d&&i){var p=Go(d).hoistableScripts,b=Nl(i),j=p.get(b);j||(j=d.querySelector(Su(b)),j||(i=g({src:i,async:!0},o),(o=Wn.get(b))&&Uy(i,o),j=d.createElement("script"),xr(j),kr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function jU(i,o){ci.M(i,o);var d=Sl;if(d&&i){var p=Go(d).hoistableScripts,b=Nl(i),j=p.get(b);j||(j=d.querySelector(Su(b)),j||(i=g({src:i,async:!0,type:"module"},o),(o=Wn.get(b))&&Uy(i,o),j=d.createElement("script"),xr(j),kr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function eC(i,o,d,p){var b=(b=ie.current)?Zf(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=El(d.href),d=Go(b).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=El(d.href);var j=Go(b).hoistableStyles,k=j.get(i);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,k),(j=b.querySelector(_u(i)))&&!j._p&&(k.instance=j,k.state.loading=5),Wn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Wn.set(i,d),j||_U(b,i,d,k.state))),o&&p===null)throw Error(n(528,""));return k}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Nl(d),d=Go(b).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function El(i){return'href="'+Un(i)+'"'}function _u(i){return'link[rel="stylesheet"]['+i+"]"}function tC(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function _U(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),kr(o,"link",d),xr(o),i.head.appendChild(o))}function Nl(i){return'[src="'+Un(i)+'"]'}function Su(i){return"script[async]"+i}function rC(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Un(d.href)+'"]');if(p)return o.instance=p,xr(p),p;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),xr(p),kr(p,"style",b),Qf(p,d.precedence,i),o.instance=p;case"stylesheet":b=El(d.href);var j=i.querySelector(_u(b));if(j)return o.state.loading|=4,o.instance=j,xr(j),j;p=tC(d),(b=Wn.get(b))&&zy(p,b),j=(i.ownerDocument||i).createElement("link"),xr(j);var k=j;return k._p=new Promise(function(z,Z){k.onload=z,k.onerror=Z}),kr(j,"link",p),o.state.loading|=4,Qf(j,d.precedence,i),o.instance=j;case"script":return j=Nl(d.src),(b=i.querySelector(Su(j)))?(o.instance=b,xr(b),b):(p=d,(b=Wn.get(j))&&(p=g({},d),Uy(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),xr(b),kr(b,"link",p),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Qf(p,d.precedence,i));return o.instance}function Qf(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,j=b,k=0;k<p.length;k++){var z=p[k];if(z.dataset.precedence===o)j=z;else if(j!==b)break}j?j.parentNode.insertBefore(i,j.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function zy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Uy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Jf=null;function nC(i,o,d){if(Jf===null){var p=new Map,b=Jf=new Map;b.set(d,p)}else b=Jf,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),b=0;b<d.length;b++){var j=d[b];if(!(j[Uc]||j[Cr]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var k=j.getAttribute(o)||"";k=i+k;var z=p.get(k);z?z.push(j):p.set(k,[j])}}return p}function aC(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function SU(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function iC(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function EU(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=El(p.href),j=o.querySelector(_u(b));if(j){o=j._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=eh.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=j,xr(j);return}j=o.ownerDocument||o,p=tC(p),(b=Wn.get(b))&&zy(p,b),j=j.createElement("link"),xr(j);var k=j;k._p=new Promise(function(z,Z){k.onload=z,k.onerror=Z}),kr(j,"link",p),d.instance=j}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=eh.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var By=0;function NU(i,o){return i.stylesheets&&i.count===0&&rh(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&rh(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4+o);0<i.imgBytes&&By===0&&(By=62500*sU());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rh(i,i.stylesheets),i.unsuspend)){var j=i.unsuspend;i.unsuspend=null,j()}},(i.imgBytes>By?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var th=null;function rh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,th=new Map,o.forEach(CU,i),th=null,eh.call(i))}function CU(i,o){if(!(o.state.loading&4)){var d=th.get(i);if(d)var p=d.get(null);else{d=new Map,th.set(i,d);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<b.length;j++){var k=b[j];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}b=o.instance,k=b.getAttribute("data-precedence"),j=d.get(k)||p,j===p&&d.set(null,b),d.set(k,b),this.count++,p=eh.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),j?j.parentNode.insertBefore(b,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var Eu={$$typeof:C,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function OU(i,o,d,p,b,j,k,z,Z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ig(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.hiddenUpdates=Ig(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=j,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function sC(i,o,d,p,b,j,k,z,Z,ue,ve,xe){return i=new OU(i,o,d,k,Z,ue,ve,xe,z),o=1,j===!0&&(o|=24),j=bn(3,null,null,o),i.current=j,j.stateNode=i,o=bv(),o.refCount++,i.pooledCache=o,o.refCount++,j.memoizedState={element:p,isDehydrated:d,cache:o},Sv(j),i}function oC(i){return i?(i=nl,i):nl}function lC(i,o,d,p,b,j){b=oC(b),p.context===null?p.context=b:p.pendingContext=b,p=Wi(o),p.payload={element:d},j=j===void 0?null:j,j!==null&&(p.callback=j),d=Yi(i,p,o),d!==null&&(cn(d,i,o),nu(d,i,o))}function cC(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function qy(i,o){cC(i,o),(i=i.alternate)&&cC(i,o)}function uC(i){if(i.tag===13||i.tag===31){var o=Hs(i,67108864);o!==null&&cn(o,i,67108864),qy(i,67108864)}}function dC(i){if(i.tag===13||i.tag===31){var o=En();o=Lg(o);var d=Hs(i,o);d!==null&&cn(d,i,o),qy(i,o)}}var nh=!0;function AU(i,o,d,p){var b=L.T;L.T=null;var j=R.p;try{R.p=2,Fy(i,o,d,p)}finally{R.p=j,L.T=b}}function TU(i,o,d,p){var b=L.T;L.T=null;var j=R.p;try{R.p=8,Fy(i,o,d,p)}finally{R.p=j,L.T=b}}function Fy(i,o,d,p){if(nh){var b=Hy(p);if(b===null)Ay(i,o,p,ah,d),hC(i,p);else if(PU(b,i,o,d,p))p.stopPropagation();else if(hC(i,p),o&4&&-1<kU.indexOf(i)){for(;b!==null;){var j=Ko(b);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var k=zs(j.pendingLanes);if(k!==0){var z=j;for(z.pendingLanes|=2,z.entangledLanes|=2;k;){var Z=1<<31-yn(k);z.entanglements[1]|=Z,k&=~Z}ka(j),(mt&6)===0&&(Uf=gt()+500,xu(0))}}break;case 31:case 13:z=Hs(j,2),z!==null&&cn(z,j,2),qf(),qy(j,2)}if(j=Hy(p),j===null&&Ay(i,o,p,ah,d),j===b)break;b=j}b!==null&&p.stopPropagation()}else Ay(i,o,p,null,d)}}function Hy(i){return i=Kg(i),Vy(i)}var ah=null;function Vy(i){if(ah=null,i=Vo(i),i!==null){var o=s(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ah=i,null}function fC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case $i:return 2;case Kr:return 8;case lr:case Va:return 32;case $n:return 268435456;default:return 32}default:return 32}}var Ky=!1,ss=null,os=null,ls=null,Nu=new Map,Cu=new Map,cs=[],kU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hC(i,o){switch(i){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Nu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(o.pointerId)}}function Ou(i,o,d,p,b,j){return i===null||i.nativeEvent!==j?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:j,targetContainers:[b]},o!==null&&(o=Ko(o),o!==null&&uC(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function PU(i,o,d,p,b){switch(o){case"focusin":return ss=Ou(ss,i,o,d,p,b),!0;case"dragenter":return os=Ou(os,i,o,d,p,b),!0;case"mouseover":return ls=Ou(ls,i,o,d,p,b),!0;case"pointerover":var j=b.pointerId;return Nu.set(j,Ou(Nu.get(j)||null,i,o,d,p,b)),!0;case"gotpointercapture":return j=b.pointerId,Cu.set(j,Ou(Cu.get(j)||null,i,o,d,p,b)),!0}return!1}function mC(i){var o=Vo(i.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,O1(i.priority,function(){dC(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,O1(i.priority,function(){dC(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ih(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=Hy(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Vg=p,d.target.dispatchEvent(p),Vg=null}else return o=Ko(d),o!==null&&uC(o),i.blockedOn=d,!1;o.shift()}return!0}function pC(i,o,d){ih(i)&&d.delete(o)}function RU(){Ky=!1,ss!==null&&ih(ss)&&(ss=null),os!==null&&ih(os)&&(os=null),ls!==null&&ih(ls)&&(ls=null),Nu.forEach(pC),Cu.forEach(pC)}function sh(i,o){i.blockedOn===o&&(i.blockedOn=null,Ky||(Ky=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RU)))}var oh=null;function gC(i){oh!==i&&(oh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){oh===i&&(oh=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],b=i[o+2];if(typeof p!="function"){if(Vy(p||d)===null)continue;break}var j=Ko(d);j!==null&&(i.splice(o,3),o-=3,Hv(j,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function Cl(i){function o(Z){return sh(Z,i)}ss!==null&&sh(ss,i),os!==null&&sh(os,i),ls!==null&&sh(ls,i),Nu.forEach(o),Cu.forEach(o);for(var d=0;d<cs.length;d++){var p=cs[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<cs.length&&(d=cs[0],d.blockedOn===null);)mC(d),d.blockedOn===null&&cs.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],j=d[p+1],k=b[rn]||null;if(typeof j=="function")k||gC(d);else if(k){var z=null;if(j&&j.hasAttribute("formAction")){if(b=j,k=j[rn]||null)z=k.formAction;else if(Vy(b)!==null)continue}else z=k.action;typeof z=="function"?d[p+1]=z:(d.splice(p,3),p-=3),gC(d)}}}function vC(){function i(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Gy(i){this._internalRoot=i}lh.prototype.render=Gy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=En();lC(d,p,i,o,null,null)},lh.prototype.unmount=Gy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;lC(i.current,2,null,i,null,null),qf(),o[Ho]=null}};function lh(i){this._internalRoot=i}lh.prototype.unstable_scheduleHydration=function(i){if(i){var o=C1();i={blockedOn:null,target:i,priority:o};for(var d=0;d<cs.length&&o!==0&&o<cs[d].priority;d++);cs.splice(d,0,i),d===0&&mC(i)}};var yC=t.version;if(yC!=="19.2.0")throw Error(n(527,yC,"19.2.0"));R.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var DU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{zi=ch.inject(DU),Gr=ch}catch{}}return Tu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var d=!1,p="",b=EE,j=NE,k=CE;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=sC(i,1,!1,null,null,d,p,null,b,j,k,vC),i[Ho]=o.current,Oy(i),new Gy(o)},Tu.hydrateRoot=function(i,o,d){if(!a(i))throw Error(n(299));var p=!1,b="",j=EE,k=NE,z=CE,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(j=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(z=d.onRecoverableError),d.formState!==void 0&&(Z=d.formState)),o=sC(i,1,!0,o,d??null,p,b,Z,j,k,z,vC),o.context=oC(null),d=o.current,p=En(),p=Lg(p),b=Wi(p),b.callback=null,Yi(d,b,p),d=p,o.current.lanes=d,zc(o,d),ka(o),i[Ho]=o.current,Oy(i),new lh(o)},Tu.version="19.2.0",Tu}var OC;function HU(){if(OC)return Xy.exports;OC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xy.exports=FU(),Xy.exports}var VU=HU();var AC="popstate";function KU(e={}){function t(a,s){let{pathname:c="/",search:u="",hash:f=""}=zo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ab("",{pathname:c,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let c=a.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof s=="string"?s:Yu(s))}function n(a,s){In(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return WU(t,r,n,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function In(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GU(){return Math.random().toString(36).substring(2,10)}function TC(e,t){return{usr:e.state,key:e.key,idx:t}}function ab(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?zo(t):t,state:r,key:t&&t.key||n||GU()}}function Yu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function WU(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,c=a.history,u="POP",f=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function g(){u="POP";let _=m(),E=_==null?null:_-h;h=_,f&&f({action:u,location:w.location,delta:E})}function y(_,E){u="PUSH";let O=ab(w.location,_,E);r&&r(O,_),h=m()+1;let C=TC(O,h),I=w.createHref(O);try{c.pushState(C,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(I)}s&&f&&f({action:u,location:w.location,delta:1})}function x(_,E){u="REPLACE";let O=ab(w.location,_,E);r&&r(O,_),h=m();let C=TC(O,h),I=w.createHref(O);c.replaceState(C,"",I),s&&f&&f({action:u,location:w.location,delta:0})}function S(_){return YU(_)}let w={get action(){return u},get location(){return e(a,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(AC,g),f=_,()=>{a.removeEventListener(AC,g),f=null}},createHref(_){return t(a,_)},createURL:S,encodeLocation(_){let E=S(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:x,go(_){return c.go(_)}};return w}function YU(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$t(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Yu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function cP(e,t,r="/"){return XU(e,t,r,!1)}function XU(e,t,r,n){let a=typeof t=="string"?zo(t):t,s=wi(a.pathname||"/",r);if(s==null)return null;let c=uP(e);ZU(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=l6(s);u=s6(c[f],h,n)}return u}function uP(e,t=[],r=[],n="",a=!1){let s=(c,u,f=a,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&f)return;$t(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let g=yi([n,m.relativePath]),y=r.concat(m);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),uP(c.children,t,y,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:a6(g,c.index),routesMeta:y})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))s(c,u);else for(let f of dP(c.path))s(c,u,!0,f)}),t}function dP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let c=dP(n.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function ZU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:i6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var QU=/^:[\w-]+$/,JU=3,e6=2,t6=1,r6=10,n6=-2,kC=e=>e==="*";function a6(e,t){let r=e.split("/"),n=r.length;return r.some(kC)&&(n+=n6),t&&(n+=e6),r.filter(a=>!kC(a)).reduce((a,s)=>a+(QU.test(s)?JU:s===""?t6:r6),n)}function i6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function s6(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",g=lm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=lm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:yi([s,g.pathname]),pathnameBase:h6(yi([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=yi([s,g.pathnameBase]))}return c}function lm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=o6(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:g},y)=>{if(m==="*"){let S=u[y]||"";c=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[y];return g&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:e}}function o6(e,t=!1,r=!0){In(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function l6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return In(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var c6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u6=e=>c6.test(e);function d6(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zo(e):e,s;if(r)if(u6(r))s=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),In(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?s=PC(r.substring(1),"/"):s=PC(r,t)}else s=t;return{pathname:s,search:m6(n),hash:p6(a)}}function PC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ex(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Iw(e){let t=f6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Lw(e,t,r,n=!1){let a;typeof e=="string"?a=zo(e):(a={...e},$t(!a.pathname||!a.pathname.includes("?"),ex("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),ex("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),ex("#","search","hash",a)));let s=e===""||a.pathname==="",c=s?"/":a.pathname,u;if(c==null)u=r;else{let g=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?t[g]:"/"}let f=d6(a,u),h=c&&c!=="/"&&c.endsWith("/"),m=(s||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var yi=e=>e.join("/").replace(/\/\/+/g,"/"),h6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function v6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fP=["POST","PUT","PATCH","DELETE"];new Set(fP);var y6=["GET",...fP];new Set(y6);var xc=v.createContext(null);xc.displayName="DataRouter";var bp=v.createContext(null);bp.displayName="DataRouterState";v.createContext(!1);var hP=v.createContext({isTransitioning:!1});hP.displayName="ViewTransition";var x6=v.createContext(new Map);x6.displayName="Fetchers";var b6=v.createContext(null);b6.displayName="Await";var na=v.createContext(null);na.displayName="Navigation";var yd=v.createContext(null);yd.displayName="Location";var _a=v.createContext({outlet:null,matches:[],isDataRoute:!1});_a.displayName="Route";var $w=v.createContext(null);$w.displayName="RouteError";function w6(e,{relative:t}={}){$t(bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(na),{hash:a,pathname:s,search:c}=xd(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:yi([r,s])),n.createHref({pathname:u,search:c,hash:a})}function bc(){return v.useContext(yd)!=null}function qa(){return $t(bc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(yd).location}var mP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pP(e){v.useContext(na).static||v.useLayoutEffect(e)}function mr(){let{isDataRoute:e}=v.useContext(_a);return e?D6():j6()}function j6(){$t(bc(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(xc),{basename:t,navigator:r}=v.useContext(na),{matches:n}=v.useContext(_a),{pathname:a}=qa(),s=JSON.stringify(Iw(n)),c=v.useRef(!1);return pP(()=>{c.current=!0}),v.useCallback((f,h={})=>{if(In(c.current,mP),!c.current)return;if(typeof f=="number"){r.go(f);return}let m=Lw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:yi([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,s,a,e])}v.createContext(null);function wp(){let{matches:e}=v.useContext(_a),t=e[e.length-1];return t?t.params:{}}function xd(e,{relative:t}={}){let{matches:r}=v.useContext(_a),{pathname:n}=qa(),a=JSON.stringify(Iw(r));return v.useMemo(()=>Lw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function _6(e,t){return gP(e,t)}function gP(e,t,r,n,a){$t(bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(na),{matches:c}=v.useContext(_a),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let O=g&&g.path||"";vP(h,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=qa(),x;if(t){let O=typeof t=="string"?zo(t):t;$t(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),x=O}else x=y;let S=x.pathname||"/",w=S;if(m!=="/"){let O=m.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let _=cP(e,{pathname:w});In(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),In(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=O6(_&&_.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:yi([m,s.encodeLocation?s.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:yi([m,s.encodeLocation?s.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,r,n,a);return t&&E?v.createElement(yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function S6(){let e=R6(),t=g6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:s},"ErrorBoundary")," or"," ",v.createElement("code",{style:s},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,c)}var E6=v.createElement(S6,null),N6=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(_a.Provider,{value:this.props.routeContext},v.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C6({routeContext:e,match:t,children:r}){let n=v.useContext(xc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(_a.Provider,{value:e},r)}function O6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r?.errors;if(c!=null){let m=s.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);$t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:y,errors:x}=r,S=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||S){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(m,g)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:v6(r.matches),errorInfo:g})}:void 0;return s.reduceRight((m,g,y)=>{let x,S=!1,w=null,_=null;r&&(x=c&&g.route.id?c[g.route.id]:void 0,w=g.route.errorElement||E6,u&&(f<0&&y===0?(vP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,_=null):f===y&&(S=!0,_=g.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,y+1)),O=()=>{let C;return x?C=w:S?C=_:g.route.Component?C=v.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,v.createElement(C6,{match:g,routeContext:{outlet:m,matches:E,isDataRoute:r!=null},children:C})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?v.createElement(N6,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:O(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:h}):O()},null)}function zw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A6(e){let t=v.useContext(xc);return $t(t,zw(e)),t}function T6(e){let t=v.useContext(bp);return $t(t,zw(e)),t}function k6(e){let t=v.useContext(_a);return $t(t,zw(e)),t}function Uw(e){let t=k6(e),r=t.matches[t.matches.length-1];return $t(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function P6(){return Uw("useRouteId")}function R6(){let e=v.useContext($w),t=T6("useRouteError"),r=Uw("useRouteError");return e!==void 0?e:t.errors?.[r]}function D6(){let{router:e}=A6("useNavigate"),t=Uw("useNavigate"),r=v.useRef(!1);return pP(()=>{r.current=!0}),v.useCallback(async(a,s={})=>{In(r.current,mP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var RC={};function vP(e,t,r){!t&&!RC[e]&&(RC[e]=!0,In(!1,r))}v.memo(M6);function M6({routes:e,future:t,state:r,unstable_onError:n}){return gP(e,void 0,r,n,t)}function yP({to:e,replace:t,state:r,relative:n}){$t(bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(na);In(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=v.useContext(_a),{pathname:c}=qa(),u=mr(),f=Lw(e,Iw(s),c,n==="path"),h=JSON.stringify(f);return v.useEffect(()=>{u(JSON.parse(h),{replace:t,state:r,relative:n})},[u,h,n,t,r]),null}function Zt(e){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:c}){$t(!bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:c,future:{}}),[u,a,s,c]);typeof r=="string"&&(r=zo(r));let{pathname:h="/",search:m="",hash:g="",state:y=null,key:x="default"}=r,S=v.useMemo(()=>{let w=wi(h,u);return w==null?null:{location:{pathname:w,search:m,hash:g,state:y,key:x},navigationType:n}},[u,h,m,g,y,x,n]);return In(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:v.createElement(na.Provider,{value:f},v.createElement(yd.Provider,{children:t,value:S}))}function xP({children:e,location:t}){return _6(ib(e),t)}function ib(e,t=[]){let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let s=[...t,a];if(n.type===v.Fragment){r.push.apply(r,ib(n.props.children,s));return}$t(n.type===Zt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ib(n.props.children,s)),r.push(c)}),r}var Gh="get",Wh="application/x-www-form-urlencoded";function jp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function L6(e){return jp(e)&&e.tagName.toLowerCase()==="button"}function $6(e){return jp(e)&&e.tagName.toLowerCase()==="form"}function z6(e){return jp(e)&&e.tagName.toLowerCase()==="input"}function U6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B6(e,t){return e.button===0&&(!t||t==="_self")&&!U6(e)}var uh=null;function q6(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var F6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tx(e){return e!=null&&!F6.has(e)?(In(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):e}function H6(e,t){let r,n,a,s,c;if($6(e)){let u=e.getAttribute("action");n=u?wi(u,t):null,r=e.getAttribute("method")||Gh,a=tx(e.getAttribute("enctype"))||Wh,s=new FormData(e)}else if(L6(e)||z6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?wi(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Gh,a=tx(e.getAttribute("formenctype"))||tx(u.getAttribute("enctype"))||Wh,s=new FormData(u,e),!q6()){let{name:h,type:m,value:g}=e;if(m==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(jp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Gh,n=null,a=Wh,c=e}return s&&a==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function V6(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function K6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function W6(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let c=await K6(s,r);return c.links?c.links():[]}return[]}));return Q6(n.flat(1).filter(G6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DC(e,t,r,n,a,s){let c=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,u=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,h)=>c(f,h)||u(f,h)):s==="data"?t.filter((f,h)=>{let m=n.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Y6(e,t,{includeHydrateFallback:r}={}){return X6(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function X6(e){return[...new Set(e)]}function Z6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Q6(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(Z6(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function bP(){let e=v.useContext(xc);return Bw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function J6(){let e=v.useContext(bp);return Bw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qw=v.createContext(void 0);qw.displayName="FrameworkContext";function wP(){let e=v.useContext(qw);return Bw(e,"You must render this element inside a <HydratedRouter> element"),e}function eB(e,t){let r=v.useContext(qw),[n,a]=v.useState(!1),[s,c]=v.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=t,y=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=E=>{E.forEach(O=>{c(O.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{a(!0)},S=()=>{a(!1),c(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:ku(u,x),onBlur:ku(f,S),onMouseEnter:ku(h,x),onMouseLeave:ku(m,S),onTouchStart:ku(g,x)}]:[!1,y,{}]}function ku(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tB({page:e,...t}){let{router:r}=bP(),n=v.useMemo(()=>cP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(nB,{page:e,matches:n,...t}):null}function rB(e){let{manifest:t,routeModules:r}=wP(),[n,a]=v.useState([]);return v.useEffect(()=>{let s=!1;return W6(e,t,r).then(c=>{s||a(c)}),()=>{s=!0}},[e,t,r]),n}function nB({page:e,matches:t,...r}){let n=qa(),{manifest:a,routeModules:s}=wP(),{basename:c}=bP(),{loaderData:u,matches:f}=J6(),h=v.useMemo(()=>DC(e,t,f,a,n,"data"),[e,t,f,a,n]),m=v.useMemo(()=>DC(e,t,f,a,n,"assets"),[e,t,f,a,n]),g=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,w=!1;if(t.forEach(E=>{let O=a.routes[E.route.id];!O||!O.hasLoader||(!h.some(C=>C.route.id===E.route.id)&&E.route.id in u&&s[E.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:S.add(E.route.id))}),S.size===0)return[];let _=V6(e,c,"data");return w&&S.size>0&&_.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[c,u,n,a,h,t,e,s]),y=v.useMemo(()=>Y6(m,a),[m,a]),x=rB(m);return v.createElement(v.Fragment,null,g.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),y.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),x.map(({key:S,link:w})=>v.createElement("link",{key:S,nonce:r.nonce,...w})))}function aB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var jP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jP&&(window.__reactRouterVersion="7.10.0")}catch{}function iB({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=v.useRef();a.current==null&&(a.current=KU({window:n,v5Compat:!0}));let s=a.current,[c,u]=v.useState({action:s.action,location:s.location}),f=v.useCallback(h=>{r===!1?u(h):v.startTransition(()=>u(h))},[r]);return v.useLayoutEffect(()=>s.listen(f),[s,f]),v.createElement(I6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r===!0})}var _P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SP=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:g,...y},x){let{basename:S,unstable_useTransitions:w}=v.useContext(na),_=typeof h=="string"&&_P.test(h),E,O=!1;if(typeof h=="string"&&_&&(E=h,jP))try{let G=new URL(window.location.href),B=h.startsWith("//")?new URL(G.protocol+h):new URL(h),K=wi(B.pathname,S);B.origin===G.origin&&K!=null?h=K+B.search+B.hash:O=!0}catch{In(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=w6(h,{relative:a}),[I,A,M]=eB(n,y),N=lB(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:a,viewTransition:g,unstable_useTransitions:w});function T(G){t&&t(G),G.defaultPrevented||N(G)}let U=v.createElement("a",{...y,...M,href:E||C,onClick:O||s?t:T,ref:aB(x,A),target:f,"data-discover":!_&&r==="render"?"true":void 0});return I&&!_?v.createElement(v.Fragment,null,U,v.createElement(tB,{page:C})):U});SP.displayName="Link";var Fw=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:c,viewTransition:u,children:f,...h},m){let g=xd(c,{relative:h.relative}),y=qa(),x=v.useContext(bp),{navigator:S,basename:w}=v.useContext(na),_=x!=null&&hB(g)&&u===!0,E=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,O=y.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(O=O.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&w&&(C=wi(C,w)||C);const I=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=O===E||!a&&O.startsWith(E)&&O.charAt(I)==="/",M=C!=null&&(C===E||!a&&C.startsWith(E)&&C.charAt(E.length)==="/"),N={isActive:A,isPending:M,isTransitioning:_},T=A?t:void 0,U;typeof n=="function"?U=n(N):U=[n,A?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(N):s;return v.createElement(SP,{...h,"aria-current":T,className:U,ref:m,style:G,to:c,viewTransition:u},typeof f=="function"?f(N):f)});Fw.displayName="NavLink";var sB=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:c=Gh,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,...y},x)=>{let{unstable_useTransitions:S}=v.useContext(na),w=dB(),_=fB(u,{relative:h}),E=c.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&_P.test(u),C=I=>{if(f&&f(I),I.defaultPrevented)return;I.preventDefault();let A=I.nativeEvent.submitter,M=A?.getAttribute("formmethod")||c,N=()=>w(A||I.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:a,state:s,relative:h,preventScrollReset:m,viewTransition:g});S&&r!==!1?v.startTransition(()=>N()):N()};return v.createElement("form",{ref:x,method:E,action:_,onSubmit:n?f:C,...y,"data-discover":!O&&e==="render"?"true":void 0})});sB.displayName="Form";function oB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EP(e){let t=v.useContext(xc);return $t(t,oB(e)),t}function lB(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:c,unstable_useTransitions:u}={}){let f=mr(),h=qa(),m=xd(e,{relative:s});return v.useCallback(g=>{if(B6(g,t)){g.preventDefault();let y=r!==void 0?r:Yu(h)===Yu(m),x=()=>f(e,{replace:y,state:n,preventScrollReset:a,relative:s,viewTransition:c});u?v.startTransition(()=>x()):x()}},[h,f,m,r,n,t,e,a,s,c,u])}var cB=0,uB=()=>`__${String(++cB)}__`;function dB(){let{router:e}=EP("useSubmit"),{basename:t}=v.useContext(na),r=P6(),n=e.fetch,a=e.navigate;return v.useCallback(async(s,c={})=>{let{action:u,method:f,encType:h,formData:m,body:g}=H6(s,t);if(c.navigate===!1){let y=c.fetcherKey||uB();await n(y,r,c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await a(c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,a,t,r])}function fB(e,{relative:t}={}){let{basename:r}=v.useContext(na),n=v.useContext(_a);$t(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...xd(e||".",{relative:t})},c=qa();if(e==null){s.search=c.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:yi([r,s.pathname])),Yu(s)}function hB(e,{relative:t}={}){let r=v.useContext(hP);$t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=EP("useViewTransitionState"),a=xd(e,{relative:t});if(!r.isTransitioning)return!1;let s=wi(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=wi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return lm(a.pathname,c)!=null||lm(a.pathname,s)!=null}var Uo=lP();const mB=ja(Uo);const pB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),MC=e=>{const t=gB(e);return t.charAt(0).toUpperCase()+t.slice(1)},NP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),vB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var yB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xB=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...u},f)=>v.createElement("svg",{ref:f,...yB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:NP("lucide",a),...!s&&!vB(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>v.createElement(h,m)),...Array.isArray(s)?s:[s]]));const qe=(e,t)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(xB,{ref:s,iconNode:t,className:NP(`lucide-${pB(MC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=MC(e),r};const bB=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],ic=qe("armchair",bB);const wB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],La=qe("arrow-left",wB);const jB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_B=qe("arrow-right",jB);const SB=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],rx=qe("arrow-up-down",SB);const EB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NB=qe("check",EB);const CB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],CP=qe("chevron-down",CB);const OB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hw=qe("chevron-right",OB);const AB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vw=qe("chevron-left",AB);const TB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kB=qe("chevron-up",TB);const PB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sb=qe("circle-alert",PB);const RB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Es=qe("circle-check-big",RB);const DB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MB=qe("circle",DB);const IB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],OP=qe("clipboard-list",IB);const LB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dn=qe("clock",LB);const $B=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],po=qe("credit-card",$B);const zB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_p=qe("dollar-sign",zB);const UB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],IC=qe("ellipsis-vertical",UB);const BB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qB=qe("external-link",BB);const FB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cm=qe("funnel",FB);const HB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AP=qe("layout-dashboard",HB);const VB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gl=qe("loader-circle",VB);const KB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GB=qe("log-out",KB);const WB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YB=qe("menu",WB);const XB=[["path",{d:"M5 12h14",key:"1ays0h"}]],Kw=qe("minus",XB);const ZB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Gw=qe("package",ZB);const QB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ob=qe("pencil",QB);const JB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pn=qe("plus",JB);const eq=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],TP=qe("printer",eq);const tq=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Wl=qe("qr-code",tq);const rq=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nq=qe("receipt",rq);const aq=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yl=qe("refresh-cw",aq);const iq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sq=qe("rotate-ccw",iq);const oq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sp=qe("save",oq);const lq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ww=qe("search",lq);const cq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kP=qe("settings",cq);const uq=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],pa=qe("shopping-bag",uq);const dq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],LC=qe("shopping-cart",dq);const fq=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],hq=qe("snowflake",fq);const mq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PP=qe("square-pen",mq);const pq=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],RP=qe("tag",pq);const gq=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],vq=qe("test-tube",gq);const yq=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Xl=qe("ticket",yq);const xq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sc=qe("trash-2",xq);const bq=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wq=qe("trending-down",bq);const jq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xs=qe("trending-up",jq);const _q=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],um=qe("truck",_q);const Sq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yw=qe("upload",Sq);const Eq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nq=qe("user",Eq);const Cq=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Oq=qe("utensils-crossed",Cq);const Aq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DP=qe("users",Aq);const Tq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Zl=qe("wallet",Tq);const kq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],MP=qe("wifi-off",kq);const Pq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],IP=qe("wifi",Pq);const Rq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bd=qe("x",Rq);function LP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=LP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=LP(e))&&(n&&(n+=" "),n+=t);return n}const Dq=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Mq=(e,t)=>({classGroupId:e,validator:t}),$P=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),dm="-",$C=[],Iq="arbitrary..",Lq=e=>{const t=zq(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return $q(c);const u=c.split(dm),f=u[0]===""&&u.length>1?1:0;return zP(u,f,t)},getConflictingClassGroupIds:(c,u)=>{if(u){const f=n[c],h=r[c];return f?h?Dq(h,f):f:h||$C}return r[c]||$C}}},zP=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],s=r.nextPart.get(a);if(s){const h=zP(e,t+1,s);if(h)return h}const c=r.validators;if(c===null)return;const u=t===0?e.join(dm):e.slice(t).join(dm),f=c.length;for(let h=0;h<f;h++){const m=c[h];if(m.validator(u))return m.classGroupId}},$q=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Iq+n:void 0})(),zq=e=>{const{theme:t,classGroups:r}=e;return Uq(r,t)},Uq=(e,t)=>{const r=$P();for(const n in e){const a=e[n];Xw(a,r,n,t)}return r},Xw=(e,t,r,n)=>{const a=e.length;for(let s=0;s<a;s++){const c=e[s];Bq(c,t,r,n)}},Bq=(e,t,r,n)=>{if(typeof e=="string"){qq(e,t,r);return}if(typeof e=="function"){Fq(e,t,r,n);return}Hq(e,t,r,n)},qq=(e,t,r)=>{const n=e===""?t:UP(t,e);n.classGroupId=r},Fq=(e,t,r,n)=>{if(Vq(e)){Xw(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Mq(r,e))},Hq=(e,t,r,n)=>{const a=Object.entries(e),s=a.length;for(let c=0;c<s;c++){const[u,f]=a[c];Xw(f,UP(t,u),r,n)}},UP=(e,t)=>{let r=e;const n=t.split(dm),a=n.length;for(let s=0;s<a;s++){const c=n[s];let u=r.nextPart.get(c);u||(u=$P(),r.nextPart.set(c,u)),r=u}return r},Vq=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Kq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(s,c)=>{r[s]=c,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(s){let c=r[s];if(c!==void 0)return c;if((c=n[s])!==void 0)return a(s,c),c},set(s,c){s in r?r[s]=c:a(s,c)}}},lb="!",zC=":",Gq=[],UC=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Wq=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const s=[];let c=0,u=0,f=0,h;const m=a.length;for(let w=0;w<m;w++){const _=a[w];if(c===0&&u===0){if(_===zC){s.push(a.slice(f,w)),f=w+1;continue}if(_==="/"){h=w;continue}}_==="["?c++:_==="]"?c--:_==="("?u++:_===")"&&u--}const g=s.length===0?a:a.slice(f);let y=g,x=!1;g.endsWith(lb)?(y=g.slice(0,-1),x=!0):g.startsWith(lb)&&(y=g.slice(1),x=!0);const S=h&&h>f?h-f:void 0;return UC(s,x,y,S)};if(t){const a=t+zC,s=n;n=c=>c.startsWith(a)?s(c.slice(a.length)):UC(Gq,!1,c,void 0,!0)}if(r){const a=n;n=s=>r({className:s,parseClassName:a})}return n},Yq=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let s=0;s<r.length;s++){const c=r[s],u=c[0]==="[",f=t.has(c);u||f?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(c)):a.push(c)}return a.length>0&&(a.sort(),n.push(...a)),n}},Xq=e=>({cache:Kq(e.cacheSize),parseClassName:Wq(e),sortModifiers:Yq(e),...Lq(e)}),Zq=/\s+/,Qq=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,c=[],u=e.trim().split(Zq);let f="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:g,modifiers:y,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:w}=r(m);if(g){f=m+(f.length>0?" "+f:f);continue}let _=!!w,E=n(_?S.substring(0,w):S);if(!E){if(!_){f=m+(f.length>0?" "+f:f);continue}if(E=n(S),!E){f=m+(f.length>0?" "+f:f);continue}_=!1}const O=y.length===0?"":y.length===1?y[0]:s(y).join(":"),C=x?O+lb:O,I=C+E;if(c.indexOf(I)>-1)continue;c.push(I);const A=a(E,_);for(let M=0;M<A.length;++M){const N=A[M];c.push(C+N)}f=m+(f.length>0?" "+f:f)}return f},Jq=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=BP(r))&&(a&&(a+=" "),a+=n);return a},BP=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=BP(e[n]))&&(r&&(r+=" "),r+=t);return r},e8=(e,...t)=>{let r,n,a,s;const c=f=>{const h=t.reduce((m,g)=>g(m),e());return r=Xq(h),n=r.cache.get,a=r.cache.set,s=u,u(f)},u=f=>{const h=n(f);if(h)return h;const m=Qq(f,r);return a(f,m),m};return s=c,(...f)=>s(Jq(...f))},t8=[],ur=e=>{const t=r=>r[e]||t8;return t.isThemeGetter=!0,t},qP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,r8=/^\d+\/\d+$/,n8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,s8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ol=e=>r8.test(e),et=e=>!!e&&!Number.isNaN(Number(e)),ds=e=>!!e&&Number.isInteger(Number(e)),nx=e=>e.endsWith("%")&&et(e.slice(0,-1)),ui=e=>n8.test(e),l8=()=>!0,c8=e=>a8.test(e)&&!i8.test(e),HP=()=>!1,u8=e=>s8.test(e),d8=e=>o8.test(e),f8=e=>!De(e)&&!Me(e),h8=e=>wc(e,GP,HP),De=e=>qP.test(e),no=e=>wc(e,WP,c8),ax=e=>wc(e,y8,et),BC=e=>wc(e,VP,HP),m8=e=>wc(e,KP,d8),dh=e=>wc(e,YP,u8),Me=e=>FP.test(e),Pu=e=>jc(e,WP),p8=e=>jc(e,x8),qC=e=>jc(e,VP),g8=e=>jc(e,GP),v8=e=>jc(e,KP),fh=e=>jc(e,YP,!0),wc=(e,t,r)=>{const n=qP.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},jc=(e,t,r=!1)=>{const n=FP.exec(e);return n?n[1]?t(n[1]):r:!1},VP=e=>e==="position"||e==="percentage",KP=e=>e==="image"||e==="url",GP=e=>e==="length"||e==="size"||e==="bg-size",WP=e=>e==="length",y8=e=>e==="number",x8=e=>e==="family-name",YP=e=>e==="shadow",b8=()=>{const e=ur("color"),t=ur("font"),r=ur("text"),n=ur("font-weight"),a=ur("tracking"),s=ur("leading"),c=ur("breakpoint"),u=ur("container"),f=ur("spacing"),h=ur("radius"),m=ur("shadow"),g=ur("inset-shadow"),y=ur("text-shadow"),x=ur("drop-shadow"),S=ur("blur"),w=ur("perspective"),_=ur("aspect"),E=ur("ease"),O=ur("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...I(),Me,De],M=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],T=()=>[Me,De,f],U=()=>[Ol,"full","auto",...T()],G=()=>[ds,"none","subgrid",Me,De],B=()=>["auto",{span:["full",ds,Me,De]},ds,Me,De],K=()=>[ds,"auto",Me,De],F=()=>["auto","min","max","fr",Me,De],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...T()],R=()=>[Ol,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],q=()=>[e,Me,De],re=()=>[...I(),qC,BC,{position:[Me,De]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",g8,h8,{size:[Me,De]}],H=()=>[nx,Pu,no],Q=()=>["","none","full",h,Me,De],P=()=>["",et,Pu,no],V=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[et,nx,qC,BC],je=()=>["","none",S,Me,De],$=()=>["none",et,Me,De],ee=()=>["none",et,Me,De],ce=()=>[et,Me,De],Y=()=>[Ol,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ui],breakpoint:[ui],color:[l8],container:[ui],"drop-shadow":[ui],ease:["in","out","in-out"],font:[f8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ui],shadow:[ui],spacing:["px",et],text:[ui],"text-shadow":[ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ol,De,Me,_]}],container:["container"],columns:[{columns:[et,De,Me,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[ds,"auto",Me,De]}],basis:[{basis:[Ol,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Ol,"auto","initial","none",De]}],grow:[{grow:["",et,Me,De]}],shrink:[{shrink:["",et,Me,De]}],order:[{order:[ds,"first","last","none",Me,De]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[u,"screen",...R()]}],"min-w":[{"min-w":[u,"screen","none",...R()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",r,Pu,no]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Me,ax]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nx,De]}],"font-family":[{font:[p8,De,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Me,De]}],"line-clamp":[{"line-clamp":[et,"none",Me,ax]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",Me,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Me,no]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[et,"auto",Me,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ds,Me,De],radial:["",Me,De],conic:[ds,Me,De]},v8,m8]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Me,De]}],"outline-w":[{outline:["",et,Pu,no]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",m,fh,dh]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,fh,dh]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[et,no]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",y,fh,dh]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[et,Me,De]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Me,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,De]}],filter:[{filter:["","none",Me,De]}],blur:[{blur:je()}],brightness:[{brightness:[et,Me,De]}],contrast:[{contrast:[et,Me,De]}],"drop-shadow":[{"drop-shadow":["","none",x,fh,dh]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",et,Me,De]}],"hue-rotate":[{"hue-rotate":[et,Me,De]}],invert:[{invert:["",et,Me,De]}],saturate:[{saturate:[et,Me,De]}],sepia:[{sepia:["",et,Me,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,De]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[et,Me,De]}],"backdrop-contrast":[{"backdrop-contrast":[et,Me,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Me,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Me,De]}],"backdrop-invert":[{"backdrop-invert":["",et,Me,De]}],"backdrop-opacity":[{"backdrop-opacity":[et,Me,De]}],"backdrop-saturate":[{"backdrop-saturate":[et,Me,De]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Me,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Me,De]}],ease:[{ease:["linear","initial",E,Me,De]}],delay:[{delay:[et,Me,De]}],animate:[{animate:["none",O,Me,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Me,De]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:$()}],"rotate-x":[{"rotate-x":$()}],"rotate-y":[{"rotate-y":$()}],"rotate-z":[{"rotate-z":$()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[Me,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,De]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[et,Pu,no,ax]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},w8=e8(b8);function He(...e){return w8(pt(e))}function ge(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function Yh(e,t,r,n,a){if(!t||r===null||r===void 0||r<=0||!n||!n.includes(a))return e;if(t==="fixed"){const s=e-r;return Math.max(0,s)}else if(t==="percentage"){const s=e*r/100,c=e-s;return Math.max(0,c)}return e}function Pa(e,t,r,n,a){if(!e||t===null||t===void 0||t<=0)return{isValid:!0};if(!r||n===null||n===void 0)return{isValid:!0};if(e==="fixed"){if(r==="fixed"){if(t>n)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O valor mximo permitido  ${ge(n)}.`}}else if(r==="percentage"){const s=a*n/100;if(t>s)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O valor mximo permitido  ${ge(s)} (${n}% de ${ge(a)}).`}}}else if(e==="percentage"){if(r==="fixed"){if(a*t/100>n)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O percentual mximo permitido  ${(n/a*100).toFixed(2)}% (${ge(n)}).`}}else if(r==="percentage"&&t>n)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O percentual mximo permitido  ${n}%.`}}return{isValid:!0}}const j8={en:{appTitle:"JE BEBIDAS",dashboard:"Dashboard",orders:"Orders",tables:"Tables",menu:"Menu",settings:"Settings",totalRevenue:"Receivable",activeOrders:"Active Orders",availableTables:"Available Tables",recentOrders:"Recent Orders",recentOrdersDescription:"Latest completed transactions.",viewAllOrders:"View All Orders",searchPlaceholder:"Search orders...",filterStatus:"Filter by Status",newOrder:"New Order",orderId:"Order ID",table:"Table",customer:"Customer",status:"Status",total:"Total",actions:"Actions",items:"Items",item:"Item",quantity:"Qty",price:"Price",addTable:"Add Table",tableNumber:"Table Number",capacity:"Capacity",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",viewBill:"View Bill & Close Table",closeTablePay:"Close Table & Pay",paymentMethod:"Payment Method",cash:"Cash",card:"Card",voucher:"Voucher",pix:"PIX",confirmPayment:"Confirm Payment",billForTable:"Bill for Table",consolidatedView:"Consolidated view of all active orders.",orderSummary:"Order Summary",totalAmountDue:"Total Amount Due",noActiveOrders:"No active orders to pay.",manageOrders:"Manage orders for this table",back:"Back",tableInfo:"Table Information",noOrdersFoundForTable:"No active orders found for this table",tableDetails:"Table Details",orderHistory:"Order History",noOrdersFound:"No orders found for this table.",addToOrder:"Add to Order",createOrder:"Create Order",selectItems:"Select Items",selectTable:"Select Table",orderCreated:"Order Created",orderCreatedMessage:"Order has been successfully created.",language:"Language",selectLanguage:"Select the language for the application.",english:"English",portuguese:"Portuguese (Brazil)",pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",closed:"Closed",available:"Available",occupied:"Occupied",reserved:"Reserved",soldOut:"Sold Out",manageTables:"Manage your restaurant tables.",manageMenu:"Manage your menu items.",settingsTitle:"Settings",settingsDescription:"Manage your application preferences.",printReceipt:"Print Receipt",updateStatus:"Update Status",payNow:"Pay Now",subtotal:"Subtotal",tax:"Tax",date:"Date",time:"Time",notes:"Notes",addNote:"Add Note",typeNote:"Type your note here...",currentBill:"Current Bill",readyForCustomers:"Ready for customers",enterTableNumber:"Enter the number or name for the new table.",addNewTable:"Add New Table",number:"Number",orderNotFound:"Order not found",tableNotFound:"Table not found",noNotes:"No notes added.",addItem:"Add Item",guest:"Guest",occupiedAbbr:"Occ",customerNamePlaceholder:"Customer Name",noItemsSelected:"No items selected.",noOrders:"No orders found.",closeTableAndPay:"Close Table & Pay",closeTable:"Close Table",selectPaymentMethod:"Select payment method for total of",closeTableWarning:"This will close all active orders for this table.",orderType:"Order Type",dineIn:"Dine-in",takeout:"Takeout",delivery:"Delivery",type:"Type",finance:"Finance",overview:"Overview",sales:"Sales",expenses:"Expenses",netProfit:"Net Profit",revenue:"Revenue",addExpense:"Add Expense",expenseDescription:"Description",expenseCategory:"Category",expenseAmount:"Amount",expenseDate:"Date",noExpenses:"No expenses recorded.",salesByPaymentMethod:"Sales by Payment Method",salesByOrderType:"Sales by Order Type",dailySales:"Daily Sales",selectATable:"Please select a table.",addItemsToOrder:"Please add items to the order.",viewDetails:"View Details",itemName:"Item Name",itemDescription:"Description",itemCategory:"Category",itemPrice:"Price",itemImage:"Image URL",fillAllFields:"Please fill all required fields.",paid:"Paid",paymentPending:"Pending",enableTables:"Enable Table Management",enableTablesDescription:"Allow management of restaurant tables and table-based orders.",tableManagement:"Table Management",salesAnalysis:"Sales Analysis",salesByProduct:"View sales data by product with filters",timePeriod:"Time Period",allTime:"All Time",today:"Today",thisWeek:"This Week",thisMonth:"This Month",thisYear:"This Year",category:"Category",allCategories:"All Categories",chartType:"Chart Type",barChart:"Bar Chart",pieChart:"Pie Chart",totalItems:"Total Items Sold",uniqueProducts:"Unique Products",avgOrderValue:"Avg Revenue per Item",productSales:"Product Sales",categoryDistribution:"Category Distribution",topProducts:"Top Products",noSalesData:"No sales data available for the selected period",login:"Login",loginDescription:"Enter your credentials to access the system",email:"Email",emailPlaceholder:"your@email.com",emailOrUsername:"Email or Username",emailOrUsernamePlaceholder:"your@email.com or username",password:"Password",passwordPlaceholder:"",loggingIn:"Logging in...",logout:"Logout",accessDenied:"Access Denied",accessDeniedMessage:"You don't have permission to access this page",unauthorized:"Unauthorized",unauthorizedMessage:"Please login to access this page",loading:"Loading...",printerSettings:"Printer Settings",printerSettingsDescription:"Configure printer settings for receipts and orders",enablePrinter:"Enable Printer",printerType:"Printer Type",printerName:"Printer Name",printerIpAddress:"IP Address",printerPort:"Port",paperSize:"Paper Size",autoPrint:"Auto Print",browser:"Browser (Default)",network:"Network Printer",usb:"USB Printer",printer80mm:"80mm (Thermal)",printer58mm:"58mm (Thermal)",printerA4:"A4",stockManagement:"Stock Management",stockManagementDescription:"Manage product inventory and register purchase invoices",inventory:"Inventory",stock:"Stock",stockLevel:"Stock Level",minStock:"Minimum Stock",currentStock:"Current Stock",stockMovement:"Movement",entry:"Entry",exit:"Exit",adjustment:"Adjustment",lowStock:"Low Stock",outOfStock:"Out of Stock",stockAlert:"Stock Alert",addEntry:"Add Entry",manualAdjustment:"Manual Adjustment",viewHistory:"View History",purchaseInvoice:"Purchase Invoice",newPurchaseInvoice:"New Purchase Invoice",supplier:"Supplier",supplierCNPJ:"Supplier CNPJ",supplierAddress:"Supplier Address",invoiceNumber:"Invoice Number",invoiceSeries:"Series",danfeImport:"Import DANFE",importDANFE:"Import DANFE (XML)",uploadXML:"Upload XML",xmlFile:"XML File",parseXML:"Parse XML",xmlParsing:"Parsing XML...",xmlError:"Error parsing XML",invalidXML:"Invalid XML",importSuccess:"Import successful",importFailed:"Import failed",nfeKey:"NFe Key",issueDate:"Issue Date",issuer:"Issuer",addInventoryItem:"Add Item",addStockEntry:"Add Entry",addInventoryItemDescription:"Register a new inventory item without a purchase invoice",addStockEntryDescription:"Manually add stock entry for an existing item",editInventoryItem:"Edit Item",editInventoryItemDescription:"Edit inventory item information",productType:"Product Type",ncm:"NCM",cstIcms:"CST ICMS",cfop:"CFOP",icmsRate:"ICMS Rate",ipiRate:"IPI Rate",eanCode:"EAN Code",taxCalculation:"Tax Calculation",priceWithTaxes:"Price with Taxes",cancelOrder:"Cancel Order",cancelOrderConfirmation:"Cancel Order",cancelOrderDescription:"This action cannot be undone. Stock will be automatically returned.",enterManagerPassword:"Enter Admin/Manager Password",cancellationReason:"Cancellation Reason",selectCancellationReason:"Select a reason",confirmCancel:"Confirm Cancellation",cancelled:"Cancelled",cancellationReasons:{clientDesisted:"Client desisted",paymentProblem:"Payment problem",damagedGoods:"Damaged goods",noStock:"Out of stock"}},pt:{appTitle:"JE BEBIDAS",dashboard:"Painel",orders:"Pedidos",tables:"Mesas",menu:"Bebidas",settings:"Configuraes",totalRevenue:"Valores  receber",activeOrders:"Pedidos Ativos",availableTables:"Mesas Disponveis",recentOrders:"Pedidos Recentes",recentOrdersDescription:"ltimas transaes concludas.",viewAllOrders:"Ver Todos os Pedidos",searchPlaceholder:"Buscar pedidos...",filterStatus:"Filtrar por Status",newOrder:"Novo Pedido",orderId:"ID do Pedido",table:"Mesa",customer:"Cliente",status:"Status",total:"Total",actions:"Aes",items:"Itens",item:"Item",quantity:"Qtd",price:"Preo",addTable:"Adicionar Mesa",tableNumber:"Nmero da Mesa",capacity:"Capacidade",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",viewBill:"Ver Conta e Fechar Mesa",closeTablePay:"Fechar Mesa e Pagar",paymentMethod:"Mtodo de Pagamento",cash:"Dinheiro",card:"Carto",voucher:"Vale",pix:"PIX",confirmPayment:"Confirmar Pagamento",billForTable:"Conta da Mesa",consolidatedView:"Viso consolidada de todos os pedidos ativos.",orderSummary:"Resumo do Pedido",totalAmountDue:"Valor Total Devido",noActiveOrders:"Nenhum pedido ativo para pagar.",tableDetails:"Detalhes da Mesa",orderHistory:"Histrico de Pedidos",noOrdersFound:"Nenhum pedido encontrado para esta mesa.",addToOrder:"Adicionar ao Pedido",createOrder:"Criar Pedido",selectItems:"Selecionar Itens",selectTable:"Selecionar Mesa",orderCreated:"Pedido Criado",orderCreatedMessage:"O pedido foi criado com sucesso.",language:"Idioma",selectLanguage:"Selecione o idioma da aplicao.",english:"Ingls",portuguese:"Portugus (Brasil)",pending:"Pendente",preparing:"Preparando",ready:"Pronto",delivered:"Entregue",closed:"Fechado",available:"Disponvel",occupied:"Ocupada",reserved:"Reservada",soldOut:"Esgotado",manageTables:"Gerencie as mesas do seu restaurante.",manageMenu:"Gerencie os itens de bebidas.",manageOrders:"Gerenciar pedidos desta mesa",settingsTitle:"Configuraes",settingsDescription:"Gerencie as preferncias da sua aplicao.",printReceipt:"Imprimir Recibo",updateStatus:"Atualizar Status",payNow:"Pagar Agora",subtotal:"Subtotal",tax:"Imposto",date:"Data",time:"Hora",notes:"Observaes",addNote:"Adicionar Observao",typeNote:"Digite sua observao aqui...",currentBill:"Conta Atual",readyForCustomers:"Pronta para clientes",enterTableNumber:"Digite o nmero ou nome da nova mesa.",addNewTable:"Adicionar Nova Mesa",number:"Nmero",orderNotFound:"Pedido no encontrado",tableNotFound:"Mesa no encontrada",noNotes:"Nenhuma observao adicionada.",addItem:"Adicionar Item",guest:"Convidado",occupiedAbbr:"Ocp",customerNamePlaceholder:"Nome do Cliente",noItemsSelected:"Nenhum item selecionado.",noOrders:"Nenhum pedido encontrado.",closeTableAndPay:"Fechar Mesa e Pagar",closeTable:"Fechar Mesa",selectPaymentMethod:"Selecione o mtodo de pagamento para o total de",closeTableWarning:"Isso fechar todos os pedidos ativos desta mesa.",back:"Voltar",tableInfo:"Informaes da Mesa",noOrdersFoundForTable:"Nenhum pedido ativo encontrado para esta mesa",orderType:"Tipo de Pedido",dineIn:"Mesa",takeout:"Retirada",delivery:"Delivery",type:"Tipo",finance:"Financeiro",overview:"Viso Geral",sales:"Vendas",expenses:"Despesas",netProfit:"Lucro Lquido",revenue:"Receita",addExpense:"Adicionar Despesa",expenseDescription:"Descrio",expenseCategory:"Categoria",expenseAmount:"Valor",expenseDate:"Data",noExpenses:"Nenhuma despesa registrada.",salesByPaymentMethod:"Vendas por Mtodo de Pagamento",salesByOrderType:"Vendas por Tipo de Pedido",dailySales:"Vendas Dirias",selectATable:"Por favor, selecione uma mesa.",addItemsToOrder:"Por favor, adicione itens ao pedido.",viewDetails:"Ver Detalhes",itemName:"Nome do Item",itemDescription:"Descrio",itemCategory:"Categoria",itemPrice:"Preo",itemImage:"URL da Imagem",fillAllFields:"Por favor, preencha todos os campos obrigatrios.",paid:"Pago",paymentPending:"Pendente",enableTables:"Habilitar Gerenciamento de Mesas",enableTablesDescription:"Permitir gerenciamento de mesas do restaurante e pedidos por mesa.",tableManagement:"Gerenciamento de Mesas",salesAnalysis:"Anlise de Vendas",salesByProduct:"Visualize dados de vendas por produto com filtros",timePeriod:"Perodo de Tempo",allTime:"Todo o Tempo",today:"Hoje",thisWeek:"Esta Semana",thisMonth:"Este Ms",thisYear:"Este Ano",category:"Categoria",allCategories:"Todas as Categorias",chartType:"Tipo de Grfico",barChart:"Grfico de Barras",pieChart:"Grfico de Pizza",totalItems:"Total de Itens Vendidos",uniqueProducts:"Produtos nicos",avgOrderValue:"Mdia de Receita por Item",productSales:"Vendas por Produto",categoryDistribution:"Distribuio por Categoria",topProducts:"Principais Produtos",noSalesData:"Nenhum dado de vendas disponvel para o perodo selecionado",login:"Entrar",loginDescription:"Entre com suas credenciais para acessar o sistema",email:"Email",emailPlaceholder:"seu@email.com",emailOrUsername:"Email ou Nome de Usurio",emailOrUsernamePlaceholder:"seu@email.com ou nomeusuario",password:"Senha",passwordPlaceholder:"",loggingIn:"Entrando...",logout:"Sair",accessDenied:"Acesso Negado",accessDeniedMessage:"Voc no tem permisso para acessar esta pgina",unauthorized:"No Autorizado",unauthorizedMessage:"Por favor, faa login para acessar esta pgina",loading:"Carregando...",printerSettings:"Configuraes da Impressora",printerSettingsDescription:"Configure as configuraes da impressora para recibos e pedidos",enablePrinter:"Habilitar Impressora",printerType:"Tipo de Impressora",printerName:"Nome da Impressora",printerIpAddress:"Endereo IP",printerPort:"Porta",paperSize:"Tamanho do Papel",autoPrint:"Impresso Automtica",browser:"Navegador (Padro)",network:"Impressora de Rede",usb:"Impressora USB",printer80mm:"80mm (Trmica)",printer58mm:"58mm (Trmica)",printerA4:"A4",stockManagement:"Controle de Estoque",stockManagementDescription:"Gerencie o estoque de produtos e cadastre notas fiscais de compra",inventory:"Estoque",stock:"Estoque",stockLevel:"Nvel de Estoque",minStock:"Estoque Mnimo",currentStock:"Estoque Atual",stockMovement:"Movimentao",entry:"Entrada",exit:"Sada",adjustment:"Ajuste",lowStock:"Estoque Baixo",outOfStock:"Sem Estoque",stockAlert:"Alerta de Estoque",addEntry:"Adicionar Entrada",manualAdjustment:"Ajuste Manual",viewHistory:"Ver Histrico",purchaseInvoice:"Nota Fiscal de Compra",newPurchaseInvoice:"Nova Nota Fiscal",supplier:"Fornecedor",supplierCNPJ:"CNPJ do Fornecedor",supplierAddress:"Endereo do Fornecedor",invoiceNumber:"Nmero da Nota",invoiceSeries:"Srie",danfeImport:"Importar DANFE",importDANFE:"Importar DANFE (XML)",uploadXML:"Enviar XML",xmlFile:"Arquivo XML",parseXML:"Processar XML",xmlParsing:"Processando XML...",xmlError:"Erro ao processar XML",invalidXML:"XML invlido",importSuccess:"Importao realizada com sucesso",importFailed:"Falha na importao",nfeKey:"Chave de Acesso (NFe)",issueDate:"Data de Emisso",issuer:"Emitente",addInventoryItem:"Adicionar Item",addStockEntry:"Adicionar Entrada",addInventoryItemDescription:"Cadastre um novo item no estoque sem necessidade de nota fiscal",addStockEntryDescription:"Adicione entrada de estoque manualmente para um item existente",editInventoryItem:"Editar Item",editInventoryItemDescription:"Edite as informaes do item de estoque",productType:"Tipo de Produto",ncm:"NCM",cstIcms:"CST ICMS",cfop:"CFOP",icmsRate:"Alquota de ICMS",ipiRate:"Alquota de IPI",eanCode:"Cdigo de Barras (EAN)",taxCalculation:"Clculo de Impostos",priceWithTaxes:"Preo com Impostos",basicProductInfo:"Informaes Bsicas do Produto",priceInfo:"Informaes de Preo",fiscalInfo:"Informaes Fiscais",fiscalInfoDescription:"Dados necessrios para emisso de nota fiscal e clculo de impostos",cancelOrder:"Cancelar Pedido",cancelOrderConfirmation:"Cancelar Pedido",cancelOrderDescription:"Esta ao no pode ser desfeita. O estoque ser devolvido automaticamente.",enterManagerPassword:"Digite a Senha de Admin/Gerente",cancellationReason:"Justificativa do Cancelamento",selectCancellationReason:"Selecione uma justificativa",confirmCancel:"Confirmar Cancelamento",cancelled:"CANCELADO",cancellationReasons:{clientDesisted:"Cliente desistiu",paymentProblem:"Problema no pagamento do cliente",damagedGoods:"Mercadoria danificada",noStock:"Sem estoque"}}};var cb=function(e,t){return cb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},cb(e,t)};function XP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Qn=function(){return Qn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qn.apply(this,arguments)};function ks(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ZP(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(c=e[u])&&(s=(a<3?c(s):a>3?c(t,r,s):c(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function QP(e,t){return function(r,n){t(r,n,e)}}function JP(e,t,r,n,a,s){function c(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var u=n.kind,f=u==="getter"?"get":u==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,m=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),g,y=!1,x=r.length-1;x>=0;x--){var S={};for(var w in n)S[w]=w==="access"?{}:n[w];for(var w in n.access)S.access[w]=n.access[w];S.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(E||null))};var _=(0,r[x])(u==="accessor"?{get:m.get,set:m.set}:m[f],S);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=c(_.get))&&(m.get=g),(g=c(_.set))&&(m.set=g),(g=c(_.init))&&a.unshift(g)}else(g=c(_))&&(u==="field"?a.unshift(g):m[f]=g)}h&&Object.defineProperty(h,n.name,m),y=!0}function eR(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function tR(e){return typeof e=="symbol"?e:"".concat(e)}function rR(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function nR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Re(e,t,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(m){try{h(n.next(m))}catch(g){c(g)}}function f(m){try{h(n.throw(m))}catch(g){c(g)}}function h(m){m.done?s(m.value):a(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})}function aR(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(m){h=[6,m],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ep=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function iR(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ep(t,e,r)}function fm(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zw(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],c;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){c={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function sR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zw(arguments[t]));return e}function oR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],c=0,u=s.length;c<u;c++,a++)n[a]=s[c];return n}function Qw(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function oc(e){return this instanceof oc?(this.v=e,this):new oc(e)}function lR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(x){return function(S){return Promise.resolve(S).then(x,g)}}function u(x,S){n[x]&&(a[x]=function(w){return new Promise(function(_,E){s.push([x,w,_,E])>1||f(x,w)})},S&&(a[x]=S(a[x])))}function f(x,S){try{h(n[x](S))}catch(w){y(s[0][3],w)}}function h(x){x.value instanceof oc?Promise.resolve(x.value.v).then(m,g):y(s[0][2],x)}function m(x){f("next",x)}function g(x){f("throw",x)}function y(x,S){x(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function cR(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(c){return(r=!r)?{value:oc(e[a](c)),done:!1}:s?s(c):c}:s}}function uR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fm=="function"?fm(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(c){return new Promise(function(u,f){c=e[s](c),a(u,f,c.done,c.value)})}}function a(s,c,u,f){Promise.resolve(f).then(function(h){s({value:h,done:u})},c)}}function dR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _8=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},ub=function(e){return ub=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ub(e)};function fR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ub(e),n=0;n<r.length;n++)r[n]!=="default"&&Ep(t,e,r[n]);return _8(t,e),t}function hR(e){return e&&e.__esModule?e:{default:e}}function mR(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function pR(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function gR(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function vR(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var S8=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function yR(e){function t(s){e.error=e.hasError?new S8(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(c){return t(c),a()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function xR(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,c){return n?t?".jsx":".js":a&&(!s||!c)?r:a+s+"."+c.toLowerCase()+"js"}):e}const E8={__extends:XP,__assign:Qn,__rest:ks,__decorate:ZP,__param:QP,__esDecorate:JP,__runInitializers:eR,__propKey:tR,__setFunctionName:rR,__metadata:nR,__awaiter:Re,__generator:aR,__createBinding:Ep,__exportStar:iR,__values:fm,__read:Zw,__spread:sR,__spreadArrays:oR,__spreadArray:Qw,__await:oc,__asyncGenerator:lR,__asyncDelegator:cR,__asyncValues:uR,__makeTemplateObject:dR,__importStar:fR,__importDefault:hR,__classPrivateFieldGet:mR,__classPrivateFieldSet:pR,__classPrivateFieldIn:gR,__addDisposableResource:vR,__disposeResources:yR,__rewriteRelativeImportExtension:xR},N8=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:vR,get __assign(){return Qn},__asyncDelegator:cR,__asyncGenerator:lR,__asyncValues:uR,__await:oc,__awaiter:Re,__classPrivateFieldGet:mR,__classPrivateFieldIn:gR,__classPrivateFieldSet:pR,__createBinding:Ep,__decorate:ZP,__disposeResources:yR,__esDecorate:JP,__exportStar:iR,__extends:XP,__generator:aR,__importDefault:hR,__importStar:fR,__makeTemplateObject:dR,__metadata:nR,__param:QP,__propKey:tR,__read:Zw,__rest:ks,__rewriteRelativeImportExtension:xR,__runInitializers:eR,__setFunctionName:rR,__spread:sR,__spreadArray:Qw,__spreadArrays:oR,__values:fm,default:E8},Symbol.toStringTag,{value:"Module"})),C8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Jw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class O8 extends Jw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FC extends Jw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class HC extends Jw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var db;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(db||(db={}));class A8{constructor(t,{headers:r={},customFetch:n,region:a=db.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=C8(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Re(this,arguments,void 0,function*(r,n={}){var a;let s,c;try{const{headers:u,method:f,body:h,signal:m,timeout:g}=n;let y={},{region:x}=n;x||(x=this.region);const S=new URL(`${this.url}/${r}`);x&&x!=="any"&&(y["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(y["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(y["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;let _=m;g&&(c=new AbortController,s=setTimeout(()=>c.abort(),g),m?(_=c.signal,m.addEventListener("abort",()=>c.abort())):_=c.signal);const E=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:w,signal:_}).catch(A=>{throw new O8(A)}),O=E.headers.get("x-relay-error");if(O&&O==="true")throw new FC(E);if(!E.ok)throw new HC(E);let C=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),I;return C==="application/json"?I=yield E.json():C==="application/octet-stream"||C==="application/pdf"?I=yield E.blob():C==="text/event-stream"?I=E:C==="multipart/form-data"?I=yield E.formData():I=yield E.text(),{data:I,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof HC||u instanceof FC?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var Ir={};const _c=IU(N8);var hh={},mh={},ph={},gh={},vh={},yh={},VC;function bR(){if(VC)return yh;VC=1,Object.defineProperty(yh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yh.default=e,yh}var KC;function wR(){if(KC)return vh;KC=1,Object.defineProperty(vh,"__esModule",{value:!0});const t=_c.__importDefault(bR());class r{constructor(a){var s,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,g,y;let x=null,S=null,w=null,_=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=A:S=JSON.parse(A))}const C=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),I=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");C&&I&&I.length>1&&(w=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,_=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const C=await f.text();try{x=JSON.parse(C),Array.isArray(x)&&f.status===404&&(S=[],x=null,_=200,E="OK")}catch{f.status===404&&C===""?(_=204,E="No Content"):x={message:C}}if(x&&this.isMaybeSingle&&(!((y=x?.details)===null||y===void 0)&&y.includes("0 rows"))&&(x=null,_=200,E="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:S,count:w,status:_,statusText:E}});return this.shouldThrowOnError||(u=u.catch(f=>{var h,m,g,y,x,S;let w="";const _=f?.cause;if(_){const E=(h=_?.message)!==null&&h!==void 0?h:"",O=(m=_?.code)!==null&&m!==void 0?m:"";w=`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,w+=`

Caused by: ${(y=_?.name)!==null&&y!==void 0?y:"Error"}: ${E}`,O&&(w+=` (${O})`),_?.stack&&(w+=`
${_.stack}`)}else w=(x=f?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=f?.name)!==null&&S!==void 0?S:"FetchError"}: ${f?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}}return vh.default=r,vh}var GC;function jR(){if(GC)return gh;GC=1,Object.defineProperty(gh,"__esModule",{value:!0});const t=_c.__importDefault(wR());class r extends t.default{select(a){let s=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:c=s}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const g=[a?"analyze":null,s?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return gh.default=r,gh}var WC;function ej(){if(WC)return ph;WC=1,Object.defineProperty(ph,"__esModule",{value:!0});const t=_c.__importDefault(jR()),r=new RegExp("[,()]");class n extends t.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}regexMatch(s,c){return this.url.searchParams.append(s,`match.${c}`),this}regexIMatch(s,c){return this.url.searchParams.append(s,`imatch.${c}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}isDistinct(s,c){return this.url.searchParams.append(s,`isdistinct.${c}`),this}in(s,c){const u=Array.from(new Set(c)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${m}.${c}`),this}match(s){return Object.entries(s).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(s,c,u){return this.url.searchParams.append(s,`not.${c}.${u}`),this}or(s,{foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${s})`),this}filter(s,c,u){return this.url.searchParams.append(s,`${c}.${u}`),this}}return ph.default=n,ph}var YC;function _R(){if(YC)return mh;YC=1,Object.defineProperty(mh,"__esModule",{value:!0});const t=_c.__importDefault(ej());class r{constructor(a,{headers:s={},schema:c,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=c,this.fetch=u}select(a,s){const{head:c=!1,count:u}=s??{},f=c?"HEAD":"GET";let h=!1;const m=(a??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:c=!0}={}){var u;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:s}={}){var c;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var s;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return mh.default=r,mh}var XC;function T8(){if(XC)return hh;XC=1,Object.defineProperty(hh,"__esModule",{value:!0});const e=_c,t=e.__importDefault(_R()),r=e.__importDefault(ej());class n{constructor(s,{headers:c={},schema:u,fetch:f}={}){this.url=s,this.headers=new Headers(c),this.schemaName=u,this.fetch=f}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:u=!1,get:f=!1,count:h}={}){var m;let g;const y=new URL(`${this.url}/rpc/${s}`);let x;u||f?(g=u?"HEAD":"GET",Object.entries(c).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{y.searchParams.append(w,_)})):(g="POST",x=c);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new r.default({method:g,url:y,headers:S,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return hh.default=n,hh}var ZC;function k8(){if(ZC)return Ir;ZC=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.PostgrestError=Ir.PostgrestBuilder=Ir.PostgrestTransformBuilder=Ir.PostgrestFilterBuilder=Ir.PostgrestQueryBuilder=Ir.PostgrestClient=void 0;const e=_c,t=e.__importDefault(T8());Ir.PostgrestClient=t.default;const r=e.__importDefault(_R());Ir.PostgrestQueryBuilder=r.default;const n=e.__importDefault(ej());Ir.PostgrestFilterBuilder=n.default;const a=e.__importDefault(jR());Ir.PostgrestTransformBuilder=a.default;const s=e.__importDefault(wR());Ir.PostgrestBuilder=s.default;const c=e.__importDefault(bR());return Ir.PostgrestError=c.default,Ir.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:c.default},Ir}var SR=k8();const ER=ja(SR),P8=oP({__proto__:null,default:ER},[SR]),{PostgrestClient:R8,PostgrestQueryBuilder:dfe,PostgrestFilterBuilder:ffe,PostgrestTransformBuilder:hfe,PostgrestBuilder:mfe,PostgrestError:pfe}=ER||P8;class D8{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const M8="2.86.0",I8=`realtime-js/${M8}`,NR="1.0.0",L8="2.0.0",QC=NR,fb=1e4,$8=1e3,z8=100;var fo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fo||(fo={}));var dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dr||(dr={}));var da;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(da||(da={}));var hb;(function(e){e.websocket="websocket"})(hb||(hb={}));var ho;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ho||(ho={}));class U8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var a,s;const c=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+c.length+h.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(x),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,f.length),S.setUint8(w++,u.length),S.setUint8(w++,c.length),S.setUint8(w++,h.length),S.setUint8(w++,g.length),S.setUint8(w++,r),Array.from(f,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(u,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(c,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(h,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(g,E=>S.setUint8(w++,E.charCodeAt(0)));var _=new Uint8Array(x.byteLength+n.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(n),x.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,c,u,f]=n;return r({join_ref:a,ref:s,topic:c,event:u,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const m=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+c));f=f+c;const y=t.slice(f,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,S={type:this.BROADCAST_EVENT,event:m,payload:x};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class CR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(At||(At={}));const JC=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=B8(c,e,t,a),s),{}):{}},B8=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,c=r[e];return s&&!n.includes(s)?OR(s,c):mb(c)},OR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return V8(t,r)}switch(e){case At.bool:return q8(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return F8(t);case At.json:case At.jsonb:return H8(t);case At.timestamp:return K8(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return mb(t);default:return mb(t)}},mb=e=>e,q8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const c=e.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(u=>OR(t,u))}return e},K8=e=>typeof e=="string"?e.replace(" ","T"):e,AR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ix{constructor(t,r,n={},a=fb){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eO||(eO={}));class Ku{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ku.syncState(this.state,a,s,c),this.pendingDiffs.forEach(f=>{this.state=Ku.syncDiff(this.state,f,s,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ku.syncDiff(this.state,a,s,c),u())}),this.onJoin((a,s,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:c})}),this.onLeave((a,s,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),c=this.transformState(r),u={},f={};return this.map(s,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const g=s[h];if(g){const y=m.map(_=>_.presence_ref),x=g.map(_=>_.presence_ref),S=m.filter(_=>x.indexOf(_.presence_ref)<0),w=g.filter(_=>y.indexOf(_.presence_ref)<0);S.length>0&&(u[h]=S),w.length>0&&(f[h]=w)}else u[h]=m}),this.syncDiff(s,{joins:u,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const g=t[u].map(x=>x.presence_ref),y=m.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...y)}n(u,m,f)}),this.map(c,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=h,a(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tO||(tO={}));var Gu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gu||(Gu={}));var fi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fi||(fi={}));class tj{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ix(this,da.join,this.params,this.timeout),this.rejoinTimer=new CR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Ku(this),this.broadcastEndpointURL=AR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==dr.closed){const{config:{broadcast:c,presence:u,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Gu.PRESENCE]&&this.bindings[Gu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(fi.CHANNEL_ERROR,x)),this._onClose(()=>t?.(fi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){t?.(fi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w?.length)!==null&&S!==void 0?S:0,E=[];for(let O=0;O<_;O++){const C=w[O],{filter:{event:I,schema:A,table:M,filter:N}}=C,T=x&&x[O];if(T&&T.event===I&&T.schema===A&&T.table===M&&T.filter===N)E.push(Object.assign(Object.assign({},C),{id:T.id}));else{this.unsubscribe(),this.state=dr.errored,t?.(fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(fi.SUBSCRIBED);return}}).receive("error",x=>{this.state=dr.errored,t?.(fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===dr.joined&&t===Gu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new ix(this,da.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ix(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>z8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const c=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=da;if(n&&[u,f,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let y=this._onMessage(c,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var S,w,_;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=x.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(x=>x.callback(y,n)):(s=this.bindings[c])===null||s===void 0||s.filter(x=>{var S,w,_,E,O,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const I=x.id,A=(S=x.filter)===null||S===void 0?void 0:S.event;return I&&((w=r.ids)===null||w===void 0?void 0:w.includes(I))&&(A==="*"||A?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const I=(O=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return I==="*"||I===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:w,table:_,commit_timestamp:E,type:O,errors:C}=S;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:O,new:{},old:{},errors:C}),this._getPayloadRecords(S))}x.callback(y,n)})}_isClosed(){return this.state===dr.closed}_isJoined(){return this.state===dr.joined}_isJoining(){return this.state===dr.joining}_isLeaving(){return this.state===dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&tj.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(da.close,{},t)}_onError(t){this._on(da.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=JC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=JC(t.columns,t.old_record)),r}}const sx=()=>{},xh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G8=[1e3,2e3,5e3,1e4],W8=1e4,Y8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fb,this.transport=null,this.heartbeatIntervalMs=xh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sx,this.ref=0,this.reconnectTimer=null,this.vsn=QC,this.logger=sx,this.conn=null,this.sendBuffer=[],this.serializer=new U8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${hb.websocket}`,this.httpEndpoint=AR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fo.connecting:return ho.Connecting;case fo.open:return ho.Open;case fo.closing:return ho.Closing;default:return ho.Closed}}isConnected(){return this.connectionState()===ho.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new tj(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,c=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:c}=r,u=c?`(${c})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fo.open||this.conn.readyState===fo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(da.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Y8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:I8};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(da.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new CR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,c,u,f,h,m,g,y,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:fb,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:xh.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:sx,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:QC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>G8[S-1]||W8),this.vsn){case NR:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((S,w)=>w(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,w)=>w(JSON.parse(S)));break;case L8:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Np extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Z8 extends Np{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pb extends Np{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const rj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Q8=()=>Response,gb=e=>{if(Array.isArray(e))return e.map(r=>gb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=gb(n)}),t},J8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),ox=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tF=(e,t,r)=>Re(void 0,void 0,void 0,function*(){const n=yield Q8();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,c=a?.statusCode||s+"";t(new Z8(ox(a),s,c))}).catch(a=>{t(new pb(ox(a),a))}):t(new pb(ox(e),e))}),rF=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(J8(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function wd(e,t,r,n,a,s){return Re(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,rF(t,n,a,s)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>tF(f,u,n))})})}function Xu(e,t,r,n){return Re(this,void 0,void 0,function*(){return wd(e,"GET",t,r,n)})}function ua(e,t,r,n,a){return Re(this,void 0,void 0,function*(){return wd(e,"POST",t,n,a,r)})}function vb(e,t,r,n,a){return Re(this,void 0,void 0,function*(){return wd(e,"PUT",t,n,a,r)})}function nF(e,t,r,n){return Re(this,void 0,void 0,function*(){return wd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nj(e,t,r,n,a){return Re(this,void 0,void 0,function*(){return wd(e,"DELETE",t,n,a,r)})}class aF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}var TR;class iF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[TR]="BlobDownloadBuilder",this.promise=null}asStream(){return new aF(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}TR=Symbol.toStringTag;const sF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oF{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=rj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Re(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},rO),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),f&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(f))):(s=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),g=yield(t=="PUT"?vb:ua)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Re(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),c=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:rO.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield vb(this.fetch,u.toString(),f,{headers:m});return{data:{path:s,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Bt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield ua(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(this.url+s.url),u=c.searchParams.get("token");if(!u)throw new Np("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield ua(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Re(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield ua(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Re(this,void 0,void 0,function*(){try{const a=yield ua(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),c=s?`?${s}`:"",u=this._getFinalPath(t),f=()=>Xu(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new iF(f,this.shouldThrowOnError)}info(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gb(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}exists(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n)&&n instanceof pb){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return Re(this,void 0,void 0,function*(){try{return{data:yield nj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Re(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},sF),r),{prefix:t||""});return{data:yield ua(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Re(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ua(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const kR="2.86.0",PR={"X-Client-Info":`storage-js/${kR}`};class lF{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PR),r),this.fetch=rj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Xu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}createBucket(t){return Re(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ua(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Re(this,void 0,void 0,function*(){try{return{data:yield vb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield nj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Zu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cF(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function uF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dF(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:c}){const u=cF(e.baseUrl,n,a),f=await uF(e.auth),h=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...c},body:s?JSON.stringify(s):void 0}),m=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&m?JSON.parse(m):m;if(!h.ok){const x=g?y:void 0,S=x?.error;throw new Zu(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:h.status,headers:h.headers,data:y}}}}function bh(e){return e.join("")}var fF=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:bh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bh(e.namespace)}`}),!0}catch(t){if(t instanceof Zu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Zu&&r.status===409)return;throw r}}};function Al(e){return e.join("")}var hF=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Al(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Zu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Zu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},mF=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dF({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new fF(this.client,t),this.tableOps=new hF(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class pF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PR),r),this.fetch=rj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Xu(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield nj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}from(t){if(!eF(t))throw new Np("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new mF({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const aj={"X-Client-Info":`storage-js/${kR}`,"Content-Type":"application/json"};class RR extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class lx extends RR{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gF extends RR{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var nO;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nO||(nO={}));const ij=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yF=(e,t,r)=>Re(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(c=>{const u=c?.statusCode||c?.code||a+"";t(new lx(aO(c),a,u))}).catch(()=>{const c=a+"",u=s.statusText||`HTTP ${a} error`;t(new lx(u,a,c))});else{const c=a+"",u=s.statusText||`HTTP ${a} error`;t(new lx(u,a,c))}}else t(new gF(aO(e),e))}),xF=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(vF(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function bF(e,t,r,n,a,s){return Re(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,xF(t,n,a,s)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>yF(f,u,n))})})}function Tn(e,t,r,n,a){return Re(this,void 0,void 0,function*(){return bF(e,"POST",t,n,a,r)})}class wF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aj),r),this.fetch=ij(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Re(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Re(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listIndexes(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Re(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class jF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aj),r),this.fetch=ij(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Re(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}getVectors(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}listVectors(t){return Re(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Tn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}queryVectors(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Re(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}}class _F{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aj),r),this.fetch=ij(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}getBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}listBuckets(){return Re(this,arguments,void 0,function*(t={}){try{return{data:yield Tn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:(yield Tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}}class SF extends _F{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new EF(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Re(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Re(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Re(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Re(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class EF extends wF{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Re(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new NF(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class NF extends jF{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Re(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class CF extends lF{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new oF(this.url,this.headers,t,this.fetch)}get vectors(){return new SF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pF(this.url+"/iceberg",this.headers,this.fetch)}}const OF="2.86.0";let Bu="";typeof Deno<"u"?Bu="deno":typeof document<"u"?Bu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bu="react-native":Bu="node";const AF={"X-Client-Info":`supabase-js-${Bu}/${OF}`},TF={headers:AF},kF={schema:"public"},PF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RF={},DF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MF=()=>Headers,IF=(e,t,r)=>{const n=DF(r),a=MF();return async(s,c)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let h=new a(c?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,Object.assign(Object.assign({},c),{headers:h}))}};function LF(e){return e.endsWith("/")?e:e+"/"}function $F(e,t){var r,n;const{db:a,auth:s,realtime:c,global:u}=e,{db:f,auth:h,realtime:m,global:g}=t,y={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function zF(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(LF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const DR="2.86.0",Bl=30*1e3,yb=3,cx=yb*Bl,UF="http://localhost:9999",BF="supabase.auth.token",qF={"X-Client-Info":`gotrue-js/${DR}`},xb="X-Supabase-Api-Version",MR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HF=600*1e3;class Qu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class VF extends Qu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function KF(e){return Ue(e)&&e.name==="AuthApiError"}class mo extends Qu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ps extends Qu{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Nn extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GF(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class Tl extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wh extends Ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jh extends Ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WF(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class iO extends Ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bb extends Ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ux(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class sO extends Ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wb extends Ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oO=` 	
\r=`.split(""),YF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<oO.length;t+=1)e[oO[t].charCodeAt(0)]=-2;for(let t=0;t<hm.length;t+=1)e[hm[t].charCodeAt(0)]=t;return e})();function lO(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hm[n]),t.queuedBits-=6}}function IR(e,t,r){const n=YF[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cO(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=c=>{QF(c,n,r)};for(let c=0;c<e.length;c+=1)IR(e.charCodeAt(c),a,s);return t.join("")}function XF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ZF(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}XF(n,t)}}function QF(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ql(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)IR(e.charCodeAt(a),r,n);return new Uint8Array(t)}function JF(e){const t=[];return ZF(e,r=>t.push(r)),new Uint8Array(t)}function go(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>lO(a,r,n)),lO(null,r,n),t.join("")}function eH(e){return Math.round(Date.now()/1e3)+e}function tH(){return Symbol("auth-callback")}const Pr=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},LR=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function rH(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const $R=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ql=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},io=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fs=async(e,t)=>{await e.removeItem(t)};class Cp{constructor(){this.promise=new Cp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cp.promiseConstructor=Promise;function dx(e){const t=e.split(".");if(t.length!==3)throw new wb("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FF.test(t[n]))throw new wb("JWT not in base64url format");return{header:JSON.parse(cO(t[0])),payload:JSON.parse(cO(t[1])),signature:Ql(t[2]),raw:{header:t[0],payload:t[1]}}}async function aH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iH(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){n(c);return}}catch(c){if(!t(s,c)){a(c);return}}})()})}function sH(e){return("0"+e.toString(16)).substr(-2)}function oH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,sH).join("")}async function lH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function cH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await lH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kl(e,t,r=!1){const n=oH();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ql(e,`${t}-code-verifier`,a);const s=await cH(n);return[s,n===s?"plain":"s256"]}const uH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dH(e){const t=e.headers.get(xb);if(!t||!t.match(uH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pl(e){if(!mH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pH(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function uO(e){return JSON.parse(JSON.stringify(e))}const so=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gH=[502,503,504];async function dO(e){var t;if(!nH(e))throw new bb(so(e),0);if(gH.includes(e.status))throw new bb(so(e),e.status);let r;try{r=await e.json()}catch(s){throw new mo(so(s),s)}let n;const a=dH(e);if(a&&a.getTime()>=MR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sO(so(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Nn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new sO(so(r),e.status,r.weak_password.reasons);throw new VF(so(r),e.status||500,n)}const vH=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ve(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[xb]||(s[xb]=MR["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await yH(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function yH(e,t,r,n,a,s){const c=vH(t,n,a,s);let u;try{u=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new bb(so(f),0)}if(u.ok||await dO(u),n?.noResolveJson)return u;try{return await u.json()}catch(f){await dO(f)}}function la(e){var t;let r=null;wH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=eH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function fO(e){const t=la(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xH(e){return{data:e,error:null}}function bH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,c=ks(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function hO(e){return e}function wH(e){return e.access_token&&e.refresh_token&&e.expires_in}const hx=["global","local","others"];class jH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$R(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=hx[0]){if(hx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hx.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ks(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:bH,redirectTo:r?.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:hO});if(m.error)throw m.error;const g=await m.json(),y=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ue(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Pl(t);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pl(t);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pl(t);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bs})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pl(t.userId);try{const{data:r,error:n}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pl(t.userId),Pl(t.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:hO});if(m.error)throw m.error;const g=await m.json(),y=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ue(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function mO(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rl={debug:!!(globalThis&&LR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _H extends zR{}async function SH(e,t,r){Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _H(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function EH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function UR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function NH(e){return parseInt(e,16)}function CH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function OH(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:c,notBefore:u,requestId:f,resources:h,scheme:m,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=UR(e.address),S=m?`${m}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${x}

${w}`;let E=`URI: ${g}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(a&&(E+=`
Expiration Time: ${a.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),f&&(E+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const C of h){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);O+=`
- ${C}`}E+=O}return`${_}
${E}`}class nr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class mm extends nr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function AH({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new nr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new nr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new nr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new nr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new nr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new nr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(BR(c)){if(s.rp.id!==c)return new nr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new nr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new nr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function TH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new nr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(BR(n)){if(r.rpId!==n)return new nr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new nr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const PH=new kH;function RH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ks(e,["challenge","user","excludeCredentials"]),s=Ql(t).buffer,c=Object.assign(Object.assign({},r),{id:Ql(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Ql(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function DH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ks(e,["challenge","allowCredentials"]),a=Ql(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Ql(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function MH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:go(new Uint8Array(e.response.attestationObject)),clientDataJSON:go(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:go(new Uint8Array(a.authenticatorData)),clientDataJSON:go(new Uint8Array(a.clientDataJSON)),signature:go(new Uint8Array(a.signature)),userHandle:a.userHandle?go(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function pO(){var e,t;return!!(Pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mm("Browser returned unexpected credential type",t)}:{data:null,error:new mm("Empty credential response",t)}}catch(t){return{data:null,error:AH({error:t,options:e})}}}async function $H(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mm("Browser returned unexpected credential type",t)}:{data:null,error:new mm("Empty credential response",t)}}catch(t){return{data:null,error:TH({error:t,options:e})}}}const zH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const c=a[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(t(c)){const u=n[s];t(u)?n[s]=pm(u,c):n[s]=pm(c)}else n[s]=c}return n}function BH(e,t){return pm(zH,e,t||{})}function qH(e,t){return pm(UH,e,t||{})}class FH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:u};const f=a??PH.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=BH(c.webauthn.credential_options.publicKey,s?.create),{data:m,error:g}=await LH({publicKey:h,signal:f});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=qH(c.webauthn.credential_options.publicKey,s?.request),{data:m,error:g}=await $H(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:f}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new mo("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Qu("rpId is required for WebAuthn authentication")};try{if(!pO())return{data:null,error:new mo("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!c)return{data:null,error:u};const{webauthn:f}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new mo("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Qu("rpId is required for WebAuthn registration")};try{if(!pO())return{data:null,error:new mo("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new mo("Unexpected error in register",c)}}}}EH();const HH={url:UF,storageKey:BF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gO(e,t,r){return await r()}const Dl={};class Ju{get jwks(){var t,r;return(r=(t=Dl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Dl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},HH),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Ju.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ju.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Pr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jH({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$R(s.fetch),this.lock=s.lock||gO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Pr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=SH:this.lock=gO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:LR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mO(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mO(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${DR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pr()&&(r=rH(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),WF(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new mo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:la}),{data:c,error:u}=s;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:m,password:g,options:y}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await kl(this.storage,this.storageKey)),s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:x,code_challenge_method:S},xform:la})}else if("phone"in t){const{phone:m,password:g,options:y}=t;s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:la})}else throw new wh("You must provide either an email or phone number and a password");const{data:c,error:u}=s;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:c,options:u}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:fO})}else if("phone"in t){const{phone:s,password:c,options:u}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:fO})}else throw new wh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Tl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,c,u,f,h,m,g,y;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:E,options:O}=t;let C;if(Pr())if(typeof _=="object")C=_;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")C=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const I=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href),A=await C.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=UR(A[0]);let N=(n=O?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const U=await C.request({method:"eth_chainId"});N=NH(U)}const T={domain:I.host,address:M,statement:E,uri:I.href,version:"1",chainId:N,nonce:(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=OH(T),S=await C.request({method:"personal_sign",params:[CH(x),M]})}try{const{data:w,error:_}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:la});if(_)throw _;if(!w||!w.session||!w.user){const E=new Tl;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(Ue(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,s,c,u,f,h,m,g,y,x;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:O,options:C}=t;let I;if(Pr())if(typeof E=="object")I=E;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))I=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=E}const A=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const M=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),O?{statement:O}:null));let N;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")N=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)N=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)S=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${A.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(a=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(m=C?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const M=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=M}}try{const{data:_,error:E}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:go(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:la});if(E)throw E;if(!_||!_.session||!_.user){const O=new Tl;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(Ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await io(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:c}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:la});if(await fs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const u=new Tl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:c})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:c}=t,u=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:la}),{data:f,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const m=new Tl;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,c;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await kl(this.storage,this.storageKey));const{error:g}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new wh("You must provide either an email or phone number.")}catch(u){if(Ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:la});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,c;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await kl(this.storage,this.storageKey));const h=await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:xH});return!((s=h.data)===null||s===void 0)&&s.url&&Pr()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(Ue(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Nn;const{error:a}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:c}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:c,error:u}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new wh("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await io(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=fx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=pH(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async r=>{var n,a,s;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:bs})})}catch(r){if(Ue(r))return GF(r)&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Nn;const c=a.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await kl(this.storage,this.storageKey));const{data:h,error:m}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:bs});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:c}=dx(t.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Nn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pr())throw new jh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new iO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new iO("No code detected.");const{data:O,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=t;if(!s||!u||!c||!h)throw new jh("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let y=m+g;f&&(y=parseInt(f));const x=y-m;x*1e3<=Bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const S=y-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,m);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const E={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await io(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(KF(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=tH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await kl(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ue(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var c,u,f,h,m;const{data:g,error:y}=s;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:c,provider:u,token:f,access_token:h,nonce:m}=t,g=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:la}),{data:y,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Tl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)throw c;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iH(async a=>(a>0&&await aH(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:la})),(a,s)=>{const c=200*Math.pow(2,a);return s&&ux(s)&&Date.now()+c-n<Bl})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await io(this.storage,this.storageKey);if(a&&this.userStorage){let c=await io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ql(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:fx()}else if(a&&!a.user&&!a.user){const c=await io(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await fs(this.storage,this.storageKey+"-user"),await ql(this.storage,this.storageKey,a)):a.user=fx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<cx;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${cx}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),ux(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Cp;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new Nn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Ue(s)){const c={data:null,error:s};return ux(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(c),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ql(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=uO(a);await ql(this.storage,this.storageKey,s)}else{const a=uO(r);await ql(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await fs(this.storage,this.storageKey),await fs(this.storage,this.storageKey+"-code-verifier"),await fs(this.storage,this.storageKey+"-user"),this.userStorage&&await fs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Bl}ms, refresh threshold is ${yb} ticks`),a<=yb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await kl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MH(t.webauthn.credential_response):IH(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:RH(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:DH(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=dx(n.access_token);let c=null;s.aal&&(c=s.aal);let u=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Nn});const c=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Pr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Nn});const c=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Pr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+HF>a)return n;const{data:s,error:c}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});n=x.session.access_token}const{header:a,payload:s,signature:c,raw:{header:u,payload:f}}=dx(n);r?.allowExpired||fH(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:s,header:a,signature:c},error:null}}const m=hH(a.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,c,JF(`${u}.${f}`)))throw new wb("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}Ju.nextInstanceID={};const VH=Ju;class KH extends VH{constructor(t){super(t)}}class GH{constructor(t,r,n){var a,s,c;this.supabaseUrl=t,this.supabaseKey=r;const u=zF(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:kF,realtime:RF,auth:Object.assign(Object.assign({},PF),{storageKey:f}),global:TF},m=$F(n??{},h);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=m.global.headers)!==null&&s!==void 0?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=IF(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new R8(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new CF(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new A8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:c,flowType:u,lock:f,debug:h,throwOnError:m},g,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KH({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:u,lock:f,debug:h,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new X8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qR=(e,t,r)=>new GH(e,t,r);function WH(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FR="https://qzzbbrloztzfjcreaumt.supabase.co",YH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6emJicmxvenR6ZmpjcmVhdW10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MDQzMTQsImV4cCI6MjA4MDM4MDMxNH0.NCUcd5cf_uy0dWH8H86pI2XfV18cBtEbDbsjKuKHxuQ",XH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6emJicmxvenR6ZmpjcmVhdW10Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDgwNDMxNCwiZXhwIjoyMDgwMzgwMzE0fQ.jjAC_vYkiKH9DNzmX6m9o96_LEY4UhoDmYJ8gka0YcE",Zr=!0,be=qR(FR,YH),vO=qR(FR,XH);async function ZH(e,t){if(!vO)return{success:!1,error:"Cliente admin no inicializado. Verifique se VITE_SUPABASE_SERVICE_ROLE_KEY est configurado corretamente."};try{console.log("Alterando senha para usurio:",e);const{data:r,error:n}=await vO.auth.admin.updateUserById(e,{password:t});return n?(console.error("Erro ao alterar senha:",n),{success:!1,error:n.message}):(console.log("Senha alterada com sucesso:",r),{success:!0})}catch(r){return console.error("Exceo ao alterar senha:",r),{success:!1,error:r.message||"Erro ao alterar senha"}}}const HR=v.createContext(void 0);function QH({children:e}){const[t,r]=v.useState(null),[n,a]=v.useState(null),[s,c]=v.useState(null),[u,f]=v.useState(!0),[h,m]=v.useState(null),g=async N=>{try{const{data:T,error:U}=await be.from("user_profiles").select("email").eq("username",N).single();return U||!T?null:T.email}catch(T){return console.error("Error fetching email by username:",T),null}},y=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),x=v.useCallback(async(N,T)=>{try{console.log("Creating user profile for:",{userId:N,email:T});const{data:U,error:G}=await be.from("user_profiles").insert({id:N,email:T,role:"usuario",full_name:null,username:null}).select().single();return G?(console.error("Error creating user profile:",G),null):(console.log("User profile created:",U),U)}catch(U){return console.error("Error creating user profile:",U),null}},[]),S=v.useCallback(async(N,T)=>{try{const{data:U,error:G}=await be.from("user_profiles").select("*").eq("id",N).single();if(G){if(console.warn("Profile not found, error:",G),G.code==="PGRST116"||G.code==="42P01"||G.message?.includes("No rows")||G.message?.includes("not found")||G.message?.includes("does not exist")){console.log("Profile does not exist, attempting to create...");let K=T;if(!K)try{const{data:se}=await be.auth.getUser();K=se?.user?.email||"unknown@example.com"}catch(se){console.error("Error getting user email:",se),K="unknown@example.com"}const F=await x(N,K);return F?(console.log("Profile created successfully"),F):(console.error("Failed to create profile automatically"),{id:N,email:K,username:null,full_name:null,role:"usuario",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}return console.error("Error fetching user profile:",G),null}return console.log("User profile fetched:",U),U}catch(U){return console.error("Error fetching user profile:",U),null}},[x]);v.useEffect(()=>{let N=!0,T=!1;const U=setTimeout(()=>{N&&!T&&(console.warn("Auth loading timeout - forcing isLoading to false"),f(!1),T=!0)},1e4);be.auth.getSession().then(({data:{session:B},error:K})=>{if(N){if(K){console.error("Error getting session:",K),m(K.message),clearTimeout(U),f(!1),T=!0;return}c(B),r(B?.user??null),B?.user?S(B.user.id,B.user.email).then(F=>{N&&(a(F),clearTimeout(U),T||(f(!1),T=!0))}).catch(F=>{console.error("Error fetching profile:",F),N&&(clearTimeout(U),T||(f(!1),T=!0))}):(clearTimeout(U),T||(f(!1),T=!0))}});const{data:{subscription:G}}=be.auth.onAuthStateChange(async(B,K)=>{if(N&&(console.log("Auth state changed:",B,K?.user?.email),T))if(c(K),r(K?.user??null),m(null),K?.user){const F=await S(K.user.id,K.user.email);N&&a(F)}else a(null)});return()=>{N=!1,clearTimeout(U),G.unsubscribe()}},[]);const w=async(N,T)=>{m(null);try{let U=N;if(!y(N)){const K=await g(N);if(!K)return m("Usurio no encontrado"),{success:!1,error:"Usurio no encontrado"};U=K}const{data:G,error:B}=await be.auth.signInWithPassword({email:U,password:T});if(B)return m(B.message),{success:!1,error:B.message};if(G.user){const K=await S(G.user.id,G.user.email);if(K&&K.enabled===!1)return await be.auth.signOut(),m("Usurio desabilitado. Entre em contato com o administrador."),{success:!1,error:"Usurio desabilitado. Entre em contato com o administrador."};a(K)}return{success:!0}}catch(U){const G=U.message||"Erro ao fazer login";return m(G),{success:!1,error:G}}},_=async(N,T,U,G)=>{m(null);try{const{error:B}=await be.auth.signUp({email:N,password:T,options:{data:{full_name:U||"",username:G||null}}});return B?(m(B.message),{success:!1,error:B.message}):{success:!0}}catch(B){const K=B.message||"Erro ao criar conta";return m(K),{success:!1,error:K}}},E=async()=>{if(t)try{const N=await S(t.id,t.email);N&&a(N)}catch(N){console.error("Error refreshing profile:",N),m(N.message||"Erro ao atualizar perfil")}},O=async()=>{m(null);try{const{error:N}=await be.auth.signOut();N?m(N.message):(r(null),a(null),c(null))}catch(N){m(N.message||"Erro ao fazer logout")}},C=N=>{if(!n)return console.warn("hasPermission: No profile found"),!1;const T=Array.isArray(N)?N:[N],U=n.role?.toLowerCase()||"usuario";return!!(U==="admin"||U==="gerente"&&(T.includes("gerente")||T.includes("usuario"))||U==="usuario"&&T.includes("usuario"))},I=n?.role==="admin",A=n?.role==="gerente",M=n?.role==="usuario";return l.jsx(HR.Provider,{value:{user:t,profile:n,session:s,isLoading:u,error:h,signIn:w,signUp:_,signOut:O,refreshProfile:E,hasPermission:C,isAdmin:I,isGerente:A,isUsuario:M},children:e})}function Fa(){const e=v.useContext(HR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const JH={enabled:!1,type:"browser",name:"",ipAddress:"",port:9100,paperSize:"80mm",autoPrint:!1},hs={language:"pt",enableTables:!0,enableOrderDisplay:!1,printer:JH,paymentDiscountLimitType:null,paymentDiscountLimitValue:null},VR=v.createContext(void 0);function eV({children:e}){const[t,r]=v.useState(hs),[n,a]=v.useState(!0),{profile:s}=Fa(),c=v.useRef(!0),u=v.useRef(!1),f=s?.role==="admin";v.useEffect(()=>{const _=async()=>{try{if(Zr){console.log("Loading global settings from database");const{data:O,error:C}=await be.from("app_settings").select("settings").eq("id","global").single();if(C&&C.code!=="PGRST116")console.error("Error loading settings from database:",C),E();else if(O&&O.settings){console.log("Settings loaded from database:",O.settings);const I={...hs,...O.settings};r(I)}else console.log("No settings found in database, using defaults"),r(hs)}}catch(O){console.error("Error loading settings:",O),E()}finally{a(!1),c.current=!1}},E=()=>{try{const O=localStorage.getItem("restaurant-settings");if(O){const C=JSON.parse(O),I={...hs,...C};r(I)}else r(hs)}catch(O){console.error("Error loading from localStorage:",O),r(hs)}};_()},[]),v.useEffect(()=>{if(n||c.current||u.current||!f)return;const _=async()=>{u.current=!0;try{if(Zr&&f){console.log("Saving global settings to database (admin user)");const{error:C}=await be.from("app_settings").upsert({id:"global",settings:t,updated_at:new Date().toISOString()},{onConflict:"id"});C?(console.error("Error saving settings to database:",C),E()):console.log("Settings saved to database successfully")}else E()}catch(C){console.error("Error saving settings:",C),E()}finally{u.current=!1}},E=()=>{try{localStorage.setItem("restaurant-settings",JSON.stringify(t)),console.log("Settings saved to localStorage:",t)}catch(C){console.error("Error saving to localStorage:",C)}},O=setTimeout(()=>{_()},500);return()=>clearTimeout(O)},[t,f,n]);const h=_=>{console.log("Updating settings:",_),r(E=>({...E,..._}))},m=_=>{console.log("Updating printer settings:",_),r(E=>({...E,printer:{...E.printer,..._}}))},g=async()=>{if(!f){console.warn("Only admins can save settings");return}try{if(Zr&&f){console.log("Manually saving global settings to database (admin user)");const{error:_}=await be.from("app_settings").upsert({id:"global",settings:t,updated_at:new Date().toISOString()},{onConflict:"id"});_?(console.error("Error manually saving settings to database:",_),localStorage.setItem("restaurant-settings",JSON.stringify(t))):console.log("Settings manually saved to database successfully")}else localStorage.setItem("restaurant-settings",JSON.stringify(t)),console.log("Settings manually saved to localStorage:",t)}catch(_){console.error("Error manually saving settings:",_)}},y=async()=>{if(!f){console.warn("Only admins can reset settings");return}r(hs);try{if(Zr&&f){console.log("Resetting global settings in database (admin user)");const{error:_}=await be.from("app_settings").upsert({id:"global",settings:hs,updated_at:new Date().toISOString()},{onConflict:"id"});_?(console.error("Error resetting settings in database:",_),localStorage.removeItem("restaurant-settings")):console.log("Settings reset in database successfully")}else localStorage.removeItem("restaurant-settings"),console.log("Settings reset in localStorage")}catch(_){console.error("Error resetting settings:",_)}},x=t.enableTables,S=t.enableOrderDisplay,w=t.printer;return l.jsx(VR.Provider,{value:{settings:t,updateSettings:h,updatePrinterSettings:m,isTablesEnabled:x,isOrderDisplayEnabled:S,printerSettings:w,saveSettings:g,resetSettings:y,isLoading:n},children:e})}function Sa(){const e=v.useContext(VR);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e}const KR=v.createContext(void 0);function tV({children:e}){const{settings:t,updateSettings:r}=Sa(),n=t?.language||"pt",a=c=>{r({language:c})},s=c=>{const u=j8[n];if(c in u){const f=u[c];return typeof f=="string"?f:c}return c};return l.jsx(KR.Provider,{value:{language:n,setLanguage:a,t:s},children:e})}function or(){const e=v.useContext(KR);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const yO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xO=pt,sj=(e,t)=>r=>{var n;if(t?.variants==null)return xO(e,r?.class,r?.className);const{variants:a,defaultVariants:s}=t,c=Object.keys(a).map(h=>{const m=r?.[h],g=s?.[h];if(m===null)return null;const y=yO(m)||yO(g);return a[h][y]}),u=r&&Object.entries(r).reduce((h,m)=>{let[g,y]=m;return y===void 0||(h[g]=y),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:g,className:y,...x}=m;return Object.entries(x).every(S=>{let[w,_]=S;return Array.isArray(_)?_.includes({...s,...u}[w]):{...s,...u}[w]===_})?[...h,g,y]:h},[]);return xO(e,c,f,r?.class,r?.className)},rV=sj("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),we=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>l.jsx("button",{className:He(rV({variant:t,size:r,className:e})),ref:s,...a}));we.displayName="Button";function GR({className:e,showText:t=!0,size:r="md"}){const n={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"},a={sm:"text-lg",md:"text-xl",lg:"text-2xl"};return l.jsxs("div",{className:He("flex items-center gap-3 min-w-0",e),children:[l.jsx("div",{className:He("relative flex-shrink-0",n[r]),children:l.jsxs("svg",{viewBox:"0 0 140 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"arrowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#0066CC"}),l.jsx("stop",{offset:"100%",stopColor:"#0052CC"})]})}),l.jsx("path",{d:"M 5 75 Q 25 50, 45 60 Q 65 70, 85 50 Q 105 30, 125 50",fill:"none",stroke:"url(#arrowGradient)",strokeWidth:"7",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M 5 75 Q 25 50, 45 60 Q 65 70, 85 50 Q 105 30, 125 50",fill:"none",stroke:"white",strokeWidth:"9",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),l.jsxs("g",{transform:"translate(25, 20)",children:[l.jsx("path",{d:"M15 15 L55 -5 L95 15 L55 35 Z",fill:"#0066CC",stroke:"white",strokeWidth:"2.5"}),l.jsx("path",{d:"M15 15 L15 55 L55 75 L55 35 Z",fill:"#0066CC",stroke:"white",strokeWidth:"2.5"}),l.jsx("path",{d:"M55 35 L95 15 L95 55 L55 75 Z",fill:"#0052CC",stroke:"white",strokeWidth:"2.5"}),l.jsx("line",{x1:"25",y1:"25",x2:"25",y2:"65",stroke:"white",strokeWidth:"2",opacity:"0.9"}),l.jsx("line",{x1:"45",y1:"20",x2:"45",y2:"70",stroke:"white",strokeWidth:"2",opacity:"0.9"}),l.jsx("line",{x1:"65",y1:"15",x2:"65",y2:"70",stroke:"white",strokeWidth:"2",opacity:"0.9"}),l.jsx("line",{x1:"85",y1:"20",x2:"85",y2:"60",stroke:"white",strokeWidth:"2",opacity:"0.9"})]}),l.jsx("path",{d:"M 120 45 L 125 50 L 120 55 Z",fill:"#0066CC",stroke:"white",strokeWidth:"2.5"})]})}),t&&l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsx("h1",{className:He("font-bold tracking-tight uppercase min-w-0",a[r]),children:l.jsx("span",{className:"text-white relative block truncate",style:{WebkitTextStroke:"3px #0066CC",WebkitTextFillColor:"white",textShadow:"2px 2px 0 #0066CC, -2px -2px 0 #0066CC, 2px -2px 0 #0066CC, -2px 2px 0 #0066CC",paintOrder:"stroke fill"},children:"JE BEBIDAS"})}),l.jsx("span",{className:He("font-bold text-[#0066CC] uppercase truncate",r==="sm"?"text-xs":r==="md"?"text-sm":"text-base"),children:"DISTRIBUIDORA"})]})]})}function nV({className:e,onClose:t}){const{t:r}=or(),{isTablesEnabled:n}=Sa(),{hasPermission:a,profile:s,signOut:c}=Fa(),u=mr(),f=async()=>{await c(),u("/login")},m=[{href:"/",label:r("dashboard"),icon:AP,requiredRole:null},{href:"/orders",label:r("orders"),icon:OP,requiredRole:null},...n?[{href:"/tables",label:r("tables"),icon:ic,requiredRole:null}]:[],{href:"/menu",label:r("menu"),icon:YB,requiredRole:null},{href:"/promotions",label:"Promoes",icon:RP,requiredRole:["admin","gerente","usuario"]},{href:"/stock",label:r("stockManagement")||"Estoque",icon:Gw,requiredRole:"admin"},{href:"/sales",label:r("salesAnalysis"),icon:xs,requiredRole:["admin","gerente"]},{href:"/finance",label:r("finance"),icon:_p,requiredRole:["admin","gerente"]},{href:"/settings",label:r("settings"),icon:kP,requiredRole:["admin","gerente"]}].filter(g=>g.requiredRole?a(g.requiredRole):!0);return l.jsxs("div",{className:He("pb-12 min-h-screen border-r bg-card flex flex-col",e),children:[l.jsx("div",{className:"space-y-4 py-4 flex-1",children:l.jsxs("div",{className:"px-3 py-2 min-w-0",children:[l.jsx("div",{className:"px-4 mb-6 py-2 min-w-0 overflow-hidden",children:l.jsx(GR,{size:"sm",showText:!0,className:"min-w-0"})}),l.jsx("div",{className:"space-y-1",children:m.map(g=>l.jsxs(Fw,{to:g.href,onClick:t,className:({isActive:y})=>He("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:text-primary",y?"bg-secondary text-primary":"text-muted-foreground"),children:[l.jsx(g.icon,{className:"h-4 w-4"}),g.label]},g.href))})]})}),l.jsxs("div",{className:"px-3 py-4 border-t",children:[s&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2 text-sm text-muted-foreground",children:[l.jsx(Nq,{className:"h-4 w-4"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"truncate font-medium",children:s.username||s.full_name||s.email}),l.jsxs("p",{className:"text-xs capitalize",children:[s.role||"sem role",s.role==="admin"&&" "]})]})]}),!s&&l.jsx("div",{className:"px-3 py-2 mb-2 text-xs text-destructive",children:" Perfil no carregado"}),l.jsxs(we,{variant:"ghost",className:"w-full justify-start",onClick:f,children:[l.jsx(GB,{className:"h-4 w-4 mr-2"}),r("logout")||"Sair"]})]})]})}const Ne=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const Ae=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:He("flex flex-col space-y-1.5 p-6",e),...t}));Ae.displayName="CardHeader";const Ie=v.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:He("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const Et=v.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:He("text-sm text-muted-foreground",e),...t}));Et.displayName="CardDescription";const Ce=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:He("p-6 pt-0",e),...t}));Ce.displayName="CardContent";const aV=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:He("flex items-center p-6 pt-0",e),...t}));aV.displayName="CardFooter";function iV(){const{t:e}=or(),{isTablesEnabled:t}=Sa(),{hasPermission:r}=Fa(),n=mr(),a=qa(),c=[{href:"/",label:e("dashboard"),icon:AP,requiredRole:null},{href:"/orders",label:e("orders"),icon:OP,requiredRole:null},...t?[{href:"/tables",label:e("tables"),icon:ic,requiredRole:null}]:[],{href:"/menu",label:e("menu"),icon:Oq,requiredRole:null},{href:"/settings",label:e("settings"),icon:kP,requiredRole:["admin","gerente"]}].filter(h=>h.requiredRole?r(h.requiredRole):!0),u=a.pathname==="/settings";let f=[];return u&&(f=[{href:"/promotions",label:"Promoes",icon:RP,requiredRole:["admin","gerente","usuario"]},{href:"/stock",label:e("stockManagement")||"Estoque",icon:Gw,requiredRole:"admin"},{href:"/sales",label:e("salesAnalysis"),icon:xs,requiredRole:["admin","gerente"]},{href:"/finance",label:e("finance"),icon:_p,requiredRole:["admin","gerente"]}].filter(m=>m.requiredRole?r(m.requiredRole):!0)),l.jsxs(l.Fragment,{children:[u&&f.length>0&&l.jsx("div",{className:"mobile-admin-cards fixed bottom-[60px] left-0 right-0 z-40 lg:hidden print:hidden px-4 pb-2 bg-background/95 backdrop-blur-sm",children:l.jsx("div",{className:"grid grid-cols-3 gap-2 max-w-screen-md mx-auto",children:f.map(h=>l.jsx(Ne,{className:"cursor-pointer hover:bg-accent transition-colors active:scale-95 shadow-sm",onClick:()=>n(h.href),children:l.jsxs(Ce,{className:"flex flex-col items-center justify-center gap-1 p-2.5 min-h-[60px]",children:[l.jsx(h.icon,{className:"h-5 w-5 text-primary flex-shrink-0"}),l.jsx("span",{className:"text-xs font-medium text-center leading-tight line-clamp-2",children:h.label})]})},h.href))})}),l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-card border-t lg:hidden print:hidden mobile-bottom-nav",children:l.jsx("div",{className:"grid gap-1 px-2 py-2",style:{gridTemplateColumns:`repeat(${c.length}, minmax(0, 1fr))`},children:c.map(h=>l.jsxs(Fw,{to:h.href,className:({isActive:m})=>He("flex flex-col items-center justify-center gap-1 rounded-lg px-2 py-2 text-xs font-medium transition-all min-h-[60px]",m?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[l.jsx(h.icon,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"truncate max-w-full text-center leading-tight",children:h.label})]},h.href))})})]})}function sV({children:e}){const r=qa().pathname==="/settings";return v.useEffect(()=>(r?document.body.classList.add("has-admin-cards"):document.body.classList.remove("has-admin-cards"),()=>{document.body.classList.remove("has-admin-cards")}),[r]),l.jsxs("div",{className:"flex h-screen bg-background",children:[l.jsx("div",{className:"hidden lg:block w-64 shrink-0 print:hidden",children:l.jsx(nV,{className:"h-full"})}),l.jsx("main",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:l.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 lg:p-8 mobile-content lg:pb-8 print:p-0 print:overflow-visible print:pb-0 mb-safe w-full min-w-0",children:e})}),l.jsx(iV,{})]})}const Xh=e=>({id:e.id,name:e.name,price:e.price??0,description:e.description??"",category:e.category??"",status:e.status??"Available",image:e.image??"",is_cold:e.is_cold??!1,discount_type:e.discount_type??null,discount_value:e.discount_value??null,discount_applies_to:e.discount_applies_to??null}),oV=[{id:1,name:"Margherita Pizza",price:25,description:"Classic tomato and mozzarella",category:"Pizza",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:2,name:"Carbonara Pasta",price:22,description:"Creamy bacon pasta",category:"Pasta",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:3,name:"Caesar Salad",price:18,description:"Fresh romaine with Caesar dressing",category:"Salads",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:4,name:"Tiramisu",price:12,description:"Classic Italian dessert",category:"Desserts",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];oV.map(Xh);const WR=v.createContext(void 0);function lV({children:e}){const[t,r]=v.useState([]),[n,a]=v.useState([]),[s,c]=v.useState([]),[u,f]=v.useState([]),[h,m]=v.useState([]),[g,y]=v.useState(1),[x,S]=v.useState(!0),[w,_]=v.useState(null),E=async()=>{S(!0),_(null);try{console.log("Fetching products (menu items)...");const{data:X,error:D}=await be.from("products").select("*").order("id");if(D)throw console.error("Error fetching products:",D),D;if(console.log("All products fetched:",X?.length||0),X){const ee=X.filter(Y=>Y.price!=null&&Y.price>0);console.log("Sellable products (with price):",ee.length);const ce=ee.map(Xh);console.log("Menu items converted:",ce.length),r(ce)}else console.warn("No products data returned"),r([]);const{data:H,error:Q}=await be.from("restaurant_tables").select("*").order("id");if(Q)throw Q;H&&c(H);const{data:P,error:V}=await be.from("orders").select("*, items:order_items(*)").order("created_at",{ascending:!1});if(V)throw V;if(P){const ee=P.map(Y=>({id:Y.id,customer:Y.customer,table:Y.table_number,orderType:Y.order_type||"dine_in",order_discount_type:Y.order_discount_type||null,order_discount_value:Y.order_discount_value||null,total:Y.total,status:Y.status,time:new Date(Y.created_at).toLocaleString(),created_at:Y.created_at,closedAt:Y.closed_at,notes:Y.notes,paymentMethod:Y.payment_method,cancellation_reason:Y.cancellation_reason||null,items:Y.items.map(ae=>({id:ae.product_id||ae.menu_item_id,name:ae.name,price:ae.price,quantity:ae.quantity}))}));a(ee);const ce=ee.map(Y=>{const ae=parseInt(Y.id,10);return isNaN(ae)?0:ae}).filter(Y=>Y>0);if(ce.length>0){const Y=Math.max(...ce);y(Y+1)}}const{data:ie,error:W}=await be.from("expenses").select("*").order("date",{ascending:!1});W&&console.error("Error fetching expenses:",W),ie&&f(ie);const{data:je,error:$}=await be.from("categories").select("*").order("name");$&&console.error("Error fetching categories:",$),je&&m(je)}catch(X){console.error("Error fetching data:",X),_(X.message||"Failed to load data")}finally{S(!1)}};v.useEffect(()=>{E();{console.log("Setting up real-time subscriptions...");const X=be.channel("restaurant-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},D=>{console.log("Real-time order update detected:",D),E()}).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},D=>{console.log("Real-time table update detected:",D),E()}).on("postgres_changes",{event:"*",schema:"public",table:"products"},D=>{console.log("Real-time products update detected:",D),E()}).on("postgres_changes",{event:"*",schema:"public",table:"expenses"},D=>{console.log("Real-time expense update detected:",D),E()}).on("postgres_changes",{event:"*",schema:"public",table:"categories"},D=>{console.log("Real-time category update detected:",D),E()}).subscribe(D=>{console.log("Real-time subscription status:",D)});return()=>{console.log("Cleaning up real-time subscriptions"),be.removeChannel(X)}}},[]);const O=async X=>{a(P=>[X,...P]);const{error:D}=await be.from("orders").insert({id:X.id,customer:X.customer,table_number:X.table,order_type:X.orderType,total:X.total,status:X.status,created_at:new Date().toISOString(),notes:X.notes,order_discount_type:X.order_discount_type||null,order_discount_value:X.order_discount_value||null});if(D)return console.error("Error adding order:",D),a(P=>P.filter(V=>V.id!==X.id)),{success:!1,error:D.message};const H=X.items.map(P=>({order_id:X.id,product_id:P.id&&P.id>0?P.id:null,menu_item_id:null,name:P.name,price:P.price,quantity:P.quantity})),{error:Q}=await be.from("order_items").insert(H);if(Q)return console.error("Error adding items:",Q),{success:!1,error:Q.message};try{const{data:{user:P}}=await be.auth.getUser();for(const V of X.items){const{data:ie}=await be.from("products").select("id").or(`id.eq.${V.id},name.ilike.%${V.name}%`).limit(1);if(ie&&ie.length>0){const W=ie[0].id;await be.from("stock_movements").insert({product_id:W,movement_type:"exit",quantity:V.quantity,reference_id:parseInt(X.id.replace(/\D/g,""))||null,reference_type:"order",notes:`Sada via pedido ${X.id} (criao do pedido)`,created_by:P?.id||null})}}}catch(P){console.error("Error reducing stock:",P)}if(X.table){const P=s.find(V=>V.number===X.table);P&&A(P.id,"Occupied")}return{success:!0}},C=async(X,D)=>{console.log(`Updating order ${X} to status: ${D}`);const H=[...n];a(P=>P.map(V=>V.id===X?{...V,status:D}:V));const{error:Q}=await be.from("orders").update({status:D}).eq("id",X);return Q?(console.error("Error updating order status:",Q),a(H),{success:!1,error:Q.message}):(console.log("Order status updated successfully in database"),{success:!0})},I=async X=>{const{data:D,error:H}=await be.from("restaurant_tables").insert({number:X,status:"Available"}).select();return D?(c(Q=>[...Q,D[0]]),{success:!0}):H?(console.error("Error adding table:",H),{success:!1,error:H.message}):{success:!1,error:"Unknown error occurred"}},A=async(X,D)=>{c(H=>H.map(Q=>Q.id===X?{...Q,status:D}:Q)),await be.from("restaurant_tables").update({status:D}).eq("id",X)},M=async(X,D)=>{const H=new Date().toISOString(),Q=[...n],P=n.find(ie=>ie.id===X);a(ie=>ie.map(W=>W.id===X?{...W,status:"Closed",paymentMethod:D,closedAt:H}:W));const{error:V}=await be.from("orders").update({status:"Closed",payment_method:D,closed_at:H}).eq("id",X);if(V)return console.error("Error processing payment:",V),a(Q),{success:!1,error:V.message};if(P)try{const{data:{user:ie}}=await be.auth.getUser();for(const W of P.items){const{data:je}=await be.from("products").select("id").or(`id.eq.${W.id},name.ilike.%${W.name}%`).limit(1);if(je&&je.length>0){const $=je[0].id;await be.from("stock_movements").insert({product_id:$,movement_type:"exit",quantity:W.quantity,reference_id:parseInt(X.replace(/\D/g,""))||null,reference_type:"order",notes:`Sada via pedido ${X}`,created_by:ie?.id||null})}}}catch(ie){console.error("Error reducing stock:",ie)}if(P&&P.table&&n.filter(W=>W.table===P.table&&W.id!==X&&W.status!=="Closed").length===0){const W=s.find(je=>je.number===P.table);W&&A(W.id,"Available")}return{success:!0}},N=async(X,D)=>{const H=s.find(W=>W.id===X);if(!H)return{success:!1,error:"Table not found"};const Q=new Date().toISOString(),P=[...n];a(W=>W.map(je=>je.table===H.number&&je.status!=="Closed"?{...je,status:"Closed",paymentMethod:D,closedAt:Q}:je));const{data:V,error:ie}=await be.from("orders").select("id").eq("table_number",H.number).neq("status","Closed");if(ie)return console.error("Error fetching active orders:",ie),a(P),{success:!1,error:ie.message};if(V&&V.length>0){const W=V.map($=>$.id),{error:je}=await be.from("orders").update({status:"Closed",payment_method:D,closed_at:Q}).in("id",W);if(je)return console.error("Error closing orders:",je),a(P),{success:!1,error:je.message};try{const{data:{user:$}}=await be.auth.getUser(),{data:ee,error:ce}=await be.from("orders").select("*, items:order_items(*)").in("id",W);if(ce)console.error("Error fetching orders for stock reduction:",ce);else if(ee){const Y=ee.map(ae=>({id:ae.id,customer:ae.customer,table:ae.table_number,orderType:ae.order_type||"dine_in",total:ae.total,status:ae.status,time:new Date(ae.created_at).toLocaleString(),closedAt:ae.closed_at,notes:ae.notes,paymentMethod:ae.payment_method,items:ae.items.map(he=>({id:he.product_id||he.menu_item_id,name:he.name,price:he.price,quantity:he.quantity}))}));for(const ae of Y)for(const he of ae.items){const{data:Se}=await be.from("products").select("id").or(`id.eq.${he.id},name.ilike.%${he.name}%`).limit(1);if(Se&&Se.length>0){const Oe=Se[0].id;await be.from("stock_movements").insert({product_id:Oe,movement_type:"exit",quantity:he.quantity,reference_id:parseInt(ae.id.replace(/\D/g,""))||null,reference_type:"order",notes:`Sada via pedido ${ae.id} (fechamento de mesa)`,created_by:$?.id||null})}}}}catch($){console.error("Error reducing stock:",$)}}return A(X,"Available"),{success:!0}},T=async X=>{const D=n.find(Q=>Q.id===X);if(!D)return{success:!1,error:"Pedido no encontrado"};if(D.status!=="Closed")return{success:!1,error:"Apenas pedidos fechados podem ser cancelados"};const H=[...n];a(Q=>Q.map(P=>P.id===X?{...P,status:"Cancelled",paymentMethod:void 0,closedAt:void 0}:P));try{const{error:Q}=await be.from("orders").update({status:"Cancelled",payment_method:null,closed_at:null}).eq("id",X);if(Q)return console.error("Error cancelling order:",Q),a(H),{success:!1,error:Q.message};if(D.table){const{data:P}=await be.from("orders").select("id").eq("table_number",D.table).in("status",["Pending","Preparing","Ready","Delivered","Closed"]);if(!P||P.length===0){const V=s.find(ie=>ie.number===D.table);V&&A(V.id,"Available")}}return{success:!0}}catch(Q){return console.error("Error cancelling order:",Q),a(H),{success:!1,error:Q.message||"Erro ao cancelar pedido"}}},U=async(X,D,H)=>{const Q=n.find(W=>W.id===X);if(!Q)return{success:!1,error:"Pedido no encontrado"};if(Q.status==="Closed")return{success:!1,error:"Pedidos pagos no podem ser cancelados"};if(Q.status==="Cancelled")return{success:!1,error:"Pedido j est cancelado"};const{data:{session:P}}=await be.auth.getSession(),V=P?.user?.id;try{let W=!1,je=null,$=null;if(V){const{data:ee}=await be.from("user_profiles").select("email, role").eq("id",V).single();if($=ee,$&&($.role==="admin"||$.role==="gerente"))try{const{data:ce,error:Y}=await be.auth.signInWithPassword({email:$.email,password:D});!Y&&ce.user&&(W=!0,je=ce.user)}catch{}}if(!W){const{data:ee,error:ce}=await be.from("user_profiles").select("email, role").in("role",["admin","gerente"]);if(ce||!ee||ee.length===0)return P&&await be.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token}),{success:!1,error:"Erro ao validar permisses"};for(const Y of ee)if(!(V&&$&&Y.email===$.email))try{const{data:ae,error:he}=await be.auth.signInWithPassword({email:Y.email,password:D});if(!he&&ae.user){const{data:Se}=await be.from("user_profiles").select("role").eq("id",ae.user.id).single();if(Se&&(Se.role==="admin"||Se.role==="gerente")){W=!0,je=ae.user;break}else await be.auth.signOut()}}catch{continue}}if(!W||!je)return P&&await be.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token}),{success:!1,error:"Senha de admin/gerente invlida"};P&&V!==je.id&&await be.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token})}catch(W){if(P)try{await be.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token})}catch(je){console.error("Error restoring session:",je)}return{success:!1,error:W.message||"Erro ao validar senha"}}const ie=[...n];a(W=>W.map(je=>je.id===X?{...je,status:"Cancelled",cancellation_reason:H}:je));try{const{error:W}=await be.from("orders").update({status:"Cancelled",cancellation_reason:H}).eq("id",X);if(W)return console.error("Error cancelling order:",W),a(ie),{success:!1,error:W.message};try{const{data:{user:je}}=await be.auth.getUser();for(const $ of Q.items){const{data:ee}=await be.from("products").select("id").or(`id.eq.${$.id},name.ilike.%${$.name}%`).limit(1);if(ee&&ee.length>0){const ce=ee[0].id;await be.from("stock_movements").insert({product_id:ce,movement_type:"entry",quantity:$.quantity,reference_id:parseInt(X.replace(/\D/g,""))||null,reference_type:"order_cancellation",notes:`Entrada via cancelamento do pedido ${X} - ${H}`,created_by:je?.id||null})}}}catch(je){return console.error("Error returning stock:",je),a(ie),await be.from("orders").update({status:Q.status,cancellation_reason:null}).eq("id",X),{success:!1,error:"Erro ao devolver estoque. Cancelamento revertido."}}if(Q.table){const{data:je}=await be.from("orders").select("id").eq("table_number",Q.table).in("status",["Pending","Preparing","Ready","Delivered","Closed"]);if(!je||je.length===0){const $=s.find(ee=>ee.number===Q.table);$&&A($.id,"Available")}}return{success:!0}}catch(W){return console.error("Error cancelling order:",W),a(ie),{success:!1,error:W.message||"Erro ao cancelar pedido"}}},G=async X=>{const D={name:X.name,price:X.price,description:X.description,category:X.category,status:X.status,image:X.image},{data:H,error:Q}=await be.from("products").insert(D).select().single();if(H){const P=Xh(H);return r(V=>[...V,P]),{success:!0,data:P}}return Q?(console.error("Error adding product:",Q),{success:!1,error:Q.message}):{success:!1,error:"Unknown error occurred"}},B=async(X,D)=>{const H=[...t];r(Q=>Q.map(P=>P.id===X?{...P,...D}:P));try{const Q={};D.name!==void 0&&(Q.name=D.name),D.price!==void 0&&(Q.price=D.price),D.description!==void 0&&(Q.description=D.description),D.category!==void 0&&(Q.category=D.category),D.status!==void 0&&(Q.status=D.status),D.image!==void 0&&(Q.image=D.image);const{error:P}=await be.from("products").update(Q).eq("id",X);return P?(console.error("Error updating product:",P),r(H),P.message?.includes("foreign key constraint")||P.message?.includes("violates foreign key")?{success:!1,error:"No  possvel editar este item porque ele est sendo usado em pedidos existentes. Voc pode criar um novo item ou aguardar que os pedidos sejam finalizados."}:{success:!1,error:P.message}):{success:!0}}catch(Q){return r(H),console.error("Error updating product:",Q),Q.message?.includes("foreign key constraint")||Q.message?.includes("violates foreign key")?{success:!1,error:"No  possvel editar este item porque ele est sendo usado em pedidos existentes. Voc pode criar um novo item ou aguardar que os pedidos sejam finalizados."}:{success:!1,error:Q.message||"Erro ao atualizar item"}}},K=async X=>{if(!X.name||X.name.trim()==="")return{success:!1,error:"Nome do produto  obrigatrio"};if(!X.price&&!X.unit)return{success:!1,error:"Produto deve ter preo de venda ou informaes de estoque"};try{const D={name:X.name.trim(),category:X.category||null,image:X.image||null,price:X.price||null,description:X.description||null,status:X.status||(X.price?"Available":null),unit:X.unit||null,min_stock:X.min_stock??null,current_stock:X.current_stock??null,cost_price:X.cost_price||null,product_type:X.product_type||null,ncm:X.ncm||null,cst_icms:X.cst_icms||null,cfop:X.cfop||null,icms_rate:X.icms_rate||null,ipi_rate:X.ipi_rate||null,ean_code:X.ean_code||null};console.log("Inserindo produto no banco:",D);const{data:H,error:Q}=await be.from("products").insert(D).select().single();if(Q)return console.error("Error adding product:",Q),{success:!1,error:Q.message};if(!H)return console.error("No data returned from insert"),{success:!1,error:"Erro desconhecido ao criar produto"};console.log("Produto criado com sucesso:",H);const P=H;if(P.price){const V=Xh(P);r(ie=>ie.find(W=>W.id===V.id)?ie.map(W=>W.id===V.id?V:W):[...ie,V])}return{success:!0,data:P}}catch(D){return console.error("Error adding product (catch):",D),{success:!1,error:D.message||"Erro ao criar produto"}}},F=async X=>{const D=[...t];r(H=>H.filter(Q=>Q.id!==X));try{const{error:H}=await be.from("products").delete().eq("id",X);return H?(r(D),console.error("Error deleting product:",H),{success:!1,error:H.message}):{success:!0}}catch(H){return r(D),console.error("Error deleting product:",H),{success:!1,error:H.message||"Erro ao excluir item"}}},se=async X=>{const D=Date.now(),H={...X,id:D};f(V=>[H,...V]);const{data:Q,error:P}=await be.from("expenses").insert(X).select();return Q?(f(V=>V.map(ie=>ie.id===D?Q[0]:ie)),{success:!0}):P?(console.error("Error adding expense:",P),f(V=>V.filter(ie=>ie.id!==D)),{success:!1,error:P.message}):{success:!1,error:"Unknown error"}},J=async X=>{f(H=>H.filter(Q=>Q.id!==X));const{error:D}=await be.from("expenses").delete().eq("id",X);D&&console.error("Error deleting expense:",D)},L=async X=>{const{data:D,error:H}=await be.from("categories").insert({name:X}).select();return D?(m(Q=>[...Q,D[0]]),{success:!0}):H?(console.error("Error adding category:",H),{success:!1,error:H.message}):{success:!1,error:"Unknown error"}},R=async(X,D)=>{const H=h.find(V=>V.id===X);if(!H)return{success:!1,error:"Category not found"};m(V=>V.map(ie=>ie.id===X?{...ie,name:D}:ie)),r(V=>V.map(ie=>ie.category===H.name?{...ie,category:D}:ie));const{error:Q}=await be.from("categories").update({name:D}).eq("id",X);if(Q)return console.error("Error updating category:",Q),m(V=>V.map(ie=>ie.id===X?H:ie)),r(V=>V.map(ie=>ie.category===D?{...ie,category:H.name}:ie)),{success:!1,error:Q.message};const{error:P}=await be.from("products").update({category:D}).eq("category",H.name);return P?(console.error("Error updating menu items category:",P),{success:!1,error:"Category renamed but failed to update menu items: "+P.message}):{success:!0}},q=async X=>{m(H=>H.filter(Q=>Q.id!==X));const{error:D}=await be.from("categories").delete().eq("id",X);return D?(console.error("Error deleting category:",D),{success:!1,error:D.message}):{success:!0}},re=async()=>{try{const{data:D,error:H}=await be.from("orders").select("id").order("created_at",{ascending:!1}).limit(1e3);if(!H&&D&&D.length>0){const Q=D.map(P=>{const V=parseInt(P.id,10);return isNaN(V)?0:V}).filter(P=>P>0);if(Q.length>0){const V=Math.max(...Q)+1;return y(V+1),V.toString().padStart(4,"0")}}return y(2),"0001"}catch(D){console.error("Error generating order ID:",D);const H=Date.now().toString().slice(-8),Q=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${H}${Q}`}const X=g.toString().padStart(4,"0");return y(D=>D+1),X};return l.jsx(WR.Provider,{value:{menuItems:t,orders:n,tables:s,addOrder:O,addTable:I,updateOrderStatus:C,updateTableStatus:A,processPayment:M,closeTable:N,cancelOrder:T,cancelUnpaidOrder:U,addMenuItem:G,updateMenuItem:B,deleteMenuItem:F,addProduct:K,expenses:u,addExpense:se,deleteExpense:J,categories:h,addCategory:L,updateCategory:R,deleteCategory:q,generateOrderId:re,isLoading:x,error:w,isDemoMode:!Zr},children:e})}function Hr(){const e=v.useContext(WR);if(e===void 0)throw new Error("useRestaurant must be used within a RestaurantProvider");return e}function cV(){const e=mr(),{orders:t,tables:r}=Hr(),{t:n}=or(),{isTablesEnabled:a}=Sa(),s=t.filter(f=>f.status!=="Closed").reduce((f,h)=>f+h.total,0),c=t.filter(f=>f.status!=="Delivered"&&f.status!=="Closed").length,u=a?r.filter(f=>f.status==="Available").length:0;return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n("dashboard")}),l.jsx("p",{className:"text-muted-foreground",children:n("manageOrders")})]}),l.jsxs(we,{onClick:()=>e("/orders/new"),children:[l.jsx(pn,{className:"mr-2 h-4 w-4"})," ",n("newOrder")]})]}),l.jsxs("div",{className:`grid gap-4 grid-cols-2 md:grid-cols-2 ${a?"lg:grid-cols-4":"lg:grid-cols-3"}`,children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:n("totalRevenue")}),l.jsx(_p,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:ge(s)})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:n("activeOrders")}),l.jsx(pa,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:c})})]}),a&&l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:n("availableTables")}),l.jsx(DP,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:u})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:n("recentOrders")}),l.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:t.length})})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:n("recentOrders")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n("recentOrdersDescription")||"Latest completed transactions."})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-8",children:[t.filter(f=>f.status==="Closed").slice(0,5).map(f=>l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:f.customer}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.id,"  ",f.table?`${n("table")} ${f.table}`:f.orderType?n(f.orderType==="dine_in"?"dineIn":f.orderType):n("dineIn")]})]}),l.jsxs("div",{className:"ml-auto font-medium",children:["+",ge(f.total)]})]},f.id)),t.filter(f=>f.status==="Closed").length===0&&l.jsx("div",{className:"text-center text-muted-foreground py-4",children:n("noOrders")})]})})]})]})}const Ee=v.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Ee.displayName="Input";function uV(){const e=mr(),{orders:t}=Hr(),{isTablesEnabled:r}=Sa(),[n,a]=v.useState(""),[s,c]=v.useState("all");v.useEffect(()=>{!r&&s==="mesa"&&c("all")},[r,s]);const u=t.filter(g=>{const y=g.id.toLowerCase().includes(n.toLowerCase())||g.table&&g.table.toLowerCase().includes(n.toLowerCase())||g.customer.toLowerCase().includes(n.toLowerCase()),x=s==="all"||s==="delivery"&&g.orderType==="delivery"||s==="pickup"&&g.orderType==="takeout"||s==="mesa"&&g.orderType==="dine_in";return y&&x}),f=g=>{switch(g.toLowerCase()){case"pending":case"preparing":return{label:"Pendente",className:"bg-destructive/10 text-destructive border-destructive/20",icon:dn};case"ready":return{label:"Pronto",className:"bg-green-100 text-green-700 border-green-200",icon:Es};case"delivered":case"closed":return{label:"Entregue",className:"bg-green-100 text-green-700 border-green-200",icon:Es};case"cancelled":return{label:"CANCELADO",className:"bg-red-100 text-red-700 border-red-200",icon:dn};default:return{label:g,className:"bg-muted text-muted-foreground border-border",icon:dn}}},h=g=>{switch(g){case"delivery":return um;case"takeout":return pa;case"dine_in":return ic;default:return pa}},m=g=>{switch(g){case"delivery":return"Delivery";case"takeout":return"Retirada";case"dine_in":return"Mesa";default:return"Mesa"}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("header",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Pedidos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerenciar pedidos desta mesa"})]}),l.jsxs(we,{onClick:()=>e("/orders/new"),className:"bg-primary hover:bg-primary/90 text-primary-foreground font-bold py-2 px-6 rounded-lg flex items-center shadow-sm",children:[l.jsx("span",{className:"text-2xl font-light mr-2",children:"+"}),"Novo Pedido"]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:l.jsx(Ww,{className:"w-5 h-5 text-muted-foreground"})}),l.jsx(Ee,{className:"w-full pl-10 pr-4 py-3 border border-input rounded-lg focus:ring-primary focus:border-primary transition",placeholder:"Buscar por nome ou cdigo...",type:"text",value:n,onChange:g=>a(g.target.value)})]}),l.jsxs("div",{className:"flex justify-between items-center gap-2 border border-border rounded-lg p-2 bg-card",children:[l.jsx(we,{variant:s==="all"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="all"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c("all"),children:"Todos"}),l.jsxs(we,{variant:s==="delivery"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="delivery"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c(s==="delivery"?"all":"delivery"),children:[l.jsx(um,{className:"w-4 h-4"}),"Delivery"]}),l.jsxs(we,{variant:s==="pickup"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="pickup"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c(s==="pickup"?"all":"pickup"),children:[l.jsx(pa,{className:"w-4 h-4"}),"Retirada"]}),r&&l.jsxs(we,{variant:s==="mesa"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="mesa"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c(s==="mesa"?"all":"mesa"),children:[l.jsx(ic,{className:"w-4 h-4"}),"Mesa"]})]})]}),l.jsx("main",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.length===0?l.jsx("div",{className:"col-span-full text-center text-muted-foreground py-8",children:"Nenhum pedido encontrado"}):u.map(g=>{const y=f(g.status),x=h(g.orderType||"dine_in"),S=y.icon;return l.jsxs("article",{className:"bg-card rounded-xl p-6 shadow-[0_4px_6px_-1px_rgb(0_0_0_/_0.1),_0_2px_4px_-2px_rgb(0_0_0_/_0.1)] cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e(`/orders/${g.id}`),children:[l.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-primary",children:"ID do Pedido"}),l.jsx("div",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full",children:l.jsx("span",{className:"font-mono font-bold text-sm tracking-wider",children:g.id})})]})}),l.jsx("div",{className:"space-y-4 my-2.5",children:l.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[l.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground truncate",children:g.customer}),l.jsxs("span",{className:`flex items-center gap-2 text-sm font-medium px-3 py-1 rounded-full border w-fit ${y.className}`,children:[l.jsx(S,{className:"w-4 h-4 shrink-0"}),l.jsx("span",{className:"whitespace-nowrap",children:y.label})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Tipo:"}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(x,{className:"w-5 h-5"}),m(g.orderType||"dine_in")]})]}),g.table&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Mesa:"}),l.jsx("span",{className:"font-medium",children:g.table})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Itens:"}),l.jsx("span",{children:g.items.length})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Hora:"}),l.jsx("span",{className:"font-mono",children:g.time.split(" ")[1]})]}),g.status==="Cancelled"&&g.cancellation_reason&&l.jsxs("div",{className:"flex flex-col gap-1 pt-2 border-t border-border",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Justificativa:"}),l.jsx("span",{className:"text-sm font-medium text-red-600",children:g.cancellation_reason})]})]})}),l.jsxs("div",{className:"border-t border-border pt-4 flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-bold text-foreground",children:"Total:"}),l.jsx("span",{className:"text-2xl font-bold text-primary",children:ge(g.total)})]})]},g.id)})})]})}function bO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oj(...e){return t=>{let r=!1;const n=e.map(a=>{const s=bO(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():bO(e[a],null)}}}}function Ct(...e){return v.useCallback(oj(...e),e)}var dV=Symbol.for("react.lazy"),gm=xp[" use ".trim().toString()];function fV(e){return typeof e=="object"&&e!==null&&"then"in e}function YR(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===dV&&"_payload"in e&&fV(e._payload)}function hV(e){const t=mV(e),r=v.forwardRef((n,a)=>{let{children:s,...c}=n;YR(s)&&typeof gm=="function"&&(s=gm(s._payload));const u=v.Children.toArray(s),f=u.find(gV);if(f){const h=f.props.children,m=u.map(g=>g===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return l.jsx(t,{...c,ref:a,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function mV(e){const t=v.forwardRef((r,n)=>{let{children:a,...s}=r;if(YR(a)&&typeof gm=="function"&&(a=gm(a._payload)),v.isValidElement(a)){const c=yV(a),u=vV(s,a.props);return a.type!==v.Fragment&&(u.ref=n?oj(n,c):c),v.cloneElement(a,u)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pV=Symbol("radix.slottable");function gV(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pV}function vV(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...u)=>{const f=s(...u);return a(...u),f}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function yV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bV=xV.reduce((e,t)=>{const r=hV(`Primitive.${t}`),n=v.forwardRef((a,s)=>{const{asChild:c,...u}=a,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...u,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),wV="Label",XR=v.forwardRef((e,t)=>l.jsx(bV.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));XR.displayName=wV;var ZR=XR;const jV=sj("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oe=v.forwardRef(({className:e,...t},r)=>l.jsx(ZR,{ref:r,className:He(jV(),e),...t}));oe.displayName=ZR.displayName;function wO(e,[t,r]){return Math.min(r,Math.max(t,e))}function tt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function _V(e,t){const r=v.createContext(t),n=s=>{const{children:c,...u}=s,f=v.useMemo(()=>u,Object.values(u));return l.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function a(s){const c=v.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function ki(e,t=[]){let r=[];function n(s,c){const u=v.createContext(c),f=r.length;r=[...r,c];const h=g=>{const{scope:y,children:x,...S}=g,w=y?.[e]?.[f]||u,_=v.useMemo(()=>S,Object.values(S));return l.jsx(w.Provider,{value:_,children:x})};h.displayName=s+"Provider";function m(g,y){const x=y?.[e]?.[f]||u,S=v.useContext(x);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[h,m]}const a=()=>{const s=r.map(c=>v.createContext(c));return function(u){const f=u?.[e]||s;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return a.scopeName=e,[n,SV(a,...t)]}function SV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const g=f(s)[`__scope${h}`];return{...u,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function ed(e){const t=EV(e),r=v.forwardRef((n,a)=>{const{children:s,...c}=n,u=v.Children.toArray(s),f=u.find(CV);if(f){const h=f.props.children,m=u.map(g=>g===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return l.jsx(t,{...c,ref:a,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function EV(e){const t=v.forwardRef((r,n)=>{const{children:a,...s}=r;if(v.isValidElement(a)){const c=AV(a),u=OV(s,a.props);return a.type!==v.Fragment&&(u.ref=n?oj(n,c):c),v.cloneElement(a,u)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NV=Symbol("radix.slottable");function CV(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NV}function OV(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...u)=>{const f=s(...u);return a(...u),f}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function AV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function QR(e){const t=e+"CollectionProvider",[r,n]=ki(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:E}=w,O=ps.useRef(null),C=ps.useRef(new Map).current;return l.jsx(a,{scope:_,itemMap:C,collectionRef:O,children:E})};c.displayName=t;const u=e+"CollectionSlot",f=ed(u),h=ps.forwardRef((w,_)=>{const{scope:E,children:O}=w,C=s(u,E),I=Ct(_,C.collectionRef);return l.jsx(f,{ref:I,children:O})});h.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",y=ed(m),x=ps.forwardRef((w,_)=>{const{scope:E,children:O,...C}=w,I=ps.useRef(null),A=Ct(_,I),M=s(m,E);return ps.useEffect(()=>(M.itemMap.set(I,{ref:I,...C}),()=>void M.itemMap.delete(I))),l.jsx(y,{[g]:"",ref:A,children:O})});x.displayName=m;function S(w){const _=s(e+"CollectionConsumer",w);return ps.useCallback(()=>{const O=_.collectionRef.current;if(!O)return[];const C=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((M,N)=>C.indexOf(M.ref.current)-C.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:x},S,n]}var TV=v.createContext(void 0);function Op(e){const t=v.useContext(TV);return e||t||"ltr"}var kV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=kV.reduce((e,t)=>{const r=ed(`Primitive.${t}`),n=v.forwardRef((a,s)=>{const{asChild:c,...u}=a,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...u,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PV(e,t){e&&Uo.flushSync(()=>e.dispatchEvent(t))}function Ns(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>t.current?.(...r),[])}function RV(e,t=globalThis?.document){const r=Ns(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var DV="DismissableLayer",jb="dismissableLayer.update",MV="dismissableLayer.pointerDownOutside",IV="dismissableLayer.focusOutside",jO,JR=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lj=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:u,...f}=e,h=v.useContext(JR),[m,g]=v.useState(null),y=m?.ownerDocument??globalThis?.document,[,x]=v.useState({}),S=Ct(t,N=>g(N)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(_),O=m?w.indexOf(m):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,I=O>=E,A=zV(N=>{const T=N.target,U=[...h.branches].some(G=>G.contains(T));!I||U||(a?.(N),c?.(N),N.defaultPrevented||u?.())},y),M=UV(N=>{const T=N.target;[...h.branches].some(G=>G.contains(T))||(s?.(N),c?.(N),N.defaultPrevented||u?.())},y);return RV(N=>{O===h.layers.size-1&&(n?.(N),!N.defaultPrevented&&u&&(N.preventDefault(),u()))},y),v.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jO=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),_O(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=jO)}},[m,y,r,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),_O())},[m,h]),v.useEffect(()=>{const N=()=>x({});return document.addEventListener(jb,N),()=>document.removeEventListener(jb,N)},[]),l.jsx(rt.div,{...f,ref:S,style:{pointerEvents:C?I?"auto":"none":void 0,...e.style},onFocusCapture:tt(e.onFocusCapture,M.onFocusCapture),onBlurCapture:tt(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:tt(e.onPointerDownCapture,A.onPointerDownCapture)})});lj.displayName=DV;var LV="DismissableLayerBranch",$V=v.forwardRef((e,t)=>{const r=v.useContext(JR),n=v.useRef(null),a=Ct(t,n);return v.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(rt.div,{...e,ref:a})});$V.displayName=LV;function zV(e,t=globalThis?.document){const r=Ns(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let f=function(){eD(MV,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function UV(e,t=globalThis?.document){const r=Ns(e),n=v.useRef(!1);return v.useEffect(()=>{const a=s=>{s.target&&!n.current&&eD(IV,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _O(){const e=new CustomEvent(jb);document.dispatchEvent(e)}function eD(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?PV(a,s):a.dispatchEvent(s)}var mx=0;function tD(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SO()),document.body.insertAdjacentElement("beforeend",e[1]??SO()),mx++,()=>{mx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mx--}},[])}function SO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var px="focusScope.autoFocusOnMount",gx="focusScope.autoFocusOnUnmount",EO={bubbles:!1,cancelable:!0},BV="FocusScope",cj=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...c}=e,[u,f]=v.useState(null),h=Ns(a),m=Ns(s),g=v.useRef(null),y=Ct(t,w=>f(w)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(C){if(x.paused||!u)return;const I=C.target;u.contains(I)?g.current=I:gs(g.current,{select:!0})},_=function(C){if(x.paused||!u)return;const I=C.relatedTarget;I!==null&&(u.contains(I)||gs(g.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&gs(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const O=new MutationObserver(E);return u&&O.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),O.disconnect()}}},[n,u,x.paused]),v.useEffect(()=>{if(u){CO.add(x);const w=document.activeElement;if(!u.contains(w)){const E=new CustomEvent(px,EO);u.addEventListener(px,h),u.dispatchEvent(E),E.defaultPrevented||(qV(GV(rD(u)),{select:!0}),document.activeElement===w&&gs(u))}return()=>{u.removeEventListener(px,h),setTimeout(()=>{const E=new CustomEvent(gx,EO);u.addEventListener(gx,m),u.dispatchEvent(E),E.defaultPrevented||gs(w??document.body,{select:!0}),u.removeEventListener(gx,m),CO.remove(x)},0)}}},[u,h,m,x]);const S=v.useCallback(w=>{if(!r&&!n||x.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(_&&E){const O=w.currentTarget,[C,I]=FV(O);C&&I?!w.shiftKey&&E===I?(w.preventDefault(),r&&gs(C,{select:!0})):w.shiftKey&&E===C&&(w.preventDefault(),r&&gs(I,{select:!0})):E===O&&w.preventDefault()}},[r,n,x.paused]);return l.jsx(rt.div,{tabIndex:-1,...c,ref:y,onKeyDown:S})});cj.displayName=BV;function qV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(gs(n,{select:t}),document.activeElement!==r)return}function FV(e){const t=rD(e),r=NO(t,e),n=NO(t.reverse(),e);return[r,n]}function rD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function NO(e,t){for(const r of e)if(!HV(r,{upTo:t}))return r}function HV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function VV(e){return e instanceof HTMLInputElement&&"select"in e}function gs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&VV(e)&&t&&e.select()}}var CO=KV();function KV(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=OO(e,t),e.unshift(t)},remove(t){e=OO(e,t),e[0]?.resume()}}}function OO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function GV(e){return e.filter(t=>t.tagName!=="A")}var Fr=globalThis?.document?v.useLayoutEffect:()=>{},WV=xp[" useId ".trim().toString()]||(()=>{}),YV=0;function _s(e){const[t,r]=v.useState(WV());return Fr(()=>{r(n=>n??String(YV++))},[e]),t?`radix-${t}`:""}const XV=["top","right","bottom","left"],Cs=Math.min,On=Math.max,vm=Math.round,_h=Math.floor,Ma=e=>({x:e,y:e}),ZV={left:"right",right:"left",bottom:"top",top:"bottom"},QV={start:"end",end:"start"};function _b(e,t,r){return On(e,Cs(t,r))}function ji(e,t){return typeof e=="function"?e(t):e}function _i(e){return e.split("-")[0]}function Sc(e){return e.split("-")[1]}function uj(e){return e==="x"?"y":"x"}function dj(e){return e==="y"?"height":"width"}const JV=new Set(["top","bottom"]);function Ra(e){return JV.has(_i(e))?"y":"x"}function fj(e){return uj(Ra(e))}function e9(e,t,r){r===void 0&&(r=!1);const n=Sc(e),a=fj(e),s=dj(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=ym(c)),[c,ym(c)]}function t9(e){const t=ym(e);return[Sb(e),t,Sb(t)]}function Sb(e){return e.replace(/start|end/g,t=>QV[t])}const AO=["left","right"],TO=["right","left"],r9=["top","bottom"],n9=["bottom","top"];function a9(e,t,r){switch(e){case"top":case"bottom":return r?t?TO:AO:t?AO:TO;case"left":case"right":return t?r9:n9;default:return[]}}function i9(e,t,r,n){const a=Sc(e);let s=a9(_i(e),r==="start",n);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(Sb)))),s}function ym(e){return e.replace(/left|right|bottom|top/g,t=>ZV[t])}function s9(e){return{top:0,right:0,bottom:0,left:0,...e}}function nD(e){return typeof e!="number"?s9(e):{top:e,right:e,bottom:e,left:e}}function xm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function kO(e,t,r){let{reference:n,floating:a}=e;const s=Ra(t),c=fj(t),u=dj(c),f=_i(t),h=s==="y",m=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,y=n[u]/2-a[u]/2;let x;switch(f){case"top":x={x:m,y:n.y-a.height};break;case"bottom":x={x:m,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:g};break;case"left":x={x:n.x-a.width,y:g};break;default:x={x:n.x,y:n.y}}switch(Sc(t)){case"start":x[c]-=y*(r&&h?-1:1);break;case"end":x[c]+=y*(r&&h?-1:1);break}return x}const o9=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:c}=r,u=s.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:g}=kO(h,n,f),y=n,x={},S=0;for(let w=0;w<u.length;w++){const{name:_,fn:E}=u[w],{x:O,y:C,data:I,reset:A}=await E({x:m,y:g,initialPlacement:n,placement:y,strategy:a,middlewareData:x,rects:h,platform:c,elements:{reference:e,floating:t}});m=O??m,g=C??g,x={...x,[_]:{...x[_],...I}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(y=A.placement),A.rects&&(h=A.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:m,y:g}=kO(h,y,f)),w=-1)}return{x:m,y:g,placement:y,strategy:a,middlewareData:x}};async function td(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:c,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:x=0}=ji(t,e),S=nD(x),_=u[y?g==="floating"?"reference":"floating":g],E=xm(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),O=g==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),I=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},A=xm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:O,offsetParent:C,strategy:f}):O);return{top:(E.top-A.top+S.top)/I.y,bottom:(A.bottom-E.bottom+S.bottom)/I.y,left:(E.left-A.left+S.left)/I.x,right:(A.right-E.right+S.right)/I.x}}const l9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:c,elements:u,middlewareData:f}=t,{element:h,padding:m=0}=ji(e,t)||{};if(h==null)return{};const g=nD(m),y={x:r,y:n},x=fj(a),S=dj(x),w=await c.getDimensions(h),_=x==="y",E=_?"top":"left",O=_?"bottom":"right",C=_?"clientHeight":"clientWidth",I=s.reference[S]+s.reference[x]-y[x]-s.floating[S],A=y[x]-s.reference[x],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let N=M?M[C]:0;(!N||!await(c.isElement==null?void 0:c.isElement(M)))&&(N=u.floating[C]||s.floating[S]);const T=I/2-A/2,U=N/2-w[S]/2-1,G=Cs(g[E],U),B=Cs(g[O],U),K=G,F=N-w[S]-B,se=N/2-w[S]/2+T,J=_b(K,se,F),L=!f.arrow&&Sc(a)!=null&&se!==J&&s.reference[S]/2-(se<K?G:B)-w[S]/2<0,R=L?se<K?se-K:se-F:0;return{[x]:y[x]+R,data:{[x]:J,centerOffset:se-J-R,...L&&{alignmentOffset:R}},reset:L}}}),c9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,..._}=ji(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=_i(a),O=Ra(u),C=_i(u)===u,I=await(f.isRTL==null?void 0:f.isRTL(h.floating)),A=y||(C||!w?[ym(u)]:t9(u)),M=S!=="none";!y&&M&&A.push(...i9(u,w,S,I));const N=[u,...A],T=await td(t,_),U=[];let G=((n=s.flip)==null?void 0:n.overflows)||[];if(m&&U.push(T[E]),g){const se=e9(a,c,I);U.push(T[se[0]],T[se[1]])}if(G=[...G,{placement:a,overflows:U}],!U.every(se=>se<=0)){var B,K;const se=(((B=s.flip)==null?void 0:B.index)||0)+1,J=N[se];if(J&&(!(g==="alignment"?O!==Ra(J):!1)||G.every(q=>Ra(q.placement)===O?q.overflows[0]>0:!0)))return{data:{index:se,overflows:G},reset:{placement:J}};let L=(K=G.filter(R=>R.overflows[0]<=0).sort((R,q)=>R.overflows[1]-q.overflows[1])[0])==null?void 0:K.placement;if(!L)switch(x){case"bestFit":{var F;const R=(F=G.filter(q=>{if(M){const re=Ra(q.placement);return re===O||re==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(re=>re>0).reduce((re,X)=>re+X,0)]).sort((q,re)=>q[1]-re[1])[0])==null?void 0:F[0];R&&(L=R);break}case"initialPlacement":L=u;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function PO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RO(e){return XV.some(t=>e[t]>=0)}const u9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ji(e,t);switch(n){case"referenceHidden":{const s=await td(t,{...a,elementContext:"reference"}),c=PO(s,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:RO(c)}}}case"escaped":{const s=await td(t,{...a,altBoundary:!0}),c=PO(s,r.floating);return{data:{escapedOffsets:c,escaped:RO(c)}}}default:return{}}}}},aD=new Set(["left","top"]);async function d9(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=_i(r),u=Sc(r),f=Ra(r)==="y",h=aD.has(c)?-1:1,m=s&&f?-1:1,g=ji(t,e);let{mainAxis:y,crossAxis:x,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(x=u==="end"?S*-1:S),f?{x:x*m,y:y*h}:{x:y*h,y:x*m}}const f9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:c,middlewareData:u}=t,f=await d9(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:c}}}}},h9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:E,y:O}=_;return{x:E,y:O}}},...f}=ji(e,t),h={x:r,y:n},m=await td(t,f),g=Ra(_i(a)),y=uj(g);let x=h[y],S=h[g];if(s){const _=y==="y"?"top":"left",E=y==="y"?"bottom":"right",O=x+m[_],C=x-m[E];x=_b(O,x,C)}if(c){const _=g==="y"?"top":"left",E=g==="y"?"bottom":"right",O=S+m[_],C=S-m[E];S=_b(O,S,C)}const w=u.fn({...t,[y]:x,[g]:S});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:s,[g]:c}}}}}},m9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=ji(e,t),m={x:r,y:n},g=Ra(a),y=uj(g);let x=m[y],S=m[g];const w=ji(u,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const C=y==="y"?"height":"width",I=s.reference[y]-s.floating[C]+_.mainAxis,A=s.reference[y]+s.reference[C]-_.mainAxis;x<I?x=I:x>A&&(x=A)}if(h){var E,O;const C=y==="y"?"width":"height",I=aD.has(_i(a)),A=s.reference[g]-s.floating[C]+(I&&((E=c.offset)==null?void 0:E[g])||0)+(I?0:_.crossAxis),M=s.reference[g]+s.reference[C]+(I?0:((O=c.offset)==null?void 0:O[g])||0)-(I?_.crossAxis:0);S<A?S=A:S>M&&(S=M)}return{[y]:x,[g]:S}}}},p9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:c,elements:u}=t,{apply:f=()=>{},...h}=ji(e,t),m=await td(t,h),g=_i(a),y=Sc(a),x=Ra(a)==="y",{width:S,height:w}=s.floating;let _,E;g==="top"||g==="bottom"?(_=g,E=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,_=y==="end"?"top":"bottom");const O=w-m.top-m.bottom,C=S-m.left-m.right,I=Cs(w-m[_],O),A=Cs(S-m[E],C),M=!t.middlewareData.shift;let N=I,T=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=O),M&&!y){const G=On(m.left,0),B=On(m.right,0),K=On(m.top,0),F=On(m.bottom,0);x?T=S-2*(G!==0||B!==0?G+B:On(m.left,m.right)):N=w-2*(K!==0||F!==0?K+F:On(m.top,m.bottom))}await f({...t,availableWidth:T,availableHeight:N});const U=await c.getDimensions(u.floating);return S!==U.width||w!==U.height?{reset:{rects:!0}}:{}}}};function Ap(){return typeof window<"u"}function Ec(e){return iD(e)?(e.nodeName||"").toLowerCase():"#document"}function Rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ha(e){var t;return(t=(iD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iD(e){return Ap()?e instanceof Node||e instanceof Rn(e).Node:!1}function va(e){return Ap()?e instanceof Element||e instanceof Rn(e).Element:!1}function $a(e){return Ap()?e instanceof HTMLElement||e instanceof Rn(e).HTMLElement:!1}function DO(e){return!Ap()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rn(e).ShadowRoot}const g9=new Set(["inline","contents"]);function jd(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ya(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!g9.has(a)}const v9=new Set(["table","td","th"]);function y9(e){return v9.has(Ec(e))}const x9=[":popover-open",":modal"];function Tp(e){return x9.some(t=>{try{return e.matches(t)}catch{return!1}})}const b9=["transform","translate","scale","rotate","perspective"],w9=["transform","translate","scale","rotate","perspective","filter"],j9=["paint","layout","strict","content"];function hj(e){const t=mj(),r=va(e)?ya(e):e;return b9.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||w9.some(n=>(r.willChange||"").includes(n))||j9.some(n=>(r.contain||"").includes(n))}function _9(e){let t=Os(e);for(;$a(t)&&!lc(t);){if(hj(t))return t;if(Tp(t))return null;t=Os(t)}return null}function mj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S9=new Set(["html","body","#document"]);function lc(e){return S9.has(Ec(e))}function ya(e){return Rn(e).getComputedStyle(e)}function kp(e){return va(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Os(e){if(Ec(e)==="html")return e;const t=e.assignedSlot||e.parentNode||DO(e)&&e.host||Ha(e);return DO(t)?t.host:t}function sD(e){const t=Os(e);return lc(t)?e.ownerDocument?e.ownerDocument.body:e.body:$a(t)&&jd(t)?t:sD(t)}function rd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=sD(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),c=Rn(a);if(s){const u=Eb(c);return t.concat(c,c.visualViewport||[],jd(a)?a:[],u&&r?rd(u):[])}return t.concat(a,rd(a,[],r))}function Eb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oD(e){const t=ya(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=$a(e),s=a?e.offsetWidth:r,c=a?e.offsetHeight:n,u=vm(r)!==s||vm(n)!==c;return u&&(r=s,n=c),{width:r,height:n,$:u}}function pj(e){return va(e)?e:e.contextElement}function Jl(e){const t=pj(e);if(!$a(t))return Ma(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=oD(t);let c=(s?vm(r.width):r.width)/n,u=(s?vm(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const E9=Ma(0);function lD(e){const t=Rn(e);return!mj()||!t.visualViewport?E9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function N9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rn(e)?!1:t}function Eo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=pj(e);let c=Ma(1);t&&(n?va(n)&&(c=Jl(n)):c=Jl(e));const u=N9(s,r,n)?lD(s):Ma(0);let f=(a.left+u.x)/c.x,h=(a.top+u.y)/c.y,m=a.width/c.x,g=a.height/c.y;if(s){const y=Rn(s),x=n&&va(n)?Rn(n):n;let S=y,w=Eb(S);for(;w&&n&&x!==S;){const _=Jl(w),E=w.getBoundingClientRect(),O=ya(w),C=E.left+(w.clientLeft+parseFloat(O.paddingLeft))*_.x,I=E.top+(w.clientTop+parseFloat(O.paddingTop))*_.y;f*=_.x,h*=_.y,m*=_.x,g*=_.y,f+=C,h+=I,S=Rn(w),w=Eb(S)}}return xm({width:m,height:g,x:f,y:h})}function Pp(e,t){const r=kp(e).scrollLeft;return t?t.left+r:Eo(Ha(e)).left+r}function cD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Pp(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function C9(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",c=Ha(n),u=t?Tp(t.floating):!1;if(n===c||u&&s)return r;let f={scrollLeft:0,scrollTop:0},h=Ma(1);const m=Ma(0),g=$a(n);if((g||!g&&!s)&&((Ec(n)!=="body"||jd(c))&&(f=kp(n)),$a(n))){const x=Eo(n);h=Jl(n),m.x=x.x+n.clientLeft,m.y=x.y+n.clientTop}const y=c&&!g&&!s?cD(c,f):Ma(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+y.x,y:r.y*h.y-f.scrollTop*h.y+m.y+y.y}}function O9(e){return Array.from(e.getClientRects())}function A9(e){const t=Ha(e),r=kp(e),n=e.ownerDocument.body,a=On(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=On(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Pp(e);const u=-r.scrollTop;return ya(n).direction==="rtl"&&(c+=On(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:c,y:u}}const MO=25;function T9(e,t){const r=Rn(e),n=Ha(e),a=r.visualViewport;let s=n.clientWidth,c=n.clientHeight,u=0,f=0;if(a){s=a.width,c=a.height;const m=mj();(!m||m&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const h=Pp(n);if(h<=0){const m=n.ownerDocument,g=m.body,y=getComputedStyle(g),x=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(n.clientWidth-g.clientWidth-x);S<=MO&&(s-=S)}else h<=MO&&(s+=h);return{width:s,height:c,x:u,y:f}}const k9=new Set(["absolute","fixed"]);function P9(e,t){const r=Eo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=$a(e)?Jl(e):Ma(1),c=e.clientWidth*s.x,u=e.clientHeight*s.y,f=a*s.x,h=n*s.y;return{width:c,height:u,x:f,y:h}}function IO(e,t,r){let n;if(t==="viewport")n=T9(e,r);else if(t==="document")n=A9(Ha(e));else if(va(t))n=P9(t,r);else{const a=lD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return xm(n)}function uD(e,t){const r=Os(e);return r===t||!va(r)||lc(r)?!1:ya(r).position==="fixed"||uD(r,t)}function R9(e,t){const r=t.get(e);if(r)return r;let n=rd(e,[],!1).filter(u=>va(u)&&Ec(u)!=="body"),a=null;const s=ya(e).position==="fixed";let c=s?Os(e):e;for(;va(c)&&!lc(c);){const u=ya(c),f=hj(c);!f&&u.position==="fixed"&&(a=null),(s?!f&&!a:!f&&u.position==="static"&&!!a&&k9.has(a.position)||jd(c)&&!f&&uD(e,c))?n=n.filter(m=>m!==c):a=u,c=Os(c)}return t.set(e,n),n}function D9(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?Tp(t)?[]:R9(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,m)=>{const g=IO(t,m,a);return h.top=On(g.top,h.top),h.right=Cs(g.right,h.right),h.bottom=Cs(g.bottom,h.bottom),h.left=On(g.left,h.left),h},IO(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function M9(e){const{width:t,height:r}=oD(e);return{width:t,height:r}}function I9(e,t,r){const n=$a(t),a=Ha(t),s=r==="fixed",c=Eo(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const f=Ma(0);function h(){f.x=Pp(a)}if(n||!n&&!s)if((Ec(t)!=="body"||jd(a))&&(u=kp(t)),n){const x=Eo(t,!0,s,t);f.x=x.x+t.clientLeft,f.y=x.y+t.clientTop}else a&&h();s&&!n&&a&&h();const m=a&&!n&&!s?cD(a,u):Ma(0),g=c.left+u.scrollLeft-f.x-m.x,y=c.top+u.scrollTop-f.y-m.y;return{x:g,y,width:c.width,height:c.height}}function vx(e){return ya(e).position==="static"}function LO(e,t){if(!$a(e)||ya(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ha(e)===r&&(r=r.ownerDocument.body),r}function dD(e,t){const r=Rn(e);if(Tp(e))return r;if(!$a(e)){let a=Os(e);for(;a&&!lc(a);){if(va(a)&&!vx(a))return a;a=Os(a)}return r}let n=LO(e,t);for(;n&&y9(n)&&vx(n);)n=LO(n,t);return n&&lc(n)&&vx(n)&&!hj(n)?r:n||_9(e)||r}const L9=async function(e){const t=this.getOffsetParent||dD,r=this.getDimensions,n=await r(e.floating);return{reference:I9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $9(e){return ya(e).direction==="rtl"}const z9={convertOffsetParentRelativeRectToViewportRelativeRect:C9,getDocumentElement:Ha,getClippingRect:D9,getOffsetParent:dD,getElementRects:L9,getClientRects:O9,getDimensions:M9,getScale:Jl,isElement:va,isRTL:$9};function fD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function U9(e,t){let r=null,n;const a=Ha(e);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const h=e.getBoundingClientRect(),{left:m,top:g,width:y,height:x}=h;if(u||t(),!y||!x)return;const S=_h(g),w=_h(a.clientWidth-(m+y)),_=_h(a.clientHeight-(g+x)),E=_h(m),C={rootMargin:-S+"px "+-w+"px "+-_+"px "+-E+"px",threshold:On(0,Cs(1,f))||1};let I=!0;function A(M){const N=M[0].intersectionRatio;if(N!==f){if(!I)return c();N?c(!1,N):n=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!fD(h,e.getBoundingClientRect())&&c(),I=!1}try{r=new IntersectionObserver(A,{...C,root:a.ownerDocument})}catch{r=new IntersectionObserver(A,C)}r.observe(e)}return c(!0),s}function B9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=pj(e),m=a||s?[...h?rd(h):[],...rd(t)]:[];m.forEach(E=>{a&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const g=h&&u?U9(h,r):null;let y=-1,x=null;c&&(x=new ResizeObserver(E=>{let[O]=E;O&&O.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),r()}),h&&!f&&x.observe(h),x.observe(t));let S,w=f?Eo(e):null;f&&_();function _(){const E=Eo(e);w&&!fD(w,E)&&r(),w=E,S=requestAnimationFrame(_)}return r(),()=>{var E;m.forEach(O=>{a&&O.removeEventListener("scroll",r),s&&O.removeEventListener("resize",r)}),g?.(),(E=x)==null||E.disconnect(),x=null,f&&cancelAnimationFrame(S)}}const q9=f9,F9=h9,H9=c9,V9=p9,K9=u9,$O=l9,G9=m9,W9=(e,t,r)=>{const n=new Map,a={platform:z9,...r},s={...a.platform,_c:n};return o9(e,t,{...a,platform:s})};var Y9=typeof document<"u",X9=function(){},Zh=Y9?v.useLayoutEffect:X9;function bm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!bm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!bm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function hD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zO(e,t){const r=hD(e);return Math.round(t*r)/r}function yx(e){const t=v.useRef(e);return Zh(()=>{t.current=e}),t}function Z9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[m,g]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,x]=v.useState(n);bm(y,n)||x(n);const[S,w]=v.useState(null),[_,E]=v.useState(null),O=v.useCallback(q=>{q!==M.current&&(M.current=q,w(q))},[]),C=v.useCallback(q=>{q!==N.current&&(N.current=q,E(q))},[]),I=s||S,A=c||_,M=v.useRef(null),N=v.useRef(null),T=v.useRef(m),U=f!=null,G=yx(f),B=yx(a),K=yx(h),F=v.useCallback(()=>{if(!M.current||!N.current)return;const q={placement:t,strategy:r,middleware:y};B.current&&(q.platform=B.current),W9(M.current,N.current,q).then(re=>{const X={...re,isPositioned:K.current!==!1};se.current&&!bm(T.current,X)&&(T.current=X,Uo.flushSync(()=>{g(X)}))})},[y,t,r,B,K]);Zh(()=>{h===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[h]);const se=v.useRef(!1);Zh(()=>(se.current=!0,()=>{se.current=!1}),[]),Zh(()=>{if(I&&(M.current=I),A&&(N.current=A),I&&A){if(G.current)return G.current(I,A,F);F()}},[I,A,F,G,U]);const J=v.useMemo(()=>({reference:M,floating:N,setReference:O,setFloating:C}),[O,C]),L=v.useMemo(()=>({reference:I,floating:A}),[I,A]),R=v.useMemo(()=>{const q={position:r,left:0,top:0};if(!L.floating)return q;const re=zO(L.floating,m.x),X=zO(L.floating,m.y);return u?{...q,transform:"translate("+re+"px, "+X+"px)",...hD(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:X}},[r,u,L.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:F,refs:J,elements:L,floatingStyles:R}),[m,F,J,L,R])}const Q9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?$O({element:n.current,padding:a}).fn(r):{}:n?$O({element:n,padding:a}).fn(r):{}}}},J9=(e,t)=>({...q9(e),options:[e,t]}),e7=(e,t)=>({...F9(e),options:[e,t]}),t7=(e,t)=>({...G9(e),options:[e,t]}),r7=(e,t)=>({...H9(e),options:[e,t]}),n7=(e,t)=>({...V9(e),options:[e,t]}),a7=(e,t)=>({...K9(e),options:[e,t]}),i7=(e,t)=>({...Q9(e),options:[e,t]});var s7="Arrow",mD=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return l.jsx(rt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});mD.displayName=s7;var o7=mD;function gj(e){const[t,r]=v.useState(void 0);return Fr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let c,u;if("borderBoxSize"in s){const f=s.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var vj="Popper",[pD,gD]=ki(vj),[l7,vD]=pD(vj),yD=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return l.jsx(l7,{scope:t,anchor:n,onAnchorChange:a,children:r})};yD.displayName=vj;var xD="PopperAnchor",bD=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=vD(xD,r),c=v.useRef(null),u=Ct(t,c),f=v.useRef(null);return v.useEffect(()=>{const h=f.current;f.current=n?.current||c.current,h!==f.current&&s.onAnchorChange(f.current)}),n?null:l.jsx(rt.div,{...a,ref:u})});bD.displayName=xD;var yj="PopperContent",[c7,u7]=pD(yj),wD=v.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:S,...w}=e,_=vD(yj,r),[E,O]=v.useState(null),C=Ct(t,W=>O(W)),[I,A]=v.useState(null),M=gj(I),N=M?.width??0,T=M?.height??0,U=n+(s!=="center"?"-"+s:""),G=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(h)?h:[h],K=B.length>0,F={padding:G,boundary:B.filter(f7),altBoundary:K},{refs:se,floatingStyles:J,placement:L,isPositioned:R,middlewareData:q}=Z9({strategy:"fixed",placement:U,whileElementsMounted:(...W)=>B9(...W,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[J9({mainAxis:a+T,alignmentAxis:c}),f&&e7({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?t7():void 0,...F}),f&&r7({...F}),n7({...F,apply:({elements:W,rects:je,availableWidth:$,availableHeight:ee})=>{const{width:ce,height:Y}=je.reference,ae=W.floating.style;ae.setProperty("--radix-popper-available-width",`${$}px`),ae.setProperty("--radix-popper-available-height",`${ee}px`),ae.setProperty("--radix-popper-anchor-width",`${ce}px`),ae.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),I&&i7({element:I,padding:u}),h7({arrowWidth:N,arrowHeight:T}),y&&a7({strategy:"referenceHidden",...F})]}),[re,X]=SD(L),D=Ns(S);Fr(()=>{R&&D?.()},[R,D]);const H=q.arrow?.x,Q=q.arrow?.y,P=q.arrow?.centerOffset!==0,[V,ie]=v.useState();return Fr(()=>{E&&ie(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:R?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(c7,{scope:r,placedSide:re,onArrowChange:A,arrowX:H,arrowY:Q,shouldHideArrow:P,children:l.jsx(rt.div,{"data-side":re,"data-align":X,...w,ref:C,style:{...w.style,animation:R?void 0:"none"}})})})});wD.displayName=yj;var jD="PopperArrow",d7={top:"bottom",right:"left",bottom:"top",left:"right"},_D=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=u7(jD,n),c=d7[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(o7,{...a,ref:r,style:{...a.style,display:"block"}})})});_D.displayName=jD;function f7(e){return e!==null}var h7=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,c=a.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=SD(r),g={start:"0%",center:"50%",end:"100%"}[m],y=(a.arrow?.x??0)+u/2,x=(a.arrow?.y??0)+f/2;let S="",w="";return h==="bottom"?(S=c?g:`${y}px`,w=`${-f}px`):h==="top"?(S=c?g:`${y}px`,w=`${n.floating.height+f}px`):h==="right"?(S=`${-f}px`,w=c?g:`${x}px`):h==="left"&&(S=`${n.floating.width+f}px`,w=c?g:`${x}px`),{data:{x:S,y:w}}}});function SD(e){const[t,r="center"]=e.split("-");return[t,r]}var m7=yD,p7=bD,g7=wD,v7=_D,y7="Portal",xj=v.forwardRef((e,t)=>{const{container:r,...n}=e,[a,s]=v.useState(!1);Fr(()=>s(!0),[]);const c=r||a&&globalThis?.document?.body;return c?mB.createPortal(l.jsx(rt.div,{...n,ref:t}),c):null});xj.displayName=y7;var x7=xp[" useInsertionEffect ".trim().toString()]||Fr;function No({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,c]=b7({defaultProp:t,onChange:r}),u=e!==void 0,f=u?e:a;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=v.useCallback(m=>{if(u){const g=w7(m)?m(e):m;g!==e&&c.current?.(g)}else s(m)},[u,e,s,c]);return[f,h]}function b7({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),s=v.useRef(t);return x7(()=>{s.current=t},[t]),v.useEffect(()=>{a.current!==r&&(s.current?.(r),a.current=r)},[r,a]),[r,n,s]}function w7(e){return typeof e=="function"}function bj(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ED=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),j7="VisuallyHidden",_7=v.forwardRef((e,t)=>l.jsx(rt.span,{...e,ref:t,style:{...ED,...e.style}}));_7.displayName=j7;var S7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ml=new WeakMap,Sh=new WeakMap,Eh={},xx=0,ND=function(e){return e&&(e.host||ND(e.parentNode))},E7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ND(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},N7=function(e,t,r,n){var a=E7(t,Array.isArray(e)?e:[e]);Eh[r]||(Eh[r]=new WeakMap);var s=Eh[r],c=[],u=new Set,f=new Set(a),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};a.forEach(h);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(u.has(y))m(y);else try{var x=y.getAttribute(n),S=x!==null&&x!=="false",w=(Ml.get(y)||0)+1,_=(s.get(y)||0)+1;Ml.set(y,w),s.set(y,_),c.push(y),w===1&&S&&Sh.set(y,!0),_===1&&y.setAttribute(r,"true"),S||y.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return m(t),u.clear(),xx++,function(){c.forEach(function(g){var y=Ml.get(g)-1,x=s.get(g)-1;Ml.set(g,y),s.set(g,x),y||(Sh.has(g)||g.removeAttribute(n),Sh.delete(g)),x||g.removeAttribute(r)}),xx--,xx||(Ml=new WeakMap,Ml=new WeakMap,Sh=new WeakMap,Eh={})}},CD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=S7(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),N7(n,a,r,"aria-hidden")):function(){return null}},Qh="right-scroll-bar-position",Jh="width-before-scroll-bar",C7="with-scroll-bars-hidden",O7="--removed-body-scroll-bar-size";function bx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function A7(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var T7=typeof window<"u"?v.useLayoutEffect:v.useEffect,UO=new WeakMap;function k7(e,t){var r=A7(null,function(n){return e.forEach(function(a){return bx(a,n)})});return T7(function(){var n=UO.get(r);if(n){var a=new Set(n),s=new Set(e),c=r.current;a.forEach(function(u){s.has(u)||bx(u,null)}),s.forEach(function(u){a.has(u)||bx(u,c)})}UO.set(r,e)},[e]),r}function P7(e){return e}function R7(e,t){t===void 0&&(t=P7);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(s){for(n=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(s),c=r}var f=function(){var m=c;c=[],m.forEach(s)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return a}function D7(e){e===void 0&&(e={});var t=R7(null);return t.options=Qn({async:!0,ssr:!1},e),t}var OD=function(e){var t=e.sideCar,r=ks(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Qn({},r))};OD.isSideCarExport=!0;function M7(e,t){return e.useMedium(t),OD}var AD=D7(),wx=function(){},Rp=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:wx,onWheelCapture:wx,onTouchMoveCapture:wx}),a=n[0],s=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,x=e.noRelative,S=e.noIsolation,w=e.inert,_=e.allowPinchZoom,E=e.as,O=E===void 0?"div":E,C=e.gapMode,I=ks(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,M=k7([r,t]),N=Qn(Qn({},I),a);return v.createElement(v.Fragment,null,m&&v.createElement(A,{sideCar:AD,removeScrollBar:h,shards:g,noRelative:x,noIsolation:S,inert:w,setCallbacks:s,allowPinchZoom:!!_,lockRef:r,gapMode:C}),c?v.cloneElement(v.Children.only(u),Qn(Qn({},N),{ref:M})):v.createElement(O,Qn({},N,{className:f,ref:M}),u))});Rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rp.classNames={fullWidth:Jh,zeroRight:Qh};var I7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I7();return t&&e.setAttribute("nonce",t),e}function $7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var U7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=L7())&&($7(t,r),z7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},B7=function(){var e=U7();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},TD=function(){var e=B7(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},q7={left:0,top:0,right:0,gap:0},jx=function(e){return parseInt(e||"",10)||0},F7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[jx(r),jx(n),jx(a)]},H7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q7;var t=F7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},V7=TD(),ec="data-scroll-locked",K7=function(e,t,r,n){var a=e.left,s=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(C7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ec,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qh,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Jh,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jh," .").concat(Jh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ec,`] {
    `).concat(O7,": ").concat(u,`px;
  }
`)},BO=function(){var e=parseInt(document.body.getAttribute(ec)||"0",10);return isFinite(e)?e:0},G7=function(){v.useEffect(function(){return document.body.setAttribute(ec,(BO()+1).toString()),function(){var e=BO()-1;e<=0?document.body.removeAttribute(ec):document.body.setAttribute(ec,e.toString())}},[])},W7=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;G7();var s=v.useMemo(function(){return H7(a)},[a]);return v.createElement(V7,{styles:K7(s,!t,a,r?"":"!important")})},Nb=!1;if(typeof window<"u")try{var Nh=Object.defineProperty({},"passive",{get:function(){return Nb=!0,!0}});window.addEventListener("test",Nh,Nh),window.removeEventListener("test",Nh,Nh)}catch{Nb=!1}var Il=Nb?{passive:!1}:!1,Y7=function(e){return e.tagName==="TEXTAREA"},kD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y7(e)&&r[t]==="visible")},X7=function(e){return kD(e,"overflowY")},Z7=function(e){return kD(e,"overflowX")},qO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=PD(e,n);if(a){var s=RD(e,n),c=s[1],u=s[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Q7=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},J7=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},PD=function(e,t){return e==="v"?X7(t):Z7(t)},RD=function(e,t){return e==="v"?Q7(t):J7(t)},eK=function(e,t){return e==="h"&&t==="rtl"?-1:1},tK=function(e,t,r,n,a){var s=eK(e,window.getComputedStyle(t).direction),c=s*n,u=r.target,f=t.contains(u),h=!1,m=c>0,g=0,y=0;do{if(!u)break;var x=RD(e,u),S=x[0],w=x[1],_=x[2],E=w-_-s*S;(S||E)&&PD(e,u)&&(g+=E,y+=S);var O=u.parentNode;u=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(h=!0),h},Ch=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FO=function(e){return[e.deltaX,e.deltaY]},HO=function(e){return e&&"current"in e?e.current:e},rK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aK=0,Ll=[];function iK(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(aK++)[0],s=v.useState(TD)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=Qw([e.lockRef.current],(e.shards||[]).map(HO),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var E=Ch(w),O=r.current,C="deltaX"in w?w.deltaX:O[0]-E[0],I="deltaY"in w?w.deltaY:O[1]-E[1],A,M=w.target,N=Math.abs(C)>Math.abs(I)?"h":"v";if("touches"in w&&N==="h"&&M.type==="range")return!1;var T=window.getSelection(),U=T&&T.anchorNode,G=U?U===M||U.contains(M):!1;if(G)return!1;var B=qO(N,M);if(!B)return!0;if(B?A=N:(A=N==="v"?"h":"v",B=qO(N,M)),!B)return!1;if(!n.current&&"changedTouches"in w&&(C||I)&&(n.current=A),!A)return!0;var K=n.current||A;return tK(K,_,w,K==="h"?C:I)},[]),f=v.useCallback(function(w){var _=w;if(!(!Ll.length||Ll[Ll.length-1]!==s)){var E="deltaY"in _?FO(_):Ch(_),O=t.current.filter(function(A){return A.name===_.type&&(A.target===_.target||_.target===A.shadowParent)&&rK(A.delta,E)})[0];if(O&&O.should){_.cancelable&&_.preventDefault();return}if(!O){var C=(c.current.shards||[]).map(HO).filter(Boolean).filter(function(A){return A.contains(_.target)}),I=C.length>0?u(_,C[0]):!c.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),h=v.useCallback(function(w,_,E,O){var C={name:w,delta:_,target:E,should:O,shadowParent:sK(E)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(I){return I!==C})},1)},[]),m=v.useCallback(function(w){r.current=Ch(w),n.current=void 0},[]),g=v.useCallback(function(w){h(w.type,FO(w),w.target,u(w,e.lockRef.current))},[]),y=v.useCallback(function(w){h(w.type,Ch(w),w.target,u(w,e.lockRef.current))},[]);v.useEffect(function(){return Ll.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Il),document.addEventListener("touchmove",f,Il),document.addEventListener("touchstart",m,Il),function(){Ll=Ll.filter(function(w){return w!==s}),document.removeEventListener("wheel",f,Il),document.removeEventListener("touchmove",f,Il),document.removeEventListener("touchstart",m,Il)}},[]);var x=e.removeScrollBar,S=e.inert;return v.createElement(v.Fragment,null,S?v.createElement(s,{styles:nK(a)}):null,x?v.createElement(W7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function sK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oK=M7(AD,iK);var wj=v.forwardRef(function(e,t){return v.createElement(Rp,Qn({},e,{ref:t,sideCar:oK}))});wj.classNames=Rp.classNames;var lK=[" ","Enter","ArrowUp","ArrowDown"],cK=[" ","Enter"],Co="Select",[Dp,Mp,uK]=QR(Co),[Nc]=ki(Co,[uK,gD]),Ip=gD(),[dK,Rs]=Nc(Co),[fK,hK]=Nc(Co),DD=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:g,disabled:y,required:x,form:S}=e,w=Ip(t),[_,E]=v.useState(null),[O,C]=v.useState(null),[I,A]=v.useState(!1),M=Op(h),[N,T]=No({prop:n,defaultProp:a??!1,onChange:s,caller:Co}),[U,G]=No({prop:c,defaultProp:u,onChange:f,caller:Co}),B=v.useRef(null),K=_?S||!!_.closest("form"):!0,[F,se]=v.useState(new Set),J=Array.from(F).map(L=>L.props.value).join(";");return l.jsx(m7,{...w,children:l.jsxs(dK,{required:x,scope:t,trigger:_,onTriggerChange:E,valueNode:O,onValueNodeChange:C,valueNodeHasChildren:I,onValueNodeHasChildrenChange:A,contentId:_s(),value:U,onValueChange:G,open:N,onOpenChange:T,dir:M,triggerPointerDownPosRef:B,disabled:y,children:[l.jsx(Dp.Provider,{scope:t,children:l.jsx(fK,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(L=>{se(R=>new Set(R).add(L))},[]),onNativeOptionRemove:v.useCallback(L=>{se(R=>{const q=new Set(R);return q.delete(L),q})},[]),children:r})}),K?l.jsxs(aM,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:g,value:U,onChange:L=>G(L.target.value),disabled:y,form:S,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},J):null]})})};DD.displayName=Co;var MD="SelectTrigger",ID=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Ip(r),c=Rs(MD,r),u=c.disabled||n,f=Ct(t,c.onTriggerChange),h=Mp(r),m=v.useRef("touch"),[g,y,x]=sM(w=>{const _=h().filter(C=>!C.disabled),E=_.find(C=>C.value===c.value),O=oM(_,w,E);O!==void 0&&c.onValueChange(O.value)}),S=w=>{u||(c.onOpenChange(!0),x()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return l.jsx(p7,{asChild:!0,...s,children:l.jsx(rt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":iM(c.value)?"":void 0,...a,ref:f,onClick:tt(a.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&S(w)}),onPointerDown:tt(a.onPointerDown,w=>{m.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(S(w),w.preventDefault())}),onKeyDown:tt(a.onKeyDown,w=>{const _=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(_&&w.key===" ")&&lK.includes(w.key)&&(S(),w.preventDefault())})})})});ID.displayName=MD;var LD="SelectValue",$D=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:c="",...u}=e,f=Rs(LD,r),{onValueNodeHasChildrenChange:h}=f,m=s!==void 0,g=Ct(t,f.onValueNodeChange);return Fr(()=>{h(m)},[h,m]),l.jsx(rt.span,{...u,ref:g,style:{pointerEvents:"none"},children:iM(f.value)?l.jsx(l.Fragment,{children:c}):s})});$D.displayName=LD;var mK="SelectIcon",zD=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return l.jsx(rt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});zD.displayName=mK;var pK="SelectPortal",UD=e=>l.jsx(xj,{asChild:!0,...e});UD.displayName=pK;var Oo="SelectContent",BD=v.forwardRef((e,t)=>{const r=Rs(Oo,e.__scopeSelect),[n,a]=v.useState();if(Fr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Uo.createPortal(l.jsx(qD,{scope:e.__scopeSelect,children:l.jsx(Dp.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(FD,{...e,ref:t})});BD.displayName=Oo;var ca=10,[qD,Ds]=Nc(Oo),gK="SelectContentImpl",vK=ed("SelectContent.RemoveScroll"),FD=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:w,avoidCollisions:_,...E}=e,O=Rs(Oo,r),[C,I]=v.useState(null),[A,M]=v.useState(null),N=Ct(t,W=>I(W)),[T,U]=v.useState(null),[G,B]=v.useState(null),K=Mp(r),[F,se]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(C)return CD(C)},[C]),tD();const L=v.useCallback(W=>{const[je,...$]=K().map(Y=>Y.ref.current),[ee]=$.slice(-1),ce=document.activeElement;for(const Y of W)if(Y===ce||(Y?.scrollIntoView({block:"nearest"}),Y===je&&A&&(A.scrollTop=0),Y===ee&&A&&(A.scrollTop=A.scrollHeight),Y?.focus(),document.activeElement!==ce))return},[K,A]),R=v.useCallback(()=>L([T,C]),[L,T,C]);v.useEffect(()=>{F&&R()},[F,R]);const{onOpenChange:q,triggerPointerDownPosRef:re}=O;v.useEffect(()=>{if(C){let W={x:0,y:0};const je=ee=>{W={x:Math.abs(Math.round(ee.pageX)-(re.current?.x??0)),y:Math.abs(Math.round(ee.pageY)-(re.current?.y??0))}},$=ee=>{W.x<=10&&W.y<=10?ee.preventDefault():C.contains(ee.target)||q(!1),document.removeEventListener("pointermove",je),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",$,{capture:!0})}}},[C,q,re]),v.useEffect(()=>{const W=()=>q(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[q]);const[X,D]=sM(W=>{const je=K().filter(ce=>!ce.disabled),$=je.find(ce=>ce.ref.current===document.activeElement),ee=oM(je,W,$);ee&&setTimeout(()=>ee.ref.current.focus())}),H=v.useCallback((W,je,$)=>{const ee=!J.current&&!$;(O.value!==void 0&&O.value===je||ee)&&(U(W),ee&&(J.current=!0))},[O.value]),Q=v.useCallback(()=>C?.focus(),[C]),P=v.useCallback((W,je,$)=>{const ee=!J.current&&!$;(O.value!==void 0&&O.value===je||ee)&&B(W)},[O.value]),V=n==="popper"?Cb:HD,ie=V===Cb?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:w,avoidCollisions:_}:{};return l.jsx(qD,{scope:r,content:C,viewport:A,onViewportChange:M,itemRefCallback:H,selectedItem:T,onItemLeave:Q,itemTextRefCallback:P,focusSelectedItem:R,selectedItemText:G,position:n,isPositioned:F,searchRef:X,children:l.jsx(wj,{as:vK,allowPinchZoom:!0,children:l.jsx(cj,{asChild:!0,trapped:O.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:tt(a,W=>{O.trigger?.focus({preventScroll:!0}),W.preventDefault()}),children:l.jsx(lj,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:l.jsx(V,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:W=>W.preventDefault(),...E,...ie,onPlaced:()=>se(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:tt(E.onKeyDown,W=>{const je=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!je&&W.key.length===1&&D(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ee=K().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ce=W.target,Y=ee.indexOf(ce);ee=ee.slice(Y+1)}setTimeout(()=>L(ee)),W.preventDefault()}})})})})})})});FD.displayName=gK;var yK="SelectItemAlignedPosition",HD=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Rs(Oo,r),c=Ds(Oo,r),[u,f]=v.useState(null),[h,m]=v.useState(null),g=Ct(t,N=>m(N)),y=Mp(r),x=v.useRef(!1),S=v.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:E,focusSelectedItem:O}=c,C=v.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&h&&w&&_&&E){const N=s.trigger.getBoundingClientRect(),T=h.getBoundingClientRect(),U=s.valueNode.getBoundingClientRect(),G=E.getBoundingClientRect();if(s.dir!=="rtl"){const ce=G.left-T.left,Y=U.left-ce,ae=N.left-Y,he=N.width+ae,Se=Math.max(he,T.width),Oe=window.innerWidth-ca,Ke=wO(Y,[ca,Math.max(ca,Oe-Se)]);u.style.minWidth=he+"px",u.style.left=Ke+"px"}else{const ce=T.right-G.right,Y=window.innerWidth-U.right-ce,ae=window.innerWidth-N.right-Y,he=N.width+ae,Se=Math.max(he,T.width),Oe=window.innerWidth-ca,Ke=wO(Y,[ca,Math.max(ca,Oe-Se)]);u.style.minWidth=he+"px",u.style.right=Ke+"px"}const B=y(),K=window.innerHeight-ca*2,F=w.scrollHeight,se=window.getComputedStyle(h),J=parseInt(se.borderTopWidth,10),L=parseInt(se.paddingTop,10),R=parseInt(se.borderBottomWidth,10),q=parseInt(se.paddingBottom,10),re=J+L+F+q+R,X=Math.min(_.offsetHeight*5,re),D=window.getComputedStyle(w),H=parseInt(D.paddingTop,10),Q=parseInt(D.paddingBottom,10),P=N.top+N.height/2-ca,V=K-P,ie=_.offsetHeight/2,W=_.offsetTop+ie,je=J+L+W,$=re-je;if(je<=P){const ce=B.length>0&&_===B[B.length-1].ref.current;u.style.bottom="0px";const Y=h.clientHeight-w.offsetTop-w.offsetHeight,ae=Math.max(V,ie+(ce?Q:0)+Y+R),he=je+ae;u.style.height=he+"px"}else{const ce=B.length>0&&_===B[0].ref.current;u.style.top="0px";const ae=Math.max(P,J+w.offsetTop+(ce?H:0)+ie)+$;u.style.height=ae+"px",w.scrollTop=je-P+w.offsetTop}u.style.margin=`${ca}px 0`,u.style.minHeight=X+"px",u.style.maxHeight=K+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[y,s.trigger,s.valueNode,u,h,w,_,E,s.dir,n]);Fr(()=>C(),[C]);const[I,A]=v.useState();Fr(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const M=v.useCallback(N=>{N&&S.current===!0&&(C(),O?.(),S.current=!1)},[C,O]);return l.jsx(bK,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:M,children:l.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:l.jsx(rt.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});HD.displayName=yK;var xK="SelectPopperPosition",Cb=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ca,...s}=e,c=Ip(r);return l.jsx(g7,{...c,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cb.displayName=xK;var[bK,jj]=Nc(Oo,{}),Ob="SelectViewport",VD=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Ds(Ob,r),c=jj(Ob,r),u=Ct(t,s.onViewportChange),f=v.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Dp.Slot,{scope:r,children:l.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:tt(a.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=c;if(y?.current&&g){const x=Math.abs(f.current-m.scrollTop);if(x>0){const S=window.innerHeight-ca*2,w=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),E=Math.max(w,_);if(E<S){const O=E+x,C=Math.min(S,O),I=O-C;g.style.height=C+"px",g.style.bottom==="0px"&&(m.scrollTop=I>0?I:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});VD.displayName=Ob;var KD="SelectGroup",[wK,jK]=Nc(KD),_K=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_s();return l.jsx(wK,{scope:r,id:a,children:l.jsx(rt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});_K.displayName=KD;var GD="SelectLabel",WD=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=jK(GD,r);return l.jsx(rt.div,{id:a.id,...n,ref:t})});WD.displayName=GD;var wm="SelectItem",[SK,YD]=Nc(wm),XD=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...c}=e,u=Rs(wm,r),f=Ds(wm,r),h=u.value===n,[m,g]=v.useState(s??""),[y,x]=v.useState(!1),S=Ct(t,O=>f.itemRefCallback?.(O,n,a)),w=_s(),_=v.useRef("touch"),E=()=>{a||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(SK,{scope:r,value:n,disabled:a,textId:w,isSelected:h,onItemTextChange:v.useCallback(O=>{g(C=>C||(O?.textContent??"").trim())},[]),children:l.jsx(Dp.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:l.jsx(rt.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:S,onFocus:tt(c.onFocus,()=>x(!0)),onBlur:tt(c.onBlur,()=>x(!1)),onClick:tt(c.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:tt(c.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:tt(c.onPointerDown,O=>{_.current=O.pointerType}),onPointerMove:tt(c.onPointerMove,O=>{_.current=O.pointerType,a?f.onItemLeave?.():_.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(c.onPointerLeave,O=>{O.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:tt(c.onKeyDown,O=>{f.searchRef?.current!==""&&O.key===" "||(cK.includes(O.key)&&E(),O.key===" "&&O.preventDefault())})})})})});XD.displayName=wm;var qu="SelectItemText",ZD=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,c=Rs(qu,r),u=Ds(qu,r),f=YD(qu,r),h=hK(qu,r),[m,g]=v.useState(null),y=Ct(t,E=>g(E),f.onItemTextChange,E=>u.itemTextRefCallback?.(E,f.value,f.disabled)),x=m?.textContent,S=v.useMemo(()=>l.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Fr(()=>(w(S),()=>_(S)),[w,_,S]),l.jsxs(l.Fragment,{children:[l.jsx(rt.span,{id:f.textId,...s,ref:y}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Uo.createPortal(s.children,c.valueNode):null]})});ZD.displayName=qu;var QD="SelectItemIndicator",JD=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return YD(QD,r).isSelected?l.jsx(rt.span,{"aria-hidden":!0,...n,ref:t}):null});JD.displayName=QD;var Ab="SelectScrollUpButton",eM=v.forwardRef((e,t)=>{const r=Ds(Ab,e.__scopeSelect),n=jj(Ab,e.__scopeSelect),[a,s]=v.useState(!1),c=Ct(t,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;s(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?l.jsx(rM,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});eM.displayName=Ab;var Tb="SelectScrollDownButton",tM=v.forwardRef((e,t)=>{const r=Ds(Tb,e.__scopeSelect),n=jj(Tb,e.__scopeSelect),[a,s]=v.useState(!1),c=Ct(t,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;s(m)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?l.jsx(rM,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});tM.displayName=Tb;var rM=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Ds("SelectScrollButton",r),c=v.useRef(null),u=Mp(r),f=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),Fr(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),l.jsx(rt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:tt(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:tt(a.onPointerMove,()=>{s.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:tt(a.onPointerLeave,()=>{f()})})}),EK="SelectSeparator",nM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(rt.div,{"aria-hidden":!0,...n,ref:t})});nM.displayName=EK;var kb="SelectArrow",NK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ip(r),s=Rs(kb,r),c=Ds(kb,r);return s.open&&c.position==="popper"?l.jsx(v7,{...a,...n,ref:t}):null});NK.displayName=kb;var CK="SelectBubbleInput",aM=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),s=Ct(n,a),c=bj(t);return v.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[c,t]),l.jsx(rt.select,{...r,style:{...ED,...r.style},ref:s,defaultValue:t})});aM.displayName=CK;function iM(e){return e===""||e===void 0}function sM(e){const t=Ns(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(c=>{const u=r.current+c;t(u),(function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))})(u)},[t]),s=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function oM(e,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let c=OK(e,Math.max(s,0));a.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function OK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var AK=DD,lM=ID,TK=$D,kK=zD,PK=UD,cM=BD,RK=VD,uM=WD,dM=XD,DK=ZD,MK=JD,fM=eM,hM=tM,mM=nM;const Qe=AK,Je=TK,Ye=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(lM,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(kK,{asChild:!0,children:l.jsx(CP,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=lM.displayName;const pM=v.forwardRef(({className:e,...t},r)=>l.jsx(fM,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(kB,{className:"h-4 w-4"})}));pM.displayName=fM.displayName;const gM=v.forwardRef(({className:e,...t},r)=>l.jsx(hM,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(CP,{className:"h-4 w-4"})}));gM.displayName=hM.displayName;const Xe=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>l.jsx(PK,{children:l.jsxs(cM,{ref:a,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(pM,{}),l.jsx(RK,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(gM,{})]})}));Xe.displayName=cM.displayName;const IK=v.forwardRef(({className:e,...t},r)=>l.jsx(uM,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));IK.displayName=uM.displayName;const _e=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(dM,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(MK,{children:l.jsx(NB,{className:"h-4 w-4"})})}),l.jsx(DK,{children:t})]}));_e.displayName=dM.displayName;const LK=v.forwardRef(({className:e,...t},r)=>l.jsx(mM,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",e),...t}));LK.displayName=mM.displayName;var _x="rovingFocusGroup.onEntryFocus",$K={bubbles:!1,cancelable:!0},_d="RovingFocusGroup",[Pb,vM,zK]=QR(_d),[UK,Lp]=ki(_d,[zK]),[BK,qK]=UK(_d),yM=v.forwardRef((e,t)=>l.jsx(Pb.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Pb.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(FK,{...e,ref:t})})}));yM.displayName=_d;var FK=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=e,y=v.useRef(null),x=Ct(t,y),S=Op(s),[w,_]=No({prop:c,defaultProp:u??null,onChange:f,caller:_d}),[E,O]=v.useState(!1),C=Ns(h),I=vM(r),A=v.useRef(!1),[M,N]=v.useState(0);return v.useEffect(()=>{const T=y.current;if(T)return T.addEventListener(_x,C),()=>T.removeEventListener(_x,C)},[C]),l.jsx(BK,{scope:r,orientation:n,dir:S,loop:a,currentTabStopId:w,onItemFocus:v.useCallback(T=>_(T),[_]),onItemShiftTab:v.useCallback(()=>O(!0),[]),onFocusableItemAdd:v.useCallback(()=>N(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>N(T=>T-1),[]),children:l.jsx(rt.div,{tabIndex:E||M===0?-1:0,"data-orientation":n,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:tt(e.onMouseDown,()=>{A.current=!0}),onFocus:tt(e.onFocus,T=>{const U=!A.current;if(T.target===T.currentTarget&&U&&!E){const G=new CustomEvent(_x,$K);if(T.currentTarget.dispatchEvent(G),!G.defaultPrevented){const B=I().filter(L=>L.focusable),K=B.find(L=>L.active),F=B.find(L=>L.id===w),J=[K,F,...B].filter(Boolean).map(L=>L.ref.current);wM(J,m)}}A.current=!1}),onBlur:tt(e.onBlur,()=>O(!1))})})}),xM="RovingFocusGroupItem",bM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:c,...u}=e,f=_s(),h=s||f,m=qK(xM,r),g=m.currentTabStopId===h,y=vM(r),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:w}=m;return v.useEffect(()=>{if(n)return x(),()=>S()},[n,x,S]),l.jsx(Pb.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:l.jsx(rt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:tt(e.onMouseDown,_=>{n?m.onItemFocus(h):_.preventDefault()}),onFocus:tt(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:tt(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=KK(_,m.orientation,m.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=y().filter(I=>I.focusable).map(I=>I.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const I=C.indexOf(_.currentTarget);C=m.loop?GK(C,I+1):C.slice(I+1)}setTimeout(()=>wM(C))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:w!=null}):c})})});bM.displayName=xM;var HK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VK(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function KK(e,t,r){const n=VK(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return HK[n]}function wM(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function GK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jM=yM,_M=bM;function WK(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Cc=e=>{const{present:t,children:r}=e,n=YK(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),s=Ct(n.ref,XK(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:s}):null};Cc.displayName="Presence";function YK(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),s=v.useRef("none"),c=e?"mounted":"unmounted",[u,f]=WK(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Oh(n.current);s.current=u==="mounted"?h:"none"},[u]),Fr(()=>{const h=n.current,m=a.current;if(m!==e){const y=s.current,x=Oh(h);e?f("MOUNT"):x==="none"||h?.display==="none"?f("UNMOUNT"):f(m&&y!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Fr(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=x=>{const w=Oh(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&w&&(f("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},y=x=>{x.target===t&&(s.current=Oh(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Oh(e){return e?.animationName||"none"}function XK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _j="Radio",[ZK,SM]=ki(_j),[QK,JK]=ZK(_j),EM=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:c,value:u="on",onCheck:f,form:h,...m}=e,[g,y]=v.useState(null),x=Ct(t,_=>y(_)),S=v.useRef(!1),w=g?h||!!g.closest("form"):!0;return l.jsxs(QK,{scope:r,checked:a,disabled:c,children:[l.jsx(rt.button,{type:"button",role:"radio","aria-checked":a,"data-state":AM(a),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:x,onClick:tt(e.onClick,_=>{a||f?.(),w&&(S.current=_.isPropagationStopped(),S.current||_.stopPropagation())})}),w&&l.jsx(OM,{control:g,bubbles:!S.current,name:n,value:u,checked:a,required:s,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});EM.displayName=_j;var NM="RadioIndicator",CM=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,s=JK(NM,r);return l.jsx(Cc,{present:n||s.checked,children:l.jsx(rt.span,{"data-state":AM(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})})});CM.displayName=NM;var eG="RadioBubbleInput",OM=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const c=v.useRef(null),u=Ct(c,s),f=bj(r),h=gj(t);return v.useEffect(()=>{const m=c.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&x){const S=new Event("click",{bubbles:n});x.call(m,r),m.dispatchEvent(S)}},[f,r,n]),l.jsx(rt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OM.displayName=eG;function AM(e){return e?"checked":"unchecked"}var tG=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$p="RadioGroup",[rG]=ki($p,[Lp,SM]),TM=Lp(),kM=SM(),[nG,aG]=rG($p),PM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:m=!0,onValueChange:g,...y}=e,x=TM(r),S=Op(h),[w,_]=No({prop:s,defaultProp:a??null,onChange:g,caller:$p});return l.jsx(nG,{scope:r,name:n,required:c,disabled:u,value:w,onValueChange:_,children:l.jsx(jM,{asChild:!0,...x,orientation:f,dir:S,loop:m,children:l.jsx(rt.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:S,...y,ref:t})})})});PM.displayName=$p;var RM="RadioGroupItem",DM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,s=aG(RM,r),c=s.disabled||n,u=TM(r),f=kM(r),h=v.useRef(null),m=Ct(t,h),g=s.value===a.value,y=v.useRef(!1);return v.useEffect(()=>{const x=w=>{tG.includes(w.key)&&(y.current=!0)},S=()=>y.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",S)}},[]),l.jsx(_M,{asChild:!0,...u,focusable:!c,active:g,children:l.jsx(EM,{disabled:c,required:s.required,checked:g,...f,...a,name:s.name,ref:m,onCheck:()=>s.onValueChange(a.value),onKeyDown:tt(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:tt(a.onFocus,()=>{y.current&&h.current?.click()})})})});DM.displayName=RM;var iG="RadioGroupIndicator",MM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=kM(r);return l.jsx(CM,{...a,...n,ref:t})});MM.displayName=iG;var IM=PM,LM=DM,sG=MM;const Ao=v.forwardRef(({className:e,...t},r)=>l.jsx(IM,{className:He("grid gap-2",e),...t,ref:r}));Ao.displayName=IM.displayName;const qt=v.forwardRef(({className:e,...t},r)=>l.jsx(LM,{ref:r,className:He("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(sG,{className:"flex items-center justify-center",children:l.jsx(MB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qt.displayName=LM.displayName;var zp="Dialog",[$M]=ki(zp),[oG,Ea]=$M(zp),zM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,u=v.useRef(null),f=v.useRef(null),[h,m]=No({prop:n,defaultProp:a??!1,onChange:s,caller:zp});return l.jsx(oG,{scope:t,triggerRef:u,contentRef:f,contentId:_s(),titleId:_s(),descriptionId:_s(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:c,children:r})};zM.displayName=zp;var UM="DialogTrigger",BM=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ea(UM,r),s=Ct(t,a.triggerRef);return l.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Nj(a.open),...n,ref:s,onClick:tt(e.onClick,a.onOpenToggle)})});BM.displayName=UM;var Sj="DialogPortal",[lG,qM]=$M(Sj,{forceMount:void 0}),FM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Ea(Sj,t);return l.jsx(lG,{scope:t,forceMount:r,children:v.Children.map(n,c=>l.jsx(Cc,{present:r||s.open,children:l.jsx(xj,{asChild:!0,container:a,children:c})}))})};FM.displayName=Sj;var jm="DialogOverlay",HM=v.forwardRef((e,t)=>{const r=qM(jm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ea(jm,e.__scopeDialog);return s.modal?l.jsx(Cc,{present:n||s.open,children:l.jsx(uG,{...a,ref:t})}):null});HM.displayName=jm;var cG=ed("DialogOverlay.RemoveScroll"),uG=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ea(jm,r);return l.jsx(wj,{as:cG,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(rt.div,{"data-state":Nj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),To="DialogContent",VM=v.forwardRef((e,t)=>{const r=qM(To,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ea(To,e.__scopeDialog);return l.jsx(Cc,{present:n||s.open,children:s.modal?l.jsx(dG,{...a,ref:t}):l.jsx(fG,{...a,ref:t})})});VM.displayName=To;var dG=v.forwardRef((e,t)=>{const r=Ea(To,e.__scopeDialog),n=v.useRef(null),a=Ct(t,r.contentRef,n);return v.useEffect(()=>{const s=n.current;if(s)return CD(s)},[]),l.jsx(KM,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tt(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&s.preventDefault()}),onFocusOutside:tt(e.onFocusOutside,s=>s.preventDefault())})}),fG=v.forwardRef((e,t)=>{const r=Ea(To,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return l.jsx(KM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),KM=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...c}=e,u=Ea(To,r),f=v.useRef(null),h=Ct(t,f);return tD(),l.jsxs(l.Fragment,{children:[l.jsx(cj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(lj,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Nj(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(hG,{titleId:u.titleId}),l.jsx(pG,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Ej="DialogTitle",GM=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ea(Ej,r);return l.jsx(rt.h2,{id:a.titleId,...n,ref:t})});GM.displayName=Ej;var WM="DialogDescription",YM=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ea(WM,r);return l.jsx(rt.p,{id:a.descriptionId,...n,ref:t})});YM.displayName=WM;var XM="DialogClose",ZM=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ea(XM,r);return l.jsx(rt.button,{type:"button",...n,ref:t,onClick:tt(e.onClick,()=>a.onOpenChange(!1))})});ZM.displayName=XM;function Nj(e){return e?"open":"closed"}var QM="DialogTitleWarning",[gfe,JM]=_V(QM,{contentName:To,titleName:Ej,docsSlug:"dialog"}),hG=({titleId:e})=>{const t=JM(QM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mG="DialogDescriptionWarning",pG=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JM(mG).contentName}}.`;return v.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},gG=zM,vG=BM,yG=FM,eI=HM,tI=VM,rI=GM,nI=YM,xG=ZM;const Jr=gG,bo=vG,bG=yG,aI=v.forwardRef(({className:e,...t},r)=>l.jsx(eI,{ref:r,className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aI.displayName=eI.displayName;const zr=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(bG,{children:[l.jsx(aI,{}),l.jsxs(tI,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(xG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(bd,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zr.displayName=tI.displayName;const Ur=({className:e,...t})=>l.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ur.displayName="DialogHeader";const mn=({className:e,...t})=>l.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mn.displayName="DialogFooter";const Br=v.forwardRef(({className:e,...t},r)=>l.jsx(rI,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",e),...t}));Br.displayName=rI.displayName;const Dn=v.forwardRef(({className:e,...t},r)=>l.jsx(nI,{ref:r,className:He("text-sm text-muted-foreground",e),...t}));Dn.displayName=nI.displayName;function wG({isOpen:e,onClose:t,selectedItems:r,menuItems:n,orderType:a,selectedTable:s,customerName:c,isTablesEnabled:u,tables:f,handleAddItem:h,handleRemoveItem:m,setOrderType:g,setSelectedTable:y,setCustomerName:x,handleCreateOrder:S,calculateTotal:w,orderDiscountType:_,orderDiscountValue:E,setOrderDiscountType:O,setOrderDiscountValue:C,calculateSubtotal:I}){const{t:A}=or(),M=async()=>{await S(),t()};return l.jsx(Jr,{open:e,onOpenChange:t,children:l.jsxs(zr,{className:He("fixed bottom-0 left-0 right-0 top-auto translate-y-0 translate-x-0 max-w-none w-full rounded-t-2xl rounded-b-none max-h-[90vh] flex flex-col p-0","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom"),children:[l.jsx(Ur,{className:"px-6 pt-6 pb-4 border-b shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Br,{className:"text-xl font-bold",children:A("orderSummary")}),l.jsx(we,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:l.jsx(bd,{className:"h-5 w-5"})})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:A("orderType")}),l.jsxs(Ao,{value:a,onValueChange:N=>g(N),className:"flex gap-4",children:[u&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qt,{value:"dine_in",id:"drawer_dine_in"}),l.jsx(oe,{htmlFor:"drawer_dine_in",className:"cursor-pointer",children:A("dineIn")})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qt,{value:"takeout",id:"drawer_takeout"}),l.jsx(oe,{htmlFor:"drawer_takeout",className:"cursor-pointer",children:A("takeout")})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qt,{value:"delivery",id:"drawer_delivery"}),l.jsx(oe,{htmlFor:"drawer_delivery",className:"cursor-pointer",children:A("delivery")})]})]})]}),a==="dine_in"&&u&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:A("table")}),l.jsxs(Qe,{value:s,onValueChange:y,children:[l.jsx(Ye,{children:l.jsx(Je,{placeholder:A("selectTable")})}),l.jsx(Xe,{children:f.map(N=>l.jsxs(_e,{value:N.number,children:[N.number," ",N.status==="Occupied"&&`(${A("occupiedAbbr")})`]},N.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:A("customer")}),l.jsx(Ee,{placeholder:A("customerNamePlaceholder"),value:c,onChange:N=>x(N.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{className:"text-sm font-medium",children:"Desconto do Pedido"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Qe,{value:_||"none",onValueChange:N=>{N==="none"?(O(null),C(null)):(O(N),E===null&&C(0))},children:[l.jsx(Ye,{className:"flex-1",children:l.jsx(Je,{placeholder:"Tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem desconto"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),_&&l.jsx(Ee,{type:"number",step:_==="fixed"?"0.01":"0.1",min:"0",max:_==="percentage"?"100":void 0,value:E||"",onChange:N=>C(N.target.value?parseFloat(N.target.value):null),placeholder:_==="fixed"?"0.00":"0",className:"flex-1"})]}),_&&E!==null&&E>0&&l.jsx("p",{className:"text-xs text-muted-foreground",children:_==="fixed"?`Desconto de ${ge(E)}`:`Desconto de ${E}%`})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg",children:A("items")}),r.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground space-y-2",children:[l.jsx(pa,{className:"h-8 w-8"}),l.jsx("p",{children:A("noItemsSelected")})]}):l.jsx("div",{className:"space-y-4",children:r.map(N=>{const T=n.find(U=>U.id.toString()===N.id);return l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg space-y-2",children:[l.jsx("p",{className:"font-medium whitespace-nowrap overflow-hidden text-ellipsis",children:T?.name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:ge(T?.price||0)}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(N.id),children:l.jsx(Kw,{className:"h-3 w-3"})}),l.jsx("span",{className:"w-8 text-center font-medium",children:N.quantity}),l.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>h(N.id),children:l.jsx(pn,{className:"h-3 w-3"})})]}),l.jsx("div",{className:"font-medium text-right",children:ge((T?.price||0)*N.quantity)})]})]},N.id)})})]})]}),l.jsxs("div",{className:"px-6 py-4 border-t bg-background shrink-0 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),l.jsx("span",{children:ge(I())})]}),_&&E!==null&&E>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Desconto:"}),l.jsx("span",{children:_==="fixed"?`-${ge(E)}`:`-${ge(I()*E/100)}`})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[l.jsx("span",{className:"text-lg font-semibold",children:A("total")}),(()=>{const N=I(),T=w();return T<N?l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"line-through text-muted-foreground text-base",children:ge(N)}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:ge(T)})]}):l.jsx("span",{className:"text-2xl font-bold",children:ge(T)})})()]}),l.jsx(we,{className:"w-full",size:"lg",onClick:M,disabled:a==="dine_in"&&u&&!s||r.length===0,children:A("createOrder")}),(a==="dine_in"&&u&&!s||r.length===0)&&l.jsx("p",{className:"text-sm text-center text-muted-foreground",children:a==="dine_in"&&u&&!s?A("selectATable"):r.length===0?A("addItemsToOrder"):""})]})]})})}function jG({selectedItems:e,menuItems:t,orderType:r,selectedTable:n,customerName:a,isTablesEnabled:s,tables:c,handleAddItem:u,handleRemoveItem:f,setOrderType:h,setSelectedTable:m,setCustomerName:g,handleCreateOrder:y,calculateTotal:x,orderDiscountType:S,orderDiscountValue:w,setOrderDiscountType:_,setOrderDiscountValue:E,calculateSubtotal:O}){const{t:C}=or(),[I,A]=v.useState(!1);if(e.length===0)return null;const M=e.reduce((N,T)=>N+T.quantity,0);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed bottom-20 left-0 right-0 z-40 md:hidden",children:l.jsx("div",{className:"bg-card border-t border-border shadow-lg mx-4 mb-4 rounded-lg",children:l.jsxs(we,{onClick:()=>A(!0),className:"w-full h-auto py-4 px-4 flex items-center justify-between rounded-lg",variant:"default",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(pa,{className:"h-5 w-5"}),M>0&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-primary-foreground text-primary text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:M})]}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsxs("span",{className:"text-sm font-medium",children:[M," ",M===1?C("item"):C("items")||"itens"]}),l.jsx("span",{className:"text-lg font-bold",children:ge(x())})]})]}),l.jsx("span",{className:"text-sm font-medium",children:C("viewDetails")})]})})}),l.jsx(wG,{isOpen:I,onClose:()=>A(!1),selectedItems:e,menuItems:t,orderType:r,selectedTable:n,customerName:a,isTablesEnabled:s,tables:c,handleAddItem:u,handleRemoveItem:f,setOrderType:h,setSelectedTable:m,setCustomerName:g,handleCreateOrder:y,calculateTotal:x,orderDiscountType:S,orderDiscountValue:w,setOrderDiscountType:_,setOrderDiscountValue:E,calculateSubtotal:O})]})}function _G(){const e=mr(),{menuItems:t,tables:r,addOrder:n,generateOrderId:a}=Hr(),{t:s}=or(),{isTablesEnabled:c}=Sa(),[u,f]=v.useState([]),[h,m]=v.useState(""),[g,y]=v.useState(c?"dine_in":"takeout"),[x,S]=v.useState(""),[w,_]=v.useState(""),[E,O]=v.useState("all"),[C,I]=v.useState(null),[A,M]=v.useState(null),N=t.filter(L=>L.price!=null&&L.price>0&&L.status==="Available"),U=["all",...Array.from(new Set(N.map(L=>L.category).filter(L=>L!=null&&L!=="")))],G=N.filter(L=>{const R=L.name.toLowerCase().includes(w.toLowerCase()),q=E==="all"||L.category===E;return R&&q}),B=L=>{f(R=>R.find(re=>re.id===L)?R.map(re=>re.id===L?{...re,quantity:re.quantity+1}:re):[...R,{id:L,quantity:1}])},K=L=>{f(R=>{const q=R.find(re=>re.id===L);return q&&q.quantity>1?R.map(re=>re.id===L?{...re,quantity:re.quantity-1}:re):R.filter(re=>re.id!==L)})},F=()=>u.reduce((L,R)=>{const q=t.find(re=>re.id===R.id);return L+(q?.price||0)*R.quantity},0),se=()=>{const L=F();if(C&&A!==null&&A>0){if(C==="fixed")return Math.max(0,L-A);if(C==="percentage"){const R=L*A/100;return Math.max(0,L-R)}}return L},J=async()=>{if(g==="dine_in"&&c&&!h||u.length===0)return;const L=new Date,R=String(L.getDate()).padStart(2,"0"),q=String(L.getMonth()+1).padStart(2,"0"),re=L.getFullYear(),X=String(L.getHours()).padStart(2,"0"),D=String(L.getMinutes()).padStart(2,"0"),H=`${R}/${q}/${re} ${X}:${D}`,P={id:await a(),table:g==="dine_in"&&c?h:void 0,orderType:g,customer:x||s("guest"),status:"Pending",items:u.map(V=>{const ie=t.find(W=>W.id===V.id);return{id:ie.id,name:ie.name,price:ie.price,quantity:V.quantity}}),total:se(),time:H,order_discount_type:C,order_discount_value:A};try{const V=await n(P);V.success?e("/orders"):alert(`Failed to create order: ${V.error}`)}catch{alert("An unexpected error occurred while creating the order.")}};return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"md:hidden sticky top-0 bg-background/80 backdrop-blur-sm z-10 px-4 py-3 border-b border-border",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(we,{variant:"ghost",size:"icon",className:"absolute left-0",onClick:()=>e(-1),children:l.jsx(La,{className:"h-5 w-5"})}),l.jsx("h1",{className:"text-xl font-bold",children:s("newOrder")})]})}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",style:{maxHeight:"calc(100vh - 2rem)"},children:[l.jsxs("div",{className:"flex-1 flex flex-col gap-6 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s("newOrder")}),l.jsx("p",{className:"text-muted-foreground",children:s("selectItems")})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("div",{className:"relative w-64",children:[l.jsx(Ww,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Ee,{placeholder:s("searchPlaceholder"),className:"pl-8",value:w,onChange:L=>_(L.target.value)})]})})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 shrink-0",children:U.map(L=>l.jsx(we,{variant:E===L?"default":"outline",onClick:()=>O(L),className:"capitalize whitespace-nowrap",children:L},L))}),l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 overflow-y-auto pr-2 pb-24 md:pb-2",children:G.length===0?l.jsx("div",{className:"col-span-full text-center py-8 text-muted-foreground",children:l.jsx("p",{children:s("noItemsFound")||"Nenhum item encontrado"})}):G.map(L=>l.jsxs(Ne,{className:"cursor-pointer hover:border-primary transition-colors flex flex-col",onClick:()=>B(L.id),children:[l.jsx("div",{className:"h-32 w-full relative shrink-0 bg-muted",children:L.image?l.jsx("img",{src:L.image,alt:L.name,className:"object-cover w-full h-full rounded-t-lg",onError:R=>{R.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&auto=format&fit=crop&q=60"}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted rounded-t-lg",children:l.jsx(pa,{className:"h-12 w-12 text-muted-foreground"})})}),l.jsxs("div",{className:"p-3 flex flex-col flex-1",children:[l.jsx("div",{className:"flex justify-between items-start mb-2",children:l.jsx("h3",{className:"font-semibold line-clamp-1",children:L.name})}),L.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4 flex-1",children:L.description}),L.category&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:L.category}),l.jsxs("div",{className:"mt-auto pt-2 border-t space-y-2",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("span",{className:"font-bold text-base",children:ge(L.price)})}),l.jsxs(we,{size:"sm",variant:"secondary",className:"w-full",children:[l.jsx(pn,{className:"h-4 w-4 mr-1"})," ",s("addItem")]})]})]})]},L.id))})]}),l.jsx("div",{className:"hidden md:flex w-full md:w-[320px] lg:w-[400px] flex-col gap-6 shrink-0",style:{maxHeight:"calc(100vh - 2rem)"},children:l.jsxs(Ne,{className:"flex-1 flex flex-col overflow-hidden",style:{maxHeight:"100%"},children:[l.jsx(Ae,{className:"shrink-0",children:l.jsx(Ie,{children:s("orderSummary")})}),l.jsxs(Ce,{className:"flex-1 flex flex-col overflow-hidden",style:{minHeight:0},children:[l.jsxs("div",{className:"space-y-4 mb-6 shrink-0",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:s("orderType")}),l.jsxs(Ao,{defaultValue:c?"dine_in":"takeout",value:g,onValueChange:L=>y(L),className:"flex gap-4",children:[c&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qt,{value:"dine_in",id:"dine_in"}),l.jsx(oe,{htmlFor:"dine_in",children:s("dineIn")})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qt,{value:"takeout",id:"takeout"}),l.jsx(oe,{htmlFor:"takeout",children:s("takeout")})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qt,{value:"delivery",id:"delivery"}),l.jsx(oe,{htmlFor:"delivery",children:s("delivery")})]})]})]}),g==="dine_in"&&c&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:s("table")}),l.jsxs(Qe,{value:h,onValueChange:m,children:[l.jsx(Ye,{children:l.jsx(Je,{placeholder:s("selectTable")})}),l.jsx(Xe,{children:r.map(L=>l.jsxs(_e,{value:L.number,children:[L.number," ",L.status==="Occupied"&&`(${s("occupiedAbbr")})`]},L.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:s("customer")}),l.jsx(Ee,{placeholder:s("customerNamePlaceholder"),value:x,onChange:L=>S(L.target.value)})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto -mx-4 px-4",children:u.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground space-y-2",children:[l.jsx(pa,{className:"h-8 w-8"}),l.jsx("p",{children:s("noItemsSelected")})]}):l.jsx("div",{className:"space-y-4",children:u.map(L=>{const R=t.find(q=>q.id===L.id);return l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:R?.name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:ge(R?.price||0)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>K(L.id),children:l.jsx(Kw,{className:"h-3 w-3"})}),l.jsx("span",{className:"w-4 text-center",children:L.quantity}),l.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>B(L.id),children:l.jsx(pn,{className:"h-3 w-3"})})]}),l.jsx("div",{className:"font-medium w-16 text-right",children:ge((R?.price||0)*L.quantity)})]},L.id)})})}),l.jsxs("div",{className:"pt-6 mt-6 border-t shrink-0",children:[l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsx(oe,{className:"text-sm font-medium",children:"Desconto do Pedido"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Qe,{value:C||"none",onValueChange:L=>{L==="none"?(I(null),M(null)):(I(L),A===null&&M(0))},children:[l.jsx(Ye,{className:"flex-1",children:l.jsx(Je,{placeholder:"Tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem desconto"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),C&&l.jsx(Ee,{type:"number",step:C==="fixed"?"0.01":"0.1",min:"0",max:C==="percentage"?"100":void 0,value:A||"",onChange:L=>M(L.target.value?parseFloat(L.target.value):null),placeholder:C==="fixed"?"0.00":"0",className:"flex-1"})]}),C&&A!==null&&A>0&&l.jsx("p",{className:"text-xs text-muted-foreground",children:C==="fixed"?`Desconto de ${ge(A)}`:`Desconto de ${A}%`})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),l.jsx("span",{children:ge(F())})]}),C&&A!==null&&A>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Desconto:"}),l.jsx("span",{children:C==="fixed"?`-${ge(A)}`:`-${ge(F()*A/100)}`})]})]}),l.jsxs("div",{className:"flex justify-between items-center mb-6 pt-2 border-t",children:[l.jsx("span",{className:"text-lg font-semibold",children:s("total")}),(()=>{const L=F(),R=se();return R<L?l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"line-through text-muted-foreground text-base",children:ge(L)}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:ge(R)})]}):l.jsx("span",{className:"text-2xl font-bold",children:ge(R)})})()]}),l.jsx(we,{className:"w-full",size:"lg",onClick:J,disabled:g==="dine_in"&&c&&!h||u.length===0,children:s("createOrder")}),(g==="dine_in"&&c&&!h||u.length===0)&&l.jsx("p",{className:"text-sm text-center text-muted-foreground mt-2",children:g==="dine_in"&&c&&!h?s("selectATable"):u.length===0?s("addItemsToOrder"):""})]})]})]})})]}),l.jsx(jG,{selectedItems:u.map(L=>({id:L.id.toString(),quantity:L.quantity})),menuItems:t,orderType:g,selectedTable:h,customerName:x,isTablesEnabled:c,tables:r,handleAddItem:L=>B(parseInt(L)),handleRemoveItem:L=>K(parseInt(L)),setOrderType:y,setSelectedTable:m,setCustomerName:S,handleCreateOrder:J,calculateTotal:se,orderDiscountType:C,orderDiscountValue:A,setOrderDiscountType:I,setOrderDiscountValue:M,calculateSubtotal:F})]})}function SG(e,t){const r=t==="A4"?"100%":t==="80mm"?"80mm":"58mm",n=t==="A4"?"12px":t==="80mm"?"10px":"9px",a=e.items.map(s=>`
    <tr>
      <td style="padding: 4px 0;">${s.quantity}x ${s.name}</td>
      <td style="text-align: right; padding: 4px 0;">R$ ${(s.price*s.quantity).toFixed(2)}</td>
    </tr>
  `).join("");return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Recibo - ${e.orderId}</title>
      <style>
        @media print {
          @page {
            size: ${t==="A4"?"A4":"auto"};
            margin: ${t==="A4"?"10mm":"5mm"};
          }
          body {
            margin: 0;
            padding: 0;
          }
          .no-print {
            display: none;
          }
        }
        body {
          font-family: 'Courier New', monospace;
          width: ${r};
          max-width: ${r};
          margin: 0 auto;
          padding: 10px;
          font-size: ${n};
          line-height: 1.4;
        }
        .header {
          text-align: center;
          border-bottom: 1px dashed #000;
          padding-bottom: 10px;
          margin-bottom: 10px;
        }
        .header h1 {
          margin: 0;
          font-size: ${t==="A4"?"18px":"14px"};
          font-weight: bold;
        }
        .info {
          margin: 10px 0;
        }
        .info-row {
          display: flex;
          justify-content: space-between;
          margin: 4px 0;
        }
        table {
          width: 100%;
          border-collapse: collapse;
          margin: 10px 0;
        }
        .total {
          border-top: 2px solid #000;
          padding-top: 10px;
          margin-top: 10px;
          font-weight: bold;
          font-size: ${t==="A4"?"14px":"12px"};
        }
        .footer {
          text-align: center;
          border-top: 1px dashed #000;
          padding-top: 10px;
          margin-top: 20px;
          font-size: ${t==="A4"?"10px":"8px"};
        }
        .notes {
          margin-top: 10px;
          padding: 8px;
          background: #f5f5f5;
          border-radius: 4px;
        }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>RECIBO</h1>
        <p>Pedido #${e.orderId}</p>
      </div>
      
      <div class="info">
        <div class="info-row">
          <span>Cliente:</span>
          <span>${e.customer}</span>
        </div>
        ${e.table?`
        <div class="info-row">
          <span>Mesa:</span>
          <span>${e.table}</span>
        </div>
        `:""}
        ${e.orderType?`
        <div class="info-row">
          <span>Tipo:</span>
          <span>${e.orderType==="dine_in"?"Mesa":e.orderType==="takeout"?"Retirada":"Delivery"}</span>
        </div>
        `:""}
        <div class="info-row">
          <span>Data:</span>
          <span>${e.date} ${e.time}</span>
        </div>
      </div>

      <table>
        <thead>
          <tr>
            <th style="text-align: left; border-bottom: 1px solid #000; padding-bottom: 5px;">Item</th>
            <th style="text-align: right; border-bottom: 1px solid #000; padding-bottom: 5px;">Total</th>
          </tr>
        </thead>
        <tbody>
          ${a}
        </tbody>
      </table>

      <div class="total">
        <div class="info-row">
          <span>Subtotal:</span>
          <span>R$ ${e.subtotal.toFixed(2)}</span>
        </div>
        <div class="info-row" style="font-size: ${t==="A4"?"16px":"14px"};">
          <span>TOTAL:</span>
          <span>R$ ${e.total.toFixed(2)}</span>
        </div>
        ${e.paymentMethod?`
        <div class="info-row" style="margin-top: 8px;">
          <span>Pagamento:</span>
          <span>${e.paymentMethod}</span>
        </div>
        `:""}
      </div>

      ${e.notes?`
      <div class="notes">
        <strong>Observaes:</strong><br>
        ${e.notes}
      </div>
      `:""}

      <div class="footer">
        <p>Obrigado pela preferncia!</p>
        <p>${new Date().toLocaleString("pt-BR")}</p>
      </div>
    </body>
    </html>
  `}async function EG(e,t){if(!t.enabled)return console.warn("Printer is disabled in settings"),!1;try{switch(t.type){case"browser":return Sx(e,t);case"network":return await NG(e,t);case"usb":return console.warn("USB printing not yet implemented, falling back to browser print"),Sx(e,t);default:return Sx(e,t)}}catch(r){return console.error("Error printing receipt:",r),!1}}function Sx(e,t){try{const r=SG(e,t.paperSize),n=window.open("","_blank","width=800,height=600");return n?(n.document.write(r),n.document.close(),n.onload=()=>{setTimeout(()=>{n.print()},250)},!0):(alert("Por favor, permita pop-ups para imprimir o recibo"),!1)}catch(r){return console.error("Error in browser print:",r),!1}}async function NG(e,t){try{if(!t.ipAddress||!t.port)return console.error("IP e porta da impressora no configurados"),alert("Por favor, configure o IP e porta da impressora nas configuraes"),!1;let r="raw";t.port===631||t.port===80||t.port===443?r="ipp":t.port===515&&(r="lpr");const s=await(await fetch("http://localhost:3000/api/printer/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printerConfig:{ipAddress:t.ipAddress,port:t.port,protocol:r,paperSize:t.paperSize},printData:e})})).json();return s.success?!0:(console.error("Erro ao imprimir:",s.message),alert(`Erro ao imprimir: ${s.message}`),!1)}catch(r){return console.error("Error in network print:",r),alert("Erro de conexo com o servidor de impresso. Verifique se o backend est rodando."),!1}}async function CG(e,t,r="raw"){try{return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)?t<1||t>65535?{success:!1,message:"Porta invlida (deve estar entre 1 e 65535)"}:await(await fetch("http://localhost:3000/api/printer/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ipAddress:e,port:t,protocol:r})})).json():{success:!1,message:"Endereo IP invlido"}}catch(n){return console.error("Error testing network printer:",n),{success:!1,message:`Erro de conexo: ${n instanceof Error?n.message:"No foi possvel conectar ao servidor de impresso. Verifique se o backend est rodando."}`}}}function OG(){const{id:e}=wp(),t=mr(),{orders:r,updateOrderStatus:n,processPayment:a,menuItems:s,cancelUnpaidOrder:c}=Hr(),{t:u}=or(),{printerSettings:f,settings:h}=Sa(),{hasPermission:m}=Fa(),[g,y]=v.useState(""),[x,S]=v.useState(!1),[w,_]=v.useState(!1),[E,O]=v.useState(""),[C,I]=v.useState(""),[A,M]=v.useState(null),[N,T]=v.useState("Cash"),[U,G]=v.useState([]),[B,K]=v.useState(null),[F,se]=v.useState(null),[J,L]=v.useState(null),R=r.find($=>$.id===e);v.useEffect(()=>{if(!R)return;(async()=>{const ee=R.items.map(ae=>ae.id).filter(ae=>ae!=null);if(ee.length===0)return;const{data:ce,error:Y}=await be.from("products").select("*").in("id",ee);!Y&&ce&&G(ce)})()},[R,Zr]);const q=v.useMemo(()=>{if(!R)return 0;let $=0;for(const ee of R.items){const ce=U.find(ct=>ct.id===ee.id),Y=s.find(ct=>ct.id===ee.id),ae=ee.price,he=ce?.discount_type||Y?.discount_type,Se=ce?.discount_value||Y?.discount_value,Oe=ce?.discount_applies_to||Y?.discount_applies_to,Ke=Yh(ae,he,Se,Oe,N);$+=Ke*ee.quantity}return $},[R,U,s,N]),re=v.useMemo(()=>{if(!R)return 0;let $=q;if(R.order_discount_type&&R.order_discount_value!==null&&R.order_discount_value!==void 0&&R.order_discount_value>0){if(R.order_discount_type==="fixed")$=Math.max(0,$-R.order_discount_value);else if(R.order_discount_type==="percentage"){const ee=$*R.order_discount_value/100;$=Math.max(0,$-ee)}}return $},[R,q]),X=v.useMemo(()=>{if(!R)return 0;let $=re;if(B&&F!==null&&F>0){if(B==="fixed")$=Math.max(0,$-F);else if(B==="percentage"){const ee=$*F/100;$=Math.max(0,$-ee)}}return $},[R,re,B,F]);if(v.useEffect(()=>{if(B&&F!==null&&F>0&&R){const $=Pa(B,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);$.isValid?L(null):L($.errorMessage||null)}else L(null)},[B,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re,R]),!R)return l.jsx("div",{className:"p-8 text-center",children:u("orderNotFound")});const D=$=>{const ee=["Pending","Preparing","Ready","Delivered","Closed"],ce=ee.indexOf($);return ee[ce+1]},H=async()=>{const $=D(R.status);if($){const ee=await n(R.id,$);ee.success||alert(`Failed to update status: ${ee.error}`)}},Q=async()=>{if(B&&F!==null&&F>0&&R){const ee=Pa(B,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);if(!ee.isValid){alert(ee.errorMessage||"Limite de desconto maior do que o permitido.");return}}const $=await a(R.id,N);$.success?S(!1):alert(`Failed to process payment: ${$.error}`)},P=async()=>{if(!R)return;if(!E){M("Por favor, insira a senha de admin/gerente");return}if(!C){M("Por favor, selecione uma justificativa para o cancelamento");return}M(null);const $=await c(R.id,E,C);$.success?(_(!1),O(""),I(""),t("/orders")):M($.error||"Erro ao cancelar pedido")},V=async()=>{if(f.enabled){const $={orderId:R.id,customer:R.customer,table:R.table,orderType:R.orderType,items:R.items.map(ce=>({name:ce.name,quantity:ce.quantity,price:ce.price})),subtotal:R.total,total:R.total,paymentMethod:R.paymentMethod,notes:g||void 0,date:new Date().toLocaleDateString("pt-BR"),time:R.time||new Date().toLocaleTimeString("pt-BR")};await EG($,f)||alert("Erro ao imprimir recibo. Verifique as configuraes da impressora.")}else window.print()},ie=$=>{switch($){case"Pending":return"bg-yellow-500";case"Preparing":return"bg-yellow-500";case"Ready":return"bg-green-500";case"Delivered":return"bg-blue-500";case"Closed":return"bg-gray-500";default:return"bg-gray-500"}},W=$=>{switch($){case"Ready":case"Delivered":case"Closed":return l.jsx(Es,{className:"h-6 w-6 text-white"});default:return l.jsx(dn,{className:"h-6 w-6 text-white"})}},je=($,ee="h-4 w-4")=>{switch($){case"Cash":return l.jsx(Zl,{className:ee});case"Card":return l.jsx(po,{className:ee});case"Voucher":return l.jsx(Xl,{className:ee});case"PIX":return l.jsx(Wl,{className:ee})}};return l.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[l.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{className:"text-gray-500 hover:text-gray-800 text-2xl",onClick:()=>t("/orders"),children:""}),l.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 font-extrabold",children:[u("orderId"),": ",R.id]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-2 ml-10",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(dn,{className:"h-4 w-4"}),l.jsx("span",{children:R.time})]}),l.jsx("span",{children:""}),l.jsx("span",{children:R.table?`${u("table")} ${R.table}`:R.orderType?u(R.orderType==="dine_in"?"dineIn":R.orderType):u("dineIn")}),l.jsx("span",{children:""}),l.jsxs("span",{children:[u("customer"),": ",R.customer]}),R.status==="Closed"&&R.paymentMethod&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[je(R.paymentMethod),l.jsxs("span",{children:[u("paymentMethod"),": ",u(R.paymentMethod.toLowerCase())]})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-4 md:mt-0 w-full md:w-auto",children:[l.jsxs(we,{variant:"outline",onClick:V,className:"flex-1 md:flex-none flex items-center justify-center gap-2 hover:bg-gray-200 text-gray-700 border-gray-200 bg-gray-100",children:[l.jsx(TP,{className:"h-5 w-5"}),u("printReceipt")]}),R.status!=="Closed"&&R.status!=="Cancelled"&&l.jsxs(l.Fragment,{children:[R.status!=="Delivered"&&l.jsxs(we,{onClick:H,className:"flex-1 md:flex-none bg-orange-500 hover:bg-opacity-90 text-white",children:[u("updateStatus")," (",u(D(R.status)?.toLowerCase())||D(R.status),")"]}),m(["admin","gerente"])&&l.jsxs(Jr,{open:w,onOpenChange:_,children:[l.jsx(bo,{asChild:!0,children:l.jsxs(we,{className:"flex-1 md:flex-none bg-red-600 hover:bg-red-700 text-white",children:[l.jsx(bd,{className:"h-4 w-4 mr-2"}),u("cancelOrder")]})}),l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:u("cancelOrderConfirmation")}),l.jsx(Dn,{children:u("cancelOrderDescription")||"Esta ao no pode ser desfeita. O estoque ser devolvido automaticamente."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:u("enterManagerPassword")}),l.jsx(Ee,{type:"password",value:E,onChange:$=>{O($.target.value),M(null)},placeholder:u("enterManagerPassword"),className:A?"border-red-500":""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:u("cancellationReason")}),l.jsxs(Qe,{value:C,onValueChange:$=>{I($),M(null)},children:[l.jsx(Ye,{className:A&&!C?"border-red-500":"",children:l.jsx(Je,{placeholder:u("selectCancellationReason")||"Selecione uma justificativa"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"cliente desistiu",children:"Cliente desistiu"}),l.jsx(_e,{value:"problema no pagamento do cliente",children:"Problema no pagamento do cliente"}),l.jsx(_e,{value:"mercadoria danificada",children:"Mercadoria danificada"}),l.jsx(_e,{value:"sem estoque",children:"Sem estoque"})]})]})]}),A&&l.jsx("div",{className:"text-sm text-red-600 mt-1",children:A})]}),l.jsxs(mn,{children:[l.jsx(we,{variant:"outline",onClick:()=>{_(!1),O(""),I(""),M(null)},children:u("cancel")||"Cancelar"}),l.jsx(we,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:u("confirmCancel")||"Confirmar Cancelamento"})]})]})]}),l.jsxs(Jr,{open:x,onOpenChange:S,children:[l.jsx(bo,{asChild:!0,children:l.jsx(we,{className:"flex-1 md:flex-none bg-orange-600 hover:bg-orange-700 text-white",children:u("payNow")})}),l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:u("confirmPayment")}),l.jsxs(Dn,{children:[u("selectPaymentMethod")," ",ge(X),"."]})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:u("paymentMethod")}),l.jsxs(Ao,{value:N,onValueChange:$=>T($),className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Zl,{className:"mb-3 h-6 w-6"}),u("cash")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(po,{className:"mb-3 h-6 w-6"}),u("card")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Xl,{className:"mb-3 h-6 w-6"}),u("voucher")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Wl,{className:"mb-3 h-6 w-6"}),u("pix")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:"Desconto no Pagamento"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Qe,{value:B||"none",onValueChange:$=>{if($==="none")K(null),se(null),L(null);else if(K($),F===null&&se(0),F!==null&&F>0&&R){const ee=Pa($,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(ee.isValid?null:ee.errorMessage||null)}},children:[l.jsx(Ye,{className:"flex-1",children:l.jsx(Je,{placeholder:"Tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem desconto"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),B&&l.jsx(Ee,{type:"number",step:B==="fixed"?"0.01":"0.1",min:"0",max:B==="percentage"?"100":void 0,value:F||"",onChange:$=>{const ee=$.target.value,ce=ee?parseFloat(ee):null;if(se(ce),ce!==null&&ce>0&&R){const Y=Pa(B,ce,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(Y.isValid?null:Y.errorMessage||null)}else L(null)},placeholder:B==="fixed"?"0.00":"0",className:`flex-1 ${J?"border-red-500":""}`})]}),J&&l.jsx("div",{className:"text-sm text-red-600 mt-1",children:J})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),l.jsx("span",{children:ge(q)})]}),R.order_discount_type&&R.order_discount_value!==null&&R.order_discount_value!==void 0&&R.order_discount_value>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Desconto do Pedido:"}),l.jsx("span",{children:R.order_discount_type==="fixed"?`-${ge(R.order_discount_value)}`:`-${ge(q*R.order_discount_value/100)}`})]}),B&&F!==null&&F>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Desconto no Pagamento:"}),l.jsx("span",{children:B==="fixed"?`-${ge(F)}`:`-${ge(re*F/100)}`})]}),l.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total:"}),X<re?l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(re)}),l.jsx("span",{className:"text-green-600 text-lg",children:ge(X)})]}):l.jsx("span",{children:ge(X)})]})]})]}),l.jsx(mn,{children:l.jsx(we,{onClick:Q,children:u("confirmPayment")})})]})]})]})]})]}),l.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1 flex flex-col space-y-6",children:[l.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[l.jsx("h2",{className:"text-base font-medium text-gray-700 mb-1",children:u("total")}),X<R.total?l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"line-through text-muted-foreground text-xl",children:ge(R.total)}),l.jsx("span",{className:"text-4xl font-bold text-green-600",children:ge(X)})]}):l.jsx("p",{className:"text-4xl font-bold text-gray-900",children:ge(R.total)})]}),l.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[l.jsxs("h3",{className:"text-base font-medium text-gray-700 mb-3",children:[u("status")," ",u("orderType")]}),l.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-lg font-semibold text-base text-white ${ie(R.status)}`,children:[W(R.status),l.jsx("span",{children:u(R.status.toLowerCase())||R.status})]}),R.status==="Closed"&&R.paymentMethod&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[u("paymentMethod"),":"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[je(R.paymentMethod,"h-4 w-4 text-gray-600"),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u(R.paymentMethod.toLowerCase())})]})]})})]}),l.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[l.jsx("h3",{className:"text-base font-medium text-gray-700 mb-4",children:u("orderSummary")}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:u("subtotal")}),l.jsx("span",{children:ge(R.items.reduce(($,ee)=>$+ee.price*ee.quantity,0))})]}),R.order_discount_type&&R.order_discount_value!==null&&R.order_discount_value!==void 0&&R.order_discount_value>0&&l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Desconto do Pedido:"}),l.jsx("span",{children:R.order_discount_type==="fixed"?`-${ge(R.order_discount_value||0)}`:`-${ge(R.items.reduce(($,ee)=>$+ee.price*ee.quantity,0)*(R.order_discount_value||0)/100)}`})]}),(()=>{const $=R.items.reduce((ae,he)=>ae+he.price*he.quantity,0),ee=R.order_discount_type&&R.order_discount_value!==null&&R.order_discount_value!==void 0&&R.order_discount_value>0?R.order_discount_type==="fixed"?R.order_discount_value:$*R.order_discount_value/100:0,ce=$-ee;return X<ce?l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Desconto por Pagamento:"}),l.jsxs("span",{children:["-",ge(ce-X)]})]}):null})(),l.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[l.jsxs("span",{children:[u("total"),":"]}),X<R.total?l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(R.total)}),l.jsx("span",{className:"text-green-600",children:ge(X)})]}):l.jsx("span",{children:ge(R.total)})]})]}),R.status==="Closed"&&R.paymentMethod&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[u("paymentMethod"),":"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[je(R.paymentMethod,"h-4 w-4 text-gray-600"),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u(R.paymentMethod.toLowerCase())})]})]})}),R.status!=="Closed"&&l.jsxs(Jr,{open:x,onOpenChange:S,children:[l.jsx(bo,{asChild:!0,children:l.jsxs(we,{className:"w-full bg-orange-600 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center space-x-2 text-base hover:bg-orange-700 transition-colors",children:[l.jsx(po,{className:"h-5 w-5"}),l.jsx("span",{children:u("payNow")})]})}),l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:u("confirmPayment")}),l.jsxs(Dn,{children:[u("selectPaymentMethod")," ",ge(X),"."]})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:u("paymentMethod")}),l.jsxs(Ao,{value:N,onValueChange:$=>T($),className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Zl,{className:"mb-3 h-6 w-6"}),u("cash")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(po,{className:"mb-3 h-6 w-6"}),u("card")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Xl,{className:"mb-3 h-6 w-6"}),u("voucher")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Wl,{className:"mb-3 h-6 w-6"}),u("pix")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:"Desconto no Pagamento"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Qe,{value:B||"none",onValueChange:$=>{if($==="none")K(null),se(null),L(null);else if(K($),F===null&&se(0),F!==null&&F>0&&R){const ee=Pa($,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(ee.isValid?null:ee.errorMessage||null)}},children:[l.jsx(Ye,{className:"flex-1",children:l.jsx(Je,{placeholder:"Tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem desconto"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),B&&l.jsx(Ee,{type:"number",step:B==="fixed"?"0.01":"0.1",min:"0",max:B==="percentage"?"100":void 0,value:F||"",onChange:$=>{const ee=$.target.value,ce=ee?parseFloat(ee):null;if(se(ce),ce!==null&&ce>0&&R){const Y=Pa(B,ce,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(Y.isValid?null:Y.errorMessage||null)}else L(null)},placeholder:B==="fixed"?"0.00":"0",className:`flex-1 ${J?"border-red-500":""}`})]}),J&&l.jsx("div",{className:"text-sm text-red-600 mt-1",children:J})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),l.jsx("span",{children:ge(q)})]}),R.order_discount_type&&R.order_discount_value!==null&&R.order_discount_value!==void 0&&R.order_discount_value>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Desconto do Pedido:"}),l.jsx("span",{children:R.order_discount_type==="fixed"?`-${ge(R.order_discount_value)}`:`-${ge(q*R.order_discount_value/100)}`})]}),B&&F!==null&&F>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Desconto no Pagamento:"}),l.jsx("span",{children:B==="fixed"?`-${ge(F)}`:`-${ge(re*F/100)}`})]}),l.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total:"}),X<re?l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(re)}),l.jsx("span",{className:"text-green-600 text-lg",children:ge(X)})]}):l.jsx("span",{children:ge(X)})]})]})]}),l.jsx(mn,{children:l.jsx(we,{onClick:Q,children:u("confirmPayment")})})]})]})]}),l.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[l.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:u("notes")}),l.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition text-sm",placeholder:u("typeNote"),rows:4,value:g,onChange:$=>y($.target.value)}),l.jsx(we,{className:"w-full mt-3 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-100 transition-colors bg-white text-gray-700",disabled:!g.trim(),children:u("addNote")})]})]}),l.jsx("section",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md h-full border border-gray-100",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5",children:u("items")}),l.jsx("ul",{className:"space-y-6",children:R.items.map(($,ee)=>l.jsxs("li",{className:"flex items-center pb-4 border-b border-gray-200 last:border-b-0",children:[l.jsx("div",{className:"flex items-center justify-center h-8 w-8 bg-gray-100 rounded-full text-sm font-semibold text-gray-600 mr-4",children:ee+1}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-medium text-gray-900",children:$.name}),l.jsx("p",{className:"text-sm text-gray-600",children:ge($.price)})]}),l.jsxs("p",{className:"text-gray-900 text-sm font-medium",children:[$.quantity,"x ",ge($.price*$.quantity)]})]},$.id))})]})})]})]})}const AG=sj("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function fn({className:e,variant:t,...r}){return l.jsx("div",{className:He(AG({variant:t}),e),...r})}function TG(){const e=mr(),{tables:t,orders:r,addTable:n,isLoading:a,error:s}=Hr(),{t:c}=or(),[u,f]=v.useState(!1),[h,m]=v.useState(""),[g,y]=v.useState(!1),[x,S]=v.useState(""),w=async()=>{if(S(""),h.trim()){y(!0);try{const E=await n(h);E.success?(m(""),f(!1)):S(E.error||"Failed to add table")}catch{S("An unexpected error occurred")}finally{y(!1)}}},_=E=>{const O=r.filter(I=>I.table===E&&I.status!=="Closed"),C=O.reduce((I,A)=>I+A.total,0);return{count:O.length,total:C}};return a?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading tables..."}):s?l.jsxs("div",{className:"text-destructive text-center p-8",children:["Error loading tables: ",s]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:c("tables")}),l.jsx("p",{className:"text-muted-foreground",children:c("manageTables")})]}),l.jsxs(Jr,{open:u,onOpenChange:f,children:[l.jsx(bo,{asChild:!0,children:l.jsxs(we,{children:[l.jsx(pn,{className:"mr-2 h-4 w-4"})," ",c("addTable")]})}),l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:c("addNewTable")}),l.jsx(Dn,{children:c("enterTableNumber")})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[x&&l.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:x}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(oe,{htmlFor:"number",className:"text-right",children:c("number")}),l.jsx(Ee,{id:"number",value:h,onChange:E=>m(E.target.value),className:"col-span-3",placeholder:"e.g. T10"})]})]}),l.jsx(mn,{children:l.jsx(we,{onClick:w,disabled:g,children:g?"Adding...":c("addTable")})})]})]})]}),l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(E=>{const O=_(E.number);return l.jsxs(Ne,{className:`cursor-pointer hover:border-primary transition-colors ${E.status==="Occupied"?"border-orange-500/50 bg-orange-500/5":""}`,onClick:()=>e(`/tables/${E.id}`),children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-xl font-bold",children:E.number}),l.jsx(fn,{variant:E.status==="Available"?"success":E.status==="Occupied"?"destructive":"secondary",children:c(E.status.toLowerCase())||E.status})]}),l.jsx(Ce,{children:l.jsx("div",{className:"mt-4 space-y-2",children:E.status==="Occupied"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:c("activeOrders")}),l.jsx("span",{className:"font-medium",children:O.count})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:c("currentBill")}),l.jsx("span",{className:"font-bold text-lg",children:ge(O.total)})]})]}):l.jsx("div",{className:"text-sm text-muted-foreground py-2",children:c("readyForCustomers")})})})]},E.id)})})]})}function kG(){const{id:e}=wp(),t=mr(),{tables:r,orders:n}=Hr(),{t:a}=or(),s=r.find(u=>u.id===Number(e)),c=n.filter(u=>u.table===s?.number);return s?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:[a("tableDetails")," - ",s.number]}),l.jsx("p",{className:"text-muted-foreground",children:a("manageOrders")})]}),l.jsxs(we,{variant:"outline",onClick:()=>t("/tables"),children:[l.jsx(La,{className:"mr-2 h-4 w-4"}),a("back")]})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:a("tableInfo")})}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:a("status")}),l.jsx(fn,{variant:s.status==="Available"?"success":s.status==="Occupied"?"destructive":"secondary",children:a(s.status.toLowerCase())||s.status})]}),s.status==="Occupied"&&l.jsx("div",{className:"pt-4",children:l.jsxs(we,{className:"w-full",onClick:()=>t(`/tables/${s.id}/bill`),children:[l.jsx(nq,{className:"mr-2 h-4 w-4"}),a("viewBill")]})})]})]}),l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:a("activeOrders")})}),l.jsx(Ce,{children:c.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("noOrdersFound")}):l.jsx("div",{className:"space-y-4",children:c.map(u=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>t(`/orders/${u.id}`),children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:u.id}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.items.length," ",a("items"),"  ",u.time.split(" ")[1]]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(fn,{variant:"outline",children:a(u.status.toLowerCase())||u.status}),l.jsx("div",{className:"font-bold w-20 text-right",children:ge(u.total)})]})]},u.id))})})]})]})]}):l.jsx("div",{className:"p-8 text-center",children:a("tableNotFound")})}function PG({promotions:e,onPromotionClick:t}){const[r,n]=v.useState(0);if(v.useEffect(()=>{if(e.length<=1)return;const m=setInterval(()=>{n(g=>(g+1)%e.length)},5e3);return()=>clearInterval(m)},[e.length]),!e||e.length===0)return null;const a=e[r],s=()=>{n(m=>(m-1+e.length)%e.length)},c=()=>{n(m=>(m+1)%e.length)},u=m=>{n(m)},h=a.discount_percentage?`${a.discount_percentage}% OFF`:a.discount_amount?`${ge(a.discount_amount)} OFF`:null;return l.jsxs("section",{"aria-label":"Carrossel de Promoes",className:"relative group",children:[e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{"aria-label":"Slide Anterior",onClick:s,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center shadow-md hover:bg-white transition-colors cursor-pointer",children:l.jsx(Vw,{className:"w-5 h-5 text-gray-700"})}),l.jsx("button",{"aria-label":"Prximo Slide",onClick:c,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center shadow-md hover:bg-white transition-colors cursor-pointer",children:l.jsx(Hw,{className:"w-5 h-5 text-gray-700"})})]}),l.jsxs("div",{className:"bg-black rounded-2xl overflow-hidden flex flex-col md:flex-row h-auto md:h-[340px]",children:[l.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center w-full md:w-1/2 relative z-0",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white leading-tight mb-2",children:a.name}),a.description&&l.jsx("p",{className:"text-gray-400 text-sm md:text-base mb-4",children:a.description}),l.jsxs("div",{className:"flex flex-col gap-3",children:[a.price&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-2xl font-bold text-white",children:ge(a.price)}),h&&l.jsx("span",{className:"bg-blue-600 text-white text-xs font-semibold px-2 py-1 rounded",children:h})]}),h&&!a.price&&l.jsx("span",{className:"bg-blue-600 text-white text-sm font-semibold px-3 py-1 rounded w-fit",children:h}),l.jsx(we,{onClick:()=>t?.(a),className:"bg-blue-600 text-white rounded px-6 py-2 font-medium transition-colors hover:bg-blue-700 w-fit",children:"Ver Promoo"})]})]}),l.jsxs("div",{className:"w-full md:w-1/2 relative h-64 md:h-full",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-transparent to-transparent z-10 pointer-events-none"}),a.image?l.jsx("img",{alt:a.name,className:"w-full h-full object-cover object-center",src:a.image,onError:m=>{const g=m.currentTarget;g.src="materialApoio/imagem-nao-disponivel.gif"}}):l.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"Sem imagem"})})]})]}),e.length>1&&l.jsx("div",{className:"flex justify-center gap-2 mt-4",role:"tablist",children:e.map((m,g)=>l.jsx("button",{"aria-current":g===r,"aria-label":`Slide ${g+1}`,onClick:()=>u(g),className:`transition-all ${g===r?"w-8 h-2 bg-gray-800 rounded-full":"w-2 h-2 bg-gray-300 rounded-full hover:bg-gray-400"}`},g))})]})}function RG(){const e=mr(),{menuItems:t,isLoading:r,error:n,categories:a,addCategory:s,updateCategory:c,deleteCategory:u,addOrder:f,generateOrderId:h}=Hr(),{t:m}=or(),[g,y]=v.useState([]),[x,S]=v.useState(!1),[w,_]=v.useState(""),[E,O]=v.useState(!1),[C,I]=v.useState(!1),[A,M]=v.useState(!1),[N,T]=v.useState(""),[U,G]=v.useState(""),[B,K]=v.useState(null),[F,se]=v.useState("all"),[J,L]=v.useState([]);v.useEffect(()=>{(async()=>{try{const{data:he,error:Se}=await be.from("promotions").select("*").eq("enabled",!0).order("created_at",{ascending:!1});if(Se)throw Se;if(he){const Oe=await Promise.all(he.map(async Ke=>{if(Ke.type==="kit"){const{data:ct}=await be.from("promotion_items").select(`
                                        *,
                                        products:product_id (
                                            id,
                                            name,
                                            price,
                                            image
                                        )
                                    `).eq("promotion_id",Ke.id),pe=(ct||[]).map(ke=>({id:ke.id,promotion_id:ke.promotion_id,product_id:ke.product_id,quantity:ke.quantity,created_at:ke.created_at,product:ke.products?{id:ke.products.id,name:ke.products.name,price:ke.products.price,image:ke.products.image}:void 0}));return{...Ke,items:pe}}return{...Ke,items:[]}}));L(Oe)}}catch(he){console.error("Error fetching promotions:",he)}})()},[]);const R=async()=>{if(!U.trim())return;const ae=await s(U);ae.success?G(""):alert("Failed to add category: "+ae.error)},q=async()=>{if(!B||!B.name.trim())return;const ae=await c(B.id,B.name);ae.success?K(null):alert("Failed to update category: "+ae.error)},re=async ae=>{if(confirm("Are you sure? This will not delete items in this category, but they may become uncategorized.")){const he=await u(ae);he.success||alert("Failed to delete category: "+he.error)}},X=t.filter(ae=>ae.price>0&&ae.status==="Available"),Q=(F==="all"?X:X.filter(ae=>ae.category?.toLowerCase().includes(F.toLowerCase()))).reduce((ae,he)=>{const Se=he.category||"Sem categoria";return ae[Se]||(ae[Se]=[]),ae[Se].push(he),ae},{}),P=ae=>{y(he=>he.find(Oe=>Oe.id===ae)?he.map(Oe=>Oe.id===ae?{...Oe,quantity:Oe.quantity+1}:Oe):[...he,{id:ae,quantity:1}])},V=ae=>{y(he=>{const Se=he.find(Oe=>Oe.id===ae);return Se&&Se.quantity>1?he.map(Oe=>Oe.id===ae?{...Oe,quantity:Oe.quantity-1}:Oe):he.filter(Oe=>Oe.id!==ae)})},ie=ae=>g.find(Se=>Se.id===ae)?.quantity||0,W=()=>g.reduce((ae,he)=>{const Se=t.find(Oe=>Oe.id===he.id);return ae+(Se?.price||0)*he.quantity},0),je=()=>{if(g.length===0){T("Adicione pelo menos um item ao pedido");return}S(!0)},$=async()=>{if(!w.trim()){T("Por favor, informe o nome do cliente");return}const ae=new Date,he=String(ae.getDate()).padStart(2,"0"),Se=String(ae.getMonth()+1).padStart(2,"0"),Oe=ae.getFullYear(),Ke=String(ae.getHours()).padStart(2,"0"),ct=String(ae.getMinutes()).padStart(2,"0"),pe=`${he}/${Se}/${Oe} ${Ke}:${ct}`;M(!0);try{const ke=await h(),it=g.map(gt=>{const $s=t.find($i=>$i.id===gt.id);return{id:$s.id,name:$s.name,price:$s.price,quantity:gt.quantity}}),Ht={id:ke,table:void 0,orderType:"takeout",customer:w.trim()||m("guest"),status:"Pending",items:it,total:W(),time:pe},Ot=await f(Ht);Ot.success?(S(!1),O(!0),_(""),y([]),setTimeout(()=>{O(!1),e("/orders")},2e3)):T(Ot.error||"Erro ao criar pedido")}catch(ke){T(ke.message||"Erro ao criar pedido")}finally{M(!1)}};v.useEffect(()=>(g.length>0?document.body.classList.add("hide-mobile-nav"):document.body.classList.remove("hide-mobile-nav"),()=>{document.body.classList.remove("hide-mobile-nav")}),[g.length]);const ee=ae=>{ae.type==="product"&&ae.price?g.find(Se=>Se.id===ae.id)?y(g.map(Se=>Se.id===ae.id?{...Se,quantity:Se.quantity+1}:Se)):alert(`Promoo: ${ae.name}`):alert(`Kit: ${ae.name}
Produtos includos: ${ae.items?.map(he=>he.product?.name).join(", ")||"N/A"}`)},ce=(ae,he)=>ie(ae)*he,Y=a.map(ae=>ae.name);return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Carregando bebidas..."}):n?l.jsxs("div",{className:"text-destructive text-center p-8",children:["Erro ao carregar: ",n]}):l.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",style:{paddingBottom:g.length>0?"120px":"0"},children:[l.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:m("menu")}),l.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Gerencie os itens de bebidas."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Jr,{open:C,onOpenChange:I,children:[l.jsx(bo,{asChild:!0,children:l.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Manage Categories"})}),l.jsxs(zr,{children:[l.jsx(Ur,{children:l.jsx(Br,{children:"Manage Categories"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ee,{placeholder:"New Category Name",value:U,onChange:ae=>G(ae.target.value)}),l.jsx(we,{onClick:R,children:"Add"})]}),l.jsx("div",{className:"space-y-2",children:a.map(ae=>l.jsx("div",{className:"flex items-center justify-between p-2 border rounded-md",children:B?.id===ae.id?l.jsxs("div",{className:"flex gap-2 flex-1 mr-2",children:[l.jsx(Ee,{value:B.name,onChange:he=>K({...B,name:he.target.value})}),l.jsx(we,{size:"sm",onClick:q,children:"Save"}),l.jsx(we,{size:"sm",variant:"ghost",onClick:()=>K(null),children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:ae.name}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(we,{variant:"ghost",size:"sm",onClick:()=>K(ae),children:l.jsx(ob,{className:"h-4 w-4"})}),l.jsx(we,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>re(ae.id),children:l.jsx(sc,{className:"h-4 w-4"})})]})]})},ae.id))})]})]})]}),l.jsxs("button",{onClick:()=>e("/products/new"),className:"px-4 py-2 bg-blue-600 rounded-lg text-sm font-medium text-white hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l.jsx("span",{children:"+"}),l.jsx("span",{children:"Adicionar Item"})]})]})]}),J.length>0&&l.jsx(PG,{promotions:J,onPromotionClick:ee}),Y.length>0&&l.jsxs("nav",{"aria-label":"Category Filters",className:"flex flex-wrap gap-3",children:[l.jsx("button",{onClick:()=>se("all"),className:`px-5 py-2 rounded-lg border font-medium text-sm transition-colors ${F==="all"?"bg-gray-200 text-gray-800 border-transparent":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:"Todos"}),Y.map(ae=>l.jsx("button",{onClick:()=>se(ae),className:`px-5 py-2 rounded-lg border font-medium text-sm transition-colors ${F===ae?"bg-gray-200 text-gray-800 border-transparent":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:ae},ae))]}),l.jsxs("main",{children:[Object.keys(Q).length===0&&l.jsx("div",{className:"text-center py-12 text-gray-500",children:l.jsx("p",{children:'Nenhum produto encontrado. Clique em "Adicionar Item" para criar um novo.'})}),Object.entries(Q).map(([ae,he])=>l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:ae}),l.jsxs("span",{className:"bg-gray-100 text-gray-600 rounded-full px-2 py-0.5 text-xs font-medium",children:[he.length," items"]})]}),l.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 justify-items-center",children:he.map(Se=>{const Oe=ie(Se.id),Ke=ce(Se.id,Se.price),ct=Se.status==="Available";return l.jsxs("article",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden flex flex-col hover:shadow-md transition-shadow w-full max-w-[169px] sm:max-w-[169px]",style:{minHeight:"380px"},children:[l.jsxs("div",{className:"relative bg-orange-50/30 flex items-center justify-center aspect-square w-full",style:{paddingTop:"0px",paddingBottom:"0px",marginTop:"7px",marginBottom:"7px"},children:[Se.is_cold&&l.jsx("div",{className:"absolute top-3 left-3 bg-blue-100 text-blue-700 rounded-full p-1.5 shadow-sm",children:l.jsx(hq,{className:"h-4 w-4"})}),ct&&l.jsx("span",{className:"absolute top-3 right-3 bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded",style:{left:"90px",paddingLeft:"5px",paddingRight:"5px",width:"80px",marginLeft:"0px",marginRight:"0px"},children:"Disponvel"}),Se.image?l.jsx("img",{alt:Se.name,className:"object-cover",src:Se.image,style:{marginTop:"7px",marginBottom:"7px",height:"120px"},onError:pe=>{pe.currentTarget.src="materialApoio/imagem-nao-disponivel.gif"}}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx("span",{className:"text-gray-400 text-sm",children:"Sem imagem"})})]}),l.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-900",style:{fontSize:"14px",minHeight:"36px",lineHeight:"18px",marginBottom:"4px"},children:Se.name}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",style:{marginTop:"4px",marginBottom:"8px",minHeight:"36px",lineHeight:"18px",height:"18px"},children:Se.description||"Sem descrio"}),l.jsxs("div",{className:"mt-auto",style:{paddingTop:"5px",marginTop:"auto"},children:[l.jsx("p",{className:"text-sm font-bold text-gray-900 mb-3",style:{marginBottom:"10px"},children:ge(Se.price)}),l.jsx("div",{className:"flex justify-center items-center",children:l.jsxs("div",{className:"flex justify-center items-center border border-gray-200 rounded-lg bg-gray-50 flex-shrink-0 overflow-hidden",style:{width:"115px",height:"35px",marginTop:"5px",marginBottom:"5px",textAlign:"center",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>V(Se.id),disabled:Oe===0,className:"px-1 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed flex-shrink-0 flex items-center justify-center",style:{minWidth:"24px",paddingLeft:"6px",paddingRight:"6px"},children:l.jsx(Kw,{className:"h-3 w-3"})}),l.jsx("span",{className:`text-sm flex-1 text-center min-w-0 ${Oe>0?"text-gray-800 font-medium":"hidden"}`,style:{lineHeight:"35px"},children:Oe}),l.jsx("input",{className:`flex-1 text-center bg-transparent border-none p-0 text-xs text-gray-500 focus:ring-0 min-w-0 ${Oe>0?"hidden":""}`,readOnly:!0,type:"number",value:Oe,style:{WebkitAppearance:"none",MozAppearance:"textfield",lineHeight:"35px"}}),l.jsx("button",{onClick:()=>P(Se.id),className:"px-1 text-gray-400 hover:text-gray-600 flex-shrink-0 flex items-center justify-center",style:{minWidth:"24px",paddingLeft:"6px",paddingRight:"6px"},children:l.jsx(pn,{className:"h-3 w-3"})})]})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-xs text-gray-500 leading-tight",style:{marginTop:"0px",marginBottom:"0px"},children:"TOTAL:"}),l.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-900 leading-tight",children:Oe>0?ge(Ke):"-"})]})]})]})]},Se.id)})})]},ae))]}),g.length>0&&l.jsx("div",{className:"fixed bottom-0 left-0 right-0 lg:left-64 bg-card border-t shadow-lg z-50 p-3 md:p-4 print:hidden overflow-hidden",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:l.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-3 md:gap-4 w-full min-w-0",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 md:gap-4 w-full md:w-auto min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx(LC,{className:"h-4 w-4 md:h-5 md:w-5 text-primary shrink-0"}),l.jsxs("span",{className:"text-sm md:text-base font-semibold truncate",children:[g.reduce((ae,he)=>ae+he.quantity,0)," ",g.reduce((ae,he)=>ae+he.quantity,0)===1?"item":"itens"]})]}),l.jsxs("div",{className:"text-base md:text-lg font-bold text-primary truncate",children:["Total: ",ge(W())]})]}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[l.jsx(we,{variant:"outline",onClick:()=>y([]),disabled:A,className:"flex-1 md:flex-none h-11 md:h-10 touch-manipulation min-w-0",children:"Limpar"}),l.jsxs(we,{onClick:je,disabled:A||g.length===0,className:"min-w-[140px] md:min-w-[150px] flex-1 md:flex-none h-11 md:h-10 touch-manipulation",children:[l.jsx(LC,{className:"mr-2 h-4 w-4 shrink-0"}),l.jsx("span",{className:"truncate",children:"Criar Pedido"})]})]})]})}),l.jsx(Jr,{open:x,onOpenChange:S,children:l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:"Criar Pedido"}),l.jsx(Dn,{children:"Informe o nome do cliente para finalizar o pedido"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[N&&l.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:N}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"customer-name",children:"Nome do Cliente *"}),l.jsx(Ee,{id:"customer-name",value:w,onChange:ae=>{_(ae.target.value),T("")},placeholder:"Digite o nome do cliente",onKeyDown:ae=>{ae.key==="Enter"&&w.trim()&&$()},autoFocus:!0})]}),l.jsxs("div",{className:"bg-muted p-3 rounded-md overflow-hidden",children:[l.jsx("div",{className:"text-sm font-semibold mb-2",children:"Resumo do Pedido:"}),l.jsxs("div",{className:"space-y-1 text-sm min-w-0",children:[g.map(ae=>{const he=t.find(Se=>Se.id===ae.id);return l.jsxs("div",{className:"flex justify-between gap-2 min-w-0",children:[l.jsxs("span",{className:"truncate min-w-0",children:[he.name," x ",ae.quantity]}),l.jsx("span",{className:"shrink-0",children:ge(he.price*ae.quantity)})]},ae.id)}),l.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t mt-2 gap-2 min-w-0",children:[l.jsx("span",{className:"shrink-0",children:"Total:"}),l.jsx("span",{className:"shrink-0",children:ge(W())})]})]})]})]}),l.jsxs(mn,{children:[l.jsx(we,{variant:"outline",onClick:()=>{S(!1),_(""),T("")},disabled:A,children:"Cancelar"}),l.jsx(we,{onClick:$,disabled:A||!w.trim(),children:A?"Criando pedido...":"Confirmar Pedido"})]})]})}),E&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsx(Ne,{className:"max-w-md mx-4",children:l.jsxs(Ce,{className:"p-6 text-center",children:[l.jsx("div",{className:"mb-4",children:l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Pedido Criado com Sucesso!"}),l.jsx("p",{className:"text-muted-foreground",children:"Redirecionando para a pgina de pedidos..."})]})})})]})}var Up="Switch",[DG]=ki(Up),[MG,IG]=DG(Up),iI=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...g}=e,[y,x]=v.useState(null),S=Ct(t,C=>x(C)),w=v.useRef(!1),_=y?m||!!y.closest("form"):!0,[E,O]=No({prop:a,defaultProp:s??!1,onChange:h,caller:Up});return l.jsxs(MG,{scope:r,checked:E,disabled:u,children:[l.jsx(rt.button,{type:"button",role:"switch","aria-checked":E,"aria-required":c,"data-state":cI(E),"data-disabled":u?"":void 0,disabled:u,value:f,...g,ref:S,onClick:tt(e.onClick,C=>{O(I=>!I),_&&(w.current=C.isPropagationStopped(),w.current||C.stopPropagation())})}),_&&l.jsx(lI,{control:y,bubbles:!w.current,name:n,value:f,checked:E,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});iI.displayName=Up;var sI="SwitchThumb",oI=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=IG(sI,r);return l.jsx(rt.span,{"data-state":cI(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});oI.displayName=sI;var LG="SwitchBubbleInput",lI=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const c=v.useRef(null),u=Ct(c,s),f=bj(r),h=gj(t);return v.useEffect(()=>{const m=c.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&x){const S=new Event("click",{bubbles:n});x.call(m,r),m.dispatchEvent(S)}},[f,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lI.displayName=LG;function cI(e){return e?"checked":"unchecked"}var uI=iI,$G=oI;const js=v.forwardRef(({className:e,...t},r)=>l.jsx(uI,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx($G,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));js.displayName=uI.displayName;function zG({className:e}){const{profile:t}=Fa(),[r,n]=v.useState([]),[a,s]=v.useState(!1),[c,u]=v.useState(null),[f,h]=v.useState(!1),[m,g]=v.useState(null),[y,x]=v.useState({email:"",username:"",full_name:"",role:"usuario",password:""}),S=t?.role==="admin";v.useEffect(()=>{S&&w()},[S]);const w=async()=>{if(S){s(!0),u(null);try{const{data:M,error:N}=await be.from("user_profiles").select("*").order("created_at",{ascending:!1});if(N)throw N;n(M||[])}catch(M){console.error("Error fetching users:",M),u(M.message||"Erro ao carregar usurios")}finally{s(!1)}}},_=M=>{M?(g(M),x({email:M.email,username:M.username||"",full_name:M.full_name||"",role:M.role,password:""})):(g(null),x({email:"",username:"",full_name:"",role:"usuario",password:""})),h(!0)},E=()=>{h(!1),g(null),x({email:"",username:"",full_name:"",role:"usuario",password:""}),u(null)},O=async()=>{if(S){if(u(null),!y.email||!y.password){u("Email e senha so obrigatrios");return}try{const{data:M,error:N}=await be.auth.signUp({email:y.email,password:y.password,options:{data:{username:y.username||null,full_name:y.full_name||null}}});if(N)throw N;if(!M?.user)throw new Error("Usurio no foi criado");const T=M.user.id,{error:U}=await be.rpc("admin_confirm_user_email",{target_user_id:T});U&&console.warn("No foi possvel confirmar email automaticamente:",U);const{error:G}=await be.rpc("admin_insert_user_profile",{target_user_id:T,target_email:y.email,target_username:y.username||null,target_full_name:y.full_name||null,target_role:y.role});if(G){console.warn("Function admin_insert_user_profile not found, trying direct update:",G);const{error:B}=await be.from("user_profiles").update({username:y.username||null,full_name:y.full_name||null,role:y.role}).eq("id",T);if(B){u(`Erro ao criar perfil: ${B.message}. Execute o SQL fix_admin_create_user_profile.sql no Supabase.`);return}}await new Promise(B=>setTimeout(B,500)),await w(),E()}catch(M){console.error("Error creating user:",M),u(M.message||"Erro ao criar usurio")}}},C=async()=>{if(!(!S||!m)){u(null);try{const M={username:y.username||null,full_name:y.full_name||null,role:y.role},{error:N}=await be.rpc("admin_update_user_profile",{target_user_id:m.id,target_email:y.email,target_username:y.username||null,target_full_name:y.full_name||null,target_role:y.role});if(N){console.warn("Function not found, trying direct update:",N);const{error:T}=await be.from("user_profiles").update(M).eq("id",m.id);if(T)throw T}if(y.password){const T=await ZH(m.id,y.password);if(!T.success)throw new Error(T.error||"Erro ao alterar senha")}await w(),E()}catch(M){console.error("Error updating user:",M),u(M.message||"Erro ao atualizar usurio")}}},I=async(M,N)=>{if(S)try{const{error:T}=await be.from("user_profiles").update({enabled:N}).eq("id",M.id);if(T){if(T.message.includes("column")&&T.message.includes("does not exist")){u('Campo "enabled" no encontrado. Execute o SQL: ALTER TABLE user_profiles ADD COLUMN enabled BOOLEAN DEFAULT true;');return}throw T}await w()}catch(T){console.error("Error toggling user status:",T),u(T.message||"Erro ao alterar status do usurio")}},A=async M=>{if(S&&window.confirm(`Tem certeza que deseja excluir o usurio ${M.email}? Esta ao no pode ser desfeita.`))try{const{error:N}=await be.auth.admin?.deleteUser(M.id);if(N){if(N.message.includes("admin")){u("No  possvel excluir usurios sem acesso de administrador do Supabase.");return}throw N}await w()}catch(N){console.error("Error deleting user:",N),u(N.message||"Erro ao excluir usurio")}};return S?l.jsxs(Ne,{className:e,children:[l.jsx(Ae,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(DP,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{className:"break-words",children:"Gerenciamento de Usurios"})]}),l.jsx(Et,{className:"break-words",children:"Cadastre, edite e gerencie usurios do sistema"})]}),l.jsxs(we,{onClick:()=>_(),className:"w-full sm:w-auto flex-shrink-0",children:[l.jsx(pn,{className:"w-4 h-4 mr-2"}),"Novo Usurio"]})]})}),l.jsxs(Ce,{children:[c&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:c}),a?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando usurios..."}):r.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum usurio encontrado"}):l.jsx("div",{className:"space-y-2",children:r.map(M=>{const N=M.enabled!==!1;return l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 p-4 border border-[#0066CC] rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("p",{className:"font-medium break-words",children:M.full_name||M.email}),l.jsx("span",{className:"text-xs px-2 py-1 bg-[#0066CC] text-white rounded flex-shrink-0",children:M.role}),!N&&l.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded flex-shrink-0",children:"Desabilitado"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-1 break-words",children:[l.jsx("p",{children:M.email}),M.username&&l.jsxs("p",{children:["@",M.username]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-2 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oe,{htmlFor:`enabled-${M.id}`,className:"text-sm whitespace-nowrap",children:N?"Ativo":"Inativo"}),l.jsx(js,{id:`enabled-${M.id}`,checked:N,onCheckedChange:T=>I(M,T),disabled:M.id===t?.id,className:"flex-shrink-0"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(we,{variant:"outline",size:"sm",onClick:()=>_(M),className:"flex-shrink-0",children:l.jsx(PP,{className:"w-4 h-4"})}),M.id!==t?.id&&l.jsx(we,{variant:"outline",size:"sm",onClick:()=>A(M),className:"flex-shrink-0",children:l.jsx(sc,{className:"w-4 h-4"})})]})]})]},M.id)})}),l.jsx(Jr,{open:f,onOpenChange:h,children:l.jsxs(zr,{className:"max-w-md w-[calc(100vw-2rem)] sm:w-full",children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:m?"Editar Usurio":"Novo Usurio"}),l.jsx(Dn,{children:m?"Atualize as informaes do usurio":"Preencha os dados para criar um novo usurio"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"email",children:"Email *"}),l.jsx(Ee,{id:"email",type:"email",value:y.email,onChange:M=>x({...y,email:M.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"username",children:"Nome de Usurio"}),l.jsx(Ee,{id:"username",value:y.username,onChange:M=>x({...y,username:M.target.value}),placeholder:"opcional"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"full_name",children:"Nome Completo"}),l.jsx(Ee,{id:"full_name",value:y.full_name,onChange:M=>x({...y,full_name:M.target.value}),placeholder:"opcional"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"role",children:"Funo"}),l.jsxs(Qe,{value:y.role,onValueChange:M=>x({...y,role:M}),children:[l.jsx(Ye,{id:"role",children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"usuario",children:"Usurio"}),l.jsx(_e,{value:"gerente",children:"Gerente"}),l.jsx(_e,{value:"admin",children:"Administrador"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"password",children:m?"Nova Senha (deixe em branco para no alterar)":"Senha *"}),l.jsx(Ee,{id:"password",type:"password",value:y.password,onChange:M=>x({...y,password:M.target.value}),required:!m})]})]}),l.jsxs(mn,{children:[l.jsx(we,{variant:"outline",onClick:E,children:"Cancelar"}),l.jsx(we,{onClick:m?C:O,children:m?"Salvar":"Criar"})]})]})})]})]}):l.jsxs(Ne,{className:e,children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Gerenciamento de Usurios"}),l.jsx(Et,{children:"Acesso restrito a administradores"})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(sb,{className:"w-4 h-4"}),l.jsx("p",{children:"Voc no tem permisso para acessar esta funcionalidade."})]})})]})}function UG(){const{language:e,setLanguage:t,t:r}=or(),{isAdmin:n}=Fa(),{settings:a,updateSettings:s,updatePrinterSettings:c,isTablesEnabled:u,isOrderDisplayEnabled:f,printerSettings:h,saveSettings:m,resetSettings:g,isLoading:y}=Sa(),[x,S]=v.useState(null),[w,_]=v.useState(null),[E,O]=v.useState(!1),C=()=>{m(),S("Configuraes salvas com sucesso!"),setTimeout(()=>S(null),3e3)},I=()=>{window.confirm("Tem certeza que deseja resetar todas as configuraes para os valores padro?")&&(g(),S("Configuraes resetadas para o padro!"),setTimeout(()=>S(null),3e3))},A=()=>{const U=`${window.location.href.split("#")[0]}#/order-display-standalone`;window.open(U,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")},M=async()=>{if(!h.ipAddress||!h.port){_({success:!1,message:"Por favor, preencha o IP e porta da impressora"});return}O(!0),_(null);let N="raw";h.port===631||h.port===80||h.port===443?N="ipp":h.port===515&&(N="lpr");const T=await CG(h.ipAddress,h.port,N);_(T),O(!1),setTimeout(()=>{_(null)},5e3)};return l.jsxs("div",{className:"space-y-6 w-full min-w-0",children:[l.jsxs("div",{className:"w-full min-w-0",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight break-words",children:r("settingsTitle")}),l.jsx("p",{className:"text-muted-foreground break-words mt-1",children:r("settingsDescription")})]}),n&&l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Aes de Configurao"}),l.jsx(Et,{children:"Salve as configuraes globais ou reset para os valores padro. Apenas administradores podem salvar configuraes."})]}),l.jsxs(Ce,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs(we,{onClick:C,className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[l.jsx(Sp,{className:"w-4 h-4"}),"Salvar Configuraes"]}),l.jsxs(we,{variant:"outline",onClick:I,className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[l.jsx(sq,{className:"w-4 h-4"}),"Reset para Padro"]})]}),x&&l.jsx("div",{className:"mt-4 p-3 bg-green-100 text-green-700 rounded-md",children:x})]})]}),!n&&l.jsx(Ne,{children:l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Configuraes do Sistema"}),l.jsx(Et,{children:"Voc est visualizando as configuraes globais do sistema. Apenas administradores podem modificar essas configuraes."})]})}),f&&l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Tela de Pedidos"}),l.jsx(Et,{children:"Acesso rpido para a tela dedicada de monitoramento de pedidos"})]}),l.jsxs(Ce,{children:[l.jsxs(we,{onClick:A,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",children:[l.jsx(qB,{className:"w-4 h-4 flex-shrink-0"}),l.jsx("span",{className:"break-words text-center sm:text-left",children:"Abrir Tela de Pedidos em Nova Janela"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2 break-words",children:"A tela ser aberta em uma nova janela sem menus, otimizada para monitoramento de cozinha"})]})]}),l.jsxs("div",{className:"grid gap-6",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:r("language")}),l.jsx(Et,{children:r("selectLanguage")})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"language",children:r("language")}),l.jsxs(Qe,{value:e,onValueChange:N=>t(N),children:[l.jsx(Ye,{id:"language",className:"w-full sm:w-[200px]",children:l.jsx(Je,{placeholder:"Select language"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"en",children:r("english")}),l.jsx(_e,{value:"pt",children:r("portuguese")})]})]})]})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:r("tableManagement")}),l.jsx(Et,{children:r("enableTablesDescription")})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[l.jsx(oe,{htmlFor:"enable-tables",children:r("enableTables")}),l.jsxs("p",{className:"text-sm text-muted-foreground break-words",children:["Status atual: ",u?"Ativado":"Desativado"]})]}),l.jsx(js,{id:"enable-tables",checked:u,onCheckedChange:N=>s({enableTables:N}),className:"flex-shrink-0"})]})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Tela de Pedidos"}),l.jsx(Et,{children:"Ative para usar a tela dedicada de monitoramento de pedidos. Esta tela  otimizada para cozinhas e permite visualizar e atualizar status dos pedidos em tempo real."})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[l.jsx(oe,{htmlFor:"enable-order-display",children:"Habilitar Tela de Pedidos"}),l.jsxs("p",{className:"text-sm text-muted-foreground break-words",children:["Disponvel em: /order-display  Status atual: ",f?"Ativado":"Desativado"]})]}),l.jsx(js,{id:"enable-order-display",checked:f,onCheckedChange:N=>s({enableOrderDisplay:N}),className:"flex-shrink-0"})]})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(TP,{className:"w-5 h-5"}),l.jsx(Ie,{children:r("printerSettings")})]}),l.jsx(Et,{children:r("printerSettingsDescription")})]}),l.jsxs(Ce,{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[l.jsx(oe,{htmlFor:"enable-printer",children:r("enablePrinter")}),l.jsxs("p",{className:"text-sm text-muted-foreground break-words",children:["Status atual: ",h.enabled?"Ativado":"Desativado"]})]}),l.jsx(js,{id:"enable-printer",checked:h.enabled,onCheckedChange:N=>c({enabled:N}),className:"flex-shrink-0"})]}),h.enabled&&l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"printer-type",children:r("printerType")}),l.jsxs(Qe,{value:h.type,onValueChange:N=>c({type:N}),children:[l.jsx(Ye,{id:"printer-type",children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"browser",children:r("browser")}),l.jsx(_e,{value:"network",children:r("network")}),l.jsx(_e,{value:"usb",children:r("usb")})]})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"printer-name",children:r("printerName")}),l.jsx(Ee,{id:"printer-name",value:h.name,onChange:N=>c({name:N.target.value}),placeholder:"Ex: Impressora Trmica 01"})]}),l.jsxs("div",{className:"space-y-4 pt-2 border-t",children:[l.jsx("h4",{className:"text-sm font-medium",children:"Endereo da Impressora de Rede"}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"printer-ip",children:r("printerIpAddress")}),l.jsx(Ee,{id:"printer-ip",type:"text",value:h.ipAddress,onChange:N=>c({ipAddress:N.target.value}),placeholder:"192.168.1.100",disabled:h.type==="browser"}),h.type==="browser"&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure apenas quando usar impressora de rede"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"printer-port",children:r("printerPort")}),l.jsx(Ee,{id:"printer-port",type:"number",value:h.port,onChange:N=>c({port:parseInt(N.target.value)||9100}),placeholder:"9100",min:"1",max:"65535",disabled:h.type==="browser"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Porta padro: 9100 (RAW), 631 (IPP), 515 (LPR)"})]}),h.type==="network"&&l.jsxs("div",{className:"pt-2",children:[l.jsxs(we,{onClick:M,disabled:E||!h.ipAddress||!h.port,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[l.jsx(vq,{className:"w-4 h-4"}),E?"Testando...":"Testar Conexo"]}),w&&l.jsx("div",{className:`mt-2 p-3 rounded-md text-sm ${w.success?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:w.message})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"paper-size",children:r("paperSize")}),l.jsxs(Qe,{value:h.paperSize,onValueChange:N=>c({paperSize:N}),children:[l.jsx(Ye,{id:"paper-size",children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"80mm",children:r("printer80mm")}),l.jsx(_e,{value:"58mm",children:r("printer58mm")}),l.jsx(_e,{value:"A4",children:r("printerA4")})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[l.jsx(oe,{htmlFor:"auto-print",children:r("autoPrint")}),l.jsx("p",{className:"text-sm text-muted-foreground break-words",children:"Imprimir automaticamente ao criar pedidos"})]}),l.jsx(js,{id:"auto-print",checked:h.autoPrint,onCheckedChange:N=>c({autoPrint:N}),className:"flex-shrink-0"})]})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Limite de Desconto no Pagamento"}),l.jsx(Et,{children:"Defina o valor mximo ou percentual mximo de desconto que pode ser aplicado no momento do pagamento. Os usurios no podero aplicar descontos maiores que o limite configurado."})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"discount-limit-type",children:"Tipo de Limite"}),l.jsxs(Qe,{value:a.paymentDiscountLimitType||"none",onValueChange:N=>{s(N==="none"?{paymentDiscountLimitType:null,paymentDiscountLimitValue:null}:{paymentDiscountLimitType:N,paymentDiscountLimitValue:a.paymentDiscountLimitValue||0})},children:[l.jsx(Ye,{id:"discount-limit-type",children:l.jsx(Je,{placeholder:"Selecione o tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem limite"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]})]}),a.paymentDiscountLimitType&&l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{htmlFor:"discount-limit-value",children:a.paymentDiscountLimitType==="fixed"?"Valor Mximo de Desconto (R$)":"Percentual Mximo de Desconto (%)"}),l.jsx(Ee,{id:"discount-limit-value",type:"number",step:a.paymentDiscountLimitType==="fixed"?"0.01":"0.1",min:"0",max:a.paymentDiscountLimitType==="percentage"?"100":void 0,value:a.paymentDiscountLimitValue||"",onChange:N=>{const T=N.target.value?parseFloat(N.target.value):null;s({paymentDiscountLimitValue:T})},placeholder:a.paymentDiscountLimitType==="fixed"?"0.00":"0"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:a.paymentDiscountLimitType==="fixed"?"O desconto aplicado no poder ultrapassar este valor em reais":"O desconto aplicado no poder ultrapassar este percentual"})]})]})]}),l.jsx(zG,{})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Configuraes Atuais"}),l.jsx(Et,{children:"Resumo das configuraes salvas"})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Idioma:"}),l.jsx("span",{className:"font-medium text-right",children:e==="pt"?"Portugus":"English"}),l.jsx("span",{className:"text-muted-foreground",children:"Gesto de Mesas:"}),l.jsx("span",{className:"font-medium text-right",children:u?"Ativado":"Desativado"}),l.jsx("span",{className:"text-muted-foreground",children:"Tela de Pedidos:"}),l.jsx("span",{className:"font-medium text-right",children:f?"Ativado":"Desativado"}),l.jsx("span",{className:"text-muted-foreground",children:"Impressora:"}),l.jsx("span",{className:"font-medium text-right break-words",children:h.enabled?`${h.name||"Sem nome"} (${h.type})`:"Desativado"}),y&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted-foreground",children:"Estado:"}),l.jsx("span",{className:"font-medium text-orange-600 text-right",children:"Carregando..."})]})]})})]})]})}var Bp="Tabs",[BG]=ki(Bp,[Lp]),dI=Lp(),[qG,Cj]=BG(Bp),fI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=Op(u),[g,y]=No({prop:n,onChange:a,defaultProp:s??"",caller:Bp});return l.jsx(qG,{scope:r,baseId:_s(),value:g,onValueChange:y,orientation:c,dir:m,activationMode:f,children:l.jsx(rt.div,{dir:m,"data-orientation":c,...h,ref:t})})});fI.displayName=Bp;var hI="TabsList",mI=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=Cj(hI,r),c=dI(r);return l.jsx(jM,{asChild:!0,...c,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(rt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});mI.displayName=hI;var pI="TabsTrigger",gI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,c=Cj(pI,r),u=dI(r),f=xI(c.baseId,n),h=bI(c.baseId,n),m=n===c.value;return l.jsx(_M,{asChild:!0,...u,focusable:!a,active:m,children:l.jsx(rt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:f,...s,ref:t,onMouseDown:tt(e.onMouseDown,g=>{!a&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:tt(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:tt(e.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!a&&g&&c.onValueChange(n)})})})});gI.displayName=pI;var vI="TabsContent",yI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...c}=e,u=Cj(vI,r),f=xI(u.baseId,n),h=bI(u.baseId,n),m=n===u.value,g=v.useRef(m);return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),l.jsx(Cc,{present:a||m,children:({present:y})=>l.jsx(rt.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!y,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:y&&s})})});yI.displayName=vI;function xI(e,t){return`${e}-trigger-${t}`}function bI(e,t){return`${e}-content-${t}`}var FG=fI,wI=mI,jI=gI,_I=yI;const HG=FG,SI=v.forwardRef(({className:e,...t},r)=>l.jsx(wI,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));SI.displayName=wI.displayName;const em=v.forwardRef(({className:e,...t},r)=>l.jsx(jI,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));em.displayName=jI.displayName;const tm=v.forwardRef(({className:e,...t},r)=>l.jsx(_I,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tm.displayName=_I.displayName;var VG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Oj(e){if(typeof e!="string")return!1;var t=VG;return t.includes(e)}var KG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GG=new Set(KG);function EI(e){return typeof e!="string"?!1:GG.has(e)}function NI(e){return typeof e=="string"&&e.startsWith("data-")}function xa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(EI(r)||NI(r))&&(t[r]=e[r]);return t}function nd(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xa(t)}return typeof e=="object"&&!Array.isArray(e)?xa(e):null}function ea(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(EI(r)||NI(r)||Oj(r))&&(t[r]=e[r]);return t}var WG=["children","width","height","viewBox","className","style","title","desc"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(null,arguments)}function YG(e,t){if(e==null)return{};var r,n,a=XG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CI=v.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:c,style:u,title:f,desc:h}=e,m=YG(e,WG),g=s||{width:n,height:a,x:0,y:0},y=pt("recharts-surface",c);return v.createElement("svg",Rb({},ea(m),{className:y,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),v.createElement("title",null,f),v.createElement("desc",null,h),r)}),ZG=["children","className"];function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}function QG(e,t){if(e==null)return{};var r,n,a=JG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var en=v.forwardRef((e,t)=>{var{children:r,className:n}=e,a=QG(e,ZG),s=pt("recharts-layer",n);return v.createElement("g",Db({className:s},ea(a),{ref:t}),r)}),eW=v.createContext(null);function Tt(e){return function(){return e}}const OI=Math.cos,_m=Math.sin,Na=Math.sqrt,Sm=Math.PI,qp=2*Sm,Mb=Math.PI,Ib=2*Mb,oo=1e-6,tW=Ib-oo;function AI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AI;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class nW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AI:rW(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=n-t,h=a-r,m=c-t,g=u-r,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>oo)if(!(Math.abs(g*f-h*m)>oo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-c,S=a-u,w=f*f+h*h,_=x*x+S*S,E=Math.sqrt(w),O=Math.sqrt(y),C=s*Math.tan((Mb-Math.acos((w+y-_)/(2*E*O)))/2),I=C/O,A=C/E;Math.abs(I-1)>oo&&this._append`L${t+I*m},${r+I*g}`,this._append`A${s},${s},0,0,${+(g*x>m*S)},${this._x1=t+A*f},${this._y1=r+A*h}`}}arc(t,r,n,a,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),h=t+u,m=r+f,g=1^c,y=c?a-s:s-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>oo||Math.abs(this._y1-m)>oo)&&this._append`L${h},${m}`,n&&(y<0&&(y=y%Ib+Ib),y>tW?this._append`A${n},${n},0,1,${g},${t-u},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=m}`:y>oo&&this._append`A${n},${n},0,${+(y>=Mb)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Aj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new nW(t)}function Tj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TI(e){this._context=e}TI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fp(e){return new TI(e)}function kI(e){return e[0]}function PI(e){return e[1]}function RI(e,t){var r=Tt(!0),n=null,a=Fp,s=null,c=Aj(u);e=typeof e=="function"?e:e===void 0?kI:Tt(e),t=typeof t=="function"?t:t===void 0?PI:Tt(t);function u(f){var h,m=(f=Tj(f)).length,g,y=!1,x;for(n==null&&(s=a(x=c())),h=0;h<=m;++h)!(h<m&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(x)return s=null,x+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Tt(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),u):n},u}function Ah(e,t,r){var n=null,a=Tt(!0),s=null,c=Fp,u=null,f=Aj(h);e=typeof e=="function"?e:e===void 0?kI:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PI:Tt(+r);function h(g){var y,x,S,w=(g=Tj(g)).length,_,E=!1,O,C=new Array(w),I=new Array(w);for(s==null&&(u=c(O=f())),y=0;y<=w;++y){if(!(y<w&&a(_=g[y],y,g))===E)if(E=!E)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(C[S],I[S]);u.lineEnd(),u.areaEnd()}E&&(C[y]=+e(_,y,g),I[y]=+t(_,y,g),u.point(n?+n(_,y,g):C[y],r?+r(_,y,g):I[y]))}if(O)return u=null,O+""||null}function m(){return RI().defined(a).curve(c).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),h):r},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(r)},h.lineX1=function(){return m().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Tt(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,s!=null&&(u=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=u=null:u=c(s=g),h):s},h}class DI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aW(e){return new DI(e,!0)}function iW(e){return new DI(e,!1)}const kj={draw(e,t){const r=Na(t/Sm);e.moveTo(r,0),e.arc(0,0,r,0,qp)}},sW={draw(e,t){const r=Na(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MI=Na(1/3),oW=MI*2,lW={draw(e,t){const r=Na(t/oW),n=r*MI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},cW={draw(e,t){const r=Na(t),n=-r/2;e.rect(n,n,r,r)}},uW=.8908130915292852,II=_m(Sm/10)/_m(7*Sm/10),dW=_m(qp/10)*II,fW=-OI(qp/10)*II,hW={draw(e,t){const r=Na(t*uW),n=dW*r,a=fW*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const c=qp*s/5,u=OI(c),f=_m(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},Ex=Na(3),mW={draw(e,t){const r=-Na(t/(Ex*3));e.moveTo(0,r*2),e.lineTo(-Ex*r,-r),e.lineTo(Ex*r,-r),e.closePath()}},Yn=-.5,Xn=Na(3)/2,Lb=1/Na(12),pW=(Lb/2+1)*3,gW={draw(e,t){const r=Na(t/pW),n=r/2,a=r*Lb,s=n,c=r*Lb+r,u=-s,f=c;e.moveTo(n,a),e.lineTo(s,c),e.lineTo(u,f),e.lineTo(Yn*n-Xn*a,Xn*n+Yn*a),e.lineTo(Yn*s-Xn*c,Xn*s+Yn*c),e.lineTo(Yn*u-Xn*f,Xn*u+Yn*f),e.lineTo(Yn*n+Xn*a,Yn*a-Xn*n),e.lineTo(Yn*s+Xn*c,Yn*c-Xn*s),e.lineTo(Yn*u+Xn*f,Yn*f-Xn*u),e.closePath()}};function vW(e,t){let r=null,n=Aj(a);e=typeof e=="function"?e:Tt(e||kj),t=typeof t=="function"?t:Tt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Em(){}function Nm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function LI(e){this._context=e}LI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yW(e){return new LI(e)}function $I(e){this._context=e}$I.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xW(e){return new $I(e)}function zI(e){this._context=e}zI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bW(e){return new zI(e)}function UI(e){this._context=e}UI.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wW(e){return new UI(e)}function VO(e){return e<0?-1:1}function KO(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(s*a+c*n)/(n+a);return(VO(s)+VO(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function GO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Nx(e,t,r){var n=e._x0,a=e._y0,s=e._x1,c=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,c-u*r,s,c)}function Cm(e){this._context=e}Cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nx(this,this._t0,GO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nx(this,GO(this,r=KO(this,e,t)),r);break;default:Nx(this,this._t0,r=KO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function BI(e){this._context=new qI(e)}(BI.prototype=Object.create(Cm.prototype)).point=function(e,t){Cm.prototype.point.call(this,t,e)};function qI(e){this._context=e}qI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function jW(e){return new Cm(e)}function _W(e){return new BI(e)}function FI(e){this._context=e}FI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=WO(e),a=WO(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function WO(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function SW(e){return new FI(e)}function Hp(e,t){this._context=e,this._t=t}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function EW(e){return new Hp(e,.5)}function NW(e){return new Hp(e,0)}function CW(e){return new Hp(e,1)}function cc(e,t){if((c=e.length)>1)for(var r=1,n,a,s=e[t[0]],c,u=s.length;r<c;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function $b(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function OW(e,t){return e[t]}function AW(e){const t=[];return t.key=e,t}function TW(){var e=Tt([]),t=$b,r=cc,n=OW;function a(s){var c=Array.from(e.apply(this,arguments),AW),u,f=c.length,h=-1,m;for(const g of s)for(u=0,++h;u<f;++u)(c[u][h]=[0,+n(g,c[u].key,h,s)]).data=g;for(u=0,m=Tj(t(c));u<f;++u)c[m[u]].index=u;return r(c,m),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Tt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?$b:typeof s=="function"?s:Tt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??cc,a):r},a}function kW(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}cc(e,t)}}function PW(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var c=0,u=0;c<a;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}cc(e,t)}}function RW(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var u=0,f=0,h=0;u<c;++u){for(var m=e[t[u]],g=m[n][1]||0,y=m[n-1][1]||0,x=(g-y)/2,S=0;S<u;++S){var w=e[t[S]],_=w[n][1]||0,E=w[n-1][1]||0;x+=_-E}f+=g,h+=x*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,cc(e,t)}}var Cx={},Ox={},YO;function DW(){return YO||(YO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Ox)),Ox}var Ax={},XO;function HI(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ax)),Ax}var Tx={},ZO;function Pj(){return ZO||(ZO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Tx)),Tx}var kx={},Px={},QO;function MW(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Px)),Px}var JO;function Rj(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MW(),r=Pj();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],c=a.length;if(c===0)return s;let u=0,f="",h="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const g=a[u];h?g==="\\"&&u+1<c?(u++,f+=a[u]):g===h?h="":f+=g:m?g==='"'||g==="'"?h=g:g==="]"?(m=!1,s.push(f),f=""):f+=g:g==="["?(m=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}e.toPath=n})(kx)),kx}var eA;function Dj(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DW(),r=HI(),n=Pj(),a=Rj();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?r.isDeepKey(f)?s(u,a.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const m=u[f];return m===void 0?h:m}default:{if(Array.isArray(f))return c(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?h:m}}}function c(u,f,h){if(f.length===0)return h;let m=u;for(let g=0;g<f.length;g++){if(m==null||t.isUnsafeProperty(f[g]))return h;m=m[f[g]]}return m===void 0?h:m}e.get=s})(Cx)),Cx}var Rx,tA;function IW(){return tA||(tA=1,Rx=Dj().get),Rx}var LW=IW();const ko=ja(LW);var Sr=e=>e===0?0:e>0?1:-1,ba=e=>typeof e=="number"&&e!=+e,Si=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ze=e=>(typeof e=="number"||e instanceof Number)&&!ba(e),za=e=>ze(e)||typeof e=="string",$W=0,ad=e=>{var t=++$W;return"".concat(e||"").concat(t)},qr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&typeof t!="string")return n;var s;if(Si(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return ba(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},VI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function fr(e,t,r){return ze(e)&&ze(t)?e+r*(t-e):t}function zW(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ko(n,t))===r)}var Er=e=>e===null||typeof e>"u",Sd=e=>Er(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function UW(e){return e!=null}function Ed(){}var BW=["type","size","sizeType"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(null,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){qW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qW(e,t,r){return(t=FW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=HW(e,"string");return typeof t=="symbol"?t:t+""}function HW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VW(e,t){if(e==null)return{};var r,n,a=KW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KI={symbolCircle:kj,symbolCross:sW,symbolDiamond:lW,symbolSquare:cW,symbolStar:hW,symbolTriangle:mW,symbolWye:gW},GW=Math.PI/180,WW=e=>{var t="symbol".concat(Sd(e));return KI[t]||kj},YW=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*GW;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XW=(e,t)=>{KI["symbol".concat(Sd(e))]=t},GI=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=VW(e,BW),s=nA(nA({},a),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var y=WW(c),x=vW().type(y).size(YW(r,n,c)),S=x();if(S!==null)return S},{className:f,cx:h,cy:m}=s,g=ea(s);return ze(h)&&ze(m)&&ze(r)?v.createElement("path",zb({},g,{className:pt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};GI.registerSymbol=XW;var WI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ZW=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Oj(a)&&(n[a]=(s=>r[a](r,s)))}),n},QW=(e,t,r)=>n=>(e(t,r,n),null),Vp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Oj(a)&&typeof s=="function"&&(n||(n={}),n[a]=QW(s,t,r))}),n};function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){eY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eY(e,t,r){return(t=tY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vr(e,t){var r=JW({},e),n=t,a=Object.keys(t),s=a.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return s}var Dx={},Mx={},iA;function nY(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const c=r[s],u=n(c);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(Mx)),Mx}var Ix={},sA;function YI(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ix)),Ix}var Lx={},$x={},zx={},oA;function aY(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(zx)),zx}var lA;function Mj(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aY();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})($x)),$x}var Ux={},cA;function iY(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Ux)),Ux}var uA;function sY(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),r=iY();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Lx)),Lx}var Bx={},qx={},dA;function oY(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dj();function r(n){return function(a){return t.get(a,n)}}e.property=r})(qx)),qx}var Fx={},Hx={},Vx={},Kx={},fA;function XI(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Kx)),Kx}var Gx={},hA;function ZI(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Gx)),Gx}var Wx={},mA;function QI(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Wx)),Wx}var pA;function lY(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI(),r=ZI(),n=QI();function a(m,g,y){return typeof y!="function"?a(m,g,()=>{}):s(m,g,function x(S,w,_,E,O,C){const I=y(S,w,_,E,O,C);return I!==void 0?!!I:s(S,w,x,C)},new Map)}function s(m,g,y,x){if(g===m)return!0;switch(typeof g){case"object":return c(m,g,y,x);case"function":return Object.keys(g).length>0?s(m,{...g},y,x):n.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.eq(m,g)}}function c(m,g,y,x){if(g==null)return!0;if(Array.isArray(g))return f(m,g,y,x);if(g instanceof Map)return u(m,g,y,x);if(g instanceof Set)return h(m,g,y,x);const S=Object.keys(g);if(m==null)return S.length===0;if(S.length===0)return!0;if(x?.has(g))return x.get(g)===m;x?.set(g,m);try{for(let w=0;w<S.length;w++){const _=S[w];if(!r.isPrimitive(m)&&!(_ in m)||g[_]===void 0&&m[_]!==void 0||g[_]===null&&m[_]!==null||!y(m[_],g[_],_,m,g,x))return!1}return!0}finally{x?.delete(g)}}function u(m,g,y,x){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,w]of g.entries()){const _=m.get(S);if(y(_,w,S,m,g,x)===!1)return!1}return!0}function f(m,g,y,x){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let w=0;w<g.length;w++){const _=g[w];let E=!1;for(let O=0;O<m.length;O++){if(S.has(O))continue;const C=m[O];let I=!1;if(y(C,_,w,m,g,x)&&(I=!0),I){S.add(O),E=!0;break}}if(!E)return!1}return!0}function h(m,g,y,x){return g.size===0?!0:m instanceof Set?f([...m],[...g],y,x):!1}e.isMatchWith=a,e.isSetMatch=h})(Vx)),Vx}var gA;function JI(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lY();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Hx)),Hx}var Yx={},Xx={},Zx={},vA;function cY(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Zx)),Zx}var Qx={},yA;function e4(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qx)),Qx}var Jx={},xA;function t4(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",x="[object Object]",S="[object Error]",w="[object DataView]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]",I="[object BigUint64Array]",A="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",T="[object BigInt64Array]",U="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=I,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=U,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=N,e.int8ArrayTag=A,e.mapTag=f,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=O,e.uint32ArrayTag=C,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=E})(Jx)),Jx}var e0={},bA;function uY(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(e0)),e0}var wA;function r4(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cY(),r=e4(),n=t4(),a=ZI(),s=uY();function c(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,y,x=new Map,S=void 0){const w=S?.(m,g,y,x);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const _=new Array(m.length);x.set(m,_);for(let E=0;E<m.length;E++)_[E]=u(m[E],E,y,x,S);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;x.set(m,_);for(const[E,O]of m)_.set(E,u(O,E,y,x,S));return _}if(m instanceof Set){const _=new Set;x.set(m,_);for(const E of m)_.add(u(E,void 0,y,x,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,_);for(let E=0;E<m.length;E++)_[E]=u(m[E],E,y,x,S);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,_),f(_,m,y,x,S),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return x.set(m,_),f(_,m,y,x,S),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return x.set(m,_),f(_,m,y,x,S),_}if(m instanceof Error){const _=new m.constructor;return x.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,f(_,m,y,x,S),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return x.set(m,_),f(_,m,y,x,S),_}if(m instanceof Number){const _=new Number(m.valueOf());return x.set(m,_),f(_,m,y,x,S),_}if(m instanceof String){const _=new String(m.valueOf());return x.set(m,_),f(_,m,y,x,S),_}if(typeof m=="object"&&h(m)){const _=Object.create(Object.getPrototypeOf(m));return x.set(m,_),f(_,m,y,x,S),_}return m}function f(m,g,y=m,x,S){const w=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<w.length;_++){const E=w[_],O=Object.getOwnPropertyDescriptor(m,E);(O==null||O.writable)&&(m[E]=u(g[E],E,y,x,S))}}function h(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(Xx)),Xx}var jA;function dY(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Yx)),Yx}var _A;function fY(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI(),r=dY();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(Fx)),Fx}var t0={},r0={},n0={},SA;function hY(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4(),r=t4();function n(a,s){return t.cloneDeepWith(a,(c,u,f,h)=>{const m=s?.(c,u,f,h);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(n0)),n0}var EA;function mY(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hY();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(r0)),r0}var a0={},i0={},NA;function n4(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(i0)),i0}var s0={},CA;function pY(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e4();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(s0)),s0}var OA;function gY(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HI(),r=n4(),n=pY(),a=Rj();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let h=c;for(let m=0;m<f.length;m++){const g=f[m];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(a0)),a0}var AA;function vY(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI(),r=Pj(),n=mY(),a=Dj(),s=gY();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(h){const m=a.get(h,u);return m===void 0?s.has(h,u):f===void 0?m===void 0:t.isMatch(m,f)}}e.matchesProperty=c})(t0)),t0}var TA;function yY(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YI(),r=oY(),n=fY(),a=vY();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(Bx)),Bx}var kA;function xY(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nY(),r=YI(),n=sY(),a=yY();function s(c,u=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),a.iteratee(u)):[]}e.uniqBy=s})(Dx)),Dx}var o0,PA;function bY(){return PA||(PA=1,o0=xY().uniqBy),o0}var wY=bY();const RA=ja(wY);function jY(e,t,r){return t===!0?RA(e,r):typeof t=="function"?RA(e,t):e}var l0={exports:{}},c0={},u0={exports:{}},d0={};var DA;function _Y(){if(DA)return d0;DA=1;var e=yc();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function u(g,y){var x=y(),S=n({inst:{value:x,getSnapshot:y}}),w=S[0].inst,_=S[1];return s(function(){w.value=x,w.getSnapshot=y,f(w)&&_({inst:w})},[g,x,y]),a(function(){return f(w)&&_({inst:w}),g(function(){f(w)&&_({inst:w})})},[g]),c(x),x}function f(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!r(g,x)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return d0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,d0}var MA;function SY(){return MA||(MA=1,u0.exports=_Y()),u0.exports}var IA;function EY(){if(IA)return c0;IA=1;var e=yc(),t=SY();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return c0.useSyncExternalStoreWithSelector=function(h,m,g,y,x){var S=s(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function E(M){if(!O){if(O=!0,C=M,M=y(M),x!==void 0&&w.hasValue){var N=w.value;if(x(N,M))return I=N}return I=M}if(N=I,n(C,M))return N;var T=y(M);return x!==void 0&&x(N,T)?(C=M,N):(C=M,I=T)}var O=!1,C,I,A=g===void 0?null:g;return[function(){return E(m())},A===null?void 0:function(){return E(A())}]},[m,g,y,x]);var _=a(h,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=_},[_]),f(_),_},c0}var LA;function NY(){return LA||(LA=1,l0.exports=EY()),l0.exports}var CY=NY(),Ij=v.createContext(null),OY=e=>e,zt=()=>{var e=v.useContext(Ij);return e?e.store.dispatch:OY},rm=()=>{},AY=()=>rm,TY=(e,t)=>e===t;function $e(e){var t=v.useContext(Ij);return CY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:AY,t?t.store.getState:rm,t?t.store.getState:rm,t?e:rm,TY)}function kY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function PY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function RY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $A=e=>Array.isArray(e)?e:[e];function DY(e){const t=Array.isArray(e[0])?e[0]:e;return RY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function MY(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var IY=class{constructor(e){this.value=e}deref(){return this.value}},LY=typeof WeakRef<"u"?WeakRef:IY,$Y=0,zA=1;function Th(){return{s:$Y,v:void 0,o:null,p:null}}function a4(e,t={}){let r=Th();const{resultEqualityCheck:n}=t;let a,s=0;function c(){let u=r;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(x);w===void 0?(u=Th(),S.set(x,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(x);w===void 0?(u=Th(),S.set(x,u)):u=w}}const h=u;let m;if(u.s===zA)m=u.v;else if(m=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new LY(m):m}return h.s=zA,h.v=m,m}return c.clearCache=()=>{r=Th(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function zY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,c=0,u,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),kY(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:x=a4,argsMemoizeOptions:S=[]}=m,w=$A(y),_=$A(S),E=DY(a),O=g(function(){return s++,h.apply(null,arguments)},...w),C=x(function(){c++;const A=MY(E,arguments);return u=O.apply(null,A),u},..._);return Object.assign(C,{resultFunc:h,memoizedResultFunc:O,dependencies:E,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var de=zY(a4),UY=Object.assign((e,t=de)=>{PY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>UY}),f0={},h0={},m0={},UA;function BY(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const c=t(n),u=t(a);if(c===u&&c===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};e.compareValues=r})(m0)),m0}var p0={},g0={},BA;function i4(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(g0)),g0}var qA;function qY(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=a})(p0)),p0}var FA;function FY(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BY(),r=qY(),n=Rj();function a(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,S)=>{let w=x;for(let _=0;_<S.length&&w!=null;++_)w=w[S[_]];return w},m=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:h(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?h(S,x):typeof S=="object"?S[x]:S,g=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(S=>m(S,x))})).slice().sort((x,S)=>{for(let w=0;w<g.length;w++){const _=t.compareValues(x.criteria[w],S.criteria[w],u[w]);if(_!==0)return _}return 0}).map(x=>x.original)}e.orderBy=a})(h0)),h0}var v0={},HA;function HY(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),c=(u,f)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&f<s?c(m,f+1):a.push(m)}};return c(r,0),a}e.flatten=t})(v0)),v0}var y0={},VA;function s4(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n4(),r=Mj(),n=XI(),a=QI();function s(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.eq(f[u],c):!1}e.isIterateeCall=s})(y0)),y0}var KA;function VY(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FY(),r=HY(),n=s4();function a(s,...c){const u=c.length;return u>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=a})(f0)),f0}var x0,GA;function KY(){return GA||(GA=1,x0=VY().sortBy),x0}var GY=KY();const Kp=ja(GY);var o4=e=>e.legend.settings,WY=e=>e.legend.size,YY=e=>e.legend.payload;de([YY,o4],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Kp(n,r):n});var kh=1;function XY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>kh||Math.abs(c.left-t.left)>kh||Math.abs(c.top-t.top)>kh||Math.abs(c.width-t.width)>kh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZY=typeof Symbol=="function"&&Symbol.observable||"@@observable",WA=ZY,b0=()=>Math.random().toString(36).substring(7).split("").join("."),QY={INIT:`@@redux/INIT${b0()}`,REPLACE:`@@redux/REPLACE${b0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${b0()}`},Om=QY;function Lj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function l4(e,t,r){if(typeof e!="function")throw new Error(Rr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Rr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Rr(1));return r(l4)(e,t)}let n=e,a=t,s=new Map,c=s,u=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((_,E)=>{c.set(E,_)}))}function m(){if(f)throw new Error(Rr(3));return a}function g(_){if(typeof _!="function")throw new Error(Rr(4));if(f)throw new Error(Rr(5));let E=!0;h();const O=u++;return c.set(O,_),function(){if(E){if(f)throw new Error(Rr(6));E=!1,h(),c.delete(O),s=null}}}function y(_){if(!Lj(_))throw new Error(Rr(7));if(typeof _.type>"u")throw new Error(Rr(8));if(typeof _.type!="string")throw new Error(Rr(17));if(f)throw new Error(Rr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=c).forEach(O=>{O()}),_}function x(_){if(typeof _!="function")throw new Error(Rr(10));n=_,y({type:Om.REPLACE})}function S(){const _=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Rr(11));function O(){const I=E;I.next&&I.next(m())}return O(),{unsubscribe:_(O)}},[WA](){return this}}}return y({type:Om.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:x,[WA]:S}}function JY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Om.INIT})>"u")throw new Error(Rr(12));if(typeof r(void 0,{type:Om.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rr(13))})}function c4(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{JY(r)}catch(s){a=s}return function(c={},u){if(a)throw a;let f=!1;const h={};for(let m=0;m<n.length;m++){const g=n[m],y=r[g],x=c[g],S=y(x,u);if(typeof S>"u")throw u&&u.type,new Error(Rr(14));h[g]=S,f=f||S!==x}return f=f||n.length!==Object.keys(c).length,f?h:c}}function Am(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function eX(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Rr(15))};const c={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},u=e.map(f=>f(c));return s=Am(...u)(a.dispatch),{...a,dispatch:s}}}function u4(e){return Lj(e)&&"type"in e&&typeof e.type=="string"}var d4=Symbol.for("immer-nothing"),YA=Symbol.for("immer-draftable"),tn=Symbol.for("immer-state");function fa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pn=Object,uc=Pn.getPrototypeOf,Tm="constructor",Gp="prototype",Ub="configurable",km="enumerable",nm="writable",id="value",Ei=e=>!!e&&!!e[tn];function wa(e){return e?f4(e)||Wp(e)||!!e[YA]||!!e[Tm]?.[YA]||Yp(e)||Xp(e):!1}var tX=Pn[Gp][Tm].toString(),XA=new WeakMap;function f4(e){if(!e||!$j(e))return!1;const t=uc(e);if(t===null||t===Pn[Gp])return!0;const r=Pn.hasOwnProperty.call(t,Tm)&&t[Tm];if(r===Object)return!0;if(!Fl(r))return!1;let n=XA.get(r);return n===void 0&&(n=Function.toString.call(r),XA.set(r,n)),n===tX}function Nd(e,t,r=!0){Cd(e)===0?(r?Reflect.ownKeys(e):Pn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Cd(e){const t=e[tn];return t?t.type_:Wp(e)?1:Yp(e)?2:Xp(e)?3:0}var ZA=(e,t,r=Cd(e))=>r===2?e.has(t):Pn[Gp].hasOwnProperty.call(e,t),Bb=(e,t,r=Cd(e))=>r===2?e.get(t):e[t],Pm=(e,t,r,n=Cd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function rX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Wp=Array.isArray,Yp=e=>e instanceof Map,Xp=e=>e instanceof Set,$j=e=>typeof e=="object",Fl=e=>typeof e=="function",w0=e=>typeof e=="boolean",hi=e=>e.copy_||e.base_,zj=e=>e.modified_?e.copy_:e.base_;function qb(e,t){if(Yp(e))return new Map(e);if(Xp(e))return new Set(e);if(Wp(e))return Array[Gp].slice.call(e);const r=f4(e);if(t===!0||t==="class_only"&&!r){const n=Pn.getOwnPropertyDescriptors(e);delete n[tn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],u=n[c];u[nm]===!1&&(u[nm]=!0,u[Ub]=!0),(u.get||u.set)&&(n[c]={[Ub]:!0,[nm]:!0,[km]:u[km],[id]:e[c]})}return Pn.create(uc(e),n)}else{const n=uc(e);if(n!==null&&r)return{...e};const a=Pn.create(n);return Pn.assign(a,e)}}function Uj(e,t=!1){return Zp(e)||Ei(e)||!wa(e)||(Cd(e)>1&&Pn.defineProperties(e,{set:Ph,add:Ph,clear:Ph,delete:Ph}),Pn.freeze(e),t&&Nd(e,(r,n)=>{Uj(n,!0)},!1)),e}function nX(){fa(2)}var Ph={[id]:nX};function Zp(e){return e===null||!$j(e)?!0:Pn.isFrozen(e)}var Rm="MapSet",Fb="Patches",h4={};function dc(e){const t=h4[e];return t||fa(0,e),t}var aX=e=>!!h4[e],sd,m4=()=>sd,iX=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aX(Rm)?dc(Rm):void 0});function QA(e,t){t&&(e.patchPlugin_=dc(Fb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hb(e){Vb(e),e.drafts_.forEach(sX),e.drafts_=null}function Vb(e){e===sd&&(sd=e.parent_)}var JA=e=>sd=iX(sd,e);function sX(e){const t=e[tn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[tn].modified_&&(Hb(t),fa(4)),wa(e)&&(e=tT(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[tn].base_,e,t)}else e=tT(t,r);return oX(t,e,!0),Hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==d4?e:void 0}function tT(e,t){if(Zp(t))return t;const r=t[tn];if(!r)return Bj(t,e.handledSet_,e);if(!Qp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);v4(r,e)}return r.copy_}function oX(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Uj(t,r)}function p4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Qp=(e,t)=>e.scope_===t,lX=[];function g4(e,t,r,n){const a=hi(e),s=e.type_;if(n!==void 0&&Bb(a,n,s)===t){Pm(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Nd(a,(f,h)=>{if(Ei(h)){const m=u.get(h)||[];m.push(f),u.set(h,m)}})}const c=e.draftLocations_.get(t)??lX;for(const u of c)Pm(a,u,r,s)}function cX(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!Qp(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const c=zj(s);g4(e,s.draft_??s,c,r),v4(s,a)})}function v4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}p4(e)}}function uX(e,t,r){const{scope_:n}=e;if(Ei(r)){const a=r[tn];Qp(a,n)&&a.callbacks_.push(function(){am(e);const c=zj(a);g4(e,r,c,t)})}else wa(r)&&e.callbacks_.push(function(){const s=hi(e);Bb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Bj(Bb(e.copy_,t,e.type_),n.handledSet_,n)})}function Bj(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ei(e)||t.has(e)||!wa(e)||Zp(e)||(t.add(e),Nd(e,(n,a)=>{if(Ei(a)){const s=a[tn];if(Qp(s,r)){const c=zj(s);Pm(e,n,c,e.type_),p4(s)}}else wa(a)&&Bj(a,t,r)})),e}function dX(e,t){const r=Wp(e),n={type_:r?1:0,scope_:t?t.scope_:m4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=qj;r&&(a=[n],s=od);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=c,[u,n]}var qj={get(e,t){if(t===tn)return e;const r=hi(e);if(!ZA(r,t,e.type_))return fX(e,r,t);const n=r[t];if(e.finalized_||!wa(n))return n;if(n===j0(e.base_,t)){am(e);const a=e.type_===1?+t:t,s=Gb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in hi(e)},ownKeys(e){return Reflect.ownKeys(hi(e))},set(e,t,r){const n=y4(hi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=j0(hi(e),t),s=a?.[tn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(rX(r,a)&&(r!==void 0||ZA(e.base_,t,e.type_)))return!0;am(e),Kb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),uX(e,t,r)),!0},deleteProperty(e,t){return am(e),j0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Kb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[nm]:!0,[Ub]:e.type_!==1||t!=="length",[km]:n[km],[id]:r[t]}},defineProperty(){fa(11)},getPrototypeOf(e){return uc(e.base_)},setPrototypeOf(){fa(12)}},od={};Nd(qj,(e,t)=>{od[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,r){return qj.set.call(this,e[0],t,r,e[0])};function j0(e,t){const r=e[tn];return(r?hi(r):e)[t]}function fX(e,t,r){const n=y4(t,r);return n?id in n?n[id]:n.get?.call(e.draft_):void 0}function y4(e,t){if(!(t in e))return;let r=uc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=uc(r)}}function Kb(e){e.modified_||(e.modified_=!0,e.parent_&&Kb(e.parent_))}function am(e){e.copy_||(e.assigned_=new Map,e.copy_=qb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Fl(r)&&!Fl(n)){const c=n;n=r;const u=this;return function(h=c,...m){return u.produce(h,g=>n.call(this,g,...m))}}Fl(n)||fa(6),a!==void 0&&!Fl(a)&&fa(7);let s;if(wa(r)){const c=JA(this),u=Gb(c,r,void 0);let f=!0;try{s=n(u),f=!1}finally{f?Hb(c):Vb(c)}return QA(c,a),eT(s,c)}else if(!r||!$j(r)){if(s=n(r),s===void 0&&(s=r),s===d4&&(s=void 0),this.autoFreeze_&&Uj(s,!0),a){const c=[],u=[];dc(Fb).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:u}),a(c,u)}return s}else fa(1,r)},this.produceWithPatches=(r,n)=>{if(Fl(r))return(u,...f)=>this.produceWithPatches(u,h=>r(h,...f));let a,s;return[this.produce(r,n,(u,f)=>{a=u,s=f}),a,s]},w0(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),w0(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),w0(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){wa(t)||fa(8),Ei(t)&&(t=ga(t));const r=JA(this),n=Gb(r,t,void 0);return n[tn].isManual_=!0,Vb(r),n}finishDraft(t,r){const n=t&&t[tn];(!n||!n.isManual_)&&fa(9);const{scope_:a}=n;return QA(a,r),eT(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=dc(Fb).applyPatches_;return Ei(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Gb(e,t,r,n){const[a,s]=Yp(t)?dc(Rm).proxyMap_(t,r):Xp(t)?dc(Rm).proxySet_(t,r):dX(t,r);return(r?.scope_??m4()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?cX(r,s,n):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function ga(e){return Ei(e)||fa(10,e),x4(e)}function x4(e){if(!wa(e)||Zp(e))return e;const t=e[tn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=qb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=qb(e,!0);return Nd(r,(a,s)=>{Pm(r,a,x4(s))},n),t&&(t.finalized_=!1),r}var mX=new hX,b4=mX.produce;function w4(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var pX=w4(),gX=w4,vX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Am:Am.apply(null,arguments)};function ta(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Mn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>u4(n)&&n.type===e,r}var j4=class Fu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fu.prototype)}static get[Symbol.species](){return Fu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fu(...t[0].concat(this)):new Fu(...t.concat(this))}};function rT(e){return wa(e)?b4(e,()=>{}):e}function Rh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function yX(e){return typeof e=="boolean"}var xX=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let c=new j4;return r&&(yX(r)?c.push(pX):c.push(gX(r.extraArgument))),c},_4="RTK_autoBatch",Mt=()=>e=>({payload:e,meta:{[_4]:!0}}),nT=e=>t=>{setTimeout(t,e)},S4=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nT(10):e.type==="callback"?e.queueNotification:nT(e.timeout),h=()=>{c=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),y=n.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[_4],s=!a,s&&(c||(c=!0,f(h))),n.dispatch(m)}finally{a=!0}}})},bX=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new j4(e);return n&&a.push(S4(typeof n=="object"?n:void 0)),a};function wX(e){const t=xX(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Lj(r))u=c4(r);else throw new Error(Mn(1));let f;typeof n=="function"?f=n(t):f=t();let h=Am;a&&(h=vX({trace:!1,...typeof a=="object"&&a}));const m=eX(...f),g=bX(m);let y=typeof c=="function"?c(g):g();const x=h(...y);return l4(u,s,x)}function E4(e){const t={},r=[];let n;const a={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Mn(28));if(u in t)throw new Error(Mn(29));return t[u]=c,a},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return r.push({matcher:s,reducer:c}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function jX(e){return typeof e=="function"}function _X(e,t){let[r,n,a]=E4(t),s;if(jX(e))s=()=>rT(e());else{const u=rT(e);s=()=>u}function c(u=s(),f){let h=[r[f.type],...n.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,g)=>{if(g)if(Ei(m)){const x=g(m,f);return x===void 0?m:x}else{if(wa(m))return b4(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return c.getInitialState=s,c}var SX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EX=(e=21)=>{let t="",r=e;for(;r--;)t+=SX[Math.random()*64|0];return t},NX=Symbol.for("rtk-slice-createasyncthunk");function CX(e,t){return`${e}/${t}`}function OX({creators:e}={}){const t=e?.asyncThunk?.[NX];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(Mn(11));const c=(typeof n.reducers=="function"?n.reducers(TX()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,I){const A=typeof C=="string"?C:C.type;if(!A)throw new Error(Mn(12));if(A in f.sliceCaseReducersByType)throw new Error(Mn(13));return f.sliceCaseReducersByType[A]=I,h},addMatcher(C,I){return f.sliceMatchers.push({matcher:C,reducer:I}),h},exposeAction(C,I){return f.actionCreators[C]=I,h},exposeCaseReducer(C,I){return f.sliceCaseReducersByName[C]=I,h}};u.forEach(C=>{const I=c[C],A={reducerName:C,type:CX(a,C),createNotation:typeof n.reducers=="function"};PX(I)?DX(A,I,h,t):kX(A,I,h)});function m(){const[C={},I=[],A=void 0]=typeof n.extraReducers=="function"?E4(n.extraReducers):[n.extraReducers],M={...C,...f.sliceCaseReducersByType};return _X(n.initialState,N=>{for(let T in M)N.addCase(T,M[T]);for(let T of f.sliceMatchers)N.addMatcher(T.matcher,T.reducer);for(let T of I)N.addMatcher(T.matcher,T.reducer);A&&N.addDefaultCase(A)})}const g=C=>C,y=new Map,x=new WeakMap;let S;function w(C,I){return S||(S=m()),S(C,I)}function _(){return S||(S=m()),S.getInitialState()}function E(C,I=!1){function A(N){let T=N[C];return typeof T>"u"&&I&&(T=Rh(x,A,_)),T}function M(N=g){const T=Rh(y,I,()=>new WeakMap);return Rh(T,N,()=>{const U={};for(const[G,B]of Object.entries(n.selectors??{}))U[G]=AX(B,N,()=>Rh(x,N,_),I);return U})}return{reducerPath:C,getSelectors:M,get selectors(){return M(A)},selectSlice:A}}const O={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:_,...E(s),injectInto(C,{reducerPath:I,...A}={}){const M=I??s;return C.inject({reducerPath:M,reducer:w},A),{...O,...E(M,!0)}}};return O}}function AX(e,t,r,n){function a(s,...c){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return a.unwrapped=e,a}var gn=OX();function TX(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function kX({type:e,reducerName:t,createNotation:r},n,a){let s,c;if("reducer"in n){if(r&&!RX(n))throw new Error(Mn(17));s=n.reducer,c=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?ta(e,c):ta(e))}function PX(e){return e._reducerDefinitionType==="asyncThunk"}function RX(e){return e._reducerDefinitionType==="reducerWithPrepare"}function DX({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Mn(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:h,options:m}=r,g=a(e,s,m);n.exposeAction(t,g),c&&n.addCase(g.fulfilled,c),u&&n.addCase(g.pending,u),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:c||Dh,pending:u||Dh,rejected:f||Dh,settled:h||Dh})}function Dh(){}var MX="task",N4="listener",C4="completed",Fj="cancelled",IX=`task-${Fj}`,LX=`task-${C4}`,Wb=`${N4}-${Fj}`,$X=`${N4}-${C4}`,Jp=class{constructor(e){this.code=e,this.message=`${MX} ${Fj} (reason: ${e})`}name="TaskAbortError";message},Hj=(e,t)=>{if(typeof e!="function")throw new TypeError(Mn(32))},Dm=()=>{},O4=(e,t=Dm)=>(e.catch(t),e),A4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),wo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},jo=e=>{if(e.aborted){const{reason:t}=e;throw new Jp(t)}};function T4(e,t){let r=Dm;return new Promise((n,a)=>{const s=()=>a(new Jp(e.reason));if(e.aborted){s();return}r=A4(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Dm})}var zX=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Jp?"cancelled":"rejected",error:r}}finally{t?.()}},Mm=e=>t=>O4(T4(e,t).then(r=>(jo(e),r))),k4=e=>{const t=Mm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:tc}=Object,aT={},eg="listenerMiddleware",UX=(e,t)=>{const r=n=>A4(e,()=>wo(n,e.reason));return(n,a)=>{Hj(n);const s=new AbortController;r(s);const c=zX(async()=>{jo(e),jo(s.signal);const u=await n({pause:Mm(s.signal),delay:k4(s.signal),signal:s.signal});return jo(s.signal),u},()=>wo(s,LX));return a?.autoJoin&&t.push(c.catch(Dm)),{result:Mm(e)(c),cancel(){wo(s,IX)}}}},BX=(e,t)=>{const r=async(n,a)=>{jo(t);let s=()=>{};const u=[new Promise((f,h)=>{let m=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{m(),h()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await T4(t,Promise.race(u));return jo(t),f}finally{s()}};return(n,a)=>O4(r(n,a))},P4=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=ta(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Mn(21));return Hj(s),{predicate:a,type:t,effect:s}},R4=tc(e=>{const{type:t,predicate:r,effect:n}=P4(e);return{id:EX(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Mn(22))}}},{withTypes:()=>R4}),iT=(e,t)=>{const{type:r,effect:n,predicate:a}=P4(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Yb=e=>{e.pending.forEach(t=>{wo(t,Wb)})},qX=(e,t)=>()=>{for(const r of t.keys())Yb(r);e.clear()},sT=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},D4=tc(ta(`${eg}/add`),{withTypes:()=>D4}),FX=ta(`${eg}/removeAll`),M4=tc(ta(`${eg}/remove`),{withTypes:()=>M4}),HX=(...e)=>{console.error(`${eg}/error`,...e)},Od=(e={})=>{const t=new Map,r=new Map,n=x=>{const S=r.get(x)??0;r.set(x,S+1)},a=x=>{const S=r.get(x)??1;S===1?r.delete(x):r.set(x,S-1)},{extra:s,onError:c=HX}=e;Hj(c);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S?.cancelActive&&Yb(x)}),f=x=>{const S=iT(t,x)??R4(x);return u(S)};tc(f,{withTypes:()=>f});const h=x=>{const S=iT(t,x);return S&&(S.unsubscribe(),x.cancelActive&&Yb(S)),!!S};tc(h,{withTypes:()=>h});const m=async(x,S,w,_)=>{const E=new AbortController,O=BX(f,E.signal),C=[];try{x.pending.add(E),n(x),await Promise.resolve(x.effect(S,tc({},w,{getOriginalState:_,condition:(I,A)=>O(I,A).then(Boolean),take:O,delay:k4(E.signal),pause:Mm(E.signal),extra:s,signal:E.signal,fork:UX(E.signal,C),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((I,A,M)=>{I!==E&&(wo(I,Wb),M.delete(I))})},cancel:()=>{wo(E,Wb),x.pending.delete(E)},throwIfCancelled:()=>{jo(E.signal)}})))}catch(I){I instanceof Jp||sT(c,I,{raisedBy:"effect"})}finally{await Promise.all(C),wo(E,$X),a(x),x.pending.delete(E)}},g=qX(t,r);return{middleware:x=>S=>w=>{if(!u4(w))return S(w);if(D4.match(w))return f(w.payload);if(FX.match(w)){g();return}if(M4.match(w))return h(w.payload);let _=x.getState();const E=()=>{if(_===aT)throw new Error(Mn(23));return _};let O;try{if(O=S(w),t.size>0){const C=x.getState(),I=Array.from(t.values());for(const A of I){let M=!1;try{M=A.predicate(w,C,_)}catch(N){M=!1,sT(c,N,{raisedBy:"predicate"})}M&&m(A,w,x,E)}}}finally{_=aT}return O},startListening:f,stopListening:h,clearListeners:g}};function Mn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},I4=gn({name:"chartLayout",initialState:VX,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:KX,setLayout:GX,setChartSize:WX,setScale:YX}=I4.actions,XX=I4.reducer;function L4(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t,r){return Er(e)||Er(t)?r:za(t)?ko(e,t,r):typeof t=="function"?t(e):r}var eZ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&ze(e[s]))return Vl(Vl({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&ze(e[c]))return Vl(Vl({},e),{},{[c]:e[c]+(a||0)})}return e},Bo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",$4=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,c=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||c.push(t),s||c.push(r),c},z4=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:m,ticks:g,niceTicks:y,axisType:x}=e;if(!c)return null;var S=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=a==="category"&&c.bandwidth?c.bandwidth()/S:0;if(w=x==="angleAxis"&&s&&s.length>=2?Sr(s[0]-s[1])*2*w:w,g||y){var _=(g||y||[]).map((E,O)=>{var C=n?n.indexOf(E):E;return{coordinate:c(C)+w,value:E,offset:w,index:O}});return _.filter(E=>!ba(E.coordinate))}return f&&h?h.map((E,O)=>({coordinate:c(E)+w,value:E,index:O,offset:w})):c.ticks&&m!=null?c.ticks(m).map((E,O)=>({coordinate:c(E)+w,value:E,offset:w,index:O})):c.domain().map((E,O)=>({coordinate:c(E)+w,value:n?n[E]:E,index:O,offset:w}))},lT=1e-4,tZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-lT,s=Math.max(n[0],n[1])+lT,c=e(t[0]),u=e(t[r-1]);(c<a||c>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},rZ=(e,t)=>{if(!t||t.length!==2||!ze(t[0])||!ze(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ze(e[0])||e[0]<r)&&(a[0]=r),(!ze(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},nZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,c=0;c<t;++c){var u=ba(e[c][r][1])?e[c][r][0]:e[c][r][1];u>=0?(e[c][r][0]=a,e[c][r][1]=a+u,a=e[c][r][1]):(e[c][r][0]=s,e[c][r][1]=s+u,s=e[c][r][1])}},aZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var c=ba(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=a,e[s][r][1]=a+c,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},iZ={sign:nZ,expand:kW,none:cc,silhouette:PW,wiggle:RW,positive:aZ},sZ=(e,t,r)=>{var n=iZ[r],a=TW().keys(t).value((s,c)=>Number(It(s,c,0))).order($b).offset(n);return a(e)};function oZ(e){return e==null?void 0:String(e)}var cT=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var u=It(s,t.dataKey,t.scale.domain()[c]);return Er(u)?null:t.scale(u)-a/2+n},lZ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},cZ=e=>{var t=e.flat(2).filter(ze);return[Math.min(...t),Math.max(...t)]},uZ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dZ=(e,t,r)=>{if(e!=null)return uZ(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:c}=s,u=c.reduce((f,h)=>{var m=L4(h,t,r),g=cZ(m);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},uT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Im=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Kp(t,m=>m.coordinate),s=1/0,c=1,u=a.length;c<u;c++){var f=a[c],h=a[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function fT(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Vl(Vl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function tg(e,t){if(e)return String(e);if(typeof t=="string")return t}var fZ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hZ=(e,t)=>t==="centric"?e.angle:e.radius,Pi=e=>e.layout.width,Ri=e=>e.layout.height,mZ=e=>e.layout.scale,U4=e=>e.layout.margin,rg=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ng=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),B4="data-recharts-item-index",q4="data-recharts-item-data-key",Ad=60;function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){pZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pZ(e,t,r){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yZ=e=>e.brush.height;function xZ(e){var t=ng(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ad;return r+a}return r},0)}function bZ(e){var t=ng(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ad;return r+a}return r},0)}function wZ(e){var t=rg(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function jZ(e){var t=rg(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pr=de([Pi,Ri,U4,yZ,xZ,bZ,wZ,jZ,o4,WY],(e,t,r,n,a,s,c,u,f,h)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+c,bottom:(r.bottom||0)+u},y=Mh(Mh({},g),m),x=y.bottom;y.bottom+=n,y=eZ(y,f,h);var S=e-y.left-y.right,w=t-y.top-y.bottom;return Mh(Mh({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(w,0)})}),_Z=de(pr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Vj=de(Pi,Ri,(e,t)=>({x:0,y:0,width:e,height:t})),SZ=v.createContext(null),vn=()=>v.useContext(SZ)!=null,ag=e=>e.brush,ig=de([ag,pr,U4],(e,t,r)=>({height:e.height,x:ze(e.x)?e.x:t.left,y:ze(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ze(e.width)?e.width:t.width})),_0={},S0={},E0={},mT;function EZ(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},g=()=>{h&&m(),w()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},S=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{S(),c=void 0,u=null},_=()=>{m()},E=function(...O){if(a?.aborted)return;c=this,u=O;const C=y==null;x(),f&&C&&m()};return E.schedule=x,E.cancel=w,E.flush=_,a?.addEventListener("abort",w,{once:!0}),E}e.debounce=t})(E0)),E0}var pT;function NZ(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EZ();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let m,g=null;const y=t.debounce(function(...w){m=n.apply(this,w),g=null},a,{edges:h}),x=function(...w){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=n.apply(this,w),g=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,w),m)},S=()=>(y.flush(),m);return x.cancel=y.cancel,x.flush=S,x}e.debounce=r})(S0)),S0}var gT;function CZ(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NZ();function r(n,a=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:c,maxWait:a,trailing:u})}e.throttle=r})(_0)),_0}var N0,vT;function OZ(){return vT||(vT=1,N0=CZ().throttle),N0}var AZ=OZ();const TZ=ja(AZ);var Lm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},F4=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:c}=r,u=Si(n)?e:Number(n),f=Si(a)?t:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},kZ={width:0,height:0,overflow:"visible"},PZ={width:0,overflowX:"visible"},RZ={height:0,overflowY:"visible"},DZ={},MZ=e=>{var{width:t,height:r}=e,n=Si(t),a=Si(r);return n&&a?kZ:n?PZ:a?RZ:DZ};function IZ(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function Qt(e){return Number.isFinite(e)}function Ua(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){LZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H4=v.createContext({width:-1,height:-1});function UZ(e){return Ua(e.width)&&Ua(e.height)}function V4(e){var{children:t,width:r,height:n}=e,a=v.useMemo(()=>({width:r,height:n}),[r,n]);return UZ(a)?v.createElement(H4.Provider,{value:a},t):null}var Kj=()=>v.useContext(H4),BZ=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:c=0,minHeight:u,maxHeight:f,children:h,debounce:m=0,id:g,className:y,onResize:x,style:S={}}=e,w=v.useRef(null),_=v.useRef();_.current=x,v.useImperativeHandle(t,()=>w.current);var[E,O]=v.useState({containerWidth:n.width,containerHeight:n.height}),C=v.useCallback((T,U)=>{O(G=>{var B=Math.round(T),K=Math.round(U);return G.containerWidth===B&&G.containerHeight===K?G:{containerWidth:B,containerHeight:K}})},[]);v.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Ed;var T=K=>{var F,{width:se,height:J}=K[0].contentRect;C(se,J),(F=_.current)===null||F===void 0||F.call(_,se,J)};m>0&&(T=TZ(T,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(T),{width:G,height:B}=w.current.getBoundingClientRect();return C(G,B),U.observe(w.current),()=>{U.disconnect()}},[C,m]);var{containerWidth:I,containerHeight:A}=E;Lm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:M,calculatedHeight:N}=F4(I,A,{width:a,height:s,aspect:r,maxHeight:f});return Lm(M!=null&&M>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,N,a,s,c,u,r),v.createElement("div",{id:g?"".concat(g):void 0,className:pt("recharts-responsive-container",y),style:xT(xT({},S),{},{width:a,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:w},v.createElement("div",{style:MZ({width:a,height:s})},v.createElement(V4,{width:M,height:N},h)))}),rc=v.forwardRef((e,t)=>{var r=Kj();if(Ua(r.width)&&Ua(r.height))return e.children;var{width:n,height:a}=IZ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=F4(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ze(s)&&ze(c)?v.createElement(V4,{width:s,height:c},e.children):v.createElement(BZ,Xb({},e,{width:n,height:a,ref:t}))});function K4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sg=()=>{var e,t=vn(),r=$e(_Z),n=$e(ig),a=(e=$e(ag))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},qZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},G4=()=>{var e;return(e=$e(pr))!==null&&e!==void 0?e:qZ},W4=()=>$e(Pi),Y4=()=>$e(Ri),ht=e=>e.layout.layoutType,og=()=>$e(ht),FZ=()=>{var e=og();return e!==void 0},lg=e=>{var t=zt(),r=vn(),{width:n,height:a}=e,s=Kj(),c=n,u=a;return s&&(c=s.width>0?s.width:n,u=s.height>0?s.height:a),v.useEffect(()=>{!r&&Ua(c)&&Ua(u)&&t(WX({width:c,height:u}))},[t,r,c,u]),null},X4=Symbol.for("immer-nothing"),bT=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function ha(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ld=Object.getPrototypeOf;function fc(e){return!!e&&!!e[Ln]}function Po(e){return e?Z4(e)||Array.isArray(e)||!!e[bT]||!!e.constructor?.[bT]||Td(e)||ug(e):!1}var HZ=Object.prototype.constructor.toString(),wT=new WeakMap;function Z4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=wT.get(r);return n===void 0&&(n=Function.toString.call(r),wT.set(r,n)),n===HZ}function $m(e,t,r=!0){cg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cg(e){const t=e[Ln];return t?t.type_:Array.isArray(e)?1:Td(e)?2:ug(e)?3:0}function Zb(e,t){return cg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Q4(e,t,r){const n=cg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function VZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Td(e){return e instanceof Map}function ug(e){return e instanceof Set}function lo(e){return e.copy_||e.base_}function Qb(e,t){if(Td(e))return new Map(e);if(ug(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Z4(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ln];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(ld(e),n)}else{const n=ld(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Gj(e,t=!1){return dg(e)||fc(e)||!Po(e)||(cg(e)>1&&Object.defineProperties(e,{set:Ih,add:Ih,clear:Ih,delete:Ih}),Object.freeze(e),t&&Object.values(e).forEach(r=>Gj(r,!0))),e}function KZ(){ha(2)}var Ih={value:KZ};function dg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var GZ={};function Ro(e){const t=GZ[e];return t||ha(0,e),t}var cd;function J4(){return cd}function WZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jT(e,t){t&&(Ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jb(e){ew(e),e.drafts_.forEach(YZ),e.drafts_=null}function ew(e){e===cd&&(cd=e.parent_)}function _T(e){return cd=WZ(cd,e)}function YZ(e){const t=e[Ln];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ST(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ln].modified_&&(Jb(t),ha(4)),Po(e)&&(e=zm(t,e),t.parent_||Um(t,e)),t.patches_&&Ro("Patches").generateReplacementPatches_(r[Ln].base_,e,t.patches_,t.inversePatches_)):e=zm(t,r,[]),Jb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==X4?e:void 0}function zm(e,t,r){if(dg(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ln];if(!a)return $m(t,(s,c)=>ET(e,a,t,s,c,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Um(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,u=!1;a.type_===3&&(c=new Set(s),s.clear(),u=!0),$m(c,(f,h)=>ET(e,a,s,f,h,r,u),n),Um(e,s,!1),r&&e.patches_&&Ro("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function ET(e,t,r,n,a,s,c){if(a==null||typeof a!="object"&&!c)return;const u=dg(a);if(!(u&&!c)){if(fc(a)){const f=s&&t&&t.type_!==3&&!Zb(t.assigned_,n)?s.concat(n):void 0,h=zm(e,a,f);if(Q4(r,n,h),fc(h))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(Po(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;zm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Td(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Um(e,a)}}}function Um(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gj(t,r)}function XZ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:J4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Wj;r&&(a=[n],s=ud);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=c,u}var Wj={get(e,t){if(t===Ln)return e;const r=lo(e);if(!Zb(r,t))return ZZ(e,r,t);const n=r[t];return e.finalized_||!Po(n)?n:n===C0(e.base_,t)?(O0(e),e.copy_[t]=rw(n,e)):n},has(e,t){return t in lo(e)},ownKeys(e){return Reflect.ownKeys(lo(e))},set(e,t,r){const n=eL(lo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=C0(lo(e),t),s=a?.[Ln];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(VZ(r,a)&&(r!==void 0||Zb(e.base_,t)))return!0;O0(e),tw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return C0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,O0(e),tw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ha(11)},getPrototypeOf(e){return ld(e.base_)},setPrototypeOf(){ha(12)}},ud={};$m(Wj,(e,t)=>{ud[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ud.deleteProperty=function(e,t){return ud.set.call(this,e,t,void 0)};ud.set=function(e,t,r){return Wj.set.call(this,e[0],t,r,e[0])};function C0(e,t){const r=e[Ln];return(r?lo(r):e)[t]}function ZZ(e,t,r){const n=eL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function eL(e,t){if(!(t in e))return;let r=ld(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ld(r)}}function tw(e){e.modified_||(e.modified_=!0,e.parent_&&tw(e.parent_))}function O0(e){e.copy_||(e.copy_=Qb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(f=s,...h){return c.produce(f,m=>r.call(this,m,...h))}}typeof r!="function"&&ha(6),n!==void 0&&typeof n!="function"&&ha(7);let a;if(Po(t)){const s=_T(this),c=rw(t,void 0);let u=!0;try{a=r(c),u=!1}finally{u?Jb(s):ew(s)}return jT(s,n),ST(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===X4&&(a=void 0),this.autoFreeze_&&Gj(a,!0),n){const s=[],c=[];Ro("Patches").generateReplacementPatches_(t,a,s,c),n(s,c)}return a}else ha(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,a;return[this.produce(t,r,(c,u)=>{n=c,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Po(e)||ha(8),fc(e)&&(e=JZ(e));const t=_T(this),r=rw(e,void 0);return r[Ln].isManual_=!0,ew(t),r}finishDraft(e,t){const r=e&&e[Ln];(!r||!r.isManual_)&&ha(9);const{scope_:n}=r;return jT(n,t),ST(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ro("Patches").applyPatches_;return fc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function rw(e,t){const r=Td(e)?Ro("MapSet").proxyMap_(e,t):ug(e)?Ro("MapSet").proxySet_(e,t):XZ(e,t);return(t?t.scope_:J4()).drafts_.push(r),r}function JZ(e){return fc(e)||ha(10,e),tL(e)}function tL(e){if(!Po(e)||dg(e))return e;const t=e[Ln];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Qb(e,!0);return $m(r,(a,s)=>{Q4(r,a,tL(s))},n),t&&(t.finalized_=!1),r}var eQ=new QZ;eQ.produce;var tQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rL=gn({name:"legend",initialState:tQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Mt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ga(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Mt()},removeLegendPayload:{reducer(e,t){var r=ga(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Mt()}}}),{setLegendSize:yfe,setLegendSettings:xfe,addLegendPayload:nL,replaceLegendPayload:aL,removeLegendPayload:iL}=rL.actions,rQ=rL.reducer;function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){nQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nQ(e,t,r){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sQ(e){return Array.isArray(e)&&za(e[0])&&za(e[1])?e.join(" ~ "):e}var oQ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:g,accessibilityLayer:y=!1}=e,x=()=>{if(s&&s.length){var A={padding:0,margin:0},M=(u?Kp(s,u):s).map((N,T)=>{if(N.type==="none")return null;var U=N.formatter||c||sQ,{value:G,name:B}=N,K=G,F=B;if(U){var se=U(G,B,N,T,s);if(Array.isArray(se))[K,F]=se;else if(se!=null)K=se;else return null}var J=A0({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:J},za(F)?v.createElement("span",{className:"recharts-tooltip-item-name"},F):null,za(F)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},K),v.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:A},M)}return null},S=A0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=A0({margin:0},a),_=!Er(m),E=_?m:"",O=pt("recharts-default-tooltip",f),C=pt("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(E=g(m,s));var I=y?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",nw({className:O,style:S},I),v.createElement("p",{className:C,style:w},v.isValidElement(E)?E:"".concat(E)),x())},Ru="recharts-tooltip-wrapper",lQ={visibility:"hidden"};function cQ(e){var{coordinate:t,translateX:r,translateY:n}=e;return pt(Ru,{["".concat(Ru,"-right")]:ze(r)&&t&&ze(t.x)&&r>=t.x,["".concat(Ru,"-left")]:ze(r)&&t&&ze(t.x)&&r<t.x,["".concat(Ru,"-bottom")]:ze(n)&&t&&ze(t.y)&&n>=t.y,["".concat(Ru,"-top")]:ze(n)&&t&&ze(t.y)&&n<t.y})}function CT(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=e;if(s&&ze(s[n]))return s[n];var m=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return c[n]?m:g;var y=f[n];if(y==null)return 0;if(c[n]){var x=m,S=y;return x<S?Math.max(g,y):Math.max(m,y)}if(h==null)return 0;var w=g+u,_=y+h;return w>_?Math.max(m,y):Math.max(g,y)}function uQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function dQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:u,viewBox:f}=e,h,m,g;return c.height>0&&c.width>0&&r?(m=CT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=CT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=uQ({translateX:m,translateY:g,useTranslate3d:u})):h=lQ,{cssProperties:h,cssClasses:cQ({translateX:m,translateY:g,coordinate:r})}}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aw(e,t,r){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mQ extends v.PureComponent{constructor(){super(...arguments),aw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),aw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:h,position:m,reverseDirection:g,useTranslate3d:y,viewBox:x,wrapperStyle:S,lastBoundingBox:w,innerRef:_,hasPortalFromProps:E}=this.props,{cssClasses:O,cssProperties:C}=dQ({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:x}),I=E?{}:Lh(Lh({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),A=Lh(Lh({},I),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:A,ref:_},s)}}var sL=()=>{var e;return(e=$e(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){pQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQ(e,t,r){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kT={curveBasisClosed:xW,curveBasisOpen:bW,curveBasis:yW,curveBumpX:aW,curveBumpY:iW,curveLinearClosed:wW,curveLinear:Fp,curveMonotoneX:jW,curveMonotoneY:_W,curveNatural:SW,curveStep:EW,curveStepAfter:CW,curveStepBefore:NW},Bm=e=>Qt(e.x)&&Qt(e.y),PT=e=>e.base!=null&&Bm(e.base)&&Bm(e),Du=e=>e.x,Mu=e=>e.y,yQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Sd(e));return(r==="curveMonotone"||r==="curveBump")&&t?kT["".concat(r).concat(t==="vertical"?"Y":"X")]:kT[r]||Fp},xQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,c=yQ(t,a),u=s?r.filter(Bm):r,f;if(Array.isArray(n)){var h=r.map((x,S)=>TT(TT({},x),{},{base:n[S]}));a==="vertical"?f=Ah().y(Mu).x1(Du).x0(x=>x.base.x):f=Ah().x(Du).y1(Mu).y0(x=>x.base.y);var m=f.defined(PT).curve(c),g=s?h.filter(PT):h;return m(g)}a==="vertical"&&ze(n)?f=Ah().y(Mu).x1(Du).x0(n):ze(n)?f=Ah().x(Du).y1(Mu).y0(n):f=RI().x(Du).y(Mu);var y=f.defined(Bm).curve(c);return y(u)},Yj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?xQ(e):n;return v.createElement("path",iw({},xa(e),ZW(e),{className:pt("recharts-curve",t),d:s===null?void 0:s,ref:a}))},bQ=["x","y","top","left","width","height","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){jQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t,r){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EQ(e,t){if(e==null)return{};var r,n,a=NQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),OQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:c=0,className:u}=e,f=EQ(e,bQ),h=wQ({x:t,y:r,top:n,left:a,width:s,height:c},f);return!ze(t)||!ze(r)||!ze(s)||!ze(c)||!ze(n)||!ze(a)?null:v.createElement("path",sw({},ea(h),{className:pt("recharts-cross",u),d:CQ(t,r,s,c,n,a)}))};function AQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){TQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQ(e,t,r){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),oL=(e,t,r)=>e.map(n=>"".concat(RQ(n)," ").concat(t,"ms ").concat(r)).join(","),DQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),dd=(e,t)=>Object.keys(t).reduce((r,n)=>MT(MT({},r),{},{[n]:e(n,t[n])}),{});function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){MQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MQ(e,t,r){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm=(e,t,r)=>e+(t-e)*r,ow=e=>{var{from:t,to:r}=e;return t!==r},lL=(e,t,r)=>{var n=dd((a,s)=>{if(ow(s)){var[c,u]=e(s.from,s.to,s.velocity);return hr(hr({},s),{},{from:c,velocity:u})}return s},t);return r<1?dd((a,s)=>ow(s)?hr(hr({},s),{},{velocity:qm(s.velocity,n[a].velocity,r),from:qm(s.from,n[a].from,r)}):s,t):lL(e,n,r-1)};function $Q(e,t,r,n,a,s){var c,u=n.reduce((y,x)=>hr(hr({},y),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>dd((y,x)=>x.from,u),h=()=>!Object.values(u).filter(ow).length,m=null,g=y=>{c||(c=y);var x=y-c,S=x/r.dt;u=lL(r,u,S),a(hr(hr(hr({},e),t),f())),c=y,h()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var y;(y=m)===null||y===void 0||y()})}function zQ(e,t,r,n,a,s,c){var u=null,f=a.reduce((g,y)=>hr(hr({},g),{},{[y]:[e[y],t[y]]}),{}),h,m=g=>{h||(h=g);var y=(g-h)/n,x=dd((w,_)=>qm(..._,r(y)),f);if(s(hr(hr(hr({},e),t),x)),y<1)u=c.setTimeout(m);else{var S=dd((w,_)=>qm(..._,r(1)),f);s(hr(hr(hr({},e),t),S))}};return()=>(u=c.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const UQ=(e,t,r,n,a,s)=>{var c=DQ(e,t);return r==null?()=>(a(hr(hr({},e),t)),()=>{}):r.isStepper===!0?$Q(e,t,r,c,a,s):zQ(e,t,r,n,c,a,s)};var Fm=1e-4,cL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),LT=(e,t)=>r=>{var n=cL(e,t);return uL(n,r)},BQ=(e,t)=>r=>{var n=cL(e,t),a=[...n.map((s,c)=>s*c).slice(1),0];return uL(a,r)},qQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},FQ=(e,t,r,n)=>{var a=LT(e,r),s=LT(t,n),c=BQ(e,r),u=h=>h>1?1:h<0?0:h,f=h=>{for(var m=h>1?1:h,g=m,y=0;y<8;++y){var x=a(g)-m,S=c(g);if(Math.abs(x-m)<Fm||S<Fm)return s(g);g=u(g-x/S)}return s(g)};return f.isStepper=!1,f},$T=function(){return FQ(...qQ(...arguments))},HQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(c,u,f)=>{var h=-(c-u)*r,m=f*n,g=f+(h-m)*a/1e3,y=f*a/1e3+c;return Math.abs(y-u)<Fm&&Math.abs(g)<Fm?[u,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},VQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $T(e);case"spring":return HQ();default:if(e.split("(")[0]==="cubic-bezier")return $T(e)}return typeof e=="function"?e:null};function KQ(e){var t,r=()=>null,n=!1,a=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...h]=u;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class GQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function WQ(){return KQ(new GQ)}var YQ=v.createContext(WQ);function XQ(e,t){var r=v.useContext(YQ);return v.useMemo(()=>t??r(e),[e,t,r])}var ZQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kd={devToolsEnabled:!1,isSsr:ZQ()},QQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},zT={t:0},T0={t:1};function fg(e){var t=Vr(e,QQ),{isActive:r,canBegin:n,duration:a,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:h}=t,m=r==="auto"?!kd.isSsr:r,g=XQ(t.animationId,t.animationManager),[y,x]=v.useState(m?zT:T0),S=v.useRef(null);return v.useEffect(()=>{m||x(T0)},[m]),v.useEffect(()=>{if(!m||!n)return Ed;var w=UQ(zT,T0,VQ(s),a,x,g.getTimeoutController()),_=()=>{S.current=w()};return g.start([f,c,_,a,u]),()=>{g.stop(),S.current&&S.current(),u()}},[m,n,a,s,c,f,u,g]),h(y.t)}function hg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(ad(t)),n=v.useRef(e);return n.current!==e&&(r.current=ad(t),n.current=e),r.current}var JQ=["radius"],eJ=["radius"];function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){tJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t,r){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(null,arguments)}function qT(e,t){if(e==null)return{};var r,n,a=aJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FT=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),c=n>=0?1:-1,u=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(t+c*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+u*m[0],",").concat(t)),h+="L ".concat(e+r-u*m[1],",").concat(t),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*m[1])),h+="L ".concat(e+r,",").concat(t+n-c*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-u*m[2],",").concat(t+n)),h+="L ".concat(e+u*m[3],",").concat(t+n),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-c*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(t+c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+r-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*x,`
            L `).concat(e+r,",").concat(t+n-c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-u*x,",").concat(t+n,`
            L `).concat(e+u*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(t+n-c*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},HT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dL=e=>{var t=Vr(e,HT),r=v.useRef(null),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:h,className:m}=t,{animationEasing:g,animationDuration:y,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:w}=t,_=v.useRef(u),E=v.useRef(f),O=v.useRef(s),C=v.useRef(c),I=v.useMemo(()=>({x:s,y:c,width:u,height:f,radius:h}),[s,c,u,f,h]),A=hg(I,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var M=pt("recharts-rectangle",m);if(!w){var N=ea(t),{radius:T}=N,U=qT(N,JQ);return v.createElement("path",Hm({},U,{radius:typeof h=="number"?h:void 0,className:M,d:FT(s,c,u,f,h)}))}var G=_.current,B=E.current,K=O.current,F=C.current,se="0px ".concat(n===-1?1:n,"px"),J="".concat(n,"px 0px"),L=oL(["strokeDasharray"],y,typeof g=="string"?g:HT.animationEasing);return v.createElement(fg,{animationId:A,key:A,canBegin:n>0,duration:y,easing:g,isActive:w,begin:x},R=>{var q=fr(G,u,R),re=fr(B,f,R),X=fr(K,s,R),D=fr(F,c,R);r.current&&(_.current=q,E.current=re,O.current=X,C.current=D);var H;S?R>0?H={transition:L,strokeDasharray:J}:H={strokeDasharray:se}:H={strokeDasharray:J};var Q=ea(t),{radius:P}=Q,V=qT(Q,eJ);return v.createElement("path",Hm({},V,{radius:typeof h=="number"?h:void 0,className:M,d:FT(X,D,q,re,h),ref:r,style:BT(BT({},H),t.style)}))})};function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){iJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iJ(e,t,r){return(t=sJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm=Math.PI/180,lJ=e=>e*180/Math.PI,ir=(e,t,r,n)=>({x:e+Math.cos(-Vm*n)*r,y:t+Math.sin(-Vm*n)*r}),fL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cJ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},uJ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,c=cJ({x:r,y:n},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var u=(r-a)/c,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:c,angle:lJ(f),angleInRadian:f}},dJ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},fJ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return e+c*360},hJ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=uJ({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:h}=dJ(t),m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?KT(KT({},t),{},{radius:a,angle:fJ(m,t)}):null};function hL(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,c=ir(t,r,n,a),u=ir(t,r,n,s);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}var mJ=(e,t)=>{var r=Sr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},$h=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,h=u*(c?1:-1)+n,m=Math.asin(u/h)/Vm,g=f?a:a+s*m,y=ir(t,r,h,g),x=ir(t,r,n,g),S=f?a-s*m:a,w=ir(t,r,h*Math.cos(m*Vm),S);return{center:y,circleTangency:x,lineTangency:w,theta:m}},mL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:c}=e,u=mJ(s,c),f=s+u,h=ir(t,r,a,s),m=ir(t,r,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var y=ir(t,r,n,s),x=ir(t,r,n,f);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},pJ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}=e,m=Sr(h-f),{circleTangency:g,lineTangency:y,theta:x}=$h({cx:t,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:w,theta:_}=$h({cx:t,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:u}),E=u?Math.abs(f-h):Math.abs(f-h)-x-_;if(E<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):mL({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var O="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:I,theta:A}=$h({cx:t,cy:r,radius:n,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:M,lineTangency:N,theta:T}=$h({cx:t,cy:r,radius:n,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),U=u?Math.abs(f-h):Math.abs(f-h)-A-T;if(U<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(U>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else O+="L".concat(t,",").concat(r,"Z");return O},gJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pL=e=>{var t=Vr(e,gJ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m,className:g}=t;if(s<a||h===m)return null;var y=pt("recharts-sector",g),x=s-a,S=qr(c,x,0,!0),w;return S>0&&Math.abs(h-m)<360?w=pJ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}):w=mL({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),v.createElement("path",lw({},ea(t),{className:y,d:w}))};function vJ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(WI(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:c,angle:u}=t,f=ir(n,a,s,u),h=ir(n,a,c,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return hL(t)}}var k0={},P0={},R0={},GT;function yJ(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(R0)),R0}var WT;function xJ(){return WT||(WT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yJ();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(P0)),P0}var YT;function bJ(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s4(),r=xJ();function n(a,s,c){c&&typeof c!="number"&&t.isIterateeCall(a,s,c)&&(s=c=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),c=c===void 0?a<s?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=a,a+=c;return f}e.range=n})(k0)),k0}var D0,XT;function wJ(){return XT||(XT=1,D0=bJ().range),D0}var jJ=wJ();const gL=ja(jJ);function Ss(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _J(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xj(e){let t,r,n;e.length!==2?(t=Ss,r=(u,f)=>Ss(e(u),f),n=(u,f)=>e(u)-f):(t=e===Ss||e===_J?e:SJ,r=e,n=e);function a(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;r(u[g],f)<0?h=g+1:m=g}while(h<m)}return h}function s(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;r(u[g],f)<=0?h=g+1:m=g}while(h<m)}return h}function c(u,f,h=0,m=u.length){const g=a(u,f,h,m-1);return g>h&&n(u[g-1],f)>-n(u[g],f)?g-1:g}return{left:a,center:c,right:s}}function SJ(){return 0}function vL(e){return e===null?NaN:+e}function*EJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NJ=Xj(Ss),Pd=NJ.right;Xj(vL).center;class ZT extends Map{constructor(t,r=AJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(QT(this,t))}has(t){return super.has(QT(this,t))}set(t,r){return super.set(CJ(this,t),r)}delete(t){return super.delete(OJ(this,t))}}function QT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function CJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function OJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function AJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function TJ(e=Ss){if(e===Ss)return yL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kJ=Math.sqrt(50),PJ=Math.sqrt(10),RJ=Math.sqrt(2);function Km(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=kJ?10:s>=PJ?5:s>=RJ?2:1;let u,f,h;return a<0?(h=Math.pow(10,-a)/c,u=Math.round(e*h),f=Math.round(t*h),u/h<e&&++u,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*c,u=Math.round(e/h),f=Math.round(t/h),u*h<e&&++u,f*h>t&&--f),f<u&&.5<=r&&r<2?Km(e,t,r*2):[u,f,h]}function cw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,c]=n?Km(t,e,r):Km(e,t,r);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(n)if(c<0)for(let h=0;h<u;++h)f[h]=(s-h)/-c;else for(let h=0;h<u;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)f[h]=(a+h)/-c;else for(let h=0;h<u;++h)f[h]=(a+h)*c;return f}function uw(e,t,r){return t=+t,e=+e,r=+r,Km(e,t,r)[2]}function dw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?uw(t,e,r):uw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function JT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ek(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?yL:TJ(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,m=Math.log(f),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(f-g)/f)*(h-f/2<0?-1:1),x=Math.max(r,Math.floor(t-h*g/f+y)),S=Math.min(n,Math.floor(t+(f-h)*g/f+y));xL(e,t,x,S,a)}const s=e[t];let c=r,u=n;for(Iu(e,r,t),a(e[n],s)>0&&Iu(e,r,n);c<u;){for(Iu(e,c,u),++c,--u;a(e[c],s)<0;)++c;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Iu(e,r,u):(++u,Iu(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Iu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function DJ(e,t,r){if(e=Float64Array.from(EJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ek(e);if(t>=1)return JT(e);var n,a=(n-1)*t,s=Math.floor(a),c=JT(xL(e,s).subarray(0,s+1)),u=ek(e.subarray(s+1));return c+(u-c)*(a-s)}}function MJ(e,t,r=vL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),c=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return c+(u-c)*(a-s)}}function IJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function aa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Di(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fw=Symbol("implicit");function Zj(){var e=new ZT,t=[],r=[],n=fw;function a(s){let c=e.get(s);if(c===void 0){if(n!==fw)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new ZT;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Zj(t,r).unknown(n)},aa.apply(a,arguments),a}function Qj(){var e=Zj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,c,u=!1,f=0,h=0,m=.5;delete e.unknown;function g(){var y=t().length,x=a<n,S=x?a:n,w=x?n:a;s=(w-S)/Math.max(1,y-f+h*2),u&&(s=Math.floor(s)),S+=(w-S-s*(y-f))*m,c=s*(1-f),u&&(S=Math.round(S),c=Math.round(c));var _=IJ(y).map(function(E){return S+s*E});return r(x?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},e.copy=function(){return Qj(t(),[n,a]).round(u).paddingInner(f).paddingOuter(h).align(m)},aa.apply(g(),arguments)}function bL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bL(t())},e}function LJ(){return bL(Qj.apply(null,arguments).paddingInner(1))}function Jj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function wL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Rd(){}var fd=.7,Gm=1/fd,nc="\\s*([+-]?\\d+)\\s*",hd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$J=/^#([0-9a-f]{3,8})$/,zJ=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),UJ=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),BJ=new RegExp(`^rgba\\(${nc},${nc},${nc},${hd}\\)$`),qJ=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${hd}\\)$`),FJ=new RegExp(`^hsl\\(${hd},${Ia},${Ia}\\)$`),HJ=new RegExp(`^hsla\\(${hd},${Ia},${Ia},${hd}\\)$`),tk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jj(Rd,md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rk,formatHex:rk,formatHex8:VJ,formatHsl:KJ,formatRgb:nk,toString:nk});function rk(){return this.rgb().formatHex()}function VJ(){return this.rgb().formatHex8()}function KJ(){return jL(this).formatHsl()}function nk(){return this.rgb().formatRgb()}function md(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$J.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ak(t):r===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zJ.exec(e))?new hn(t[1],t[2],t[3],1):(t=UJ.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BJ.exec(e))?zh(t[1],t[2],t[3],t[4]):(t=qJ.exec(e))?zh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FJ.exec(e))?ok(t[1],t[2]/100,t[3]/100,1):(t=HJ.exec(e))?ok(t[1],t[2]/100,t[3]/100,t[4]):tk.hasOwnProperty(e)?ak(tk[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function ak(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function zh(e,t,r,n){return n<=0&&(e=t=r=NaN),new hn(e,t,r,n)}function GJ(e){return e instanceof Rd||(e=md(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function hw(e,t,r,n){return arguments.length===1?GJ(e):new hn(e,t,r,n??1)}function hn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jj(hn,hw,wL(Rd,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(_o(this.r),_o(this.g),_o(this.b),Wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ik,formatHex:ik,formatHex8:WJ,formatRgb:sk,toString:sk}));function ik(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}`}function WJ(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function sk(){const e=Wm(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function Wm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vo(e){return e=_o(e),(e<16?"0":"")+e.toString(16)}function ok(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ma(e,t,r,n)}function jL(e){if(e instanceof ma)return new ma(e.h,e.s,e.l,e.opacity);if(e instanceof Rd||(e=md(e)),!e)return new ma;if(e instanceof ma)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,u=s-a,f=(s+a)/2;return u?(t===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?s+a:2-s-a,c*=60):u=f>0&&f<1?0:c,new ma(c,u,f,e.opacity)}function YJ(e,t,r,n){return arguments.length===1?jL(e):new ma(e,t,r,n??1)}function ma(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jj(ma,YJ,wL(Rd,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hn(M0(e>=240?e-240:e+120,a,n),M0(e,a,n),M0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ma(lk(this.h),Uh(this.s),Uh(this.l),Wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wm(this.opacity);return`${e===1?"hsl(":"hsla("}${lk(this.h)}, ${Uh(this.s)*100}%, ${Uh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lk(e){return e=(e||0)%360,e<0?e+360:e}function Uh(e){return Math.max(0,Math.min(1,e||0))}function M0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const e_=e=>()=>e;function XJ(e,t){return function(r){return e+r*t}}function ZJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function QJ(e){return(e=+e)==1?_L:function(t,r){return r-t?ZJ(t,r,e):e_(isNaN(t)?r:t)}}function _L(e,t){var r=t-e;return r?XJ(e,r):e_(isNaN(e)?t:e)}const ck=(function e(t){var r=QJ(t);function n(a,s){var c=r((a=hw(a)).r,(s=hw(s)).r),u=r(a.g,s.g),f=r(a.b,s.b),h=_L(a.opacity,s.opacity);return function(m){return a.r=c(m),a.g=u(m),a.b=f(m),a.opacity=h(m),a+""}}return n.gamma=e,n})(1);function JJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function eee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=Oc(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(u){for(c=0;c<n;++c)s[c]=a[c](u);return s}}function ree(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ym(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nee(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Oc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I0=new RegExp(mw.source,"g");function aee(e){return function(){return e}}function iee(e){return function(t){return e(t)+""}}function see(e,t){var r=mw.lastIndex=I0.lastIndex=0,n,a,s,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=mw.exec(e))&&(a=I0.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Ym(n,a)})),r=I0.lastIndex;return r<t.length&&(s=t.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?iee(f[0].x):aee(t):(t=f.length,function(h){for(var m=0,g;m<t;++m)u[(g=f[m]).i]=g.x(h);return u.join("")})}function Oc(e,t){var r=typeof t,n;return t==null||r==="boolean"?e_(t):(r==="number"?Ym:r==="string"?(n=md(t))?(t=n,ck):see:t instanceof md?ck:t instanceof Date?ree:eee(t)?JJ:Array.isArray(t)?tee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nee:Ym)(e,t)}function t_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oee(e,t){t===void 0&&(t=e,e=Oc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function lee(e){return function(){return e}}function Xm(e){return+e}var uk=[0,1];function Qr(e){return e}function pw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lee(isNaN(t)?NaN:.5)}function cee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uee(e,t,r){var n=e[0],a=e[1],s=t[0],c=t[1];return a<n?(n=pw(a,n),s=r(c,s)):(n=pw(n,a),s=r(s,c)),function(u){return s(n(u))}}function dee(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=pw(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(u){var f=Pd(e,u,1,n)-1;return s[f](a[f](u))}}function Dd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mg(){var e=uk,t=uk,r=Oc,n,a,s,c=Qr,u,f,h;function m(){var y=Math.min(e.length,t.length);return c!==Qr&&(c=cee(e[0],e[y-1])),u=y>2?dee:uee,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=u(e.map(n),t,r)))(n(c(y)))}return g.invert=function(y){return c(a((h||(h=u(t,e.map(n),Ym)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Xm),m()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=t_,m()},g.clamp=function(y){return arguments.length?(c=y?!0:Qr,m()):c!==Qr},g.interpolate=function(y){return arguments.length?(r=y,m()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,x){return n=y,a=x,m()}}function r_(){return mg()(Qr,Qr)}function fee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hc(e){return e=Zm(Math.abs(e)),e?e[1]:NaN}function hee(e,t){return function(r,n){for(var a=r.length,s=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function mee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pd(e){if(!(t=pee.exec(e)))throw new Error("invalid format: "+e);var t;return new n_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pd.prototype=n_.prototype;function n_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}n_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gee(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var SL;function vee(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(SL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zm(e,Math.max(0,t+s-1))[0]}function dk(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dk(e*100,t),r:dk,s:vee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hk(e){return e}var mk=Array.prototype.map,pk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yee(e){var t=e.grouping===void 0||e.thousands===void 0?hk:hee(mk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?hk:mee(mk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=pd(g);var y=g.fill,x=g.align,S=g.sign,w=g.symbol,_=g.zero,E=g.width,O=g.comma,C=g.precision,I=g.trim,A=g.type;A==="n"?(O=!0,A="g"):fk[A]||(C===void 0&&(C=12),I=!0,A="g"),(_||y==="0"&&x==="=")&&(_=!0,y="0",x="=");var M=w==="$"?r:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N=w==="$"?n:/[%p]/.test(A)?c:"",T=fk[A],U=/[defgprs%]/.test(A);C=C===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(B){var K=M,F=N,se,J,L;if(A==="c")F=T(B)+F,B="";else{B=+B;var R=B<0||1/B<0;if(B=isNaN(B)?f:T(Math.abs(B),C),I&&(B=gee(B)),R&&+B==0&&S!=="+"&&(R=!1),K=(R?S==="("?S:u:S==="-"||S==="("?"":S)+K,F=(A==="s"?pk[8+SL/3]:"")+F+(R&&S==="("?")":""),U){for(se=-1,J=B.length;++se<J;)if(L=B.charCodeAt(se),48>L||L>57){F=(L===46?a+B.slice(se+1):B.slice(se))+F,B=B.slice(0,se);break}}}O&&!_&&(B=t(B,1/0));var q=K.length+B.length+F.length,re=q<E?new Array(E-q+1).join(y):"";switch(O&&_&&(B=t(re+B,re.length?E-F.length:1/0),re=""),x){case"<":B=K+B+F+re;break;case"=":B=K+re+B+F;break;case"^":B=re.slice(0,q=re.length>>1)+K+B+F+re.slice(q);break;default:B=re+K+B+F;break}return s(B)}return G.toString=function(){return g+""},G}function m(g,y){var x=h((g=pd(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(hc(y)/3)))*3,w=Math.pow(10,-S),_=pk[8+S/3];return function(E){return x(w*E)+_}}return{format:h,formatPrefix:m}}var Bh,a_,EL;xee({thousands:",",grouping:[3],currency:["$",""]});function xee(e){return Bh=yee(e),a_=Bh.format,EL=Bh.formatPrefix,Bh}function bee(e){return Math.max(0,-hc(Math.abs(e)))}function wee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hc(t)/3)))*3-hc(Math.abs(e)))}function jee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hc(t)-hc(e))+1}function NL(e,t,r,n){var a=dw(e,t,r),s;switch(n=pd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=wee(a,c))&&(n.precision=s),EL(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=jee(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=bee(a))&&(n.precision=s-(n.type==="%")*2);break}}return a_(n)}function Ms(e){var t=e.domain;return e.ticks=function(r){var n=t();return cw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return NL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,c=n[a],u=n[s],f,h,m=10;for(u<c&&(h=c,c=u,u=h,h=a,a=s,s=h);m-- >0;){if(h=uw(c,u,r),h===f)return n[a]=c,n[s]=u,t(n);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;f=h}return e},e}function CL(){var e=r_();return e.copy=function(){return Dd(e,CL())},aa.apply(e,arguments),Ms(e)}function OL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return OL(e).unknown(t)},e=arguments.length?Array.from(e,Xm):[0,1],Ms(r)}function AL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),e[r]=t.floor(a),e[n]=t.ceil(s),e}function gk(e){return Math.log(e)}function vk(e){return Math.exp(e)}function _ee(e){return-Math.log(-e)}function See(e){return-Math.exp(-e)}function Eee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nee(e){return e===10?Eee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Cee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yk(e){return(t,r)=>-e(-t,r)}function i_(e){const t=e(gk,vk),r=t.domain;let n=10,a,s;function c(){return a=Cee(n),s=Nee(n),r()[0]<0?(a=yk(a),s=yk(s),e(_ee,See)):e(gk,vk),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let h=f[0],m=f[f.length-1];const g=m<h;g&&([h,m]=[m,h]);let y=a(h),x=a(m),S,w;const _=u==null?10:+u;let E=[];if(!(n%1)&&x-y<_){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(S=1;S<n;++S)if(w=y<0?S/s(-y):S*s(y),!(w<h)){if(w>m)break;E.push(w)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(w=y>0?S/s(-y):S*s(y),!(w<h)){if(w>m)break;E.push(w)}E.length*2<_&&(E=cw(h,m,_))}else E=cw(y,x,Math.min(x-y,_)).map(s);return g?E.reverse():E},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=pd(f)).precision==null&&(f.trim=!0),f=a_(f)),u===1/0)return f;const h=Math.max(1,n*u/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=h?f(m):""}},t.nice=()=>r(AL(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function TL(){const e=i_(mg()).domain([1,10]);return e.copy=()=>Dd(e,TL()).base(e.base()),aa.apply(e,arguments),e}function xk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function s_(e){var t=1,r=e(xk(t),bk(t));return r.constant=function(n){return arguments.length?e(xk(t=+n),bk(t)):t},Ms(r)}function kL(){var e=s_(mg());return e.copy=function(){return Dd(e,kL()).constant(e.constant())},aa.apply(e,arguments)}function wk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Oee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Aee(e){return e<0?-e*e:e*e}function o_(e){var t=e(Qr,Qr),r=1;function n(){return r===1?e(Qr,Qr):r===.5?e(Oee,Aee):e(wk(r),wk(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ms(t)}function l_(){var e=o_(mg());return e.copy=function(){return Dd(e,l_()).exponent(e.exponent())},aa.apply(e,arguments),e}function Tee(){return l_.apply(null,arguments).exponent(.5)}function jk(e){return Math.sign(e)*e*e}function kee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function PL(){var e=r_(),t=[0,1],r=!1,n;function a(s){var c=kee(e(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return e.invert(jk(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Xm)).map(jk)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return PL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},aa.apply(a,arguments),Ms(a)}function RL(){var e=[],t=[],r=[],n;function a(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=MJ(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Pd(r,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ss),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return RL().domain(e).range(t).unknown(n)},aa.apply(s,arguments)}function DL(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Pd(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return DL().domain([e,t]).range(a).unknown(s)},aa.apply(Ms(c),arguments)}function ML(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Pd(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return ML().domain(e).range(t).unknown(r)},aa.apply(a,arguments)}const L0=new Date,$0=new Date;function gr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let h;do f.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<c);return f},a.filter=s=>gr(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),r&&(a.count=(s,c)=>(L0.setTime(+s),$0.setTime(+c),e(L0),e($0),Math.floor(r(L0,$0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Qm=gr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qm);Qm.range;const gi=1e3,Jn=gi*60,vi=Jn*60,Ni=vi*24,c_=Ni*7,_k=Ni*30,z0=Ni*365,yo=gr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCSeconds());yo.range;const u_=gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getMinutes());u_.range;const d_=gr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCMinutes());d_.range;const f_=gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi-e.getMinutes()*Jn)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getHours());f_.range;const h_=gr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCHours());h_.range;const Md=gr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/Ni,e=>e.getDate()-1);Md.range;const pg=gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ni,e=>e.getUTCDate()-1);pg.range;const IL=gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ni,e=>Math.floor(e/Ni));IL.range;function qo(e){return gr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/c_)}const gg=qo(0),Jm=qo(1),Pee=qo(2),Ree=qo(3),mc=qo(4),Dee=qo(5),Mee=qo(6);gg.range;Jm.range;Pee.range;Ree.range;mc.range;Dee.range;Mee.range;function Fo(e){return gr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/c_)}const vg=Fo(0),ep=Fo(1),Iee=Fo(2),Lee=Fo(3),pc=Fo(4),$ee=Fo(5),zee=Fo(6);vg.range;ep.range;Iee.range;Lee.range;pc.range;$ee.range;zee.range;const m_=gr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());m_.range;const p_=gr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());p_.range;const Ci=gr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ci.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ci.range;const Oi=gr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Oi.range;function LL(e,t,r,n,a,s){const c=[[yo,1,gi],[yo,5,5*gi],[yo,15,15*gi],[yo,30,30*gi],[s,1,Jn],[s,5,5*Jn],[s,15,15*Jn],[s,30,30*Jn],[a,1,vi],[a,3,3*vi],[a,6,6*vi],[a,12,12*vi],[n,1,Ni],[n,2,2*Ni],[r,1,c_],[t,1,_k],[t,3,3*_k],[e,1,z0]];function u(h,m,g){const y=m<h;y&&([h,m]=[m,h]);const x=g&&typeof g.range=="function"?g:f(h,m,g),S=x?x.range(h,+m+1):[];return y?S.reverse():S}function f(h,m,g){const y=Math.abs(m-h)/g,x=Xj(([,,_])=>_).right(c,y);if(x===c.length)return e.every(dw(h/z0,m/z0,g));if(x===0)return Qm.every(Math.max(dw(h,m,g),1));const[S,w]=c[y/c[x-1][2]<c[x][2]/y?x-1:x];return S.every(w)}return[u,f]}const[Uee,Bee]=LL(Oi,p_,vg,IL,h_,d_),[qee,Fee]=LL(Ci,m_,gg,Md,f_,u_);function U0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function B0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Hee(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,h=$u(a),m=zu(a),g=$u(s),y=zu(s),x=$u(c),S=zu(c),w=$u(u),_=zu(u),E=$u(f),O=zu(f),C={a:R,A:q,b:re,B:X,c:null,d:Ak,e:Ak,f:hte,g:_te,G:Ete,H:ute,I:dte,j:fte,L:$L,m:mte,M:pte,p:D,q:H,Q:Pk,s:Rk,S:gte,u:vte,U:yte,V:xte,w:bte,W:wte,x:null,X:null,y:jte,Y:Ste,Z:Nte,"%":kk},I={a:Q,A:P,b:V,B:ie,c:null,d:Tk,e:Tk,f:Tte,g:Ute,G:qte,H:Cte,I:Ote,j:Ate,L:UL,m:kte,M:Pte,p:W,q:je,Q:Pk,s:Rk,S:Rte,u:Dte,U:Mte,V:Ite,w:Lte,W:$te,x:null,X:null,y:zte,Y:Bte,Z:Fte,"%":kk},A={a:G,A:B,b:K,B:F,c:se,d:Ck,e:Ck,f:ste,g:Nk,G:Ek,H:Ok,I:Ok,j:rte,L:ite,m:tte,M:nte,p:U,q:ete,Q:lte,s:cte,S:ate,u:Yee,U:Xee,V:Zee,w:Wee,W:Qee,x:J,X:L,y:Nk,Y:Ek,Z:Jee,"%":ote};C.x=M(r,C),C.X=M(n,C),C.c=M(t,C),I.x=M(r,I),I.X=M(n,I),I.c=M(t,I);function M($,ee){return function(ce){var Y=[],ae=-1,he=0,Se=$.length,Oe,Ke,ct;for(ce instanceof Date||(ce=new Date(+ce));++ae<Se;)$.charCodeAt(ae)===37&&(Y.push($.slice(he,ae)),(Ke=Sk[Oe=$.charAt(++ae)])!=null?Oe=$.charAt(++ae):Ke=Oe==="e"?" ":"0",(ct=ee[Oe])&&(Oe=ct(ce,Ke)),Y.push(Oe),he=ae+1);return Y.push($.slice(he,ae)),Y.join("")}}function N($,ee){return function(ce){var Y=Lu(1900,void 0,1),ae=T(Y,$,ce+="",0),he,Se;if(ae!=ce.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ee&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(he=B0(Lu(Y.y,0,1)),Se=he.getUTCDay(),he=Se>4||Se===0?ep.ceil(he):ep(he),he=pg.offset(he,(Y.V-1)*7),Y.y=he.getUTCFullYear(),Y.m=he.getUTCMonth(),Y.d=he.getUTCDate()+(Y.w+6)%7):(he=U0(Lu(Y.y,0,1)),Se=he.getDay(),he=Se>4||Se===0?Jm.ceil(he):Jm(he),he=Md.offset(he,(Y.V-1)*7),Y.y=he.getFullYear(),Y.m=he.getMonth(),Y.d=he.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Se="Z"in Y?B0(Lu(Y.y,0,1)).getUTCDay():U0(Lu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Se+5)%7:Y.w+Y.U*7-(Se+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,B0(Y)):U0(Y)}}function T($,ee,ce,Y){for(var ae=0,he=ee.length,Se=ce.length,Oe,Ke;ae<he;){if(Y>=Se)return-1;if(Oe=ee.charCodeAt(ae++),Oe===37){if(Oe=ee.charAt(ae++),Ke=A[Oe in Sk?ee.charAt(ae++):Oe],!Ke||(Y=Ke($,ce,Y))<0)return-1}else if(Oe!=ce.charCodeAt(Y++))return-1}return Y}function U($,ee,ce){var Y=h.exec(ee.slice(ce));return Y?($.p=m.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function G($,ee,ce){var Y=x.exec(ee.slice(ce));return Y?($.w=S.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function B($,ee,ce){var Y=g.exec(ee.slice(ce));return Y?($.w=y.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function K($,ee,ce){var Y=E.exec(ee.slice(ce));return Y?($.m=O.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function F($,ee,ce){var Y=w.exec(ee.slice(ce));return Y?($.m=_.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function se($,ee,ce){return T($,t,ee,ce)}function J($,ee,ce){return T($,r,ee,ce)}function L($,ee,ce){return T($,n,ee,ce)}function R($){return c[$.getDay()]}function q($){return s[$.getDay()]}function re($){return f[$.getMonth()]}function X($){return u[$.getMonth()]}function D($){return a[+($.getHours()>=12)]}function H($){return 1+~~($.getMonth()/3)}function Q($){return c[$.getUTCDay()]}function P($){return s[$.getUTCDay()]}function V($){return f[$.getUTCMonth()]}function ie($){return u[$.getUTCMonth()]}function W($){return a[+($.getUTCHours()>=12)]}function je($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var ee=M($+="",C);return ee.toString=function(){return $},ee},parse:function($){var ee=N($+="",!1);return ee.toString=function(){return $},ee},utcFormat:function($){var ee=M($+="",I);return ee.toString=function(){return $},ee},utcParse:function($){var ee=N($+="",!0);return ee.toString=function(){return $},ee}}}var Sk={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,Vee=/^%/,Kee=/[\\^$*+?|[\]().{}]/g;function ft(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Gee(e){return e.replace(Kee,"\\$&")}function $u(e){return new RegExp("^(?:"+e.map(Gee).join("|")+")","i")}function zu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wee(e,t,r){var n=Nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Yee(e,t,r){var n=Nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Xee(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zee(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Qee(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ek(e,t,r){var n=Nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Nk(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ete(e,t,r){var n=Nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tte(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ck(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rte(e,t,r){var n=Nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ok(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nte(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ate(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ite(e,t,r){var n=Nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ste(e,t,r){var n=Nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ote(e,t,r){var n=Vee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lte(e,t,r){var n=Nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cte(e,t,r){var n=Nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Ak(e,t){return ft(e.getDate(),t,2)}function ute(e,t){return ft(e.getHours(),t,2)}function dte(e,t){return ft(e.getHours()%12||12,t,2)}function fte(e,t){return ft(1+Md.count(Ci(e),e),t,3)}function $L(e,t){return ft(e.getMilliseconds(),t,3)}function hte(e,t){return $L(e,t)+"000"}function mte(e,t){return ft(e.getMonth()+1,t,2)}function pte(e,t){return ft(e.getMinutes(),t,2)}function gte(e,t){return ft(e.getSeconds(),t,2)}function vte(e){var t=e.getDay();return t===0?7:t}function yte(e,t){return ft(gg.count(Ci(e)-1,e),t,2)}function zL(e){var t=e.getDay();return t>=4||t===0?mc(e):mc.ceil(e)}function xte(e,t){return e=zL(e),ft(mc.count(Ci(e),e)+(Ci(e).getDay()===4),t,2)}function bte(e){return e.getDay()}function wte(e,t){return ft(Jm.count(Ci(e)-1,e),t,2)}function jte(e,t){return ft(e.getFullYear()%100,t,2)}function _te(e,t){return e=zL(e),ft(e.getFullYear()%100,t,2)}function Ste(e,t){return ft(e.getFullYear()%1e4,t,4)}function Ete(e,t){var r=e.getDay();return e=r>=4||r===0?mc(e):mc.ceil(e),ft(e.getFullYear()%1e4,t,4)}function Nte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ft(t/60|0,"0",2)+ft(t%60,"0",2)}function Tk(e,t){return ft(e.getUTCDate(),t,2)}function Cte(e,t){return ft(e.getUTCHours(),t,2)}function Ote(e,t){return ft(e.getUTCHours()%12||12,t,2)}function Ate(e,t){return ft(1+pg.count(Oi(e),e),t,3)}function UL(e,t){return ft(e.getUTCMilliseconds(),t,3)}function Tte(e,t){return UL(e,t)+"000"}function kte(e,t){return ft(e.getUTCMonth()+1,t,2)}function Pte(e,t){return ft(e.getUTCMinutes(),t,2)}function Rte(e,t){return ft(e.getUTCSeconds(),t,2)}function Dte(e){var t=e.getUTCDay();return t===0?7:t}function Mte(e,t){return ft(vg.count(Oi(e)-1,e),t,2)}function BL(e){var t=e.getUTCDay();return t>=4||t===0?pc(e):pc.ceil(e)}function Ite(e,t){return e=BL(e),ft(pc.count(Oi(e),e)+(Oi(e).getUTCDay()===4),t,2)}function Lte(e){return e.getUTCDay()}function $te(e,t){return ft(ep.count(Oi(e)-1,e),t,2)}function zte(e,t){return ft(e.getUTCFullYear()%100,t,2)}function Ute(e,t){return e=BL(e),ft(e.getUTCFullYear()%100,t,2)}function Bte(e,t){return ft(e.getUTCFullYear()%1e4,t,4)}function qte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?pc(e):pc.ceil(e),ft(e.getUTCFullYear()%1e4,t,4)}function Fte(){return"+0000"}function kk(){return"%"}function Pk(e){return+e}function Rk(e){return Math.floor(+e/1e3)}var $l,qL,FL;Hte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hte(e){return $l=Hee(e),qL=$l.format,$l.parse,FL=$l.utcFormat,$l.utcParse,$l}function Vte(e){return new Date(e)}function Kte(e){return e instanceof Date?+e:+new Date(+e)}function g_(e,t,r,n,a,s,c,u,f,h){var m=r_(),g=m.invert,y=m.domain,x=h(".%L"),S=h(":%S"),w=h("%I:%M"),_=h("%I %p"),E=h("%a %d"),O=h("%b %d"),C=h("%B"),I=h("%Y");function A(M){return(f(M)<M?x:u(M)<M?S:c(M)<M?w:s(M)<M?_:n(M)<M?a(M)<M?E:O:r(M)<M?C:I)(M)}return m.invert=function(M){return new Date(g(M))},m.domain=function(M){return arguments.length?y(Array.from(M,Kte)):y().map(Vte)},m.ticks=function(M){var N=y();return e(N[0],N[N.length-1],M??10)},m.tickFormat=function(M,N){return N==null?A:h(N)},m.nice=function(M){var N=y();return(!M||typeof M.range!="function")&&(M=t(N[0],N[N.length-1],M??10)),M?y(AL(N,M)):m},m.copy=function(){return Dd(m,g_(e,t,r,n,a,s,c,u,f,h))},m}function Gte(){return aa.apply(g_(qee,Fee,Ci,m_,gg,Md,f_,u_,yo,qL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wte(){return aa.apply(g_(Uee,Bee,Oi,p_,vg,pg,h_,d_,yo,FL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yg(){var e=0,t=1,r,n,a,s,c=Qr,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(y){var x,S;return arguments.length?([x,S]=y,c=g(x,S),h):[c(0),c(1)]}}return h.range=m(Oc),h.rangeRound=m(t_),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Is(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HL(){var e=Ms(yg()(Qr));return e.copy=function(){return Is(e,HL())},Di.apply(e,arguments)}function VL(){var e=i_(yg()).domain([1,10]);return e.copy=function(){return Is(e,VL()).base(e.base())},Di.apply(e,arguments)}function KL(){var e=s_(yg());return e.copy=function(){return Is(e,KL()).constant(e.constant())},Di.apply(e,arguments)}function v_(){var e=o_(yg());return e.copy=function(){return Is(e,v_()).exponent(e.exponent())},Di.apply(e,arguments)}function Yte(){return v_.apply(null,arguments).exponent(.5)}function GL(){var e=[],t=Qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Pd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ss),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>DJ(e,s/n))},r.copy=function(){return GL(t).domain(e)},Di.apply(r,arguments)}function xg(){var e=0,t=.5,r=1,n=1,a,s,c,u,f,h=Qr,m,g=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+m(w))-s)*(n*w<n*s?u:f),h(g?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([e,t,r]=w,a=m(e=+e),s=m(t=+t),c=m(r=+r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,x):[e,t,r]},x.clamp=function(w){return arguments.length?(g=!!w,x):g},x.interpolator=function(w){return arguments.length?(h=w,x):h};function S(w){return function(_){var E,O,C;return arguments.length?([E,O,C]=_,h=oee(w,[E,O,C]),x):[h(0),h(.5),h(1)]}}return x.range=S(Oc),x.rangeRound=S(t_),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return m=w,a=w(e),s=w(t),c=w(r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,x}}function WL(){var e=Ms(xg()(Qr));return e.copy=function(){return Is(e,WL())},Di.apply(e,arguments)}function YL(){var e=i_(xg()).domain([.1,1,10]);return e.copy=function(){return Is(e,YL()).base(e.base())},Di.apply(e,arguments)}function XL(){var e=s_(xg());return e.copy=function(){return Is(e,XL()).constant(e.constant())},Di.apply(e,arguments)}function y_(){var e=o_(xg());return e.copy=function(){return Is(e,y_()).exponent(e.exponent())},Di.apply(e,arguments)}function Xte(){return y_.apply(null,arguments).exponent(.5)}const Hu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qj,scaleDiverging:WL,scaleDivergingLog:YL,scaleDivergingPow:y_,scaleDivergingSqrt:Xte,scaleDivergingSymlog:XL,scaleIdentity:OL,scaleImplicit:fw,scaleLinear:CL,scaleLog:TL,scaleOrdinal:Zj,scalePoint:LJ,scalePow:l_,scaleQuantile:RL,scaleQuantize:DL,scaleRadial:PL,scaleSequential:HL,scaleSequentialLog:VL,scaleSequentialPow:v_,scaleSequentialQuantile:GL,scaleSequentialSqrt:Yte,scaleSequentialSymlog:KL,scaleSqrt:Tee,scaleSymlog:kL,scaleThreshold:ML,scaleTime:Gte,scaleUtc:Wte,tickFormat:NL},Symbol.toStringTag,{value:"Module"}));var Ls=e=>e.chartData,x_=de([Ls],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),b_=(e,t,r,n)=>n?x_(e):Ls(e);function As(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Qt(t)&&Qt(r))return!0}return!1}function Dk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function ZL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Qt(r))a=r;else if(typeof r=="function")return;if(Qt(n))s=n;else if(typeof n=="function")return;var c=[a,s];if(As(c))return c}}function Zte(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(As(n))return Dk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(ze(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&uT.test(a)){var f=uT.exec(a);if(f==null||t==null)c=void 0;else{var h=+f[1];c=t[0]-h}}else c=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(ze(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&dT.test(s)){var m=dT.exec(s);if(m==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var y=[c,u];if(As(y))return t==null?y:Dk(y,t,r)}}}var Ac=1e9,Qte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},j_,Lt=!0,ra="[DecimalError] ",So=ra+"Invalid argument: ",w_=ra+"Exponent out of range: ",Tc=Math.floor,co=Math.pow,Jte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,_r=1e7,Rt=7,QL=9007199254740991,tp=Tc(QL/Rt),Te={};Te.absoluteValue=Te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Te.comparedTo=Te.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(e){return xi(this,new this.constructor(e))};Te.dividedToIntegerBy=Te.idiv=function(e){var t=this,r=t.constructor;return Nt(xi(t,new r(e),0,1),r.precision)};Te.equals=Te.eq=function(e){return!this.cmp(e)};Te.exponent=function(){return sr(this)};Te.greaterThan=Te.gt=function(e){return this.cmp(e)>0};Te.greaterThanOrEqualTo=Te.gte=function(e){return this.cmp(e)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(e){return this.cmp(e)<0};Te.lessThanOrEqualTo=Te.lte=function(e){return this.cmp(e)<1};Te.logarithm=Te.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(kn))throw Error(ra+"NaN");if(r.s<1)throw Error(ra+(r.s?"NaN":"-Infinity"));return r.eq(kn)?new n(0):(Lt=!1,t=xi(gd(r,s),gd(e,s),s),Lt=!0,Nt(t,a))};Te.minus=Te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t3(t,e):JL(t,(e.s=-e.s,e))};Te.modulo=Te.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ra+"NaN");return r.s?(Lt=!1,t=xi(r,e,0,1).times(e),Lt=!0,r.minus(t)):Nt(new n(r),a)};Te.naturalExponential=Te.exp=function(){return e3(this)};Te.naturalLogarithm=Te.ln=function(){return gd(this)};Te.negated=Te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Te.plus=Te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JL(t,e):t3(t,(e.s=-e.s,e))};Te.precision=Te.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(So+e);if(t=sr(a)+1,n=a.d.length-1,r=n*Rt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Te.squareRoot=Te.sqrt=function(){var e,t,r,n,a,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ra+"NaN")}for(e=sr(u),Lt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Da(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(s=n,n=s.plus(xi(u,s,c+2)).times(.5),Da(s.d).slice(0,c)===(t=Da(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Nt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;c+=4}return Lt=!0,Nt(n,r)};Te.times=Te.mul=function(e){var t,r,n,a,s,c,u,f,h,m=this,g=m.constructor,y=m.d,x=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,f=y.length,h=x.length,f<h&&(s=y,y=x,x=s,c=f,f=h,h=c),s=[],c=f+h,n=c;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)u=s[a]+x[n]*y[a-n-1]+t,s[a--]=u%_r|0,t=u/_r|0;s[a]=(s[a]+t)%_r|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Lt?Nt(e,g.precision):e};Te.toDecimalPlaces=Te.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ba(e,0,Ac),t===void 0?t=n.rounding:Ba(t,0,8),Nt(r,e+sr(r)+1,t))};Te.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Do(n,!0):(Ba(e,0,Ac),t===void 0?t=a.rounding:Ba(t,0,8),n=Nt(new a(n),e+1,t),r=Do(n,!0,e+1)),r};Te.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Do(a):(Ba(e,0,Ac),t===void 0?t=s.rounding:Ba(t,0,8),n=Nt(new s(a),e+sr(a)+1,t),r=Do(n.abs(),!1,e+sr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var e=this,t=e.constructor;return Nt(new t(e),sr(e)+1,t.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(e){var t,r,n,a,s,c,u=this,f=u.constructor,h=12,m=+(e=new f(e));if(!e.s)return new f(kn);if(u=new f(u),!u.s){if(e.s<1)throw Error(ra+"Infinity");return u}if(u.eq(kn))return u;if(n=f.precision,e.eq(kn))return Nt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=u.s,c){if((r=m<0?-m:m)<=QL){for(a=new f(kn),t=Math.ceil(n/Rt+4),Lt=!1;r%2&&(a=a.times(u),Ik(a.d,t)),r=Tc(r/2),r!==0;)u=u.times(u),Ik(u.d,t);return Lt=!0,e.s<0?new f(kn).div(a):Nt(a,n)}}else if(s<0)throw Error(ra+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Lt=!1,a=e.times(gd(u,n+h)),Lt=!0,a=e3(a),a.s=s,a};Te.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=sr(a),n=Do(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ba(e,1,Ac),t===void 0?t=s.rounding:Ba(t,0,8),a=Nt(new s(a),e,t),r=sr(a),n=Do(a,e<=r||r<=s.toExpNeg,e)),n};Te.toSignificantDigits=Te.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ba(e,1,Ac),t===void 0?t=n.rounding:Ba(t,0,8)),Nt(new n(r),e,t)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=sr(e),r=e.constructor;return Do(e,t<=r.toExpNeg||t>=r.toExpPos)};function JL(e,t){var r,n,a,s,c,u,f,h,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Lt?Nt(t,g):t;if(f=e.d,h=t.d,c=e.e,a=t.e,f=f.slice(),s=c-a,s){for(s<0?(n=f,s=-s,u=h.length):(n=h,a=c,u=f.length),c=Math.ceil(g/Rt),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/_r|0,f[s]%=_r;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Lt?Nt(t,g):t}function Ba(e,t,r){if(e!==~~e||e<t||e>r)throw Error(So+e)}function Da(e){var t,r,n,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)n=e[t]+"",r=Rt-n.length,r&&(s+=vs(r)),s+=n;c=e[t],n=c+"",r=Rt-n.length,r&&(s+=vs(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var xi=(function(){function e(n,a){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+c,n[u]=s%_r|0,c=s/_r|0;return c&&n.unshift(c),n}function t(n,a,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*_r+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var u,f,h,m,g,y,x,S,w,_,E,O,C,I,A,M,N,T,U=n.constructor,G=n.s==a.s?1:-1,B=n.d,K=a.d;if(!n.s)return new U(n);if(!a.s)throw Error(ra+"Division by zero");for(f=n.e-a.e,N=K.length,A=B.length,x=new U(G),S=x.d=[],h=0;K[h]==(B[h]||0);)++h;if(K[h]>(B[h]||0)&&--f,s==null?O=s=U.precision:c?O=s+(sr(n)-sr(a))+1:O=s,O<0)return new U(0);if(O=O/Rt+2|0,h=0,N==1)for(m=0,K=K[0],O++;(h<A||m)&&O--;h++)C=m*_r+(B[h]||0),S[h]=C/K|0,m=C%K|0;else{for(m=_r/(K[0]+1)|0,m>1&&(K=e(K,m),B=e(B,m),N=K.length,A=B.length),I=N,w=B.slice(0,N),_=w.length;_<N;)w[_++]=0;T=K.slice(),T.unshift(0),M=K[0],K[1]>=_r/2&&++M;do m=0,u=t(K,w,N,_),u<0?(E=w[0],N!=_&&(E=E*_r+(w[1]||0)),m=E/M|0,m>1?(m>=_r&&(m=_r-1),g=e(K,m),y=g.length,_=w.length,u=t(g,w,y,_),u==1&&(m--,r(g,N<y?T:K,y))):(m==0&&(u=m=1),g=K.slice()),y=g.length,y<_&&g.unshift(0),r(w,g,_),u==-1&&(_=w.length,u=t(K,w,N,_),u<1&&(m++,r(w,N<_?T:K,_))),_=w.length):u===0&&(m++,w=[0]),S[h++]=m,u&&w[0]?w[_++]=B[I]||0:(w=[B[I]],_=1);while((I++<A||w[0]!==void 0)&&O--)}return S[0]||S.shift(),x.e=f,Nt(x,c?s+sr(x)+1:s)}})();function e3(e,t){var r,n,a,s,c,u,f=0,h=0,m=e.constructor,g=m.precision;if(sr(e)>16)throw Error(w_+sr(e));if(!e.s)return new m(kn);for(Lt=!1,u=g,c=new m(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(n=Math.log(co(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new m(kn),m.precision=u;;){if(a=Nt(a.times(e),u),r=r.times(++f),c=s.plus(xi(a,r,u)),Da(c.d).slice(0,u)===Da(s.d).slice(0,u)){for(;h--;)s=Nt(s.times(s),u);return m.precision=g,t==null?(Lt=!0,Nt(s,g)):s}s=c}}function sr(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function q0(e,t,r){if(t>e.LN10.sd())throw Lt=!0,r&&(e.precision=r),Error(ra+"LN10 precision limit exceeded");return Nt(new e(e.LN10),t)}function vs(e){for(var t="";e--;)t+="0";return t}function gd(e,t){var r,n,a,s,c,u,f,h,m,g=1,y=10,x=e,S=x.d,w=x.constructor,_=w.precision;if(x.s<1)throw Error(ra+(x.s?"NaN":"-Infinity"));if(x.eq(kn))return new w(0);if(t==null?(Lt=!1,h=_):h=t,x.eq(10))return t==null&&(Lt=!0),q0(w,h);if(h+=y,w.precision=h,r=Da(S),n=r.charAt(0),s=sr(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Da(x.d),n=r.charAt(0),g++;s=sr(x),n>1?(x=new w("0."+r),s++):x=new w(n+"."+r.slice(1))}else return f=q0(w,h+2,_).times(s+""),x=gd(new w(n+"."+r.slice(1)),h-y).plus(f),w.precision=_,t==null?(Lt=!0,Nt(x,_)):x;for(u=c=x=xi(x.minus(kn),x.plus(kn),h),m=Nt(x.times(x),h),a=3;;){if(c=Nt(c.times(m),h),f=u.plus(xi(c,new w(a),h)),Da(f.d).slice(0,h)===Da(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(q0(w,h+2,_).times(s+""))),u=xi(u,new w(g),h),w.precision=_,t==null?(Lt=!0,Nt(u,_)):u;u=f,a+=2}}function Mk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Tc(r/Rt),e.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Rt;n<a;)e.d.push(+t.slice(n,n+=Rt));t=t.slice(n),n=Rt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Lt&&(e.e>tp||e.e<-tp))throw Error(w_+r)}else e.s=0,e.e=0,e.d=[0];return e}function Nt(e,t,r){var n,a,s,c,u,f,h,m,g=e.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=Rt,a=t,h=g[m=0];else{if(m=Math.ceil((n+1)/Rt),s=g.length,m>=s)return e;for(h=s=g[m],c=1;s>=10;s/=10)c++;n%=Rt,a=n-Rt+c}if(r!==void 0&&(s=co(10,c-a-1),u=h/s%10|0,f=t<0||g[m+1]!==void 0||h%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?h/co(10,c-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=sr(e),g.length=1,t=t-s-1,g[0]=co(10,(Rt-t%Rt)%Rt),e.e=Tc(-t/Rt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,s=1,m--):(g.length=m+1,s=co(10,Rt-n),g[m]=a>0?(h/co(10,c-a)%co(10,a)|0)*s:0),f)for(;;)if(m==0){(g[0]+=s)==_r&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=_r)break;g[m--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Lt&&(e.e>tp||e.e<-tp))throw Error(w_+sr(e));return e}function t3(e,t){var r,n,a,s,c,u,f,h,m,g,y=e.constructor,x=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Lt?Nt(t,x):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),c=h-n,c){for(m=c<0,m?(r=f,c=-c,u=g.length):(r=g,n=h,u=f.length),a=Math.max(Math.ceil(x/Rt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(f[a]!=g[a]){m=f[a]<g[a];break}c=0}for(m&&(r=f,f=g,g=r,t.s=-t.s),u=f.length,a=g.length-u;a>0;--a)f[u++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=_r-1;--f[s],f[a]+=_r}f[a]-=g[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Lt?Nt(t,x):t):new y(0)}function Do(e,t,r){var n,a=sr(e),s=Da(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+vs(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+vs(-a-1)+s,r&&(n=r-c)>0&&(s+=vs(n))):a>=c?(s+=vs(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+vs(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=vs(n))),e.s<0?"-"+s:s}function Ik(e,t){if(e.length>t)return e.length=t,!0}function r3(e){var t,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(So+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return Mk(c,s.toString())}else if(typeof s!="string")throw Error(So+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,Jte.test(s))Mk(c,s);else throw Error(So+s)}if(a.prototype=Te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=r3,a.config=a.set=ere,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ere(e){if(!e||typeof e!="object")throw Error(ra+"Object expected");var t,r,n,a=["precision",1,Ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Tc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(So+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(So+r+": "+n);return this}var j_=r3(Qte);kn=new j_(1);const xt=j_;var tre=e=>e,n3={},a3=e=>e===n3,Lk=e=>function t(){return arguments.length===0||arguments.length===1&&a3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},i3=(e,t)=>e===1?t:Lk(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(c=>c!==n3).length;return s>=e?t(...n):i3(e-s,Lk(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var h=n.map(m=>a3(m)?u.shift():m);return t(...h,...u)}))}),rre=e=>i3(e.length,e),gw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},nre=rre((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),are=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return tre;var a=r.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((u,f)=>f(u),s(...arguments))}},vw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function s3(e){var t;return e===0?t=1:t=Math.floor(new xt(e).abs().log(10).toNumber())+1,t}function o3(e,t,r){for(var n=new xt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var l3=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},c3=(e,t,r)=>{if(e.lte(0))return new xt(0);var n=s3(e.toNumber()),a=new xt(10).pow(n),s=e.div(a),c=n!==1?.05:.1,u=new xt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=u.mul(a);return t?new xt(f.toNumber()):new xt(Math.ceil(f.toNumber()))},ire=(e,t,r)=>{var n=new xt(1),a=new xt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new xt(10).pow(s3(e)-1),a=new xt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new xt(Math.floor(e)))}else e===0?a=new xt(Math.floor((t-1)/2)):r||(a=new xt(Math.floor(e)));var c=Math.floor((t-1)/2),u=are(nre(f=>a.add(new xt(f-c).mul(n)).toNumber()),gw);return u(0,t)},u3=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var c=c3(new xt(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new xt(0):(u=new xt(t).add(r).div(2),u=u.sub(new xt(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),h=Math.ceil(new xt(r).sub(u).div(c).toNumber()),m=f+h+1;return m>n?u3(t,r,n,a,s+1):(m<n&&(h=r>0?h+(n-m):h,f=r>0?f:f+(n-m)),{step:c,tickMin:u.sub(new xt(f).mul(c)),tickMax:u.add(new xt(h).mul(c))})},sre=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=l3([r,n]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...gw(0,a-1).map(()=>1/0)]:[...gw(0,a-1).map(()=>-1/0),f];return r>n?vw(h):h}if(u===f)return ire(u,a,s);var{step:m,tickMin:g,tickMax:y}=u3(u,f,c,s,0),x=o3(g,y.add(new xt(.1).mul(m)),m);return r>n?vw(x):x},ore=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=l3([n,a]);if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(r,2),h=c3(new xt(u).sub(c).div(f-1),s,0),m=[...o3(new xt(c),new xt(u),h),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>a?vw(m):m},d3=e=>e.rootProps.maxBarSize,lre=e=>e.rootProps.barGap,f3=e=>e.rootProps.barCategoryGap,cre=e=>e.rootProps.barSize,Id=e=>e.rootProps.stackOffset,h3=e=>e.rootProps.reverseStackOrder,__=e=>e.options.chartName,S_=e=>e.rootProps.syncId,m3=e=>e.rootProps.syncMethod,E_=e=>e.options.eventEmitter,Dr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ure={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:mi.reversed,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:mi.type,unit:void 0},dre={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,ticks:void 0,type:Cn.type,unit:void 0},fre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},hre={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,ticks:void 0,type:"category",unit:void 0},N_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?fre:ure,C_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?hre:dre,wg=e=>e.polarOptions,O_=de([Pi,Ri,pr],fL),p3=de([wg,O_],(e,t)=>{if(e!=null)return qr(e.innerRadius,t,0)}),g3=de([wg,O_],(e,t)=>{if(e!=null)return qr(e.outerRadius,t,t*.8)}),mre=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},v3=de([wg],mre);de([N_,v3],bg);var y3=de([O_,p3,g3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});de([C_,y3],bg);var x3=de([ht,wg,p3,g3,Pi,Ri],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:h}=t;return{cx:qr(c,a,a/2),cy:qr(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Ut=(e,t)=>t,Ld=(e,t,r)=>r;function A_(e){return e?.id}function b3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,c=new Map;return e.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var m=A_(u);h.forEach((g,y)=>{var x=s==null||a?y:String(It(g,s,null)),S=It(g,u.dataKey,0),w;c.has(x)?w=c.get(x):w={},Object.assign(w,{[m]:S}),c.set(x,w)})}}),Array.from(c.values())}function jg(e){return e.stackId!=null&&e.dataKey!=null}var _g=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Sg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function pre(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var vr=e=>{var t=ht(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},kc=e=>e.tooltip.settings.axisId;function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return(t=vre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yw=[0,"auto"],wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},w3=(e,t)=>e.cartesianAxis.xAxis[t],Mi=(e,t)=>{var r=w3(e,t);return r??wr},jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ad},j3=(e,t)=>e.cartesianAxis.yAxis[t],Ii=(e,t)=>{var r=j3(e,t);return r??jr},xre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},T_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??xre},Ft=(e,t,r)=>{switch(t){case"xAxis":return Mi(e,r);case"yAxis":return Ii(e,r);case"zAxis":return T_(e,r);case"angleAxis":return N_(e,r);case"radiusAxis":return C_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bre=(e,t,r)=>{switch(t){case"xAxis":return Mi(e,r);case"yAxis":return Ii(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$d=(e,t,r)=>{switch(t){case"xAxis":return Mi(e,r);case"yAxis":return Ii(e,r);case"angleAxis":return N_(e,r);case"radiusAxis":return C_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function k_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var P_=e=>e.graphicalItems.cartesianItems,wre=de([Ut,Ld],k_),R_=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),zd=de([P_,Ft,wre],R_,{memoizeOptions:{resultEqualityCheck:Sg}}),S3=de([zd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jg)),E3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jre=de([zd],E3),D_=e=>e.map(t=>t.data).filter(Boolean).flat(1),_re=de([zd],D_,{memoizeOptions:{resultEqualityCheck:Sg}}),M_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},I_=de([_re,b_],M_),L_=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:It(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:It(a,n)}))):e.map(n=>({value:n})),Eg=de([I_,Ft,zd],L_);function N3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function im(e){if(za(e)||e instanceof Date){var t=Number(e);if(Qt(t))return t}}function zk(e){if(Array.isArray(e)){var t=[im(e[0]),im(e[1])];return As(t)?t:void 0}var r=im(e);if(r!=null)return[r,r]}function Ai(e){return e.map(im).filter(UW)}function Sre(e,t,r){return!r||typeof t!="number"||ba(t)?[]:r.length?Ai(r.flatMap(n=>{var a=It(e,n.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!Qt(s)||!Qt(c)))return[t-s,t+c]})):[]}var yr=e=>{var t=vr(e),r=kc(e);return $d(e,t,r)},Ud=de([yr],e=>e?.dataKey),Ere=de([S3,b_,yr],b3),C3=(e,t,r,n)=>{var a={},s=t.reduce((c,u)=>(u.stackId==null||(c[u.stackId]==null&&(c[u.stackId]=[]),c[u.stackId].push(u)),c),a);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,h=n?[...f].reverse():f,m=h.map(A_);return[u,{stackedData:sZ(e,m,r),graphicalItems:h}]}))},xw=de([Ere,S3,Id,h3],C3),O3=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=dZ(e,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Nre=de([Ft],e=>e.allowDataOverflow),$_=e=>{var t;if(e==null||!("domain"in e))return yw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ai(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:yw},z_=de([Ft],$_),U_=de([z_,Nre],ZL),Cre=de([xw,Ls,Ut,U_],O3,{memoizeOptions:{resultEqualityCheck:_g}}),Ng=e=>e.errorBars,Ore=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>N3(r,n)),np=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},B_=(e,t,r,n,a)=>{var s,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var h,m,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(E=>N3(a,E)),y=It(u,(m=t.dataKey)!==null&&m!==void 0?m:f.dataKey),x=Sre(u,y,g);if(x.length>=2){var S=Math.min(...x),w=Math.max(...x);(s==null||S<s)&&(s=S),(c==null||w>c)&&(c=w)}var _=zk(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),c=c==null?_[1]:Math.max(c,_[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=zk(It(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Qt(s)&&Qt(c))return[s,c]},Are=de([I_,Ft,jre,Ng,Ut],B_,{memoizeOptions:{resultEqualityCheck:_g}});function Tre(e){var{value:t}=e;if(za(t)||t instanceof Date)return t}var kre=(e,t,r)=>{var n=e.map(Tre).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&VI(n))?gL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},A3=e=>e.referenceElements.dots,Pc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Pre=de([A3,Ut,Ld],Pc),T3=e=>e.referenceElements.areas,Rre=de([T3,Ut,Ld],Pc),k3=e=>e.referenceElements.lines,Dre=de([k3,Ut,Ld],Pc),P3=(e,t)=>{var r=Ai(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Mre=de(Pre,Ut,P3),R3=(e,t)=>{var r=Ai(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ire=de([Rre,Ut],R3);function Lre(e){var t;if(e.x!=null)return Ai([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ai(r)}function $re(e){var t;if(e.y!=null)return Ai([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ai(r)}var D3=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Lre(n):$re(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zre=de([Dre,Ut],D3),Ure=de(Mre,zre,Ire,(e,t,r)=>np(e,r,t)),q_=(e,t,r,n,a,s,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=f?np(n,s,a):np(s,a);return Zte(t,h,e.allowDataOverflow)},Bre=de([Ft,z_,U_,Cre,Are,Ure,ht,Ut],q_,{memoizeOptions:{resultEqualityCheck:_g}}),qre=[0,1],F_=(e,t,r,n,a,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,h=Bo(t,s);if(h&&u==null){var m;return gL(0,(m=r?.length)!==null&&m!==void 0?m:0)}return f==="category"?kre(n,e,h):a==="expand"?qre:c}},H_=de([Ft,ht,I_,Eg,Id,Ut,Bre],F_),M3=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Sd(s));return u in Hu?u:"point"}}},Rc=de([Ft,ht,_3,__,Ut],M3);function Fre(e){if(e!=null){if(e in Hu)return Hu[e]();var t="scale".concat(Sd(e));if(t in Hu)return Hu[t]()}}function V_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Fre(t);if(a!=null){var s=a.domain(r).range(n);return tZ(s),s}}}var K_=(e,t,r)=>{var n=$_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&As(e))return sre(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&As(e))return ore(e,t.tickCount,t.allowDecimals)}},G_=de([H_,$d,Rc],K_),W_=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&As(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],c=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(c,u)]}return t},Hre=de([Ft,H_,G_,Ut],W_),Vre=de(Eg,Ft,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ai(e.map(u=>u.value))).sort((u,f)=>u-f);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s+1]-n[s];r=Math.min(r,c)}return r/a}}),I3=de(Vre,ht,f3,pr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Qt(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var c=qr(r,e*s),u=e*s/2;return u-c-(u-c)/s*c}return 0}),Kre=(e,t)=>{var r=Mi(e,t);return r==null||typeof r.padding!="string"?0:I3(e,"xAxis",t,r.padding)},Gre=(e,t)=>{var r=Ii(e,t);return r==null||typeof r.padding!="string"?0:I3(e,"yAxis",t,r.padding)},Wre=de(Mi,Kre,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Yre=de(Ii,Gre,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Xre=de([pr,Wre,ig,ag,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Zre=de([pr,ht,Yre,ig,ag,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:c}=a;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Bd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Xre(e,r,n);case"yAxis":return Zre(e,r,n);case"zAxis":return(a=T_(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return v3(e);case"radiusAxis":return y3(e,r);default:return}},L3=de([Ft,Bd],bg),Dc=de([Ft,Rc,Hre,L3],V_);de([zd,Ng,Ut],Ore);function $3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cg=(e,t)=>t,Og=(e,t,r)=>r,Qre=de(rg,Cg,Og,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($3)),Jre=de(ng,Cg,Og,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($3)),z3=(e,t)=>({width:e.width,height:t.height}),ene=(e,t)=>{var r=typeof t.width=="number"?t.width:Ad;return{width:r,height:e.height}},U3=de(pr,Mi,z3),tne=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},rne=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},nne=de(Ri,pr,Qre,Cg,Og,(e,t,r,n,a)=>{var s={},c;return r.forEach(u=>{var f=z3(t,u);c==null&&(c=tne(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[u.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),ane=de(Pi,pr,Jre,Cg,Og,(e,t,r,n,a)=>{var s={},c;return r.forEach(u=>{var f=ene(t,u);c==null&&(c=rne(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[u.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),ine=(e,t)=>{var r=Mi(e,t);if(r!=null)return nne(e,r.orientation,r.mirror)},sne=de([pr,Mi,ine,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),one=(e,t)=>{var r=Ii(e,t);if(r!=null)return ane(e,r.orientation,r.mirror)},lne=de([pr,Ii,one,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),B3=de(pr,Ii,(e,t)=>{var r=typeof t.width=="number"?t.width:Ad;return{width:r,height:e.height}}),Uk=(e,t,r)=>{switch(t){case"xAxis":return U3(e,r).width;case"yAxis":return B3(e,r).height;default:return}},q3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=r,u=Bo(e,n),f=t.map(h=>h.value);if(c&&u&&s==="category"&&a&&VI(f))return f}},Y_=de([ht,Eg,Ft,Ut],q3),F3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,c=Bo(e,n);if(c&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},X_=de([ht,Eg,$d,Ut],F3),Bk=de([ht,bre,Rc,Dc,Y_,X_,Bd,G_,Ut],(e,t,r,n,a,s,c,u,f)=>{if(t!=null){var h=Bo(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:u,range:c,realScaleType:r,scale:n}}}),cne=(e,t,r,n,a,s,c,u,f)=>{if(!(t==null||n==null)){var h=Bo(e,f),{type:m,ticks:g,tickCount:y}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=m==="category"&&n.bandwidth?n.bandwidth()/x:0;S=f==="angleAxis"&&s!=null&&s.length>=2?Sr(s[0]-s[1])*2*S:S;var w=g||a;if(w){var _=w.map((E,O)=>{var C=c?c.indexOf(E):E;return{index:O,coordinate:n(C)+S,value:E,offset:S}});return _.filter(E=>Qt(E.coordinate))}return h&&u?u.map((E,O)=>({coordinate:n(E)+S,value:E,index:O,offset:S})).filter(E=>Qt(E.coordinate)):n.ticks?n.ticks(y).map(E=>({coordinate:n(E)+S,value:E,offset:S})):n.domain().map((E,O)=>({coordinate:n(E)+S,value:c?c[E]:E,index:O,offset:S}))}},H3=de([ht,$d,Rc,Dc,G_,Bd,Y_,X_,Ut],cne),une=(e,t,r,n,a,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Bo(e,c),{tickCount:f}=t,h=0;return h=c==="angleAxis"&&n?.length>=2?Sr(n[0]-n[1])*2*h:h,u&&s?s.map((m,g)=>({coordinate:r(m)+h,value:m,index:g,offset:h})):r.ticks?r.ticks(f).map(m=>({coordinate:r(m)+h,value:m,offset:h})):r.domain().map((m,g)=>({coordinate:r(m)+h,value:a?a[m]:m,index:g,offset:h}))}},gc=de([ht,$d,Dc,Bd,Y_,X_,Ut],une),vc=de(Ft,Dc,(e,t)=>{if(!(e==null||t==null))return rp(rp({},e),{},{scale:t})}),dne=de([Ft,Rc,H_,L3],V_);de((e,t,r)=>T_(e,r),dne,(e,t)=>{if(!(e==null||t==null))return rp(rp({},e),{},{scale:t})});var fne=de([ht,rg,ng],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),V3=e=>e.options.defaultTooltipEventType,K3=e=>e.options.validateTooltipEventTypes;function G3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Z_(e,t){var r=V3(e),n=K3(e);return G3(t,r,n)}function hne(e){return $e(t=>Z_(t,e))}var W3=(e,t)=>{var r,n=Number(t);if(!(ba(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},mne=e=>e.tooltip.settings,ws={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},pne={itemInteraction:{click:ws,hover:ws},axisInteraction:{click:ws,hover:ws},keyboardInteraction:ws,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Y3=gn({name:"tooltip",initialState:pne,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Mt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ga(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Mt()},removeTooltipEntrySettings:{reducer(e,t){var r=ga(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Mt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:gne,replaceTooltipEntrySettings:vne,removeTooltipEntrySettings:yne,setTooltipSettingsState:xne,setActiveMouseOverItemIndex:X3,mouseLeaveItem:bne,mouseLeaveChart:Z3,setActiveClickItemIndex:wne,setMouseOverAxisIndex:Q3,setMouseClickAxisIndex:jne,setSyncInteraction:bw,setKeyboardInteraction:ww}=Y3.actions,_ne=Y3.reducer;function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){Sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sne(e,t,r){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cne(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function One(e){return e.index!=null}var J3=(e,t,r,n)=>{if(t==null)return ws;var a=Cne(e,t,r);if(a==null)return ws;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(One(a)){if(s)return qh(qh({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return qh(qh({},ws),{},{coordinate:a.coordinate})};function Ane(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Tne(e,t){var r=Ane(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),c=Math.max(n,a);return r>=s&&r<=c}function kne(e,t,r){if(r==null||t==null)return!0;var n=It(e,t);return n==null||!As(r)?!0:Tne(n,r)}var Q_=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!Qt(s))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(s,u)),h=t[f];return h==null||kne(h,r,n)?String(f):null},e$=(e,t,r,n,a,s,c,u)=>{if(!(s==null||u==null)){var f=c[0],h=f==null?void 0:u(f.positions,s);if(h!=null)return h;var m=a?.[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},t$=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},qd=e=>e.options.tooltipPayloadSearcher,Mc=e=>e.tooltip;function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){Pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pne(e,t,r){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mne(e,t){return e??t}var r$=(e,t,r,n,a,s,c)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:m}=r,g=[];return e.reduce((y,x)=>{var S,{dataDefinedOnItem:w,settings:_}=x,E=Mne(w,u),O=Array.isArray(E)?L4(E,h,m):E,C=(S=_?.dataKey)!==null&&S!==void 0?S:n,I=_?.nameKey,A;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&c==="axis"?A=zW(O,n,a):A=s(O,t,f,I),Array.isArray(A))A.forEach(N=>{var T=Hk(Hk({},_),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});y.push(fT({tooltipEntrySettings:T,dataKey:N.dataKey,payload:N.payload,value:It(N.payload,N.dataKey),name:N.name}))});else{var M;y.push(fT({tooltipEntrySettings:_,dataKey:C,payload:A,value:It(A,C),name:(M=It(A,I))!==null&&M!==void 0?M:_?.name}))}return y},g)}},J_=de([yr,ht,_3,__,vr],M3),Ine=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Lne=de([vr,kc],k_),Fd=de([Ine,yr,Lne],R_,{memoizeOptions:{resultEqualityCheck:Sg}}),$ne=de([Fd],e=>e.filter(jg)),zne=de([Fd],D_,{memoizeOptions:{resultEqualityCheck:Sg}}),Ic=de([zne,Ls],M_),Une=de([$ne,Ls,yr],b3),e1=de([Ic,yr,Fd],L_),n$=de([yr],$_),Bne=de([yr],e=>e.allowDataOverflow),a$=de([n$,Bne],ZL),qne=de([Fd],e=>e.filter(jg)),Fne=de([Une,qne,Id,h3],C3),Hne=de([Fne,Ls,vr,a$],O3),Vne=de([Fd],E3),Kne=de([Ic,yr,Vne,Ng,vr],B_,{memoizeOptions:{resultEqualityCheck:_g}}),Gne=de([A3,vr,kc],Pc),Wne=de([Gne,vr],P3),Yne=de([T3,vr,kc],Pc),Xne=de([Yne,vr],R3),Zne=de([k3,vr,kc],Pc),Qne=de([Zne,vr],D3),Jne=de([Wne,Qne,Xne],np),eae=de([yr,n$,a$,Hne,Kne,Jne,ht,vr],q_),Hd=de([yr,ht,Ic,e1,Id,vr,eae],F_),tae=de([Hd,yr,J_],K_),rae=de([yr,Hd,tae,vr],W_),i$=e=>{var t=vr(e),r=kc(e),n=!1;return Bd(e,t,r,n)},s$=de([yr,i$],bg),o$=de([yr,J_,rae,s$],V_),nae=de([ht,e1,yr,vr],q3),aae=de([ht,e1,yr,vr],F3),iae=(e,t,r,n,a,s,c,u)=>{if(t){var{type:f}=t,h=Bo(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Sr(a[0]-a[1])*2*g:g,h&&c?c.map((y,x)=>({coordinate:n(y)+g,value:y,index:x,offset:g})):n.domain().map((y,x)=>({coordinate:n(y)+g,value:s?s[y]:y,index:x,offset:g}))}}},Li=de([ht,yr,J_,o$,i$,nae,aae,vr],iae),t1=de([V3,K3,mne],(e,t,r)=>G3(r.shared,e,t)),l$=e=>e.tooltip.settings.trigger,r1=e=>e.tooltip.settings.defaultIndex,Vd=de([Mc,t1,l$,r1],J3),Mo=de([Vd,Ic,Ud,Hd],Q_),c$=de([Li,Mo],W3),n1=de([Vd],e=>{if(e)return e.dataKey}),sae=de([Vd],e=>{if(e)return e.graphicalItemId}),u$=de([Mc,t1,l$,r1],t$),oae=de([Pi,Ri,ht,pr,Li,r1,u$,qd],e$),lae=de([Vd,oae],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cae=de([Vd],e=>e.active),uae=de([u$,Mo,Ls,Ud,c$,qd,t1],r$);de([uae],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){dae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dae(e,t,r){return(t=fae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fae(e){var t=hae(e,"string");return typeof t=="symbol"?t:t+""}function hae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mae=()=>$e(yr),pae=()=>{var e=mae(),t=$e(Li),r=$e(o$);return Im(!e||!r?void 0:Kk(Kk({},e),{},{scale:r}),t)};function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gae(e,t,r){return(t=vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xae=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},bae=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:c}=n;return zl(zl(zl({},n),ir(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var u=a.coordinate,{angle:f}=n;return zl(zl(zl({},n),ir(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wae(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var d$=(e,t,r,n,a)=>{var s,c=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?r[f-1].coordinate:r[u-1].coordinate,m=r[f].coordinate,g=f>=u-1?r[0].coordinate:r[f+1].coordinate,y=void 0;if(Sr(m-h)!==Sr(g-m)){var x=[];if(Sr(g-m)===Sr(a[1]-a[0])){y=g;var S=m+a[1]-a[0];x[0]=Math.min(S,(S+h)/2),x[1]=Math.max(S,(S+h)/2)}else{y=h;var w=g+a[1]-a[0];x[0]=Math.min(m,(w+m)/2),x[1]=Math.max(m,(w+m)/2)}var _=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){({index:c}=r[f]);break}}else{var E=Math.min(h,g),O=Math.max(h,g);if(e>(E+m)/2&&e<=(O+m)/2){({index:c}=r[f]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},jae=()=>$e(__),a1=(e,t)=>t,f$=(e,t,r)=>r,i1=(e,t,r,n)=>n,_ae=de(Li,e=>Kp(e,t=>t.coordinate)),s1=de([Mc,a1,f$,i1],J3),o1=de([s1,Ic,Ud,Hd],Q_),Sae=(e,t,r)=>{if(t!=null){var n=Mc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},h$=de([Mc,a1,f$,i1],t$),ap=de([Pi,Ri,ht,pr,Li,i1,h$,qd],e$),Eae=de([s1,ap],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),m$=de([Li,o1],W3),Nae=de([h$,o1,Ls,Ud,m$,qd,a1],r$),Cae=de([s1,o1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Oae=(e,t,r,n,a,s,c)=>{if(!(!e||!r||!n||!a)&&wae(e,c)){var u=fZ(e,t),f=d$(u,s,a,r,n),h=xae(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},Aae=(e,t,r,n,a,s,c)=>{if(!(!e||!n||!a||!s||!r)){var u=hJ(e,r);if(u){var f=hZ(u,t),h=d$(f,c,s,n,a),m=bae(t,s,h,u);return{activeIndex:String(h),activeCoordinate:m}}}},Tae=(e,t,r,n,a,s,c,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Oae(e,t,n,a,s,c,u):Aae(e,t,r,n,a,s,c)},kae=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Pae=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Dr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:pre}});function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){Rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rae(e,t,r){return(t=Dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iae={},Lae={zIndexMap:Object.values(Dr).reduce((e,t)=>Yk(Yk({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Iae)},$ae=new Set(Object.values(Dr));function zae(e){return $ae.has(e)}var p$=gn({name:"zIndex",initialState:Lae,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Mt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!zae(r)&&delete e.zIndexMap[r])},prepare:Mt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Mt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Mt()}}}),{registerZIndexPortal:Uae,unregisterZIndexPortal:Bae,registerZIndexPortalId:qae,unregisterZIndexPortalId:Fae}=p$.actions,Hae=p$.reducer;function Ca(e){var{zIndex:t,children:r}=e,n=FZ(),a=n&&t!==void 0&&t!==0,s=vn(),c=zt();v.useLayoutEffect(()=>a?(c(Uae({zIndex:t})),()=>{c(Bae({zIndex:t}))}):Ed,[c,t,a]);var u=$e(h=>kae(h,t,s));if(!a)return r;if(!u)return null;var f=document.getElementById(u);return f?Uo.createPortal(r,f):null}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(null,arguments)}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){Vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vae(e,t,r){return(t=Kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kae(e){var t=Gae(e,"string");return typeof t=="symbol"?t:t+""}function Gae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wae(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return v.isValidElement(t)?v.cloneElement(t,n):v.createElement(r,n)}function Yae(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:h,chartName:m}=e,g=r,y=n,x=a;if(!f||!g||m!=="ScatterChart"&&h!=="axis")return null;var S,w,_;if(m==="ScatterChart")S=g,w=OQ,_=Dr.cursorLine;else if(m==="BarChart")S=AQ(u,g,s,c),w=dL,_=Dr.cursorRectangle;else if(u==="radial"&&WI(g)){var{cx:E,cy:O,radius:C,startAngle:I,endAngle:A}=hL(g);S={cx:E,cy:O,startAngle:I,endAngle:A,innerRadius:C,outerRadius:C},w=pL,_=Dr.cursorLine}else S={points:vJ(u,g,s)},w=Yj,_=Dr.cursorLine;var M=typeof f=="object"&&"className"in f?f.className:void 0,N=Fh(Fh(Fh(Fh({stroke:"#ccc",pointerEvents:"none"},s),S),nd(f)),{},{payload:y,payloadIndex:x,className:pt("recharts-tooltip-cursor",M)});return v.createElement(Ca,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},v.createElement(Wae,{cursor:f,cursorComp:w,cursorProps:N}))}function Xae(e){var t=pae(),r=G4(),n=og(),a=jae();return t==null||r==null||n==null||a==null?null:v.createElement(Yae,jw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var g$=v.createContext(null),Zae=()=>v.useContext(g$),F0={exports:{}},Zk;function Qae(){return Zk||(Zk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function s(f,h,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new a(m,g||f,y),S=r?r+h:h;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],x]:f._events[S].push(x):(f._events[S]=x,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)t.call(m,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,S=new Array(x);y<x;y++)S[y]=g[y].fn;return S},u.prototype.listenerCount=function(h){var m=r?r+h:h,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,m,g,y,x,S){var w=r?r+h:h;if(!this._events[w])return!1;var _=this._events[w],E=arguments.length,O,C;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,g),!0;case 4:return _.fn.call(_.context,m,g,y),!0;case 5:return _.fn.call(_.context,m,g,y,x),!0;case 6:return _.fn.call(_.context,m,g,y,x,S),!0}for(C=1,O=new Array(E-1);C<E;C++)O[C-1]=arguments[C];_.fn.apply(_.context,O)}else{var I=_.length,A;for(C=0;C<I;C++)switch(_[C].once&&this.removeListener(h,_[C].fn,void 0,!0),E){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,m);break;case 3:_[C].fn.call(_[C].context,m,g);break;case 4:_[C].fn.call(_[C].context,m,g,y);break;default:if(!O)for(A=1,O=new Array(E-1);A<E;A++)O[A-1]=arguments[A];_[C].fn.apply(_[C].context,O)}}return!0},u.prototype.on=function(h,m,g){return s(this,h,m,g,!1)},u.prototype.once=function(h,m,g){return s(this,h,m,g,!0)},u.prototype.removeListener=function(h,m,g,y){var x=r?r+h:h;if(!this._events[x])return this;if(!m)return c(this,x),this;var S=this._events[x];if(S.fn)S.fn===m&&(!y||S.once)&&(!g||S.context===g)&&c(this,x);else{for(var w=0,_=[],E=S.length;w<E;w++)(S[w].fn!==m||y&&!S[w].once||g&&S[w].context!==g)&&_.push(S[w]);_.length?this._events[x]=_.length===1?_[0]:_:c(this,x)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(F0)),F0.exports}var Jae=Qae();const eie=ja(Jae);var vd=new eie,_w="recharts.syncEvent.tooltip",Qk="recharts.syncEvent.brush";function v$(e,t){if(t){var r=Number.parseInt(t,10);if(!ba(r))return e?.[r]}}var tie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},y$=gn({name:"options",initialState:tie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rie=y$.reducer,{createEventEmitter:nie}=y$.actions;function aie(e){return e.tooltip.syncInteraction}var iie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x$=gn({name:"chartData",initialState:iie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Jk,setDataStartEndIndexes:sie,setComputedData:bfe}=x$.actions,oie=x$.reducer,lie=["x","y"];function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cie(e,t,r){return(t=uie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fie(e,t){if(e==null)return{};var r,n,a=hie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mie(){var e=$e(S_),t=$e(E_),r=zt(),n=$e(m3),a=$e(Li),s=og(),c=sg(),u=$e(f=>f.rootProps.className);v.useEffect(()=>{if(e==null)return Ed;var f=(h,m,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(c&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:S,y:w}=x,_=fie(x,lie),{x:E,y:O,width:C,height:I}=m.payload.sourceViewBox,A=Ul(Ul({},_),{},{x:c.x+(C?(S-E)/C:0)*c.width,y:c.y+(I?(w-O)/I:0)*c.height});r(Ul(Ul({},m),{},{payload:Ul(Ul({},m.payload),{},{coordinate:A})}))}else r(m);return}if(a!=null){var M;if(typeof n=="function"){var N={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},T=n(a,N);M=a[T]}else n==="value"&&(M=a.find(L=>String(L.value)===m.payload.label));var{coordinate:U}=m.payload;if(M==null||m.payload.active===!1||U==null||c==null){r(bw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:B}=U,K=Math.min(G,c.x+c.width),F=Math.min(B,c.y+c.height),se={x:s==="horizontal"?M.coordinate:K,y:s==="horizontal"?F:M.coordinate},J=bw({active:m.payload.active,coordinate:se,dataKey:m.payload.dataKey,index:String(M.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(J)}}};return vd.on(_w,f),()=>{vd.off(_w,f)}},[u,r,t,e,n,a,s,c])}function pie(){var e=$e(S_),t=$e(E_),r=zt();v.useEffect(()=>{if(e==null)return Ed;var n=(a,s,c)=>{t!==c&&e===a&&r(sie(s))};return vd.on(Qk,n),()=>{vd.off(Qk,n)}},[r,t,e])}function gie(){var e=zt();v.useEffect(()=>{e(nie())},[e]),mie(),pie()}function vie(e,t,r,n,a,s){var c=$e(x=>Sae(x,e,t)),u=$e(E_),f=$e(S_),h=$e(m3),m=$e(aie),g=m?.active,y=sg();v.useEffect(()=>{if(!g&&f!=null&&u!=null){var x=bw({active:s,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});vd.emit(_w,f,x,u)}},[g,r,c,a,n,u,f,h,s,y])}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yie(e,t,r){return(t=xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xie(e){var t=bie(e,"string");return typeof t=="symbol"?t:t+""}function bie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wie(e){return e.dataKey}function jie(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(oQ,t)}var n2=[],_ie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ac(e){var t,r,n=Vr(e,_ie),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:h,isAnimationActive:m,offset:g,payloadUniqBy:y,position:x,reverseDirection:S,useTranslate3d:w,wrapperStyle:_,cursor:E,shared:O,trigger:C,defaultIndex:I,portal:A,axisId:M}=n,N=zt(),T=typeof I=="number"?String(I):I;v.useEffect(()=>{N(xne({shared:O,trigger:C,axisId:M,active:a,defaultIndex:T}))},[N,O,C,M,a,T]);var U=sg(),G=sL(),B=hne(O),{activeIndex:K,isActive:F}=(t=$e(W=>Cae(W,B,C,T)))!==null&&t!==void 0?t:{},se=$e(W=>Nae(W,B,C,T)),J=$e(W=>m$(W,B,C,T)),L=$e(W=>Eae(W,B,C,T)),R=se,q=Zae(),re=(r=a??F)!==null&&r!==void 0?r:!1,[X,D]=XY([R,re]),H=B==="axis"?J:void 0;vie(B,C,L,H,K,re);var Q=A??q;if(Q==null||U==null||B==null)return null;var P=R??n2;re||(P=n2),h&&P.length&&(P=jY(P.filter(W=>W.value!=null&&(W.hide!==!0||n.includeHidden)),y,wie));var V=P.length>0,ie=v.createElement(mQ,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:m,active:re,coordinate:L,hasPayload:V,offset:g,position:x,reverseDirection:S,useTranslate3d:w,viewBox:U,wrapperStyle:_,lastBoundingBox:X,innerRef:D,hasPortalFromProps:!!A},jie(f,r2(r2({},n),{},{payload:P,label:H,active:re,activeIndex:K,coordinate:L,accessibilityLayer:G})));return v.createElement(v.Fragment,null,Uo.createPortal(ie,Q),re&&v.createElement(Xae,{cursor:E,tooltipEventType:B,coordinate:L,payload:P,index:K}))}var Io=e=>null;Io.displayName="Cell";function Sie(e,t,r){return(t=Eie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eie(e){var t=Nie(e,"string");return typeof t=="symbol"?t:t+""}function Nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cie{constructor(t){Sie(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pie={cacheSize:2e3,enableCache:!0},b$=Oie({},Pie),i2=new Cie(b$.cacheSize),Rie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s2="recharts_measurement_span";function Die(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(u)}var o2=(e,t)=>{try{var r=document.getElementById(s2);r||(r=document.createElement("span"),r.setAttribute("id",s2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Rie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||kd.isSsr)return{width:0,height:0};if(!b$.enableCache)return o2(t,r);var n=Die(t,r),a=i2.get(n);if(a)return a;var s=o2(t,r);return i2.set(n,s),s},l2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Iie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,w$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lie=Object.keys(w$),Kl="NaN";function $ie(e,t){return e*w$[t]}class un{static parse(t){var r,[,n,a]=(r=Iie.exec(t))!==null&&r!==void 0?r:[];return new un(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ba(t)&&(this.unit=""),r!==""&&!Mie.test(r)&&(this.num=NaN,this.unit=""),Lie.includes(r)&&(this.num=$ie(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new un(NaN,""):new un(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new un(NaN,""):new un(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new un(NaN,""):new un(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new un(NaN,""):new un(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ba(this.num)}}function j$(e){if(e.includes(Kl))return Kl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=l2.exec(t))!==null&&r!==void 0?r:[],c=un.parse(n??""),u=un.parse(s??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Kl;t=t.replace(l2,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,m,g,y]=(h=c2.exec(t))!==null&&h!==void 0?h:[],x=un.parse(m??""),S=un.parse(y??""),w=g==="+"?x.add(S):x.subtract(S);if(w.isNaN())return Kl;t=t.replace(c2,w.toString())}return t}var u2=/\(([^()]*)\)/;function zie(e){for(var t=e,r;(r=u2.exec(t))!=null;){var[,n]=r;t=t.replace(u2,j$(n))}return t}function Uie(e){var t=e.replace(/\s+/g,"");return t=zie(t),t=j$(t),t}function Bie(e){try{return Uie(e)}catch{return Kl}}function H0(e){var t=Bie(e.slice(5,-1));return t===Kl?"":t}var qie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Fie=["dx","dy","angle","className","breakAll"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(null,arguments)}function d2(e,t){if(e==null)return{};var r,n,a=Hie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _$=/[ \f\n\r\t\v\u2028\u2029]+/,S$=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Er(t)||(r?a=t.toString().split(""):a=t.toString().split(_$));var s=a.map(u=>({word:u,width:Wu(u,n).width})),c=r?0:Wu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function Vie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var E$=(e,t,r,n)=>e.reduce((a,s)=>{var{word:c,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var h={words:[c],width:u};a.push(h)}return a},[]),N$=e=>e.reduce((t,r)=>t.width>r.width?t:r),Kie="",f2=(e,t,r,n,a,s,c,u)=>{var f=e.slice(0,t),h=S$({breakAll:r,style:n,children:f+Kie});if(!h)return[!1,[]];var m=E$(h.wordsWithComputedWidth,s,c,u),g=m.length>a||N$(m).width>Number(s);return[g,m]},Gie=(e,t,r,n,a)=>{var{maxLines:s,children:c,style:u,breakAll:f}=e,h=ze(s),m=String(c),g=E$(t,n,r,a);if(!h||a)return g;var y=g.length>s||N$(g).width>Number(n);if(!y)return g;for(var x=0,S=m.length-1,w=0,_;x<=S&&w<=m.length-1;){var E=Math.floor((x+S)/2),O=E-1,[C,I]=f2(m,O,f,u,s,n,r,a),[A]=f2(m,E,f,u,s,n,r,a);if(!C&&!A&&(x=E+1),C&&A&&(S=E-1),!C&&A){_=I;break}w++}return _||g},h2=e=>{var t=Er(e)?[]:e.toString().split(_$);return[{words:t,width:void 0}]},Wie=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:c}=e;if((t||r)&&!kd.isSsr){var u,f,h=S$({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:g}=h;u=m,f=g}else return h2(n);return Gie({breakAll:s,children:n,maxLines:c,style:a},u,f,t,!!r)}return h2(n)},C$="#808080",Yie={angle:0,breakAll:!1,capHeight:"0.71em",fill:C$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ag=v.forwardRef((e,t)=>{var r=Vr(e,Yie),{x:n,y:a,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:m}=r,g=d2(r,qie),y=v.useMemo(()=>Wie({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:S,angle:w,className:_,breakAll:E}=g,O=d2(g,Fie);if(!za(n)||!za(a)||y.length===0)return null;var C=Number(n)+(ze(x)?x:0),I=Number(a)+(ze(S)?S:0);if(!Qt(C)||!Qt(I))return null;var A;switch(m){case"start":A=H0("calc(".concat(c,")"));break;case"middle":A=H0("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:A=H0("calc(".concat(y.length-1," * -").concat(s,")"));break}var M=[];if(f){var N=y[0].width,{width:T}=g;M.push("scale(".concat(ze(T)&&ze(N)?T/N:1,")"))}return w&&M.push("rotate(".concat(w,", ").concat(C,", ").concat(I,")")),M.length&&(O.transform=M.join(" ")),v.createElement("text",Sw({},ea(O),{ref:t,x:C,y:I,className:pt("recharts-text",_),textAnchor:h,fill:u.includes("url")?C$:u}),y.map((U,G)=>{var B=U.words.join(E?"":" ");return v.createElement("tspan",{x:C,dy:G===0?A:s,key:"".concat(B,"-").concat(G)},B)}))});Ag.displayName="Text";var Xie=["labelRef"];function Zie(e,t){if(e==null)return{};var r,n,a=Qie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){Jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t,r){return(t=ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ese(e){var t=tse(e,"string");return typeof t=="symbol"?t:t+""}function tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(null,arguments)}var O$=v.createContext(null),rse=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:c,children:u}=e,f=v.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:c}),[t,r,n,a,s,c]);return v.createElement(O$.Provider,{value:f},u)},A$=()=>{var e=v.useContext(O$),t=sg();return e||K4(t)},nse=v.createContext(null),ase=()=>{var e=v.useContext(nse),t=$e(x3);return e||t},ise=e=>{var{value:t,formatter:r}=e,n=Er(e.children)?t:e.children;return typeof r=="function"?r(n):n},l1=e=>e!=null&&typeof e=="function",sse=(e,t)=>{var r=Sr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},ose=(e,t,r,n,a)=>{var{offset:s,className:c}=e,{cx:u,cy:f,innerRadius:h,outerRadius:m,startAngle:g,endAngle:y,clockWise:x}=a,S=(h+m)/2,w=sse(g,y),_=w>=0?1:-1,E,O;switch(t){case"insideStart":E=g+_*s,O=x;break;case"insideEnd":E=y-_*s,O=!x;break;case"end":E=y+_*s,O=x;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var C=ir(u,f,S,E),I=ir(u,f,S,E+(O?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),M=Er(e.id)?ad("recharts-radial-line-"):e.id;return v.createElement("text",pi({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:M,d:A})),v.createElement("textPath",{xlinkHref:"#".concat(M)},r))},lse=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=e,h=(u+f)/2;if(r==="outside"){var{x:m,y:g}=ir(n,a,c+t,h);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x,y:S}=ir(n,a,y,h);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Ew=e=>"cx"in e&&ze(e.cx),cse=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Ew(r)&&(s=r);var{x:c,y:u,upperWidth:f,lowerWidth:h,height:m}=t,g=c,y=c+(f-h)/2,x=(g+y)/2,S=(f+h)/2,w=g+f/2,_=m>=0?1:-1,E=_*n,O=_>0?"end":"start",C=_>0?"start":"end",I=f>=0?1:-1,A=I*n,M=I>0?"end":"start",N=I>0?"start":"end";if(a==="top"){var T={x:g+f/2,y:u-E,textAnchor:"middle",verticalAnchor:O};return Xt(Xt({},T),s?{height:Math.max(u-s.y,0),width:f}:{})}if(a==="bottom"){var U={x:y+h/2,y:u+m+E,textAnchor:"middle",verticalAnchor:C};return Xt(Xt({},U),s?{height:Math.max(s.y+s.height-(u+m),0),width:h}:{})}if(a==="left"){var G={x:x-A,y:u+m/2,textAnchor:M,verticalAnchor:"middle"};return Xt(Xt({},G),s?{width:Math.max(G.x-s.x,0),height:m}:{})}if(a==="right"){var B={x:x+S+A,y:u+m/2,textAnchor:N,verticalAnchor:"middle"};return Xt(Xt({},B),s?{width:Math.max(s.x+s.width-B.x,0),height:m}:{})}var K=s?{width:S,height:m}:{};return a==="insideLeft"?Xt({x:x+A,y:u+m/2,textAnchor:N,verticalAnchor:"middle"},K):a==="insideRight"?Xt({x:x+S-A,y:u+m/2,textAnchor:M,verticalAnchor:"middle"},K):a==="insideTop"?Xt({x:g+f/2,y:u+E,textAnchor:"middle",verticalAnchor:C},K):a==="insideBottom"?Xt({x:y+h/2,y:u+m-E,textAnchor:"middle",verticalAnchor:O},K):a==="insideTopLeft"?Xt({x:g+A,y:u+E,textAnchor:N,verticalAnchor:C},K):a==="insideTopRight"?Xt({x:g+f-A,y:u+E,textAnchor:M,verticalAnchor:C},K):a==="insideBottomLeft"?Xt({x:y+A,y:u+m-E,textAnchor:N,verticalAnchor:O},K):a==="insideBottomRight"?Xt({x:y+h-A,y:u+m-E,textAnchor:M,verticalAnchor:O},K):a&&typeof a=="object"&&(ze(a.x)||Si(a.x))&&(ze(a.y)||Si(a.y))?Xt({x:c+qr(a.x,S),y:u+qr(a.y,m),textAnchor:"end",verticalAnchor:"end"},K):Xt({x:w,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},K)},use={angle:0,offset:5,zIndex:Dr.label,position:"middle",textBreakAll:!1};function ys(e){var t=Vr(e,use),{viewBox:r,position:n,value:a,children:s,content:c,className:u="",textBreakAll:f,labelRef:h}=t,m=ase(),g=A$(),y=n==="center"?g:m??g,x,S,w;if(r==null?x=y:Ew(r)?x=r:x=K4(r),!x||Er(a)&&Er(s)&&!v.isValidElement(c)&&typeof c!="function")return null;var _=Xt(Xt({},t),{},{viewBox:x});if(v.isValidElement(c)){var{labelRef:E}=_,O=Zie(_,Xie);return v.cloneElement(c,O)}if(typeof c=="function"){if(S=v.createElement(c,_),v.isValidElement(S))return S}else S=ise(t);var C=ea(t);if(Ew(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return ose(t,n,S,C,x);w=lse(x,t.offset,t.position)}else w=cse(t,x);return v.createElement(Ca,{zIndex:t.zIndex},v.createElement(Ag,pi({ref:h,className:pt("recharts-label",u)},C,w,{textAnchor:Vie(C.textAnchor)?C.textAnchor:w.textAnchor,breakAll:f}),S))}ys.displayName="Label";var dse=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(ys,pi({key:"label-implicit"},n)):za(e)?v.createElement(ys,pi({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===ys?v.cloneElement(e,Xt({key:"label-implicit"},n)):v.createElement(ys,pi({key:"label-implicit",content:e},n)):l1(e)?v.createElement(ys,pi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(ys,pi({},e,{key:"label-implicit"},n)):null};function fse(e){var{label:t,labelRef:r}=e,n=A$();return dse(t,n,r)||null}var V0={},K0={},p2;function hse(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(K0)),K0}var G0={},g2;function mse(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(G0)),G0}var v2;function pse(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hse(),r=mse(),n=Mj();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(V0)),V0}var W0,y2;function gse(){return y2||(y2=1,W0=pse().last),W0}var vse=gse();const yse=ja(vse);var xse=["valueAccessor"],bse=["dataKey","clockWise","id","textBreakAll","zIndex"];function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function x2(e,t){if(e==null)return{};var r,n,a=wse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jse=e=>Array.isArray(e.value)?yse(e.value):e.value,T$=v.createContext(void 0),_se=T$.Provider,k$=v.createContext(void 0),Sse=k$.Provider;function Ese(){return v.useContext(T$)}function Nse(){return v.useContext(k$)}function sm(e){var{valueAccessor:t=jse}=e,r=x2(e,xse),{dataKey:n,clockWise:a,id:s,textBreakAll:c,zIndex:u}=r,f=x2(r,bse),h=Ese(),m=Nse(),g=h||m;return!g||!g.length?null:v.createElement(Ca,{zIndex:u??Dr.label},v.createElement(en,{className:"recharts-label-list"},g.map((y,x)=>{var S,w=Er(n)?t(y,x):It(y&&y.payload,n),_=Er(s)?{}:{id:"".concat(s,"-").concat(x)};return v.createElement(ys,ip({key:"label-".concat(x)},ea(y),f,_,{fill:(S=r.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:c,viewBox:y.viewBox,index:x,zIndex:0}))})))}sm.displayName="LabelList";function P$(e){var{label:t}=e;return t?t===!0?v.createElement(sm,{key:"labelList-implicit"}):v.isValidElement(t)||l1(t)?v.createElement(sm,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(sm,ip({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var R$=e=>e.graphicalItems.polarItems,Cse=de([Ut,Ld],k_),Tg=de([R$,Ft,Cse],R_),Ose=de([Tg],D_),kg=de([Ose,x_],M_),Ase=de([kg,Ft,Tg],L_);de([kg,Ft,Tg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,c=It(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:It(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var b2=()=>{},Tse=de([kg,Ft,Tg,Ng,Ut],B_),kse=de([Ft,z_,U_,b2,Tse,b2,ht,Ut],q_),D$=de([Ft,ht,kg,Ase,Id,Ut,kse],F_),Pse=de([D$,Ft,Rc],K_);de([Ft,D$,Pse,Ut],W_);var Rse={radiusAxis:{},angleAxis:{}},M$=gn({name:"polarAxis",initialState:Rse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:wfe,removeRadiusAxis:jfe,addAngleAxis:_fe,removeAngleAxis:Sfe}=M$.actions,Dse=M$.reducer;function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){Mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mse(e,t,r){return(t=Ise(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ise(e){var t=Lse(e,"string");return typeof t=="symbol"?t:t+""}function Lse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $se=(e,t)=>t,c1=de([R$,$se],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),zse=[],u1=(e,t,r)=>r?.length===0?zse:r,I$=de([x_,c1,u1],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>j2(j2({},t.presentationProps),s.props))),a!=null)return a}}),Use=de([I$,c1,u1],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,c=It(n,t.nameKey,t.name),u;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:tg(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),Bse=de([I$,c1,u1,pr],(e,t,r,n)=>{if(!(t==null||e==null))return Hoe({offset:n,pieSettings:t,displayedData:e,cells:r})}),Y0={exports:{}},_t={};var _2;function qse(){if(_2)return _t;_2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var _=w.$$typeof;switch(_){case e:switch(w=w.type,w){case r:case a:case n:case f:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case g:case m:return w;case s:return w;default:return _}}case t:return _}}}return _t.ContextConsumer=s,_t.ContextProvider=c,_t.Element=e,_t.ForwardRef=u,_t.Fragment=r,_t.Lazy=g,_t.Memo=m,_t.Portal=t,_t.Profiler=a,_t.StrictMode=n,_t.Suspense=f,_t.SuspenseList=h,_t.isContextConsumer=function(w){return S(w)===s},_t.isContextProvider=function(w){return S(w)===c},_t.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},_t.isForwardRef=function(w){return S(w)===u},_t.isFragment=function(w){return S(w)===r},_t.isLazy=function(w){return S(w)===g},_t.isMemo=function(w){return S(w)===m},_t.isPortal=function(w){return S(w)===t},_t.isProfiler=function(w){return S(w)===a},_t.isStrictMode=function(w){return S(w)===n},_t.isSuspense=function(w){return S(w)===f},_t.isSuspenseList=function(w){return S(w)===h},_t.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===f||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===m||w.$$typeof===c||w.$$typeof===s||w.$$typeof===u||w.$$typeof===x||w.getModuleId!==void 0)},_t.typeOf=S,_t}var S2;function Fse(){return S2||(S2=1,Y0.exports=qse()),Y0.exports}var Hse=Fse(),E2=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",N2=null,X0=null,L$=e=>{if(e===N2&&Array.isArray(X0))return X0;var t=[];return v.Children.forEach(e,r=>{Er(r)||(Hse.isFragment(r)?t=t.concat(L$(r.props.children)):t.push(r))}),X0=t,N2=e,t};function d1(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>E2(a)):n=[E2(t)],L$(e).forEach(a=>{var s=ko(a,"type.displayName")||ko(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var Z0={},C2;function Vse(){return C2||(C2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Z0)),Z0}var Q0,O2;function Kse(){return O2||(O2=1,Q0=Vse().isPlainObject),Q0}var Gse=Kse();const Wse=ja(Gse);function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Yse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yse(e,t,r){return(t=Xse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xse(e){var t=Zse(e,"string");return typeof t=="symbol"?t:t+""}function Zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}var k2=(e,t,r,n,a)=>{var s=r-n,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-s/2,",").concat(t+a),c+="L ".concat(e+r-s/2-n,",").concat(t+a),c+="L ".concat(e,",").concat(t," Z"),c},Qse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jse=e=>{var t=Vr(e,Qse),{x:r,y:n,upperWidth:a,lowerWidth:s,height:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=t,y=v.useRef(null),[x,S]=v.useState(-1),w=v.useRef(a),_=v.useRef(s),E=v.useRef(c),O=v.useRef(r),C=v.useRef(n),I=hg(e,"trapezoid-");if(v.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var se=y.current.getTotalLength();se&&S(se)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var A=pt("recharts-trapezoid",u);if(!g)return v.createElement("g",null,v.createElement("path",sp({},ea(t),{className:A,d:k2(r,n,a,s,c)})));var M=w.current,N=_.current,T=E.current,U=O.current,G=C.current,B="0px ".concat(x===-1?1:x,"px"),K="".concat(x,"px 0px"),F=oL(["strokeDasharray"],h,f);return v.createElement(fg,{animationId:I,key:I,canBegin:x>0,duration:h,easing:f,isActive:g,begin:m},se=>{var J=fr(M,a,se),L=fr(N,s,se),R=fr(T,c,se),q=fr(U,r,se),re=fr(G,n,se);y.current&&(w.current=J,_.current=L,E.current=R,O.current=q,C.current=re);var X=se>0?{transition:F,strokeDasharray:K}:{strokeDasharray:B};return v.createElement("path",sp({},ea(t),{className:A,d:k2(q,re,J,L,R),ref:y,style:T2(T2({},X),t.style)}))})},eoe=["option","shapeType","propTransformer","activeClassName"];function toe(e,t){if(e==null)return{};var r,n,a=roe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function roe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){noe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function noe(e,t,r){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aoe(e){var t=ioe(e,"string");return typeof t=="symbol"?t:t+""}function ioe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function soe(e,t){return op(op({},t),e)}function ooe(e,t){return e==="symbols"}function R2(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(dL,r);case"trapezoid":return v.createElement(Jse,r);case"sector":return v.createElement(pL,r);case"symbols":if(ooe(t))return v.createElement(GI,r);break;case"curve":return v.createElement(Yj,r);default:return null}}function loe(e){return v.isValidElement(e)?e.props:e}function $$(e){var{option:t,shapeType:r,propTransformer:n=soe,activeClassName:a="recharts-active-shape"}=e,s=toe(e,eoe),c;if(v.isValidElement(t))c=v.cloneElement(t,op(op({},s),loe(t)));else if(typeof t=="function")c=t(s,s.index);else if(Wse(t)&&typeof t!="boolean"){var u=n(t,s);c=v.createElement(R2,{shapeType:r,elementProps:u})}else{var f=s;c=v.createElement(R2,{shapeType:r,elementProps:f})}return s.isActive?v.createElement(en,{className:a},c):c}var f1=(e,t,r)=>{var n=zt();return(a,s)=>c=>{e?.(a,s,c),n(X3({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},h1=e=>{var t=zt();return(r,n)=>a=>{e?.(r,n,a),t(bne())}},m1=(e,t,r)=>{var n=zt();return(a,s)=>c=>{e?.(a,s,c),n(wne({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function z$(e){var{tooltipEntrySettings:t}=e,r=zt(),n=vn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(gne(t)):a.current!==t&&r(vne({prev:a.current,next:t})),a.current=t)},[t,r,n]),v.useLayoutEffect(()=>()=>{a.current&&(r(yne(a.current)),a.current=null)},[r]),null}function coe(e){var{legendPayload:t}=e,r=zt(),n=vn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(nL(t)):a.current!==t&&r(aL({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(iL(a.current)),a.current=null)},[r]),null}function uoe(e){var{legendPayload:t}=e,r=zt(),n=$e(ht),a=v.useRef(null);return v.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(nL(t)):a.current!==t&&r(aL({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(iL(a.current)),a.current=null)},[r]),null}var J0,doe=()=>{var[e]=v.useState(()=>ad("uid-"));return e},foe=(J0=xp.useId)!==null&&J0!==void 0?J0:doe;function U$(e,t){var r=foe();return t||(e?"".concat(e,"-").concat(r):r)}var hoe=v.createContext(void 0),B$=e=>{var{id:t,type:r,children:n}=e,a=U$("recharts-".concat(r),t);return v.createElement(hoe.Provider,{value:a},n(a))},moe={cartesianItems:[],polarItems:[]},q$=gn({name:"graphicalItems",initialState:moe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Mt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ga(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Mt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ga(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Mt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Mt()},removePolarGraphicalItem:{reducer(e,t){var r=ga(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Mt()}}}),{addCartesianGraphicalItem:poe,replaceCartesianGraphicalItem:goe,removeCartesianGraphicalItem:voe,addPolarGraphicalItem:yoe,removePolarGraphicalItem:xoe}=q$.actions,boe=q$.reducer,woe=e=>{var t=zt(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(poe(e)):r.current!==e&&t(goe({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(voe(r.current)),r.current=null)},[t]),null},joe=v.memo(woe);function _oe(e){var t=zt();return v.useLayoutEffect(()=>(t(yoe(e)),()=>{t(xoe(e))}),[t,e]),null}var Soe=["key"],Eoe=["onMouseEnter","onClick","onMouseLeave"],Noe=["id"],Coe=["id"];function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){Ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ooe(e,t,r){return(t=Aoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aoe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}function Pg(e,t){if(e==null)return{};var r,n,a=koe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Poe(e){var t=v.useMemo(()=>d1(e.children,Io),[e.children]),r=$e(n=>Use(n,e.id,t));return r==null?null:v.createElement(uoe,{legendPayload:r})}var Roe=v.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:c,name:u,hide:f,tooltipType:h}=e,m={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:tg(u,t),hide:f,type:h,color:c,unit:""}};return v.createElement(z$,{tooltipEntrySettings:m})}),Doe=(e,t)=>e>t?"start":e<t?"end":"middle",Moe=(e,t,r)=>qr(typeof t=="function"?t(e):t,r,r*.8),Ioe=(e,t,r)=>{var{top:n,left:a,width:s,height:c}=t,u=fL(s,c),f=a+qr(e.cx,s,s/2),h=n+qr(e.cy,c,c/2),m=qr(e.innerRadius,u,0),g=Moe(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:m,outerRadius:g,maxRadius:y}},Loe=(e,t)=>{var r=Sr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function $oe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var zoe=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=pt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Pg(t,Soe);return v.createElement(Yj,Ts({},a,{type:"linear",className:r}))},Uoe=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var a=pt("recharts-pie-label-text",$oe(e));return v.createElement(Ag,Ts({},t,{alignmentBaseline:"middle",className:a}),n)};function Boe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:c}=r;if(!n||!a||!t)return null;var u=xa(r),f=nd(a),h=nd(s),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,x)=>{var S=(y.startAngle+y.endAngle)/2,w=ir(y.cx,y.cy,y.outerRadius+m,S),_=Gt(Gt(Gt(Gt({},u),y),{},{stroke:"none"},f),{},{index:x,textAnchor:Doe(w.x,y.cx)},w),E=Gt(Gt(Gt(Gt({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[ir(y.cx,y.cy,y.outerRadius,S),w],key:"line"});return v.createElement(Ca,{zIndex:Dr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},v.createElement(en,null,s&&zoe(s,E),Uoe(a,_,It(y,c))))});return v.createElement(en,{className:"recharts-pie-labels"},g)}function qoe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(P$,{label:a}):v.createElement(Boe,{sectors:t,props:r,showLabels:n})}function Foe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:c}=e,u=$e(Mo),f=$e(n1),h=$e(sae),{onMouseEnter:m,onClick:g,onMouseLeave:y}=a,x=Pg(a,Eoe),S=f1(m,a.dataKey,c),w=h1(y),_=m1(g,a.dataKey,c);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((E,O)=>{if(E?.startAngle===0&&E?.endAngle===0&&t.length!==1)return null;var C=h==null||h===c,I=String(O)===u&&(f==null||a.dataKey===f)&&C,A=u?n:null,M=r&&I?r:A,N=Gt(Gt({},E),{},{stroke:E.stroke,tabIndex:-1,[B4]:O,[q4]:a.dataKey});return v.createElement(en,Ts({key:"sector-".concat(E?.startAngle,"-").concat(E?.endAngle,"-").concat(E.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},Vp(x,E,O),{onMouseEnter:S(E,O),onMouseLeave:w(E,O),onClick:_(E,O)}),v.createElement($$,Ts({option:s??M,index:O,shapeType:"sector",isActive:I},N)))}))}function Hoe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:h,nameKey:m,tooltipType:g}=r,y=Math.abs(r.minAngle),x=Loe(u,f),S=Math.abs(x),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(M=>It(M,h,0)!==0).length,E=(S>=360?_:_-1)*w,O=S-_*y-E,C=n.reduce((M,N)=>{var T=It(N,h,0);return M+(ze(T)?T:0)},0),I;if(C>0){var A;I=n.map((M,N)=>{var T=It(M,h,0),U=It(M,m,N),G=Ioe(r,s,M),B=(ze(T)?T:0)/C,K,F=Gt(Gt({},M),a&&a[N]&&a[N].props);N?K=A.endAngle+Sr(x)*w*(T!==0?1:0):K=u;var se=K+Sr(x)*((T!==0?y:0)+B*O),J=(K+se)/2,L=(G.innerRadius+G.outerRadius)/2,R=[{name:U,value:T,payload:F,dataKey:h,type:g}],q=ir(G.cx,G.cy,L,J);return A=Gt(Gt(Gt(Gt({},r.presentationProps),{},{percent:B,cornerRadius:typeof c=="string"?parseFloat(c):c,name:U,tooltipPayload:R,midAngle:J,middleRadius:L,tooltipPosition:q},F),G),{},{value:T,dataKey:h,startAngle:K,endAngle:se,payload:F,paddingAngle:Sr(x)*w}),A})}return I}function Voe(e){var{showLabels:t,sectors:r,children:n}=e,a=v.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return v.createElement(Sse,{value:t?a:void 0},n)}function Koe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:m,onAnimationStart:g,onAnimationEnd:y}=t,x=hg(t,"recharts-pie-"),S=r.current,[w,_]=v.useState(!1),E=v.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),O=v.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return v.createElement(Voe,{showLabels:!w,sectors:a},v.createElement(fg,{animationId:x,begin:c,duration:u,isActive:s,easing:f,onAnimationStart:O,onAnimationEnd:E,key:x},C=>{var I=[],A=a&&a[0],M=A?.startAngle;return a?.forEach((N,T)=>{var U=S&&S[T],G=T>0?ko(N,"paddingAngle",0):0;if(U){var B=fr(U.endAngle-U.startAngle,N.endAngle-N.startAngle,C),K=Gt(Gt({},N),{},{startAngle:M+G,endAngle:M+B+G});I.push(K),M=K.endAngle}else{var{endAngle:F,startAngle:se}=N,J=fr(0,F-se,C),L=Gt(Gt({},N),{},{startAngle:M+G,endAngle:M+J+G});I.push(L),M=L.endAngle}}),r.current=I,v.createElement(en,null,v.createElement(Foe,{sectors:I,activeShape:h,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:n}))}),v.createElement(qoe,{showLabels:!w,sectors:a,props:t}),t.children)}var Goe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Dr.area};function Woe(e){var{id:t}=e,r=Pg(e,Noe),{hide:n,className:a,rootTabIndex:s}=e,c=v.useMemo(()=>d1(e.children,Io),[e.children]),u=$e(m=>Bse(m,t,c)),f=v.useRef(null),h=pt("recharts-pie",a);return n||u==null?(f.current=null,v.createElement(en,{tabIndex:s,className:h})):v.createElement(Ca,{zIndex:e.zIndex},v.createElement(Roe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),v.createElement(en,{tabIndex:s,className:h},v.createElement(Koe,{props:Gt(Gt({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function lp(e){var t=Vr(e,Goe),{id:r}=t,n=Pg(t,Coe),a=xa(n);return v.createElement(B$,{id:r,type:"pie"},s=>v.createElement(v.Fragment,null,v.createElement(_oe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(Poe,Ts({},n,{id:s})),v.createElement(Woe,Ts({},n,{id:s}))))}lp.displayName="Pie";function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){Yoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yoe(e,t,r){return(t=Xoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xoe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qoe={xAxis:{},yAxis:{},zAxis:{}},F$=gn({name:"cartesianAxis",initialState:Qoe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Mt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Mt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Mt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Mt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Mt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Mt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Mt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Mt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Mt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=I2(I2({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:Joe,replaceXAxis:ele,removeXAxis:tle,addYAxis:rle,replaceYAxis:nle,removeYAxis:ale,addZAxis:Efe,replaceZAxis:Nfe,removeZAxis:Cfe,updateYAxisWidth:ile}=F$.actions,sle=F$.reducer,ole=de([pr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),lle=de([ole,Pi,Ri],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),H$=()=>$e(lle),cle="Invariant failed";function ule(e,t){throw new Error(cle)}var dle=["x","y"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(null,arguments)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){fle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fle(e,t,r){return(t=hle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hle(e){var t=mle(e,"string");return typeof t=="symbol"?t:t+""}function mle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ple(e,t){if(e==null)return{};var r,n,a=gle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vle(e,t){var{x:r,y:n}=e,a=ple(e,dle),s="".concat(r),c=parseInt(s,10),u="".concat(n),f=parseInt(u,10),h="".concat(t.height||a.height),m=parseInt(h,10),g="".concat(t.width||a.width),y=parseInt(g,10);return Uu(Uu(Uu(Uu(Uu({},t),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:m,width:y,name:t.name,radius:t.radius})}function cp(e){return v.createElement($$,Nw({shapeType:"rectangle",propTransformer:vle,activeClassName:"recharts-active-bar"},e))}var yle=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ze(t))return t;var s=ze(n)||Er(n);return s?t(n,a):(s||ule(),r)}},xle={},V$=gn({name:"errorBars",initialState:xle,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Ofe,replaceErrorBar:Afe,removeErrorBar:Tfe}=V$.actions,ble=V$.reducer,wle=["children"];function jle(e,t){if(e==null)return{};var r,n,a=_le(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _le(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ele=v.createContext(Sle);function Nle(e){var{children:t}=e,r=jle(e,wle);return v.createElement(Ele.Provider,{value:r},t)}function K$(e,t){var r,n,a=$e(h=>Mi(h,e)),s=$e(h=>Ii(h,t)),c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:wr.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:jr.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function Cle(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=H$(),{needClipX:s,needClipY:c,needClip:u}=K$(t,r);if(!u||!a)return null;var{x:f,y:h,width:m,height:g}=a;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:s?f:f-m/2,y:c?h:h-g/2,width:s?m:m*2,height:c?g:g*2}))}function Ole(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Qt(e.zIndex)?e.zIndex:t}var eb={exports:{}},tb={};var $2;function Ale(){if($2)return tb;$2=1;var e=yc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return tb.useSyncExternalStoreWithSelector=function(f,h,m,g,y){var x=a(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function _(A){if(!E){if(E=!0,O=A,A=g(A),y!==void 0&&S.hasValue){var M=S.value;if(y(M,A))return C=M}return C=A}if(M=C,r(O,A))return M;var N=g(A);return y!==void 0&&y(M,N)?(O=A,M):(O=A,C=N)}var E=!1,O,C,I=m===void 0?null:m;return[function(){return _(h())},I===null?void 0:function(){return _(I())}]},[h,m,g,y]);var w=n(f,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},tb}var z2;function Tle(){return z2||(z2=1,eb.exports=Ale()),eb.exports}Tle();function kle(e){e()}function Ple(){let e=null,t=null;return{clear(){e=null,t=null},notify(){kle(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var U2={notify(){},get:()=>[]};function Rle(e,t){let r,n=U2,a=0,s=!1;function c(w){m();const _=n.subscribe(w);let E=!1;return()=>{E||(E=!0,_(),g())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function h(){return s}function m(){a++,r||(r=e.subscribe(f),n=Ple())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=U2)}function y(){s||(s=!0,m())}function x(){s&&(s=!1,g())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>n};return S}var Dle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mle=Dle(),Ile=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Lle=Ile(),$le=()=>Mle||Lle?v.useLayoutEffect:v.useEffect,zle=$le();function B2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ule(e,t){if(B2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!B2(e[r[a]],t[r[a]]))return!1;return!0}var Ble=Symbol.for("react-redux-context"),qle=typeof globalThis<"u"?globalThis:{};function Fle(){if(!v.createContext)return{};const e=qle[Ble]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Hle=Fle();function Vle(e){const{children:t,context:r,serverState:n,store:a}=e,s=v.useMemo(()=>{const f=Rle(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=v.useMemo(()=>a.getState(),[a]);zle(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=r||Hle;return v.createElement(u.Provider,{value:s},t)}var Kle=Vle,Gle=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Wle(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function p1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Gle.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Ule(e[n],t[n]))return!1}else if(!Wle(e[n],t[n]))return!1;return!0}var Yle=["onMouseEnter","onMouseLeave","onClick"],Xle=["value","background","tooltipPosition"],Zle=["id"],Qle=["onMouseEnter","onClick","onMouseLeave"];function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(null,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){Jle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jle(e,t,r){return(t=ece(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ece(e){var t=tce(e,"string");return typeof t=="symbol"?t:t+""}function tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function up(e,t){if(e==null)return{};var r,n,a=rce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:tg(r,t),payload:e}]},ace=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:c,unit:u,tooltipType:f}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:tg(s,t),hide:c,type:f,color:a,unit:u}};return v.createElement(z$,{tooltipEntrySettings:h})});function ice(e){var t=$e(Mo),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:u,onClick:f}=s,h=up(s,Yle),m=f1(c,n),g=h1(u),y=m1(f,n);if(!a||r==null)return null;var x=nd(a);return v.createElement(Ca,{zIndex:Ole(a,Dr.barBackground)},r.map((S,w)=>{var{value:_,background:E,tooltipPosition:O}=S,C=up(S,Xle);if(!E)return null;var I=m(S,w),A=g(S,w),M=y(S,w),N=Xr(Xr(Xr(Xr(Xr({option:a,isActive:String(w)===t},C),{},{fill:"#eee"},E),x),Vp(h,S,w)),{},{onMouseEnter:I,onMouseLeave:A,onClick:M,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(cp,Ti({key:"background-bar-".concat(w)},N))}))}function sce(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Xr(Xr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return v.createElement(_se,{value:t?a:void 0},r)}function oce(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:c}=e,u=$e(Mo),f=$e(n1),h=r&&String(s)===u&&(f==null||c===f),m=h?r:t;return h?v.createElement(Ca,{zIndex:Dr.activeBar},v.createElement(cp,Ti({},n,{name:String(n.name)},a,{isActive:h,option:m,index:s,dataKey:c}))):v.createElement(cp,Ti({},n,{name:String(n.name)},a,{isActive:h,option:m,index:s,dataKey:c}))}function lce(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return v.createElement(cp,Ti({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function cce(e){var t,{data:r,props:n}=e,a=(t=xa(n))!==null&&t!==void 0?t:{},{id:s}=a,c=up(a,Zle),{shape:u,dataKey:f,activeBar:h}=n,{onMouseEnter:m,onClick:g,onMouseLeave:y}=n,x=up(n,Qle),S=f1(m,f),w=h1(y),_=m1(g,f);return r?v.createElement(v.Fragment,null,r.map((E,O)=>v.createElement(en,Ti({key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(O),className:"recharts-bar-rectangle"},Vp(x,E,O),{onMouseEnter:S(E,O),onMouseLeave:w(E,O),onClick:_(E,O)}),h?v.createElement(oce,{shape:u,activeBar:h,baseProps:c,entry:E,index:O,dataKey:f}):v.createElement(lce,{shape:u,baseProps:c,entry:E,index:O,dataKey:f})))):null}function uce(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=t,g=r.current,y=hg(t,"recharts-bar-"),[x,S]=v.useState(!1),w=!x,_=v.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),E=v.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);return v.createElement(sce,{showLabels:w,rects:n},v.createElement(fg,{animationId:y,begin:c,duration:u,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:E,key:y},O=>{var C=O===1?n:n?.map((I,A)=>{var M=g&&g[A];if(M)return Xr(Xr({},I),{},{x:fr(M.x,I.x,O),y:fr(M.y,I.y,O),width:fr(M.width,I.width,O),height:fr(M.height,I.height,O)});if(a==="horizontal"){var N=fr(0,I.height,O),T=fr(I.stackedBarStart,I.y,O);return Xr(Xr({},I),{},{y:T,height:N})}var U=fr(0,I.width,O),G=fr(I.stackedBarStart,I.x,O);return Xr(Xr({},I),{},{width:U,x:G})});return O>0&&(r.current=C??null),C==null?null:v.createElement(en,null,v.createElement(cce,{props:t,data:C}))}),v.createElement(P$,{label:t.label}),t.children)}function dce(e){var t=v.useRef(null);return v.createElement(uce,{previousRectanglesRef:t,props:e})}var G$=0,fce=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:It(e,t)}};class hce extends v.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:c,needClip:u,background:f,id:h}=this.props;if(t||r==null)return null;var m=pt("recharts-bar",a),g=h;return v.createElement(en,{className:m,id:h},u&&v.createElement("defs",null,v.createElement(Cle,{clipPathId:g,xAxisId:s,yAxisId:c})),v.createElement(en,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},v.createElement(ice,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),v.createElement(dce,this.props)))}}var mce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:G$,xAxisId:0,yAxisId:0,zIndex:Dr.bar};function pce(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m}=e,{needClip:g}=K$(t,r),y=og(),x=vn(),S=d1(e.children,Io),w=$e(O=>Fce(O,t,r,x,e.id,S));if(y!=="vertical"&&y!=="horizontal")return null;var _,E=w?.[0];return E==null||E.height==null||E.width==null?_=0:_=y==="vertical"?E.height/2:E.width/2,v.createElement(Nle,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:fce,errorBarOffset:_},v.createElement(hce,Ti({},e,{layout:y,needClip:g,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function gce(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:g,offset:y,cells:x,parentViewBox:S,dataStartIndex:w}=e,_=t==="horizontal"?u:c,E=m?_.scale.domain():null,O=lZ({numericAxis:_}),C=_.scale(O);return g.map((I,A)=>{var M,N,T,U,G,B;m?M=rZ(m[A+w],E):(M=It(I,r),Array.isArray(M)||(M=[O,M]));var K=yle(n,G$)(M[1],A);if(t==="horizontal"){var F,[se,J]=[u.scale(M[0]),u.scale(M[1])];N=cT({axis:c,ticks:f,bandSize:s,offset:a.offset,entry:I,index:A}),T=(F=J??se)!==null&&F!==void 0?F:void 0,U=a.size;var L=se-J;if(G=ba(L)?0:L,B={x:N,y:y.top,width:U,height:y.height},Math.abs(K)>0&&Math.abs(G)<Math.abs(K)){var R=Sr(G||K)*(Math.abs(K)-Math.abs(G));T-=R,G+=R}}else{var[q,re]=[c.scale(M[0]),c.scale(M[1])];if(N=q,T=cT({axis:u,ticks:h,bandSize:s,offset:a.offset,entry:I,index:A}),U=re-q,G=a.size,B={x:y.left,y:T,width:y.width,height:G},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var X=Sr(U||K)*(Math.abs(K)-Math.abs(U));U+=X}}if(N==null||T==null||U==null||G==null)return null;var D=Xr(Xr({},I),{},{stackedBarStart:C,x:N,y:T,width:U,height:G,value:m?M:M[1],payload:I,background:B,tooltipPosition:{x:N+U/2,y:T+G/2},parentViewBox:S},x&&x[A]&&x[A].props);return D}).filter(Boolean)}function vce(e){var t=Vr(e,mce),r=vn();return v.createElement(B$,{id:t.id,type:"bar"},n=>v.createElement(v.Fragment,null,v.createElement(coe,{legendPayload:nce(t)}),v.createElement(ace,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),v.createElement(joe,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:oZ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),v.createElement(Ca,{zIndex:t.zIndex},v.createElement(pce,Ti({},t,{id:n})))))}var dp=v.memo(vce,p1);dp.displayName="Bar";function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yce(e,t,r){return(t=xce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=bce(e,"string");return typeof t=="symbol"?t:t+""}function bce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wce=(e,t)=>t,jce=(e,t,r)=>r,_ce=(e,t,r,n)=>n,Sce=(e,t,r,n,a)=>a,Kd=de([P_,Sce],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Ece=de([Kd],e=>e?.maxBarSize),Nce=(e,t,r,n,a,s)=>s,H2=(e,t,r)=>{var n=r??e;if(!Er(n))return qr(n,t,0)},Cce=de([ht,P_,wce,jce,_ce],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Oce=(e,t,r,n)=>{var a=ht(e);return a==="horizontal"?xw(e,"yAxis",r,n):xw(e,"xAxis",t,n)},Ace=(e,t,r)=>{var n=ht(e);return n==="horizontal"?Uk(e,"xAxis",t):Uk(e,"yAxis",r)},Tce=(e,t,r)=>{var n={},a=e.filter(jg),s=e.filter(h=>h.stackId==null),c=a.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),n),u=Object.entries(c).map(h=>{var[m,g]=h,y=g.map(S=>S.dataKey),x=H2(t,r,g[0].barSize);return{stackId:m,dataKeys:y,barSize:x}}),f=s.map(h=>{var m=[h.dataKey].filter(y=>y!=null),g=H2(t,r,h.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...f]},kce=de([Cce,cre,Ace],Tce),Pce=(e,t,r,n,a)=>{var s,c,u=Kd(e,t,r,n,a);if(u!=null){var f=ht(e),h=d3(e),{maxBarSize:m}=u,g=Er(m)?h:m,y,x;return f==="horizontal"?(y=vc(e,"xAxis",t,n),x=gc(e,"xAxis",t,n)):(y=vc(e,"yAxis",r,n),x=gc(e,"yAxis",r,n)),(s=(c=Im(y,x,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},W$=(e,t,r,n)=>{var a=ht(e),s,c;return a==="horizontal"?(s=vc(e,"xAxis",t,n),c=gc(e,"xAxis",t,n)):(s=vc(e,"yAxis",r,n),c=gc(e,"yAxis",r,n)),Im(s,c)};function Rce(e,t,r,n,a){var s=n.length;if(!(s<1)){var c=qr(e,r,0,!0),u,f=[];if(Qt(n[0].barSize)){var h=!1,m=r/s,g=n.reduce((E,O)=>E+(O.barSize||0),0);g+=(s-1)*c,g>=r&&(g-=(s-1)*c,c=0),g>=r&&m>0&&(h=!0,m*=.9,g=s*m);var y=(r-g)/2>>0,x={offset:y-c,size:0};u=n.reduce((E,O)=>{var C,I={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:x.offset+x.size+c,size:h?m:(C=O.barSize)!==null&&C!==void 0?C:0}},A=[...E,I];return x=A[A.length-1].position,A},f)}else{var S=qr(t,r,0,!0);r-2*S-(s-1)*c<=0&&(c=0);var w=(r-2*S-(s-1)*c)/s;w>1&&(w>>=0);var _=Qt(a)?Math.min(w,a):w;u=n.reduce((E,O,C)=>[...E,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:S+(w+c)*C+(w-_)/2,size:_}}],f)}return u}}var Dce=(e,t,r,n,a,s,c)=>{var u=Er(c)?t:c,f=Rce(r,n,a!==s?a:s,e,u);return a!==s&&f!=null&&(f=f.map(h=>Hh(Hh({},h),{},{position:Hh(Hh({},h.position),{},{offset:h.position.offset-a/2})}))),f},Mce=de([kce,d3,lre,f3,Pce,W$,Ece],Dce),Ice=(e,t,r,n)=>vc(e,"xAxis",t,n),Lce=(e,t,r,n)=>vc(e,"yAxis",r,n),$ce=(e,t,r,n)=>gc(e,"xAxis",t,n),zce=(e,t,r,n)=>gc(e,"yAxis",r,n),Uce=de([Mce,Kd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Bce=(e,t)=>{var r=A_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(c=>c.key===r)}}}},qce=de([Oce,Kd],Bce),Fce=de([pr,Vj,Ice,Lce,$ce,zce,Uce,ht,b_,W$,qce,Kd,Nce],(e,t,r,n,a,s,c,u,f,h,m,g,y)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:w}=f;if(!(g==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,E;if(_!=null&&_.length>0?E=_:E=x?.slice(S,w+1),E!=null)return gce({layout:u,barSettings:g,pos:c,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:E,offset:e,cells:y,dataStartIndex:S})}}),Y$=e=>{var{chartData:t}=e,r=zt(),n=vn();return v.useEffect(()=>n?()=>{}:(r(Jk(t)),()=>{r(Jk(void 0))}),[t,r,n]),null},V2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X$=gn({name:"brush",initialState:V2,reducers:{setBrushSettings(e,t){return t.payload==null?V2:t.payload}}}),{setBrushSettings:kfe}=X$.actions,Hce=X$.reducer;function Vce(e,t,r){return(t=Kce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kce(e){var t=Gce(e,"string");return typeof t=="symbol"?t:t+""}function Gce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class g1{static create(t){return new g1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Vce(g1,"EPS",1e-4);function Wce(e){return(e%180+180)%180}var Yce=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Wce(a),c=s*Math.PI/180,u=Math.atan(n/r),f=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},Xce={dots:[],areas:[],lines:[]},Z$=gn({name:"referenceElements",initialState:Xce,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ga(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ga(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ga(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Pfe,removeDot:Rfe,addArea:Dfe,removeArea:Mfe,addLine:Ife,removeLine:Lfe}=Z$.actions,Zce=Z$.reducer,Qce=v.createContext(void 0),Jce=e=>{var{children:t}=e,[r]=v.useState("".concat(ad("recharts"),"-clip")),n=H$();if(n==null)return null;var{x:a,y:s,width:c,height:u}=n;return v.createElement(Qce.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:s,height:u,width:c}))),t)};function Q$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function eue(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Yce(n,r)}function tue(e,t,r){var n=r==="width",{x:a,y:s,width:c,height:u}=e;return t===1?{start:n?a:s,end:n?a+c:s+u}:{start:n?a+c:s+u,end:n?a:s}}function fp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function rue(e,t){return Q$(e,t+1)}function nue(e,t,r,n,a){for(var s=(n||[]).slice(),{start:c,end:u}=t,f=0,h=1,m=c,g=function(){var S=n?.[f];if(S===void 0)return{v:Q$(n,h)};var w=f,_,E=()=>(_===void 0&&(_=r(S,w)),_),O=S.coordinate,C=f===0||fp(e,O,E,m,u);C||(f=0,m=c,h+=1),C&&(m=O+e*(E()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aue(e,t,r){return(t=iue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=sue(e,"string");return typeof t=="symbol"?t:t+""}function sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oue(e,t,r,n,a){for(var s=(n||[]).slice(),c=s.length,{start:u}=t,{end:f}=t,h=function(y){var x=s[y],S,w=()=>(S===void 0&&(S=r(x,y)),S);if(y===c-1){var _=e*(x.coordinate+e*w()/2-f);s[y]=x=Lr(Lr({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else s[y]=x=Lr(Lr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var E=fp(e,x.tickCoord,w,u,f);E&&(f=x.tickCoord-e*(w()/2+a),s[y]=Lr(Lr({},x),{},{isShow:!0}))}},m=c-1;m>=0;m--)h(m);return s}function lue(e,t,r,n,a,s){var c=(n||[]).slice(),u=c.length,{start:f,end:h}=t;if(s){var m=n[u-1],g=r(m,u-1),y=e*(m.coordinate+e*g/2-h);if(c[u-1]=m=Lr(Lr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var x=fp(e,m.tickCoord,()=>g,f,h);x&&(h=m.tickCoord-e*(g/2+a),c[u-1]=Lr(Lr({},m),{},{isShow:!0}))}}for(var S=s?u-1:u,w=function(O){var C=c[O],I,A=()=>(I===void 0&&(I=r(C,O)),I);if(O===0){var M=e*(C.coordinate-e*A()/2-f);c[O]=C=Lr(Lr({},C),{},{tickCoord:M<0?C.coordinate-M*e:C.coordinate})}else c[O]=C=Lr(Lr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var N=fp(e,C.tickCoord,A,f,h);N&&(f=C.tickCoord+e*(A()/2+a),c[O]=Lr(Lr({},C),{},{isShow:!0}))}},_=0;_<S;_++)w(_);return c}function v1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:c,orientation:u,interval:f,tickFormatter:h,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if(ze(f)||kd.isSsr){var y;return(y=rue(a,ze(f)?f:0))!==null&&y!==void 0?y:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",w=m&&S==="width"?Wu(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(C,I)=>{var A=typeof h=="function"?h(C.value,I):C.value;return S==="width"?eue(Wu(A,{fontSize:t,letterSpacing:r}),w,g):Wu(A,{fontSize:t,letterSpacing:r})[S]},E=a.length>=2?Sr(a[1].coordinate-a[0].coordinate):1,O=tue(s,E,S);return f==="equidistantPreserveStart"?nue(E,O,_,a,c):(f==="preserveStart"||f==="preserveStartEnd"?x=lue(E,O,_,a,c,f==="preserveStartEnd"):x=oue(E,O,_,a,c),x.filter(C=>C.isShow))}var cue=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=r?r.getBoundingClientRect().width:0,f=a+s,h=c+f+u+(r?n:0);return Math.round(h)}return 0},uue=["axisLine","width","height","className","hide","ticks","axisType"];function due(e,t){if(e==null)return{};var r,n,a=fue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return(t=mue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dr.axis};function gue(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:c,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var h=ar(ar(ar({},f),xa(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!c||s==="bottom"&&c);h=ar(ar({},h),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=ar(ar({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return v.createElement("line",Lo({},h,{className:pt("recharts-cartesian-axis-line",ko(u,"className"))}))}function vue(e,t,r,n,a,s,c,u,f){var h,m,g,y,x,S,w=u?-1:1,_=e.tickSize||c,E=ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=m=e.coordinate,y=r+ +!u*a,g=y-w*_,S=g-w*f,x=E;break;case"left":g=y=e.coordinate,m=t+ +!u*n,h=m-w*_,x=h-w*f,S=E;break;case"right":g=y=e.coordinate,m=t+ +u*n,h=m+w*_,x=h+w*f,S=E;break;default:h=m=e.coordinate,y=r+ +u*a,g=y+w*_,S=g+w*f,x=E;break}return{line:{x1:h,y1:g,x2:m,y2:y},tick:{x,y:S}}}function yue(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function xue(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function bue(e){var{option:t,tickProps:r,value:n}=e,a,s=pt(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,ar(ar({},r),{},{className:s}));else if(typeof t=="function")a=t(ar(ar({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=pt(c,t?.className)),a=v.createElement(Ag,Lo({},r,{className:c}),n)}return a}var wue=v.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:c,unit:u,padding:f,tickTextProps:h,orientation:m,mirror:g,x:y,y:x,width:S,height:w,tickSize:_,tickMargin:E,fontSize:O,letterSpacing:C,getTicksConfig:I,events:A,axisType:M}=e,N=v1(ar(ar({},I),{},{ticks:r}),O,C),T=yue(m,g),U=xue(m,g),G=xa(I),B=nd(n),K={};typeof a=="object"&&(K=a);var F=ar(ar({},G),{},{fill:"none"},K),se=N.map(R=>ar({entry:R},vue(R,y,x,S,w,m,_,g,E))),J=se.map(R=>{var{entry:q,line:re}=R;return v.createElement(en,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&v.createElement("line",Lo({},F,re,{className:pt("recharts-cartesian-axis-tick-line",ko(a,"className"))})))}),L=se.map((R,q)=>{var{entry:re,tick:X}=R,D=ar(ar(ar(ar({textAnchor:T,verticalAnchor:U},G),{},{stroke:"none",fill:s},B),X),{},{index:q,payload:re,visibleTicksCount:N.length,tickFormatter:c,padding:f},h);return v.createElement(en,Lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},Vp(A,re,q)),n&&v.createElement(bue,{option:n,tickProps:D,value:"".concat(typeof c=="function"?c(re.value,q):re.value).concat(u||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},L.length>0&&v.createElement(Ca,{zIndex:Dr.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},L)),J.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},J))}),jue=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:c,ticks:u,axisType:f}=e,h=due(e,uue),[m,g]=v.useState(""),[y,x]=v.useState(""),S=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return cue({ticks:S.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=v.useCallback(_=>{if(_){var E=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=E;var O=E[0];if(O){var C=window.getComputedStyle(O),I=C.fontSize,A=C.letterSpacing;(I!==m||A!==y)&&(g(I),x(A))}}},[m,y]);return c||n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(Ca,{zIndex:e.zIndex},v.createElement(en,{className:pt("recharts-cartesian-axis",s)},v.createElement(gue,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:xa(e)}),v.createElement(wue,{ref:w,axisType:f,events:h,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(rse,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(fse,{label:e.label,labelRef:e.labelRef}),e.children)))}),y1=v.forwardRef((e,t)=>{var r=Vr(e,bi);return v.createElement(jue,Lo({},r,{ref:t}))});y1.displayName="CartesianAxis";var _ue=["x1","y1","x2","y2","key"],Sue=["offset"],Eue=["xAxisId","yAxisId"],Nue=["xAxisId","yAxisId"];function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){Cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t,r){return(t=Oue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oue(e){var t=Aue(e,"string");return typeof t=="symbol"?t:t+""}function Aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(null,arguments)}function hp(e,t){if(e==null)return{};var r,n,a=Tue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kue=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:c,ry:u}=e;return v.createElement("rect",{x:n,y:a,ry:u,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function J$(e){var{option:t,lineItemProps:r}=e,n;if(v.isValidElement(t))n=v.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:c,x2:u,y2:f,key:h}=r,m=hp(r,_ue),g=(a=xa(m))!==null&&a!==void 0?a:{},{offset:y}=g,x=hp(g,Sue);n=v.createElement("line",xo({},x,{x1:s,y1:c,x2:u,y2:f,fill:"none",key:h}))}return n}function Pue(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=e,u=hp(e,Eue),f=a.map((h,m)=>{var g=$r($r({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(m),index:m});return v.createElement(J$,{key:"line-".concat(m),option:n,lineItemProps:g})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Rue(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=e,u=hp(e,Nue),f=a.map((h,m)=>{var g=$r($r({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(m),index:m});return v.createElement(J$,{option:n,lineItemProps:g,key:"line-".concat(m)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Due(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:c,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var h=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var m=h.map((g,y)=>{var x=!h[y+1],S=x?a+c-g:h[y+1]-g;if(S<=0)return null;var w=y%t.length;return v.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:S,width:s,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Mue(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:c,height:u,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var m=h.map((g,y)=>{var x=!h[y+1],S=x?a+c-g:h[y+1]-g;if(S<=0)return null;var w=y%r.length;return v.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:S,height:u,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Iue=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return $4(v1($r($r($r({},bi),r),{},{ticks:z4(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Lue=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return $4(v1($r($r($r({},bi),r),{},{ticks:z4(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},$ue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Dr.grid};function mp(e){var t=W4(),r=Y4(),n=G4(),a=$r($r({},Vr(e,$ue)),{},{x:ze(e.x)?e.x:n.left,y:ze(e.y)?e.y:n.top,width:ze(e.width)?e.width:n.width,height:ze(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:u,y:f,width:h,height:m,syncWithTicks:g,horizontalValues:y,verticalValues:x}=a,S=vn(),w=$e(U=>Bk(U,"xAxis",s,S)),_=$e(U=>Bk(U,"yAxis",c,S));if(!Ua(h)||!Ua(m)||!ze(u)||!ze(f))return null;var E=a.verticalCoordinatesGenerator||Iue,O=a.horizontalCoordinatesGenerator||Lue,{horizontalPoints:C,verticalPoints:I}=a;if((!C||!C.length)&&typeof O=="function"){var A=y&&y.length,M=O({yAxis:_?$r($r({},_),{},{ticks:A?y:_.ticks}):void 0,width:t??h,height:r??m,offset:n},A?!0:g);Lm(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}if((!I||!I.length)&&typeof E=="function"){var N=x&&x.length,T=E({xAxis:w?$r($r({},w),{},{ticks:N?x:w.ticks}):void 0,width:t??h,height:r??m,offset:n},N?!0:g);Lm(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(I=T)}return v.createElement(Ca,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(kue,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(Due,xo({},a,{horizontalPoints:C})),v.createElement(Mue,xo({},a,{verticalPoints:I})),v.createElement(Pue,xo({},a,{offset:n,horizontalPoints:C,xAxis:w,yAxis:_})),v.createElement(Rue,xo({},a,{offset:n,verticalPoints:I,xAxis:w,yAxis:_}))))}mp.displayName="CartesianGrid";var zue=["domain","range"],Uue=["domain","range"];function Y2(e,t){if(e==null)return{};var r,n,a=Bue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function ez(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=Y2(e,zue),{domain:s,range:c}=t,u=Y2(t,Uue);return!X2(r,s)||!X2(n,c)?!1:p1(a,u)}var que=["dangerouslySetInnerHTML","ticks"],Fue=["id"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(null,arguments)}function Z2(e,t){if(e==null)return{};var r,n,a=Hue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vue(e){var t=zt(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(Joe(e)):r.current!==e&&t(ele({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(tle(r.current)),r.current=null)},[t]),null}var Kue=e=>{var{xAxisId:t,className:r}=e,n=$e(Vj),a=vn(),s="xAxis",c=$e(_=>Dc(_,s,t,a)),u=$e(_=>H3(_,s,t,a)),f=$e(_=>U3(_,t)),h=$e(_=>sne(_,t)),m=$e(_=>w3(_,t));if(f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,x=Z2(e,que),{id:S}=m,w=Z2(m,Fue);return v.createElement(y1,Cw({},x,w,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:pt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},Gue={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,angle:wr.angle,axisLine:bi.axisLine,height:wr.height,hide:!1,includeHidden:wr.includeHidden,interval:wr.interval,minTickGap:wr.minTickGap,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tick:wr.tick,tickCount:wr.tickCount,tickLine:bi.tickLine,tickSize:bi.tickSize,type:wr.type,xAxisId:0},Wue=e=>{var t=Vr(e,Gue);return v.createElement(v.Fragment,null,v.createElement(Vue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Kue,t))},pp=v.memo(Wue,ez);pp.displayName="XAxis";var Yue=["dangerouslySetInnerHTML","ticks"],Xue=["id"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(null,arguments)}function Q2(e,t){if(e==null)return{};var r,n,a=Zue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Que(e){var t=zt(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(rle(e)):r.current!==e&&t(nle({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(ale(r.current)),r.current=null)},[t]),null}var Jue=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=v.useRef(null),c=v.useRef(null),u=$e(Vj),f=vn(),h=zt(),m="yAxis",g=$e(A=>Dc(A,m,t,f)),y=$e(A=>B3(A,t)),x=$e(A=>lne(A,t)),S=$e(A=>H3(A,m,t,f)),w=$e(A=>j3(A,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!y||l1(a)||v.isValidElement(a)||w==null)){var A=s.current;if(A){var M=A.getCalculatedWidth();Math.round(y.width)!==Math.round(M)&&h(ile({id:t,width:M}))}}},[S,y,h,a,t,n,w]),y==null||x==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:E}=e,O=Q2(e,Yue),{id:C}=w,I=Q2(w,Xue);return v.createElement(y1,Ow({},O,I,{ref:s,labelRef:c,scale:g,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:pt("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:S,axisType:m}))},ede={allowDataOverflow:jr.allowDataOverflow,allowDecimals:jr.allowDecimals,allowDuplicatedCategory:jr.allowDuplicatedCategory,angle:jr.angle,axisLine:bi.axisLine,hide:!1,includeHidden:jr.includeHidden,interval:jr.interval,minTickGap:jr.minTickGap,mirror:jr.mirror,orientation:jr.orientation,padding:jr.padding,reversed:jr.reversed,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,tickLine:bi.tickLine,tickSize:bi.tickSize,type:jr.type,width:jr.width,yAxisId:0},tde=e=>{var t=Vr(e,ede);return v.createElement(v.Fragment,null,v.createElement(Que,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Jue,t))},gp=v.memo(tde,ez);gp.displayName="YAxis";var rde=(e,t)=>t,x1=de([rde,ht,x3,vr,s$,Li,_ae,pr],Tae),b1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},tz=ta("mouseClick"),rz=Od();rz.startListening({actionCreator:tz,effect:(e,t)=>{var r=e.payload,n=x1(t.getState(),b1(r));n?.activeIndex!=null&&t.dispatch(jne({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Aw=ta("mouseMove"),nz=Od(),Vh=null;nz.startListening({actionCreator:Aw,effect:(e,t)=>{var r=e.payload;Vh!==null&&cancelAnimationFrame(Vh);var n=b1(r);Vh=requestAnimationFrame(()=>{var a=t.getState(),s=Z_(a,a.tooltip.settings.shared);if(s==="axis"){var c=x1(a,n);c?.activeIndex!=null?t.dispatch(Q3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(Z3())}Vh=null})}});var J2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},az=gn({name:"rootProps",initialState:J2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:J2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),nde=az.reducer,{updateOptions:ade}=az.actions,iz=gn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ide}=iz.actions,sde=iz.reducer,sz=ta("keyDown"),oz=ta("focus"),w1=Od();w1.startListening({actionCreator:sz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Q_(a,Ic(r),Ud(r),Hd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=Li(r);if(s==="Enter"){var h=ap(r,"axis","hover",String(a.index));t.dispatch(ww({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var m=fne(r),g=m==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,x=u+y*g;if(!(f==null||x>=f.length||x<0)){var S=ap(r,"axis","hover",String(x));t.dispatch(ww({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});w1.startListening({actionCreator:oz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",c=ap(r,"axis","hover",String(s));t.dispatch(ww({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Zn=ta("externalEvent"),lz=Od(),rb=new Map;lz.startListening({actionCreator:Zn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=rb.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:lae(u),activeDataKey:n1(u),activeIndex:Mo(u),activeLabel:c$(u),activeTooltipIndex:Mo(u),isTooltipActive:cae(u)};r(f,n)}finally{rb.delete(a)}});rb.set(a,c)}}});var ode=de([Mc],e=>e.tooltipItemPayloads),lde=de([ode,qd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var c=t(s,r);return c}}}),cz=ta("touchMove"),uz=Od();uz.startListening({actionCreator:cz,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Z_(n,n.tooltip.settings.shared);if(a==="axis"){var s=x1(n,b1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(Q3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,u=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(B4),m=(c=f.getAttribute(q4))!==null&&c!==void 0?c:void 0,g=lde(t.getState(),h,m);t.dispatch(X3({activeDataKey:m,activeIndex:h,activeCoordinate:g}))}}}});var cde=c4({brush:Hce,cartesianAxis:sle,chartData:oie,errorBars:ble,graphicalItems:boe,layout:XX,legend:rQ,options:rie,polarAxis:Dse,polarOptions:sde,referenceElements:Zce,rootProps:nde,tooltip:_ne,zIndex:Hae}),ude=function(t){return wX({reducer:cde,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([rz.middleware,nz.middleware,w1.middleware,lz.middleware,uz.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(S4({type:"raf"}))},devTools:kd.devToolsEnabled})};function dz(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=vn(),s=v.useRef(null);if(a)return r;s.current==null&&(s.current=ude(t));var c=Ij;return v.createElement(Kle,{context:c,store:s.current},r)}function dde(e){var{layout:t,margin:r}=e,n=zt(),a=vn();return v.useEffect(()=>{a||(n(GX(t)),n(KX(r)))},[n,a,t,r]),null}var fz=v.memo(dde,p1);function hz(e){var t=zt();return v.useEffect(()=>{t(ade(e))},[t,e]),null}function eP(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=U$("".concat(n).concat(t)),s=zt();return v.useLayoutEffect(()=>(s(qae({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Fae({zIndex:t,isPanorama:r}))}),[s,t,a,r]),v.createElement("g",{tabIndex:-1,id:a})}function tP(e){var{children:t,isPanorama:r}=e,n=$e(Pae);if(!n||n.length===0)return t;var a=n.filter(c=>c<0),s=n.filter(c=>c>0);return v.createElement(v.Fragment,null,a.map(c=>v.createElement(eP,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>v.createElement(eP,{key:c,zIndex:c,isPanorama:r})))}var fde=["children"];function hde(e,t){if(e==null)return{};var r,n,a=mde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}var pde={width:"100%",height:"100%",display:"block"},gde=v.forwardRef((e,t)=>{var r=W4(),n=Y4(),a=sL();if(!Ua(r)||!Ua(n))return null;var{children:s,otherAttributes:c,title:u,desc:f}=e,h,m;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?m=c.role:m=a?"application":void 0),v.createElement(CI,vp({},c,{title:u,desc:f,role:m,tabIndex:h,width:r,height:n,style:pde,ref:t}),s)}),vde=e=>{var{children:t}=e,r=$e(ig);if(!r)return null;var{width:n,height:a,y:s,x:c}=r;return v.createElement(CI,{width:n,height:a,x:c,y:s},t)},rP=v.forwardRef((e,t)=>{var{children:r}=e,n=hde(e,fde),a=vn();return a?v.createElement(vde,null,v.createElement(tP,{isPanorama:!0},r)):v.createElement(gde,vp({ref:t},n),v.createElement(tP,{isPanorama:!1},r))});function yde(){var e=zt(),[t,r]=v.useState(null),n=$e(mZ);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Qt(s)&&s!==n&&e(YX(s))}},[t,e,n]),r}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){bde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bde(e,t,r){return(t=wde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wde(e){var t=jde(e,"string");return typeof t=="symbol"?t:t+""}function jde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(null,arguments)}var _de=()=>(gie(),null);function yp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Sde=v.forwardRef((e,t)=>{var r,n,a=v.useRef(null),[s,c]=v.useState({containerWidth:yp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:yp((n=e.style)===null||n===void 0?void 0:n.height)}),u=v.useCallback((h,m)=>{c(g=>{var y=Math.round(h),x=Math.round(m);return g.containerWidth===y&&g.containerHeight===x?g:{containerWidth:y,containerHeight:x}})},[]),f=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=h.getBoundingClientRect();u(m,g);var y=S=>{var{width:w,height:_}=S[0].contentRect;u(w,_)},x=new ResizeObserver(y);x.observe(h),a.current=x}},[t,u]);return v.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[u]),v.createElement(v.Fragment,null,v.createElement(lg,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",$o({ref:f},e)))}),Ede=v.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=v.useState({containerWidth:yp(r),containerHeight:yp(n)}),c=v.useCallback((f,h)=>{s(m=>{var g=Math.round(f),y=Math.round(h);return m.containerWidth===g&&m.containerHeight===y?m:{containerWidth:g,containerHeight:y}})},[]),u=v.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();c(h,m)}},[t,c]);return v.createElement(v.Fragment,null,v.createElement(lg,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",$o({ref:u},e)))}),Nde=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return v.createElement(v.Fragment,null,v.createElement(lg,{width:r,height:n}),v.createElement("div",$o({ref:t},e)))}),Cde=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return Si(r)||Si(n)?v.createElement(Ede,$o({},e,{ref:t})):v.createElement(Nde,$o({},e,{ref:t}))});function Ode(e){return e===!0?Sde:Cde}var Ade=v.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:x,onTouchMove:S,onTouchStart:w,style:_,width:E,responsive:O,dispatchTouchEvents:C=!0}=e,I=v.useRef(null),A=zt(),[M,N]=v.useState(null),[T,U]=v.useState(null),G=yde(),B=Kj(),K=B?.width>0?B.width:E,F=B?.height>0?B.height:a,se=v.useCallback($=>{G($),typeof t=="function"&&t($),N($),U($),$!=null&&(I.current=$)},[G,t,N,U]),J=v.useCallback($=>{A(tz($)),A(Zn({handler:s,reactEvent:$}))},[A,s]),L=v.useCallback($=>{A(Aw($)),A(Zn({handler:h,reactEvent:$}))},[A,h]),R=v.useCallback($=>{A(Z3()),A(Zn({handler:m,reactEvent:$}))},[A,m]),q=v.useCallback($=>{A(Aw($)),A(Zn({handler:g,reactEvent:$}))},[A,g]),re=v.useCallback(()=>{A(oz())},[A]),X=v.useCallback($=>{A(sz($.key))},[A]),D=v.useCallback($=>{A(Zn({handler:c,reactEvent:$}))},[A,c]),H=v.useCallback($=>{A(Zn({handler:u,reactEvent:$}))},[A,u]),Q=v.useCallback($=>{A(Zn({handler:f,reactEvent:$}))},[A,f]),P=v.useCallback($=>{A(Zn({handler:y,reactEvent:$}))},[A,y]),V=v.useCallback($=>{A(Zn({handler:w,reactEvent:$}))},[A,w]),ie=v.useCallback($=>{C&&A(cz($)),A(Zn({handler:S,reactEvent:$}))},[A,C,S]),W=v.useCallback($=>{A(Zn({handler:x,reactEvent:$}))},[A,x]),je=Ode(O);return v.createElement(g$.Provider,{value:M},v.createElement(eW.Provider,{value:T},v.createElement(je,{width:K??_?.width,height:F??_?.height,className:pt("recharts-wrapper",n),style:xde({position:"relative",cursor:"default",width:K,height:F},_),onClick:J,onContextMenu:D,onDoubleClick:H,onFocus:re,onKeyDown:X,onMouseDown:Q,onMouseEnter:L,onMouseLeave:R,onMouseMove:q,onMouseUp:P,onTouchEnd:W,onTouchMove:ie,onTouchStart:V,ref:se},v.createElement(_de,null),r)))}),Tde=["width","height","responsive","children","className","style","compact","title","desc"];function kde(e,t){if(e==null)return{};var r,n,a=Pde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mz=v.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:c,style:u,compact:f,title:h,desc:m}=e,g=kde(e,Tde),y=xa(g);return f?v.createElement(v.Fragment,null,v.createElement(lg,{width:r,height:n}),v.createElement(rP,{otherAttributes:y,title:h,desc:m},s)):v.createElement(Ade,{className:c,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(rP,{otherAttributes:y,title:h,desc:m,ref:t},v.createElement(Jce,null,s)))});function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}var Rde={top:5,right:5,bottom:5,left:5},Dde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Rde,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Mde=v.forwardRef(function(t,r){var n,a=Vr(t.categoricalChartProps,Dde),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(dz,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},v.createElement(Y$,{chartData:h.data}),v.createElement(fz,{layout:a.layout,margin:a.margin}),v.createElement(hz,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(mz,Tw({},a,{ref:r})))}),Ide=["axis","item"],kw=v.forwardRef((e,t)=>v.createElement(Mde,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ide,tooltipPayloadSearcher:v$,categoricalChartProps:e,ref:t}));function Lde(e){var t=zt();return v.useEffect(()=>{t(ide(e))},[t,e]),null}var $de=["layout"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(null,arguments)}function zde(e,t){if(e==null)return{};var r,n,a=Ude(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ude(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bde={top:5,right:5,bottom:5,left:5},pz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bde,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qde=v.forwardRef(function(t,r){var n,a=Vr(t.categoricalChartProps,pz),{layout:s}=a,c=zde(a,$de),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return v.createElement(dz,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},v.createElement(Y$,{chartData:a.data}),v.createElement(fz,{layout:s,margin:a.margin}),v.createElement(hz,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(Lde,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),v.createElement(mz,Pw({},c,{ref:r})))});function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){Fde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fde(e,t,r){return(t=Hde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hde(e){var t=Vde(e,"string");return typeof t=="symbol"?t:t+""}function Vde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kde=["item"],Gde=iP(iP({},pz),{},{layout:"centric",startAngle:0,endAngle:360}),Rw=v.forwardRef((e,t)=>{var r=Vr(e,Gde);return v.createElement(qde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Kde,tooltipPayloadSearcher:v$,categoricalChartProps:r,ref:t})});function Wde(){const{orders:e,expenses:t,addExpense:r,deleteExpense:n}=Hr(),{t:a}=or(),[s,c]=v.useState(!1),[u,f]=v.useState({description:"",amount:"",category:"Other",date:new Date().toISOString().split("T")[0]}),[h,m]=v.useState(1),[g,y]=v.useState({id:"",customer:"",date:"",paymentMethod:""}),[x,S]=v.useState(null),[w,_]=v.useState(!1),E=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],O=e.filter(R=>R.status==="Closed").reduce((R,q)=>R+q.total,0),C=t.reduce((R,q)=>R+q.amount,0),I=O-C,A=e.filter(R=>R.status==="Closed"&&R.paymentMethod).reduce((R,q)=>{const re=q.paymentMethod;return R[re]=(R[re]||0)+q.total,R},{}),M=Object.entries(A).map(([R,q])=>({name:a(R.toLowerCase())||R,value:q})),N=e.filter(R=>R.status==="Closed").reduce((R,q)=>{const re=q.orderType||"dine_in";return R[re]=(R[re]||0)+q.total,R},{}),T=Object.entries(N).map(([R,q])=>({name:a(R==="dine_in"?"dineIn":R)||R,value:q})),U=t.reduce((R,q)=>(R[q.category]=(R[q.category]||0)+q.amount,R),{}),G=Object.entries(U).map(([R,q])=>({name:R,value:q})),B=v.useMemo(()=>{try{let R=e.filter(q=>q&&q.status==="Closed");return R.sort((q,re)=>{try{let X=0,D=0;if(q.closedAt){const H=new Date(q.closedAt);isNaN(H.getTime())||(X=H.getTime())}if(re.closedAt){const H=new Date(re.closedAt);isNaN(H.getTime())||(D=H.getTime())}if(X===0&&q.time)try{if(q.time.includes(",")){const[H]=q.time.split(","),Q=H.trim().split("/");if(Q.length===3){const[P,V,ie]=Q,W=new Date(parseInt(ie),parseInt(V)-1,parseInt(P));isNaN(W.getTime())||(X=W.getTime())}}else{const H=new Date(q.time);isNaN(H.getTime())||(X=H.getTime())}}catch{}if(D===0&&re.time)try{if(re.time.includes(",")){const[H]=re.time.split(","),Q=H.trim().split("/");if(Q.length===3){const[P,V,ie]=Q,W=new Date(parseInt(ie),parseInt(V)-1,parseInt(P));isNaN(W.getTime())||(D=W.getTime())}}else{const H=new Date(re.time);isNaN(H.getTime())||(D=H.getTime())}}catch{}return D-X}catch(X){return console.error("Erro ao ordenar vendas:",X),0}}),g.id&&(R=R.filter(q=>q&&q.id&&q.id.toLowerCase().includes(g.id.toLowerCase()))),g.customer&&(R=R.filter(q=>q&&q.customer&&q.customer.toLowerCase().includes(g.customer.toLowerCase()))),g.date&&(R=R.filter(q=>{try{let re="";if(q.closedAt){const X=new Date(q.closedAt);isNaN(X.getTime())||(re=X.toISOString().split("T")[0])}else if(q.time)try{if(q.time.includes(",")){const[X]=q.time.split(","),D=X.trim().split("/");if(D.length===3){const[H,Q,P]=D;re=`${P}-${Q.padStart(2,"0")}-${H.padStart(2,"0")}`}}else{const X=new Date(q.time);isNaN(X.getTime())||(re=X.toISOString().split("T")[0])}}catch{}return re===g.date}catch{return!1}})),g.paymentMethod&&(R=R.filter(q=>q&&q.paymentMethod===g.paymentMethod)),R}catch(R){return console.error("Erro ao processar vendas:",R),[]}},[e,g]),K=20,F=v.useMemo(()=>{try{return Math.ceil((B?.length||0)/K)||1}catch{return 1}},[B]),se=v.useMemo(()=>{try{if(!B||B.length===0)return[];const R=(h-1)*K,q=R+K;return B.slice(R,q)}catch(R){return console.error("Erro ao paginar vendas:",R),[]}},[B,h]),J=(R,q)=>{y(re=>({...re,[R]:q})),m(1)},L=async()=>{if(!(!u.description||!u.amount))try{const R=await r({description:u.description,amount:parseFloat(u.amount),category:u.category,date:u.date});R.success?(f({description:"",amount:"",category:"Other",date:new Date().toISOString().split("T")[0]}),c(!1)):alert(`Failed to add expense: ${R.error}`)}catch{alert("An unexpected error occurred")}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:a("finance")}),l.jsx("p",{className:"text-muted-foreground",children:a("settingsDescription")})]}),l.jsxs(HG,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(SI,{children:[l.jsx(em,{value:"overview",children:a("overview")}),l.jsx(em,{value:"sales",children:a("sales")}),l.jsx(em,{value:"expenses",children:a("expenses")})]}),l.jsxs(tm,{value:"overview",className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:a("revenue")}),l.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:ge(O)})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:a("expenses")}),l.jsx(wq,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:ge(C)})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:a("netProfit")}),l.jsx(_p,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:`text-2xl font-bold ${I>=0?"text-green-600":"text-red-600"}`,children:ge(I)})})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(Ne,{className:"col-span-1",children:[l.jsx(Ae,{children:l.jsx(Ie,{children:a("salesByPaymentMethod")})}),l.jsx(Ce,{className:"h-[300px]",children:l.jsx(rc,{width:"100%",height:"100%",children:l.jsxs(Rw,{children:[l.jsx(lp,{data:M,cx:"50%",cy:"50%",labelLine:!1,label:({name:R,percent:q})=>`${R} ${(q?q*100:0).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:M.map((R,q)=>l.jsx(Io,{fill:E[q%E.length]},`cell-${q}`))}),l.jsx(ac,{formatter:R=>ge(R)})]})})})]}),l.jsxs(Ne,{className:"col-span-1",children:[l.jsx(Ae,{children:l.jsx(Ie,{children:a("salesByOrderType")})}),l.jsx(Ce,{className:"h-[300px]",children:l.jsx(rc,{width:"100%",height:"100%",children:l.jsxs(kw,{data:T,children:[l.jsx(mp,{strokeDasharray:"3 3"}),l.jsx(pp,{dataKey:"name"}),l.jsx(gp,{}),l.jsx(ac,{formatter:R=>ge(R)}),l.jsx(dp,{dataKey:"value",fill:"#82ca9d"})]})})})]})]})]}),l.jsxs(tm,{value:"sales",className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:a("salesByPaymentMethod")})}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-4",children:M&&M.length>0?M.map(R=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:R.name}),l.jsx("span",{children:ge(R.value)})]},R.name)):l.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum dado disponvel"})})})]}),l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:a("salesByOrderType")})}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-4",children:T&&T.length>0?T.map(R=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:R.name}),l.jsx("span",{children:ge(R.value)})]},R.name)):l.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum dado disponvel"})})})]})]}),l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ie,{children:"Vendas Realizadas"}),B.length>0&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",B.length," venda",B.length!==1?"s":""]})]})}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"filter-id",children:"Filtrar por ID"}),l.jsx(Ee,{id:"filter-id",placeholder:"ID do pedido",value:g.id,onChange:R=>J("id",R.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"filter-customer",children:"Filtrar por Cliente"}),l.jsx(Ee,{id:"filter-customer",placeholder:"Nome do cliente",value:g.customer,onChange:R=>J("customer",R.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"filter-date",children:"Filtrar por Data"}),l.jsx(Ee,{id:"filter-date",type:"date",value:g.date,onChange:R=>J("date",R.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"filter-payment",children:"Mtodo de Pagamento"}),l.jsxs(Qe,{value:g.paymentMethod||"all",onValueChange:R=>J("paymentMethod",R==="all"?"":R),children:[l.jsx(Ye,{id:"filter-payment",children:l.jsx(Je,{placeholder:"Todos"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"all",children:"Todos"}),l.jsx(_e,{value:"Cash",children:"Dinheiro"}),l.jsx(_e,{value:"Card",children:"Carto"}),l.jsx(_e,{value:"PIX",children:"PIX"}),l.jsx(_e,{value:"Voucher",children:"Vale"})]})]})]})]}),(g.id||g.customer||g.date||g.paymentMethod)&&l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>{y({id:"",customer:"",date:"",paymentMethod:""}),m(1)},className:"w-full sm:w-auto",children:[l.jsx(cm,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]}),l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsx("div",{className:"max-h-[600px] overflow-auto",children:se.length===0?l.jsx("div",{className:"p-8 text-center text-muted-foreground",children:B.length===0?"Nenhuma venda encontrada":"Nenhuma venda encontrada com os filtros aplicados"}):l.jsx("div",{className:"divide-y",children:se.map(R=>{if(!R)return null;let q=R.time||"";try{if(R.closedAt){const X=new Date(R.closedAt);isNaN(X.getTime())||(q=X.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))}else R.time&&(q=R.time)}catch(X){console.error("Erro ao formatar data:",X),q=R.time||"Data no disponvel"}const re=R.paymentMethod==="Cash"?"Dinheiro":R.paymentMethod==="Card"?"Carto":R.paymentMethod==="PIX"?"PIX":R.paymentMethod==="Voucher"?"Vale":R.paymentMethod||"";return l.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{S(R),_(!0)},children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"font-mono font-semibold text-sm",children:["ID: ",R.id||"N/A"]}),R.paymentMethod&&l.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-full",children:re})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:R.customer||"Cliente no informado"}),R.table&&l.jsxs("span",{className:"ml-2",children:[" Mesa: ",R.table]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[q,R.items&&R.items.length>0&&l.jsxs("span",{className:"ml-2",children:[" ",R.items.length," ",R.items.length===1?"item":"itens"]})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),l.jsx("div",{className:"text-lg font-bold text-primary",children:ge(R.total||0)})]})})]})},R.id||Math.random())})})})}),B.length>0&&l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(h-1)*K+1," a ",Math.min(h*K,B.length)," de ",B.length," vendas"]}),F>1&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>m(R=>Math.max(1,R-1)),disabled:h===1,children:[l.jsx(Vw,{className:"h-4 w-4"}),"Anterior"]}),l.jsxs("span",{className:"text-sm font-medium",children:["Pgina ",h," de ",F]}),l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>m(R=>Math.min(F,R+1)),disabled:h===F,children:["Prxima",l.jsx(Hw,{className:"h-4 w-4"})]})]})]})]})]}),l.jsx(Jr,{open:w,onOpenChange:_,children:l.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:"Detalhes da Venda"}),l.jsx(Dn,{children:"Informaes completas da venda realizada"})]}),x&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"ID do Pedido"}),l.jsx("p",{className:"font-mono font-bold text-lg",children:x.id})]}),l.jsxs("div",{className:"text-right",children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"Total"}),l.jsx("p",{className:"font-bold text-2xl text-primary",children:ge(x.total||0)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"Cliente"}),l.jsx("p",{className:"font-medium",children:x.customer||"No informado"})]}),x.table&&l.jsxs("div",{children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"Mesa"}),l.jsx("p",{className:"font-medium",children:x.table})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"Tipo de Pedido"}),l.jsx("p",{className:"font-medium",children:x.orderType==="dine_in"?"Mesa":x.orderType==="takeout"?"Retirada":x.orderType==="delivery"?"Delivery":x.orderType})]}),x.paymentMethod&&l.jsxs("div",{children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"Mtodo de Pagamento"}),l.jsx("p",{className:"font-medium",children:x.paymentMethod==="Cash"?"Dinheiro":x.paymentMethod==="Card"?"Carto":x.paymentMethod==="PIX"?"PIX":x.paymentMethod==="Voucher"?"Vale":x.paymentMethod})]})]}),l.jsxs("div",{children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"Data e Hora"}),l.jsx("p",{className:"font-medium",children:(()=>{try{if(x.closedAt){const R=new Date(x.closedAt);if(!isNaN(R.getTime()))return R.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}return x.time||"Data no disponvel"}catch{return x.time||"Data no disponvel"}})()})]}),x.notes&&l.jsxs("div",{children:[l.jsx(oe,{className:"text-xs text-muted-foreground",children:"Observaes"}),l.jsx("p",{className:"font-medium",children:x.notes})]})]}),l.jsxs("div",{children:[l.jsx(oe,{className:"text-sm font-semibold mb-3 block",children:"Itens do Pedido"}),l.jsx("div",{className:"border rounded-lg divide-y",children:x.items&&x.items.length>0?x.items.map((R,q)=>l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:R.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[ge(R.price)," x ",R.quantity]})]}),l.jsx("div",{className:"text-right",children:l.jsx("p",{className:"font-bold",children:ge(R.price*R.quantity)})})]},q)):l.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Nenhum item encontrado"})})]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),l.jsx("span",{className:"font-medium",children:ge(x.items?.reduce((R,q)=>R+q.price*q.quantity,0)||0)})]}),x.order_discount_type&&x.order_discount_value&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:["Desconto (",x.order_discount_type==="fixed"?"Fixo":"Percentual","):"]}),l.jsxs("span",{className:"font-medium text-red-600",children:["- ",x.order_discount_type==="fixed"?ge(x.order_discount_value):`${x.order_discount_value}%`]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{className:"text-primary",children:ge(x.total||0)})]})]})})]}),l.jsx(mn,{children:l.jsx(we,{variant:"outline",onClick:()=>_(!1),children:"Fechar"})})]})})]}),l.jsxs(tm,{value:"expenses",className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium",children:a("expenses")}),l.jsxs(Jr,{open:s,onOpenChange:c,children:[l.jsx(bo,{asChild:!0,children:l.jsxs(we,{children:[l.jsx(pn,{className:"mr-2 h-4 w-4"})," ",a("addExpense")]})}),l.jsxs(zr,{children:[l.jsx(Ur,{children:l.jsx(Br,{children:a("addExpense")})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{children:a("expenseDescription")}),l.jsx(Ee,{value:u.description,onChange:R=>f({...u,description:R.target.value})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{children:a("expenseAmount")}),l.jsx(Ee,{type:"number",value:u.amount,onChange:R=>f({...u,amount:R.target.value})})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{children:a("expenseCategory")}),l.jsxs(Qe,{value:u.category,onValueChange:R=>f({...u,category:R}),children:[l.jsx(Ye,{children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"Inventory",children:"Inventory"}),l.jsx(_e,{value:"Utilities",children:"Utilities"}),l.jsx(_e,{value:"Salaries",children:"Salaries"}),l.jsx(_e,{value:"Rent",children:"Rent"}),l.jsx(_e,{value:"Other",children:"Other"})]})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(oe,{children:a("expenseDate")}),l.jsx(Ee,{type:"date",value:u.date,onChange:R=>f({...u,date:R.target.value})})]})]}),l.jsx(mn,{children:l.jsx(we,{onClick:L,children:a("save")})})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Expenses by Category"})}),l.jsx(Ce,{className:"h-[300px]",children:l.jsx(rc,{width:"100%",height:"100%",children:l.jsxs(kw,{data:G,layout:"vertical",children:[l.jsx(mp,{strokeDasharray:"3 3"}),l.jsx(pp,{type:"number"}),l.jsx(gp,{dataKey:"name",type:"category",width:100}),l.jsx(ac,{formatter:R=>ge(R)}),l.jsx(dp,{dataKey:"value",fill:"#FF8042"})]})})})]}),l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Recent Expenses"})}),l.jsx(Ce,{className:"p-0",children:t.length===0?l.jsx("div",{className:"p-8 text-center text-muted-foreground",children:a("noExpenses")}):l.jsx("div",{className:"divide-y max-h-[300px] overflow-auto",children:t.map(R=>l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:R.description}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[R.category,"  ",new Date(R.date).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"font-bold",children:ge(R.amount)}),l.jsx(we,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>n(R.id),children:l.jsx(sc,{className:"h-4 w-4"})})]})]},R.id))})})]})]})]})]})]})}const Kh=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C"];function Yde(){const e=mr(),{orders:t,menuItems:r,categories:n,cancelOrder:a}=Hr(),{t:s}=or(),{profile:c,user:u}=Fa(),[f,h]=v.useState("all"),[m,g]=v.useState("all"),[y,x]=v.useState("bar"),[S,w]=v.useState(!1),[_,E]=v.useState(null),[O,C]=v.useState(""),[I,A]=v.useState(null),[M,N]=v.useState(!1),[T,U]=v.useState(1),G=20,B=v.useMemo(()=>{const P=new Date;let V=new Date(0);switch(f){case"today":V=new Date(P.getFullYear(),P.getMonth(),P.getDate());break;case"week":V=new Date(P.getTime()-10080*60*1e3);break;case"month":V=new Date(P.getFullYear(),P.getMonth(),1);break;case"year":V=new Date(P.getFullYear(),0,1);break}return t.filter(ie=>{if(ie.status!=="Closed")return!1;const W=ie.closedAt||ie.created_at;return W?new Date(W)>=V:!1})},[t,f]),K=v.useMemo(()=>{const P=new Map;B.forEach(ie=>{ie.items.forEach(W=>{const je=P.get(W.name);if(je)je.quantity+=W.quantity,je.revenue+=W.price*W.quantity;else{const $=r.find(ee=>ee.name===W.name);P.set(W.name,{name:W.name,quantity:W.quantity,revenue:W.price*W.quantity,category:$?.category||"Other"})}})});let V=Array.from(P.values());return m!=="all"&&(V=V.filter(ie=>ie.category===m)),V.sort((ie,W)=>W.revenue-ie.revenue)},[B,r,m]),F=v.useMemo(()=>{const P=new Map;return K.forEach(V=>{const ie=P.get(V.category);ie?(ie.value+=V.quantity,ie.revenue+=V.revenue):P.set(V.category,{name:V.category,value:V.quantity,revenue:V.revenue})}),Array.from(P.values()).sort((V,ie)=>ie.revenue-V.revenue)},[K]),se=K.reduce((P,V)=>P+V.revenue,0),J=K.reduce((P,V)=>P+V.quantity,0),L=v.useMemo(()=>{const P=new Date;let V=new Date(0);switch(f){case"today":V=new Date(P.getFullYear(),P.getMonth(),P.getDate());break;case"week":V=new Date(P.getTime()-10080*60*1e3);break;case"month":V=new Date(P.getFullYear(),P.getMonth(),1);break;case"year":V=new Date(P.getFullYear(),0,1);break}return t.filter(ie=>{if(ie.status!=="Closed")return!1;const W=ie.closedAt||ie.created_at;return W?new Date(W)>=V:!1}).sort((ie,W)=>{const je=ie.closedAt||ie.created_at,$=W.closedAt||W.created_at;if(!je||!$)return 0;const ee=new Date(je).getTime();return new Date($).getTime()-ee})},[t,f]);v.useEffect(()=>{U(1)},[f]);const R=Math.ceil(L.length/G),q=v.useMemo(()=>{const P=(T-1)*G,V=P+G;return L.slice(P,V)},[L,T,G]),re=c&&(c.role==="admin"||c.role==="gerente"),X=P=>{if(!P)return null;switch(P){case"Cash":return l.jsx(Zl,{className:"h-4 w-4"});case"Card":return l.jsx(po,{className:"h-4 w-4"});case"Voucher":return l.jsx(Xl,{className:"h-4 w-4"});case"PIX":return l.jsx(Wl,{className:"h-4 w-4"})}},D=P=>{E(P),C(""),A(null),w(!0)},H=async()=>{if(!_||!O){A("Por favor, insira sua senha");return}if(!u){A("Usurio no autenticado");return}N(!0),A(null);try{let P=u.email||"";if(!P&&c){const{data:W}=await be.from("user_profiles").select("email").eq("id",u.id).single();W&&(P=W.email)}if(!P){A("No foi possvel verificar a senha"),N(!1);return}const{error:V}=await be.auth.signInWithPassword({email:P,password:O});if(V){A("Senha incorreta"),N(!1);return}const ie=await a(_);ie.success?(w(!1),E(null),C("")):A(ie.error||"Erro ao cancelar venda")}catch(P){console.error("Error cancelling order:",P),A(P.message||"Erro ao cancelar venda")}finally{N(!1)}},Q=_?t.find(P=>P.id===_):null;return l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s("salesAnalysis")||"Sales Analysis"}),l.jsx("p",{className:"text-muted-foreground",children:s("salesByProduct")||"View sales data by product with filters"})]})}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:s("timePeriod")||"Time Period"}),l.jsx(cm,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsxs(Qe,{value:f,onValueChange:h,children:[l.jsx(Ye,{children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"all",children:s("allTime")||"All Time"}),l.jsx(_e,{value:"today",children:s("today")||"Today"}),l.jsx(_e,{value:"week",children:s("thisWeek")||"This Week"}),l.jsx(_e,{value:"month",children:s("thisMonth")||"This Month"}),l.jsx(_e,{value:"year",children:s("thisYear")||"This Year"})]})]})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:s("category")||"Category"}),l.jsx(cm,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsxs(Qe,{value:m,onValueChange:g,children:[l.jsx(Ye,{children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"all",children:s("allCategories")||"All Categories"}),n.map(P=>l.jsx(_e,{value:P.name,children:P.name},P.id))]})]})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:s("chartType")||"Chart Type"}),l.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsxs(Qe,{value:y,onValueChange:P=>x(P),children:[l.jsx(Ye,{children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"bar",children:s("barChart")||"Bar Chart"}),l.jsx(_e,{value:"pie",children:s("pieChart")||"Pie Chart"})]})]})})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:s("totalRevenue")||"Total Revenue"}),l.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:ge(se)})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:s("totalItems")||"Total Items Sold"}),l.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:J})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:s("uniqueProducts")||"Unique Products"}),l.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:K.length})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ie,{className:"text-sm font-medium",children:s("avgOrderValue")||"Avg Revenue per Item"}),l.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:J>0?ge(se/J):ge(0)})})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(Ne,{className:"col-span-1",children:[l.jsx(Ae,{children:l.jsx(Ie,{children:s("productSales")||"Product Sales"})}),l.jsx(Ce,{children:l.jsx("div",{className:"h-[400px]",children:y==="bar"?l.jsx(rc,{width:"100%",height:"100%",children:l.jsxs(kw,{data:K.slice(0,10),children:[l.jsx(mp,{strokeDasharray:"3 3"}),l.jsx(pp,{dataKey:"name",angle:-45,textAnchor:"end",height:100,fontSize:12}),l.jsx(gp,{}),l.jsx(ac,{formatter:(P,V)=>[V==="revenue"?ge(P):P,V==="revenue"?"Revenue":"Quantity"]}),l.jsx(dp,{dataKey:"revenue",fill:"#8884d8"})]})}):l.jsx(rc,{width:"100%",height:"100%",children:l.jsxs(Rw,{children:[l.jsx(lp,{data:K.slice(0,8),cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:V})=>`${P} ${((V||0)*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"revenue",children:K.slice(0,8).map((P,V)=>l.jsx(Io,{fill:Kh[V%Kh.length]},`cell-${V}`))}),l.jsx(ac,{formatter:P=>ge(P)})]})})})})]}),l.jsxs(Ne,{className:"col-span-1",children:[l.jsx(Ae,{children:l.jsx(Ie,{children:s("categoryDistribution")||"Category Distribution"})}),l.jsx(Ce,{children:l.jsx("div",{className:"h-[400px]",children:l.jsx(rc,{width:"100%",height:"100%",children:l.jsxs(Rw,{children:[l.jsx(lp,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:V})=>`${P} ${((V||0)*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"revenue",children:F.map((P,V)=>l.jsx(Io,{fill:Kh[V%Kh.length]},`cell-${V}`))}),l.jsx(ac,{formatter:P=>ge(P)})]})})})})]})]}),l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:s("topProducts")||"Top Products"})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-4",children:[K.slice(0,10).map((P,V)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium",children:V+1})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:P.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:P.category})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium",children:ge(P.revenue)}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.quantity," units"]})]})]},P.name)),K.length===0&&l.jsx("div",{className:"text-center text-muted-foreground py-8",children:s("noSalesData")||"No sales data available for the selected period"})]})})]}),l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ie,{children:"Vendas Realizadas"}),L.length>0&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",L.length," venda",L.length!==1?"s":""]})]})}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-4",children:L.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhuma venda encontrada para o perodo selecionado"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"ID"}),l.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Cliente"}),l.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Data/Hora"}),l.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Status Pagamento"}),l.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Mtodo Pagamento"}),l.jsx("th",{className:"text-right py-2 px-4 font-medium",children:"Total"}),re&&l.jsx("th",{className:"text-center py-2 px-4 font-medium",children:"Aes"})]})}),l.jsx("tbody",{children:q.map(P=>l.jsxs("tr",{className:"border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>e(`/orders/${P.id}`),children:[l.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:P.id}),l.jsx("td",{className:"py-3 px-4",children:P.customer}),l.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:P.closedAt?new Date(P.closedAt).toLocaleString("pt-BR"):P.created_at?new Date(P.created_at).toLocaleString("pt-BR"):P.time}),l.jsx("td",{className:"py-3 px-4",children:P.status==="Closed"&&P.paymentMethod?l.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[l.jsx(Es,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:"Pago"})]}):l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx("td",{className:"py-3 px-4",children:P.paymentMethod?l.jsxs("div",{className:"flex items-center gap-2",children:[X(P.paymentMethod),l.jsx("span",{children:s(P.paymentMethod.toLowerCase())||P.paymentMethod})]}):l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx("td",{className:"py-3 px-4 text-right font-medium",children:ge(P.total)}),re&&l.jsx("td",{className:"py-3 px-4 text-center",onClick:V=>V.stopPropagation(),children:l.jsxs(we,{variant:"destructive",size:"sm",onClick:()=>D(P.id),children:[l.jsx(bd,{className:"h-4 w-4 mr-1"}),"Cancelar"]})})]},P.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(T-1)*G+1," a ",Math.min(T*G,L.length)," de ",L.length," venda",L.length!==1?"s":""]}),R>1&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>U(P=>Math.max(1,P-1)),disabled:T===1,children:[l.jsx(Vw,{className:"h-4 w-4"}),"Anterior"]}),l.jsxs("div",{className:"text-sm font-medium",children:["Pgina ",T," de ",R]}),l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>U(P=>Math.min(R,P+1)),disabled:T===R,children:["Prxima",l.jsx(Hw,{className:"h-4 w-4"})]})]})]})]})})})]}),l.jsx(Jr,{open:S,onOpenChange:w,children:l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:"Cancelar Venda"}),l.jsx(Dn,{children:Q&&l.jsxs(l.Fragment,{children:["Tem certeza que deseja cancelar a venda ",l.jsx("strong",{children:Q.id}),"?",l.jsx("br",{}),"Valor: ",ge(Q.total),l.jsx("br",{}),"Cliente: ",Q.customer,l.jsx("br",{}),l.jsx("br",{}),"Para confirmar, insira sua senha de login:"]})})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"password",children:"Senha"}),l.jsx(Ee,{id:"password",type:"password",value:O,onChange:P=>{C(P.target.value),A(null)},placeholder:"Digite sua senha",disabled:M}),I&&l.jsx("p",{className:"text-sm text-destructive",children:I})]})}),l.jsxs(mn,{children:[l.jsx(we,{variant:"outline",onClick:()=>{w(!1),C(""),A(null),E(null)},disabled:M,children:"Cancelar"}),l.jsx(we,{variant:"destructive",onClick:H,disabled:M||!O,children:M?"Cancelando...":"Confirmar Cancelamento"})]})]})})]})}function Xde(){const{orders:e,updateOrderStatus:t,isDemoMode:r}=Hr(),{isOrderDisplayEnabled:n}=Sa(),[a,s]=v.useState(!1),[c,u]=v.useState(new Date),[f,h]=v.useState("connected");v.useEffect(()=>{if(r){const C=setInterval(()=>{console.log("Demo mode: Auto-refreshing orders..."),window.location.reload()},3e4);return()=>clearInterval(C)}},[r]);const m=e.filter(C=>C.status!=="Delivered"&&C.status!=="Closed"),g=async(C,I)=>{console.log(`Updating order ${C} to status: ${I}`),h("checking");try{const A=await t(C,I);console.log("Update result:",A),A.success?(u(new Date),h("connected"),console.log("Order status updated successfully")):(console.error("Failed to update order:",A.error),h("disconnected"))}catch(A){console.error("Error updating order status:",A),h("disconnected")}},y=async()=>{console.log("Manual refresh triggered"),s(!0),h("checking"),window.location.reload()},x=C=>{switch(C.toLowerCase()){case"pending":return"Preparing";case"preparing":return"Ready";case"ready":return"Delivered";default:return"Delivered"}},S=C=>{switch(C.toLowerCase()){case"pending":return{label:"Pendente",className:"bg-red-100 text-red-700 border-red-200",icon:dn,nextAction:"Preparar"};case"preparing":return{label:"Preparando",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:dn,nextAction:"Pronto"};case"ready":return{label:"Pronto",className:"bg-green-100 text-green-700 border-green-200",icon:Es,nextAction:"Entregar"};default:return{label:C,className:"bg-gray-100 text-gray-700 border-gray-200",icon:dn,nextAction:"Entregar"}}},w=C=>{switch(C){case"delivery":return um;case"pickup":return pa;default:return ic}},_=C=>{switch(C){case"delivery":return"Delivery";case"pickup":return"Retirada";default:return"Mesa"}};if(!n)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs(Ne,{className:"w-full max-w-md",children:[l.jsx(Ae,{children:l.jsx(Ie,{className:"text-center",children:"Tela de Pedidos Desativada"})}),l.jsxs(Ce,{className:"text-center",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Esta funcionalidade est desativada. Ative-a nas configuraes para usar a tela dedicada de pedidos."}),l.jsx(we,{onClick:()=>window.history.back(),children:"Voltar"})]})]})});const E=()=>{switch(f){case"connected":return l.jsx(IP,{className:"w-4 h-4 text-green-500"});case"checking":return l.jsx(Yl,{className:"w-4 h-4 text-blue-500 animate-spin"});case"disconnected":return l.jsx(MP,{className:"w-4 h-4 text-red-500"})}},O=()=>{switch(f){case"connected":return r?"Modo Demo - Auto-refresh 30s":"Conectado - Tempo Real";case"checking":return"Atualizando...";case"disconnected":return"Erro de conexo"}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tela de Pedidos"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Pedidos ativos  ltima atualizao: ",c.toLocaleTimeString()]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E(),l.jsx("span",{className:"text-gray-600",children:O()})]}),l.jsxs(fn,{variant:"outline",className:"text-lg px-3 py-1",children:[m.length," pedidos ativos"]}),l.jsx(we,{variant:"outline",size:"sm",onClick:y,disabled:a,children:l.jsx(Yl,{className:`w-4 h-4 ${a?"animate-spin":""}`})})]})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.length===0?l.jsx("div",{className:"text-center py-16",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx(Es,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum pedido ativo"}),l.jsx("p",{className:"text-gray-600",children:"Todos os pedidos foram concludos. "})]})}):l.jsx("div",{className:"grid grid-cols-2 gap-6",children:m.sort((C,I)=>new Date(C.time).getTime()-new Date(I.time).getTime()).map(C=>{const I=S(C.status),A=w(C.orderType||"dine_in"),M=I.icon,N=x(C.status);return l.jsxs(Ne,{className:"relative overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsx(Ae,{className:"pb-3",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full",children:l.jsxs("span",{className:"font-mono font-bold text-sm",children:["#",C.id]})}),l.jsxs(fn,{variant:"outline",className:`${I.className} text-sm`,children:[l.jsx(M,{className:"w-3 h-3 mr-1"}),I.label]})]})}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.customer}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[l.jsx(A,{className:"w-4 h-4"}),_(C.orderType||"dine_in"),C.table&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:["Mesa ",C.table]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Itens:"}),l.jsx("div",{className:"space-y-1",children:C.items.map((T,U)=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:"text-gray-600",children:[T.quantity,"x ",T.name]}),l.jsx("span",{className:"text-gray-900 font-medium",children:ge(T.price*T.quantity)})]},U))})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[l.jsx(dn,{className:"w-4 h-4 inline mr-1"}),C.time.split(" ")[1],"  ",C.time.split(" ")[0]]}),l.jsx("div",{className:"border-t pt-3",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:ge(C.total)})]})}),C.status!=="Delivered"&&C.status!=="Closed"&&l.jsxs(we,{onClick:()=>g(C.id,N),className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white",size:"lg",disabled:a||f==="checking",children:[f==="checking"?l.jsx(Yl,{className:"w-4 h-4 mr-2 animate-spin"}):null,I.nextAction]})]})]},C.id)})})})]})}function Zde(){const{orders:e,updateOrderStatus:t,isDemoMode:r}=Hr(),{isOrderDisplayEnabled:n}=Sa(),[a,s]=v.useState(!1),[c,u]=v.useState(new Date),[f,h]=v.useState("connected"),[m,g]=v.useState("all");v.useEffect(()=>{if(r){const N=setInterval(()=>{console.log("Demo mode: Auto-refreshing orders..."),window.location.reload()},3e4);return()=>clearInterval(N)}},[r]);const y=e.filter(N=>{if(N.status==="Delivered"||N.status==="Closed")return!1;switch(m){case"pending":return N.status.toLowerCase()==="pending";case"preparing":return N.status.toLowerCase()==="preparing";case"ready":return N.status.toLowerCase()==="ready";default:return!0}}),x={all:e.filter(N=>N.status!=="Delivered"&&N.status!=="Closed").length,pending:e.filter(N=>N.status.toLowerCase()==="pending").length,preparing:e.filter(N=>N.status.toLowerCase()==="preparing").length,ready:e.filter(N=>N.status.toLowerCase()==="ready").length},S=async(N,T)=>{console.log(`Updating order ${N} to status: ${T}`),h("checking");try{const U=await t(N,T);console.log("Update result:",U),U.success?(u(new Date),h("connected"),console.log("Order status updated successfully")):(console.error("Failed to update order:",U.error),h("disconnected"))}catch(U){console.error("Error updating order status:",U),h("disconnected")}},w=async()=>{console.log("Manual refresh triggered"),s(!0),h("checking"),window.location.reload()},_=N=>{switch(N.toLowerCase()){case"pending":return"Preparing";case"preparing":return"Ready";case"ready":return"Delivered";default:return"Delivered"}},E=N=>{switch(N.toLowerCase()){case"pending":return{label:"Pendente",className:"bg-red-100 text-red-700 border-red-200",icon:dn,nextAction:"Preparar"};case"preparing":return{label:"Preparando",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:dn,nextAction:"Pronto"};case"ready":return{label:"Pronto",className:"bg-green-100 text-green-700 border-green-200",icon:Es,nextAction:"Entregar"};default:return{label:N,className:"bg-gray-100 text-gray-700 border-gray-200",icon:dn,nextAction:"Entregar"}}},O=N=>{switch(N){case"delivery":return um;case"pickup":return pa;default:return ic}},C=N=>{switch(N){case"delivery":return"Delivery";case"pickup":return"Retirada";default:return"Mesa"}},I=window.location!==window.parent.location;if(!n)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs(Ne,{className:"w-full max-w-md",children:[l.jsx(Ae,{children:l.jsx(Ie,{className:"text-center",children:"Tela de Pedidos Desativada"})}),l.jsxs(Ce,{className:"text-center",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Esta funcionalidade est desativada. Ative-a nas configuraes para usar a tela dedicada de pedidos."}),I?l.jsx(we,{onClick:()=>window.close(),children:"Fechar Janela"}):l.jsx(we,{onClick:()=>window.history.back(),children:"Voltar"})]})]})});const A=()=>{switch(f){case"connected":return l.jsx(IP,{className:"w-4 h-4 text-green-500"});case"checking":return l.jsx(Yl,{className:"w-4 h-4 text-blue-500 animate-spin"});case"disconnected":return l.jsx(MP,{className:"w-4 h-4 text-red-500"})}},M=()=>{switch(f){case"connected":return r?"Modo Demo - Auto-refresh 30s":"Conectado - Tempo Real";case"checking":return"Atualizando...";case"disconnected":return"Erro de conexo"}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tela de Pedidos"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Pedidos ativos  ltima atualizao: ",c.toLocaleTimeString()]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[A(),l.jsx("span",{className:"text-gray-600",children:M()})]}),l.jsxs(fn,{variant:"outline",className:"text-lg px-3 py-1",children:[x.all," pedidos ativos"]}),l.jsx(we,{variant:"outline",size:"lg",onClick:w,disabled:a,className:"touch-manipulation min-h-[48px] min-w-[48px]",children:l.jsx(Yl,{className:`w-5 h-5 ${a?"animate-spin":""}`})}),I&&l.jsx(we,{variant:"outline",size:"lg",onClick:()=>window.close(),className:"ml-2 touch-manipulation min-h-[48px] min-w-[48px]",children:"Fechar"})]})]})})}),l.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(cm,{className:"w-5 h-5 text-gray-500"}),l.jsx("span",{className:"font-medium text-gray-700",children:"Filtrar por Status:"})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsxs(we,{variant:m==="all"?"default":"outline",onClick:()=>g("all"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="all"?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"hover:bg-gray-50"}`,children:[l.jsx("span",{className:"font-semibold text-lg",children:x.all}),l.jsx("span",{className:"text-xs",children:"Todos"})]}),l.jsxs(we,{variant:m==="pending"?"default":"outline",onClick:()=>g("pending"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="pending"?"bg-red-600 hover:bg-red-700 text-white border-red-600":"hover:bg-gray-50"}`,children:[l.jsx("span",{className:"font-semibold text-lg",children:x.pending}),l.jsx("span",{className:"text-xs",children:"Pendente"})]}),l.jsxs(we,{variant:m==="preparing"?"default":"outline",onClick:()=>g("preparing"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="preparing"?"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-600":"hover:bg-gray-50"}`,children:[l.jsx("span",{className:"font-semibold text-lg",children:x.preparing}),l.jsx("span",{className:"text-xs",children:"Preparando"})]}),l.jsxs(we,{variant:m==="ready"?"default":"outline",onClick:()=>g("ready"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="ready"?"bg-green-600 hover:bg-green-700 text-white border-green-600":"hover:bg-gray-50"}`,children:[l.jsx("span",{className:"font-semibold text-lg",children:x.ready}),l.jsx("span",{className:"text-xs",children:"Pronto"})]})]})]})}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:y.length===0?l.jsx("div",{className:"text-center py-16",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx(Es,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),l.jsx("p",{className:"text-gray-600",children:m==="all"?"Todos os pedidos foram concludos. ":`No h pedidos com status "${m}".`})]})}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-2 gap-6",children:y.sort((N,T)=>new Date(N.time).getTime()-new Date(T.time).getTime()).map(N=>{const T=E(N.status),U=O(N.orderType||"dine_in"),G=T.icon,B=_(N.status);return l.jsxs(Ne,{className:"relative overflow-hidden hover:shadow-lg transition-shadow touch-manipulation",children:[l.jsx(Ae,{className:"pb-3",children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"bg-orange-500 text-white px-4 py-2 rounded-full flex-shrink-0",children:l.jsxs("span",{className:"font-mono font-bold text-base",children:["#",N.id]})}),l.jsxs(fn,{variant:"outline",className:`${T.className} text-sm px-3 py-1 flex-shrink-0`,children:[l.jsx(G,{className:"w-4 h-4 mr-1"}),T.label]})]})}),l.jsxs(Ce,{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:N.customer}),l.jsxs("div",{className:"flex items-center gap-3 text-base text-gray-600 mt-1",children:[l.jsx(U,{className:"w-5 h-5"}),C(N.orderType||"dine_in"),N.table&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:["Mesa ",N.table]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-base",children:"Itens:"}),l.jsx("div",{className:"space-y-2",children:N.items.map((K,F)=>l.jsxs("div",{className:"flex justify-between text-base py-1",children:[l.jsxs("span",{className:"text-gray-600 flex-1",children:[K.quantity,"x ",K.name]}),l.jsx("span",{className:"text-gray-900 font-medium ml-2",children:ge(K.price*K.quantity)})]},F))})]}),l.jsxs("div",{className:"text-base text-gray-500 py-2",children:[l.jsx(dn,{className:"w-4 h-4 inline mr-2"}),N.time.split(" ")[1],"  ",N.time.split(" ")[0]]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:ge(N.total)})]})}),N.status!=="Delivered"&&N.status!=="Closed"&&l.jsxs(we,{onClick:()=>S(N.id,B),className:"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white touch-manipulation min-h-[56px] text-base font-semibold",size:"lg",disabled:a||f==="checking",children:[f==="checking"?l.jsx(Yl,{className:"w-5 h-5 mr-3 animate-spin"}):null,T.nextAction]})]})]},N.id)})})})]})}function Qde(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState(!1),[c,u]=v.useState(null),{signIn:f}=Fa(),{t:h}=or(),m=mr(),g=async y=>{y.preventDefault(),u(null),s(!0);const x=await f(e,r);x.success?m("/"):u(x.error||"Erro ao fazer login"),s(!1)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs(Ne,{className:"w-full max-w-md",children:[l.jsxs(Ae,{className:"space-y-1 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(GR,{size:"md",showText:!0})}),l.jsx(Et,{children:h("loginDescription")||"Entre com suas credenciais para acessar o sistema"})]}),l.jsx(Ce,{children:l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c&&l.jsx("div",{className:"bg-destructive/10 text-destructive text-sm p-3 rounded-md",children:c}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"emailOrUsername",children:h("emailOrUsername")||"Email ou Nome de Usurio"}),l.jsx(Ee,{id:"emailOrUsername",type:"text",placeholder:h("emailOrUsernamePlaceholder")||"seu@email.com ou nomeusuario",value:e,onChange:y=>t(y.target.value),required:!0,disabled:a,autoComplete:"username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"password",children:h("password")||"Senha"}),l.jsx(Ee,{id:"password",type:"password",placeholder:h("passwordPlaceholder")||"",value:r,onChange:y=>n(y.target.value),required:!0,disabled:a,autoComplete:"current-password"})]}),l.jsx(we,{type:"submit",className:"w-full",disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(Gl,{className:"mr-2 h-4 w-4 animate-spin"}),h("loggingIn")||"Entrando..."]}):h("login")||"Entrar"})]})})]})})}const nb=e=>({id:e.id,menu_item_id:null,name:e.name,unit:e.unit??"UN",min_stock:e.min_stock??0,current_stock:e.current_stock??0,cost_price:e.cost_price,selling_price:e.price,category:e.category,image:e.image,description:e.description,status:e.status,is_cold:e.is_cold??null,discount_type:e.discount_type??null,discount_value:e.discount_value??null,discount_applies_to:e.discount_applies_to??null,product_type:e.product_type,ncm:e.ncm,cst_icms:e.cst_icms,cfop:e.cfop,icms_rate:e.icms_rate,ipi_rate:e.ipi_rate,ean_code:e.ean_code,created_at:e.created_at,updated_at:e.updated_at}),gz=v.createContext(void 0);function Jde({children:e}){const[t,r]=v.useState([]),[n,a]=v.useState([]),[s,c]=v.useState([]),[u,f]=v.useState(!0),[h,m]=v.useState(null),g=v.useCallback(async()=>{try{const{data:N,error:T}=await be.from("products").select("*").order("name");if(T)throw T;const U=(N||[]).map(nb);r(U)}catch(N){console.error("Error fetching products:",N),m(N.message||"Erro ao carregar itens de estoque")}},[]),y=v.useCallback(async()=>{try{const{data:N,error:T}=await be.from("purchase_invoices").select("*").order("invoice_date",{ascending:!1});if(T)throw T;a(N||[])}catch(N){console.error("Error fetching purchase invoices:",N),m(N.message||"Erro ao carregar notas fiscais")}},[]),x=v.useCallback(async N=>{try{let T=be.from("stock_movements").select("*").order("created_at",{ascending:!1});N&&(T=T.eq("product_id",N));const{data:U,error:G}=await T;if(G)throw G;c(U||[])}catch(T){console.error("Error fetching stock movements:",T),m(T.message||"Erro ao carregar movimentaes")}},[]),S=async N=>{try{const T={name:N.name,unit:N.unit||"UN",min_stock:N.min_stock??0,current_stock:N.current_stock??0,cost_price:N.cost_price??null,price:N.selling_price??null,category:N.category||null,description:N.description||null,status:N.status||null,product_type:N.product_type||null,ncm:N.ncm||null,cst_icms:N.cst_icms||null,cfop:N.cfop||null,icms_rate:N.icms_rate??null,ipi_rate:N.ipi_rate??null,ean_code:N.ean_code||null};N.image&&(T.image=N.image);const{data:U,error:G}=await be.from("products").insert(T).select().single();if(G){if(G.message?.includes("'image' column")){delete T.image;const{data:K,error:F}=await be.from("products").insert(T).select().single();if(F)throw F;const se=nb(K);return r(J=>[...J,se]),{success:!0,data:se}}throw G}const B=nb(U);return r(K=>[...K,B]),{success:!0,data:B}}catch(T){return console.error("Error adding inventory item:",T),{success:!1,error:T.message||"Erro ao adicionar item"}}},w=async(N,T)=>{try{const U={};T.name!==void 0&&(U.name=T.name),T.unit!==void 0&&(U.unit=T.unit),T.min_stock!==void 0&&(U.min_stock=T.min_stock),T.current_stock!==void 0&&(U.current_stock=T.current_stock),T.cost_price!==void 0&&(U.cost_price=T.cost_price??null),T.selling_price!==void 0&&(U.price=T.selling_price??null),T.category!==void 0&&(U.category=T.category||null),T.description!==void 0&&(U.description=T.description||null),T.status!==void 0&&(U.status=T.status||null),T.is_cold!==void 0&&(U.is_cold=T.is_cold??null),T.discount_type!==void 0&&(U.discount_type=T.discount_type||null),T.discount_value!==void 0&&(U.discount_value=T.discount_value??null),T.discount_applies_to!==void 0&&(U.discount_applies_to=T.discount_applies_to||null),T.product_type!==void 0&&(U.product_type=T.product_type||null),T.ncm!==void 0&&(U.ncm=T.ncm||null),T.cst_icms!==void 0&&(U.cst_icms=T.cst_icms||null),T.cfop!==void 0&&(U.cfop=T.cfop||null),T.icms_rate!==void 0&&(U.icms_rate=T.icms_rate??null),T.ipi_rate!==void 0&&(U.ipi_rate=T.ipi_rate??null),T.ean_code!==void 0&&(U.ean_code=T.ean_code||null),T.image!==void 0&&(U.image=T.image||null);const{error:G}=await be.from("products").update(U).eq("id",N);if(G){if(G.message?.includes("'image' column")){delete U.image;const{error:B}=await be.from("products").update(U).eq("id",N);if(B)throw B;return await g(),{success:!0}}throw G}return await g(),{success:!0}}catch(U){return console.error("Error updating inventory item:",U),{success:!1,error:U.message||"Erro ao atualizar item"}}},_=async N=>{try{const{error:T}=await be.from("products").delete().eq("id",N);if(T)throw T;return r(U=>U.filter(G=>G.id!==N)),{success:!0}}catch(T){return console.error("Error deleting product:",T),{success:!1,error:T.message||"Erro ao deletar item"}}},E=async N=>{try{const{data:{user:T}}=await be.auth.getUser(),{data:U,error:G}=await be.from("purchase_invoices").insert({invoice_number:N.invoice_number,invoice_series:N.invoice_series,nfe_key:N.nfe_key,supplier_name:N.supplier_name,supplier_cnpj:N.supplier_cnpj,supplier_address:N.supplier_address,invoice_date:N.invoice_date,total_amount:N.total_amount,xml_file_path:N.xml_file_path,xml_content:N.xml_content,notes:N.notes,created_by:T?.id||null}).select().single();if(G)throw G;const B=N.items.map(F=>({invoice_id:U.id,product_id:F.product_id,inventory_item_id:F.product_id,product_name:F.product_name,quantity:F.quantity,unit:F.unit||"UN",unit_price:F.unit_price,total_price:F.total_price})),{error:K}=await be.from("invoice_items").insert(B);if(K)throw K;for(const F of N.items){let se=F.product_id;if(!se){const{data:J}=await be.from("products").select("id").ilike("name",`%${F.product_name}%`).limit(1);J&&J.length>0&&(se=J[0].id)}se&&await I({product_id:se,movement_type:"entry",quantity:F.quantity,reference_id:U.id,reference_type:"invoice",notes:`Entrada via nota fiscal ${N.invoice_number}`})}return await y(),{success:!0,data:U}}catch(T){return console.error("Error adding purchase invoice:",T),{success:!1,error:T.message||"Erro ao adicionar nota fiscal"}}},O=async(N,T)=>{try{const{error:U}=await be.from("purchase_invoices").update(T).eq("id",N);if(U)throw U;return await y(),{success:!0}}catch(U){return console.error("Error updating purchase invoice:",U),{success:!1,error:U.message||"Erro ao atualizar nota fiscal"}}},C=async N=>{try{const{error:T}=await be.from("purchase_invoices").delete().eq("id",N);if(T)throw T;return a(U=>U.filter(G=>G.id!==N)),{success:!0}}catch(T){return console.error("Error deleting purchase invoice:",T),{success:!1,error:T.message||"Erro ao deletar nota fiscal"}}},I=async N=>{try{const{data:{user:T}}=await be.auth.getUser(),{data:U,error:G}=await be.from("stock_movements").insert({...N,created_by:T?.id||null}).select().single();if(G)throw G;return await g(),await x(N.product_id),{success:!0,data:U}}catch(T){return console.error("Error adding stock movement:",T),{success:!1,error:T.message||"Erro ao adicionar movimentao"}}},A=v.useCallback(N=>t.find(T=>T.id===N),[t]),M=v.useCallback(()=>t.filter(N=>N.current_stock<=N.min_stock),[t]);return v.useEffect(()=>{(async()=>{f(!0),await Promise.all([g(),y(),x()]),f(!1)})()},[g,y,x]),v.useEffect(()=>{const N=be.channel("stock-changes").on("postgres_changes",{event:"*",schema:"public",table:"products"},()=>{g()}).on("postgres_changes",{event:"*",schema:"public",table:"purchase_invoices"},()=>{y()}).on("postgres_changes",{event:"*",schema:"public",table:"stock_movements"},()=>{x()}).subscribe();return()=>{be.removeChannel(N)}},[g,y,x]),l.jsx(gz.Provider,{value:{inventoryItems:t,purchaseInvoices:n,stockMovements:s,isLoading:u,error:h,fetchInventoryItems:g,addInventoryItem:S,updateInventoryItem:w,deleteInventoryItem:_,fetchPurchaseInvoices:y,addPurchaseInvoice:E,updatePurchaseInvoice:O,deletePurchaseInvoice:C,fetchStockMovements:x,addStockMovement:I,getInventoryItemById:A,getLowStockItems:M},children:e})}function j1(){const e=v.useContext(gz);if(e===void 0)throw new Error("useStock must be used within a StockProvider");return e}function ms({children:e,requiredRole:t,requireAuth:r=!0}){const{user:n,profile:a,isLoading:s,hasPermission:c}=Fa(),{t:u}=or();if(s)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:u("loading")||"Carregando..."})]})});if(r&&!n)return l.jsx(yP,{to:"/login",replace:!0});if(t){if(!a)return l.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:l.jsxs(Ne,{className:"w-full max-w-md",children:[l.jsxs(Ae,{children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"rounded-full bg-destructive/10 p-3",children:l.jsx(sb,{className:"h-8 w-8 text-destructive"})})}),l.jsx(Ie,{className:"text-center",children:u("accessDenied")||"Acesso Negado"}),l.jsx(Et,{className:"text-center",children:u("accessDeniedMessage")||"Voc no tem permisso para acessar esta pgina"})]}),l.jsx(Ce,{className:"text-center",children:l.jsx(we,{onClick:()=>window.history.back(),children:u("back")||"Voltar"})})]})});if(!c(t))return l.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:l.jsxs(Ne,{className:"w-full max-w-md",children:[l.jsxs(Ae,{children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"rounded-full bg-destructive/10 p-3",children:l.jsx(sb,{className:"h-8 w-8 text-destructive"})})}),l.jsx(Ie,{className:"text-center",children:u("accessDenied")||"Acesso Negado"}),l.jsx(Et,{className:"text-center",children:u("accessDeniedMessage")||"Voc no tem permisso para acessar esta pgina"})]}),l.jsx(Ce,{className:"text-center",children:l.jsx(we,{onClick:()=>window.history.back(),children:u("back")||"Voltar"})})]})})}return l.jsx(l.Fragment,{children:e})}function efe(){const{id:e}=wp(),t=mr(),{tables:r,orders:n,closeTable:a,menuItems:s}=Hr(),{t:c}=or(),{settings:u}=Sa(),[f,h]=v.useState("Cash"),[m,g]=v.useState([]),[y,x]=v.useState(null),[S,w]=v.useState(null),[_,E]=v.useState(null),O=r.find(T=>T.id===Number(e)),C=n.filter(T=>T.table===O?.number&&T.status!=="Closed");v.useEffect(()=>{if(C.length===0)return;(async()=>{const U=C.flatMap(K=>K.items.map(F=>F.id).filter(F=>F!=null));if(U.length===0)return;const{data:G,error:B}=await be.from("products").select("*").in("id",U);!B&&G&&g(G)})()},[C,Zr]);const I=v.useMemo(()=>{let T=0;for(const U of C){let G=0;for(const B of U.items){const K=m.find(re=>re.id===B.id),F=s.find(re=>re.id===B.id),se=B.price,J=K?.discount_type||F?.discount_type,L=K?.discount_value||F?.discount_value,R=K?.discount_applies_to||F?.discount_applies_to,q=Yh(se,J,L,R,f);G+=q*B.quantity}if(U.order_discount_type&&U.order_discount_value!==null&&U.order_discount_value!==void 0&&U.order_discount_value>0){if(U.order_discount_type==="fixed")G=Math.max(0,G-U.order_discount_value);else if(U.order_discount_type==="percentage"){const B=G*U.order_discount_value/100;G=Math.max(0,G-B)}}T+=G}return T},[C,m,s,f]),A=v.useMemo(()=>I,[I]),M=v.useMemo(()=>{let T=A;if(y&&S!==null&&S>0){if(y==="fixed")T=Math.max(0,T-S);else if(y==="percentage"){const U=T*S/100;T=Math.max(0,T-U)}}return T},[A,y,S]);v.useEffect(()=>{if(y&&S!==null&&S>0){const T=Pa(y,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,A);T.isValid?E(null):E(T.errorMessage||null)}else E(null)},[y,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,A]);const N=async()=>{if(y&&S!==null&&S>0){const T=Pa(y,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,A);if(!T.isValid){alert(T.errorMessage||"Limite de desconto maior do que o permitido.");return}}if(O){const T=await a(O.id,f);T.success?t("/tables"):alert(`Failed to close table: ${T.error}`)}};return O?l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>t(`/tables/${e}`),children:l.jsx(La,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:[c("billForTable")," ",O.number]}),l.jsx("p",{className:"text-muted-foreground",children:c("consolidatedView")})]})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx("div",{className:"space-y-6",children:C.map(T=>l.jsxs(Ne,{children:[l.jsx(Ae,{className:"pb-2",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(Ie,{className:"text-base",children:[c("orderId"),": ",T.id]}),l.jsx("span",{className:"text-sm text-muted-foreground",children:T.time})]})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-2",children:[T.items.map(U=>{const G=m.find(R=>R.id===U.id),B=s.find(R=>R.id===U.id),K=G?.discount_type||B?.discount_type,F=G?.discount_value||B?.discount_value,se=G?.discount_applies_to||B?.discount_applies_to,J=Yh(U.price,K,F,se,f),L=K&&F&&se?.includes(f);return l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[U.quantity,"x ",U.name]}),l.jsx("div",{className:"flex flex-col items-end",children:L&&U.price!==J?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"line-through text-muted-foreground text-xs",children:ge(U.price*U.quantity)}),l.jsx("span",{className:"text-green-600 font-semibold",children:ge(J*U.quantity)})]}):l.jsx("span",{children:ge(J*U.quantity)})})]},U.id)}),(()=>{let U=T.items.reduce((K,F)=>{const se=m.find(R=>R.id===F.id),J=s.find(R=>R.id===F.id),L=Yh(F.price,se?.discount_type||J?.discount_type,se?.discount_value||J?.discount_value,se?.discount_applies_to||J?.discount_applies_to,f);return K+L*F.quantity},0);const G=U;if(T.order_discount_type&&T.order_discount_value!==null&&T.order_discount_value!==void 0&&T.order_discount_value>0){if(T.order_discount_type==="fixed")U=Math.max(0,U-T.order_discount_value);else if(T.order_discount_type==="percentage"){const K=U*T.order_discount_value/100;U=Math.max(0,U-K)}}const B=U<G;return l.jsxs("div",{className:"border-t pt-2 mt-2 space-y-1",children:[B&&l.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[l.jsx("span",{children:"Desconto do Pedido:"}),l.jsx("span",{children:T.order_discount_type==="fixed"?`-${ge(T.order_discount_value||0)}`:`-${ge(G*(T.order_discount_value||0)/100)}`})]}),l.jsxs("div",{className:"flex justify-between font-bold",children:[l.jsxs("span",{children:[c("subtotal"),":"]}),B?l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"line-through text-muted-foreground text-xs",children:ge(G)}),l.jsx("span",{className:"text-green-600",children:ge(U)})]}):l.jsx("span",{children:ge(U)})]})]})})()]})})]},T.id))}),l.jsx("div",{className:"space-y-6",children:l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:c("orderSummary")})}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[l.jsx("span",{children:c("totalAmountDue")}),l.jsx("div",{className:"flex flex-col items-end",children:(()=>{const T=C.reduce((G,B)=>G+B.total,0);return M<T?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"line-through text-muted-foreground text-base",children:ge(T)}),l.jsx("span",{className:"text-2xl text-green-600",children:ge(M)})]}):l.jsx("span",{className:"text-2xl",children:ge(M)})})()})]}),C.length>0?l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:c("paymentMethod")}),l.jsxs(Ao,{value:f,onValueChange:T=>h(T),className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[l.jsx(Zl,{className:"mb-3 h-6 w-6"}),c("cash")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[l.jsx(po,{className:"mb-3 h-6 w-6"}),c("card")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[l.jsx(Xl,{className:"mb-3 h-6 w-6"}),c("voucher")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[l.jsx(Wl,{className:"mb-3 h-6 w-6"}),c("pix")]})]})]})]}),l.jsxs(Jr,{children:[l.jsx(bo,{asChild:!0,children:l.jsx(we,{className:"w-full",size:"lg",children:c("closeTableAndPay")})}),l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:c("confirmPayment")}),l.jsxs(Dn,{children:[c("selectPaymentMethod")," ",ge(M),".",l.jsx("br",{}),c("closeTableWarning")]})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:c("paymentMethod")}),l.jsxs(Ao,{value:f,onValueChange:T=>h(T),className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Zl,{className:"mb-3 h-6 w-6"}),c("cash")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(po,{className:"mb-3 h-6 w-6"}),c("card")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Xl,{className:"mb-3 h-6 w-6"}),c("voucher")]})]}),l.jsxs("div",{children:[l.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),l.jsxs(oe,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[l.jsx(Wl,{className:"mb-3 h-6 w-6"}),c("pix")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{children:"Desconto no Pagamento"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Qe,{value:y||"none",onValueChange:T=>{if(T==="none")x(null),w(null),E(null);else if(x(T),S===null&&w(0),S!==null&&S>0){const U=Pa(T,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,A);E(U.isValid?null:U.errorMessage||null)}},children:[l.jsx(Ye,{className:"flex-1",children:l.jsx(Je,{placeholder:"Tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem desconto"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),y&&l.jsx(Ee,{type:"number",step:y==="fixed"?"0.01":"0.1",min:"0",max:y==="percentage"?"100":void 0,value:S||"",onChange:T=>{const U=T.target.value,G=U?parseFloat(U):null;if(w(G),G!==null&&G>0){const B=Pa(y,G,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,A);E(B.isValid?null:B.errorMessage||null)}else E(null)},placeholder:y==="fixed"?"0.00":"0",className:`flex-1 ${_?"border-red-500":""}`})]}),_&&l.jsx("div",{className:"text-sm text-red-600 mt-1",children:_})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),l.jsx("span",{children:ge(I)})]}),y&&S!==null&&S>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Desconto no Pagamento:"}),l.jsx("span",{children:y==="fixed"?`-${ge(S)}`:`-${ge(A*S/100)}`})]}),l.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[l.jsx("span",{children:"Total:"}),M<A?l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(A)}),l.jsx("span",{className:"text-green-600 text-lg",children:ge(M)})]}):l.jsx("span",{children:ge(M)})]})]})]}),l.jsx(mn,{children:l.jsx(we,{onClick:N,children:c("confirmPayment")})})]})]})]}):l.jsx("div",{className:"text-center text-muted-foreground py-4",children:c("noActiveOrders")})]})]})})]})]}):l.jsx("div",{children:c("tableNotFound")})}const vz=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-x-auto overflow-y-visible",children:l.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",e),...t})}));vz.displayName="Table";const yz=v.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:He("[&_tr]:border-b",e),...t}));yz.displayName="TableHeader";const xz=v.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",e),...t}));xz.displayName="TableBody";const tfe=v.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));tfe.displayName="TableFooter";const om=v.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));om.displayName="TableRow";const Hl=v.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Hl.displayName="TableHead";const uo=v.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));uo.displayName="TableCell";const rfe=v.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",e),...t}));rfe.displayName="TableCaption";const Rg=v.createContext(void 0),sP=({children:e})=>{const[t,r]=v.useState(!1),n=v.useRef(null),a=v.useRef(null);return v.useEffect(()=>{const s=c=>{n.current&&!n.current.contains(c.target)&&r(!1)};if(t)return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t]),l.jsx(Rg.Provider,{value:{open:t,setOpen:r,triggerRef:a},children:l.jsx("div",{ref:n,className:"relative",children:e})})},Dw=v.forwardRef(({className:e,children:t,onClick:r,asChild:n,...a},s)=>{const c=v.useContext(Rg);if(!c)throw new Error("DropdownMenuTrigger must be used within DropdownMenu");const u=h=>{c.setOpen(!c.open),r?.(h)},f=h=>{typeof s=="function"?s(h):s&&(s.current=h),c.triggerRef.current=h};return n&&v.isValidElement(t)?v.cloneElement(t,{ref:f,onClick:u,...a}):l.jsx("button",{ref:f,className:e,onClick:u,...a,children:t})});Dw.displayName="DropdownMenuTrigger";const Mw=v.forwardRef(({className:e,align:t="start",sideOffset:r=4,side:n,children:a,...s},c)=>{const u=v.useContext(Rg);if(!u)throw new Error("DropdownMenuContent must be used within DropdownMenu");const[f,h]=v.useState(null),m=v.useRef(null),g=v.useCallback(()=>{if(!u.triggerRef.current||!m.current)return;const y=u.triggerRef.current.getBoundingClientRect(),x=m.current.getBoundingClientRect(),S=window.innerHeight,w=window.innerWidth,_=x.width||150,E=x.height||100,O=S-y.bottom,C=y.top,I=O<E&&C>O,A=n||(I?"top":"bottom");let M;t==="end"?M=y.right-_:t==="center"?M=y.left+y.width/2-_/2:M=y.left,t==="end"?M=Math.max(8,M):t==="center"?(M<8&&(M=8),M+_>w-8&&(M=w-_-8)):M=Math.min(M,w-_-8);const N=A==="top"?y.top-E-r:y.bottom+r;h({top:N,left:M})},[u.triggerRef,t,n,r]);return v.useEffect(()=>{if(!u.open){h(null);return}if(!u.triggerRef.current)return;const y=u.triggerRef.current.getBoundingClientRect(),x=150,S=100,w=window.innerWidth,E=window.innerHeight-y.bottom,O=y.top,C=E<S&&O>E,I=n||(C?"top":"bottom");let A;t==="end"?A=y.right-x:t==="center"?A=y.left+y.width/2-x/2:A=y.left,t==="end"?A=Math.max(8,A):t==="center"?(A<8&&(A=8),A+x>w-8&&(A=w-x-8)):A=Math.min(A,w-x-8);const M=I==="top"?y.top-S-r:y.bottom+r;h({top:M,left:A});const N=setTimeout(()=>{g()},0);return()=>clearTimeout(N)},[u.open,u.triggerRef,t,n,r,g]),v.useEffect(()=>{if(!u.open||!m.current)return;const y=new ResizeObserver(()=>{g()});return y.observe(m.current),()=>{y.disconnect()}},[u.open,g]),u.open?l.jsx("div",{ref:y=>{typeof c=="function"?c(y):c&&(c.current=y),m.current=y},className:He("z-[9999] min-w-[8rem] overflow-hidden rounded-md border bg-background p-1 text-foreground shadow-lg","fixed",e),style:f?{top:`${f.top}px`,left:`${f.left}px`}:void 0,...s,children:a}):null});Mw.displayName="DropdownMenuContent";const Vu=v.forwardRef(({className:e,inset:t,onClick:r,...n},a)=>{const s=v.useContext(Rg),c=u=>{r?.(u),s?.setOpen(!1)};return l.jsx("div",{ref:a,className:He("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),onClick:c,...n})});Vu.displayName="DropdownMenuItem";const nfe=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:He("-mx-1 my-1 h-px bg-muted",e),...t}));nfe.displayName="DropdownMenuSeparator";function afe(){const e=mr(),{inventoryItems:t,deleteInventoryItem:r,isLoading:n}=j1(),{t:a}=or(),[s,c]=v.useState(""),[u,f]=v.useState("name"),[h,m]=v.useState("asc"),[g,y]=v.useState(1),x=12,S=v.useMemo(()=>t.filter(A=>!s||A.name.toLowerCase().includes(s.toLowerCase())||A.category?.toLowerCase().includes(s.toLowerCase())),[t,s]),w=v.useMemo(()=>[...S].sort((A,M)=>{let N,T;if(u==="name")N=(A.name??"").toString().toLowerCase(),T=(M.name??"").toString().toLowerCase();else if(u==="selling_price")N=A.selling_price??0,T=M.selling_price??0;else if(u==="current_stock")N=A.current_stock??0,T=M.current_stock??0;else if(u==="category")N=(A.category??"").toString().toLowerCase(),T=(M.category??"").toString().toLowerCase();else return 0;return N<T?h==="asc"?-1:1:N>T?h==="asc"?1:-1:0}),[S,u,h]),_=Math.ceil(w.length/x),E=w.slice((g-1)*x,g*x),O=A=>{u===A?m(h==="asc"?"desc":"asc"):(f(A),m("asc"))},C=async A=>{if(window.confirm("Tem certeza que deseja excluir este produto?")){const M=await r(A);M.success||alert(M.error||"Erro ao excluir produto")}},I=A=>A.current_stock!==null&&A.current_stock!==void 0?A.selling_price?l.jsx(fn,{variant:"default",children:"Produto"}):l.jsx(fn,{variant:"secondary",children:"Estoque"}):A.selling_price?l.jsx(fn,{variant:"outline",children:"Venda"}):l.jsx(fn,{variant:"secondary",children:"-"});return n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:a("loading")||"Carregando..."})]})}):l.jsxs("div",{className:"space-y-6 w-full max-w-full overflow-x-hidden",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 w-full",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:a("stockManagement")||"Controle de Estoque"}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[l.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-[300px] min-w-0",children:[l.jsx(Ww,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Ee,{placeholder:"Buscar produtos...",value:s,onChange:A=>{c(A.target.value),y(1)},className:"pl-9 w-full"})]}),l.jsxs(we,{className:"bg-primary hover:bg-primary/90 w-full sm:w-auto shrink-0",onClick:()=>e("/products/new"),children:[l.jsx(pn,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Adicionar Produto"}),l.jsx("span",{className:"sm:hidden",children:"Adicionar"})]})]})]}),l.jsx("div",{className:"hidden md:block border rounded-lg w-full overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(vz,{children:[l.jsx(yz,{children:l.jsxs(om,{children:[l.jsx(Hl,{className:"min-w-[200px]",children:"Item"}),l.jsx(Hl,{className:"cursor-pointer whitespace-nowrap",onClick:()=>O("selling_price"),children:l.jsxs("div",{className:"flex items-center gap-2",children:["Preo",l.jsx(rx,{className:"h-4 w-4"})]})}),l.jsx(Hl,{className:"cursor-pointer whitespace-nowrap",onClick:()=>O("current_stock"),children:l.jsxs("div",{className:"flex items-center gap-2",children:["Estoque",l.jsx(rx,{className:"h-4 w-4"})]})}),l.jsx(Hl,{className:"cursor-pointer whitespace-nowrap",onClick:()=>O("category"),children:l.jsxs("div",{className:"flex items-center gap-2",children:["Tipo",l.jsx(rx,{className:"h-4 w-4"})]})}),l.jsx(Hl,{className:"w-[50px]"})]})}),l.jsx(xz,{children:E.length===0?l.jsx(om,{children:l.jsx(uo,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Nenhum produto encontrado"})}):E.map(A=>l.jsxs(om,{children:[l.jsx(uo,{children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[A.image?l.jsx("img",{src:A.image,alt:A.name,className:"w-10 h-10 rounded-md object-cover shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-md bg-muted flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:A.name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:A.name}),A.category&&l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:A.category}),A.description&&l.jsx("div",{className:"text-xs text-muted-foreground truncate mt-1",children:A.description})]})]})}),l.jsx(uo,{className:"whitespace-nowrap",children:A.selling_price?ge(A.selling_price):"-"}),l.jsx(uo,{className:"whitespace-nowrap",children:A.current_stock!==null&&A.current_stock!==void 0?A.current_stock.toLocaleString("pt-BR"):""}),l.jsx(uo,{children:I(A)}),l.jsx(uo,{children:l.jsxs(sP,{children:[l.jsx(Dw,{asChild:!0,children:l.jsx(we,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(IC,{className:"h-4 w-4"})})}),l.jsxs(Mw,{align:"end",children:[l.jsxs(Vu,{onClick:()=>e(`/stock/edit/${A.id}`),children:[l.jsx(ob,{className:"h-4 w-4 mr-2"}),"Editar"]}),l.jsxs(Vu,{onClick:()=>C(A.id),className:"text-destructive",children:[l.jsx(sc,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},A.id))})]})})}),l.jsx("div",{className:"md:hidden space-y-3 w-full",children:E.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground border rounded-lg",children:"Nenhum produto encontrado"}):E.map(A=>l.jsxs("div",{className:"border rounded-lg p-4 space-y-3 w-full",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[A.image?l.jsx("img",{src:A.image,alt:A.name,className:"w-12 h-12 rounded-md object-cover shrink-0"}):l.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:A.name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-medium truncate",children:A.name}),A.category&&l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:A.category}),A.description&&l.jsx("div",{className:"text-xs text-muted-foreground truncate mt-1",children:A.description})]})]}),l.jsxs(sP,{children:[l.jsx(Dw,{asChild:!0,children:l.jsx(we,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:l.jsx(IC,{className:"h-4 w-4"})})}),l.jsxs(Mw,{align:"end",children:[l.jsxs(Vu,{onClick:()=>e(`/stock/edit/${A.id}`),children:[l.jsx(ob,{className:"h-4 w-4 mr-2"}),"Editar"]}),l.jsxs(Vu,{onClick:()=>C(A.id),className:"text-destructive",children:[l.jsx(sc,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Preo"}),l.jsx("span",{className:"font-medium",children:A.selling_price?ge(A.selling_price):"-"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Estoque"}),l.jsx("span",{className:"font-medium",children:A.current_stock!==null&&A.current_stock!==void 0?A.current_stock.toLocaleString("pt-BR"):""})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Tipo"}),I(A)]})]})]},A.id))}),_>1&&l.jsxs("div",{className:"flex items-center justify-center gap-2 w-full overflow-x-auto pb-2",children:[l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>y(A=>Math.max(1,A-1)),disabled:g===1,className:"shrink-0",children:[l.jsx(La,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),l.jsx("div",{className:"flex items-center gap-1 shrink-0",children:Array.from({length:_},(A,M)=>M+1).map(A=>A===1||A===_||A>=g-1&&A<=g+1?l.jsx(we,{variant:g===A?"default":"outline",size:"sm",onClick:()=>y(A),className:"w-10 shrink-0",children:A},A):A===g-2||A===g+2?l.jsx("span",{className:"px-2 shrink-0",children:"..."},A):null)}),l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>y(A=>Math.min(_,A+1)),disabled:g===_,className:"shrink-0",children:[l.jsx("span",{className:"hidden sm:inline",children:"Prxima"}),l.jsx(_B,{className:"h-4 w-4 ml-1 sm:ml-0"})]})]})]})}function ife(){const e=mr(),{addInventoryItem:t,isLoading:r}=j1(),{menuItems:n,categories:a,isLoading:s,addCategory:c}=Hr(),{t:u}=or(),[f,h]=v.useState(!1),[m,g]=v.useState(null),[y,x]=v.useState(!1),[S,w]=v.useState(!1),[_,E]=v.useState(""),[O,C]=v.useState(!1),[I,A]=v.useState(null),M="materialApoio/imagem-nao-disponivel.gif",[N,T]=v.useState({menu_item_id:null,name:"",unit:"UN",min_stock:0,current_stock:0,cost_price:null,selling_price:null,category:"",image:M,product_type:"",ncm:"",cst_icms:"",cfop:"",icms_rate:null,ipi_rate:null,ean_code:""}),U=n||[],G=a||[],B=[{value:"alimento",label:"Alimento"},{value:"bebida",label:"Bebida"},{value:"limpeza",label:"Limpeza"},{value:"embalagem",label:"Embalagem"},{value:"outros",label:"Outros"}],K=[{value:"00",label:"00 - Tributada integralmente"},{value:"10",label:"10 - Tributada e com cobrana do ICMS por substituio tributria"},{value:"20",label:"20 - Com reduo de base de clculo"},{value:"30",label:"30 - Isenta ou no tributada e com cobrana do ICMS por substituio tributria"},{value:"40",label:"40 - Isenta"},{value:"41",label:"41 - No tributada"},{value:"50",label:"50 - Suspenso"},{value:"51",label:"51 - Diferimento"},{value:"60",label:"60 - ICMS cobrado anteriormente por substituio tributria"},{value:"70",label:"70 - Com reduo de base de clculo e cobrana do ICMS por substituio tributria"},{value:"90",label:"90 - Outras"}],F=[{value:"1101",label:"1101 - Compra para industrializao"},{value:"1102",label:"1102 - Compra para comercializao"},{value:"1401",label:"1401 - Compra para industrializao em operao com produto sujeito ao regime de substituio tributria"},{value:"1403",label:"1403 - Compra para comercializao em operao com mercadoria sujeita ao regime de substituio tributria"},{value:"1551",label:"1551 - Compra de bem para o ativo imobilizado"},{value:"1556",label:"1556 - Compra de material para uso ou consumo"},{value:"1651",label:"1651 - Compra de combustvel ou lubrificante para industrializao"},{value:"1652",label:"1652 - Compra de combustvel ou lubrificante para comercializao"},{value:"1653",label:"1653 - Compra de combustvel ou lubrificante para consumo"}],se=[{value:0,label:"0% - Isento"},{value:7,label:"7% - Reduzida"},{value:12,label:"12% - Reduzida"},{value:18,label:"18% - Normal"},{value:25,label:"25% - Aumentada"}],J=D=>{if(!D||D==="none"){T(Q=>({...Q,menu_item_id:null}));return}const H=U.find(Q=>Q.id===parseInt(D));H&&T(Q=>({...Q,menu_item_id:H.id,name:H.name,selling_price:H.price,category:H.category,image:H.image||M}))},L=D=>{if(D==="add-new-category"){w(!0);return}T({...N,category:D==="none"?"":D})},R=async()=>{if(!_.trim()){A("Nome da categoria  obrigatrio");return}C(!0),A(null);try{const D=await c(_.trim());D.success?(T({...N,category:_.trim()}),E(""),A(null),w(!1)):A(D.error||"Erro ao criar categoria")}catch(D){A(D.message||"Erro ao criar categoria")}finally{C(!1)}},re=(()=>{if(!N.cost_price||!N.icms_rate)return null;const D=N.cost_price*N.icms_rate/100,H=N.ipi_rate?N.cost_price*N.ipi_rate/100:0,Q=N.cost_price+D+H;return{costPrice:N.cost_price,icmsValue:D,ipiValue:H,totalWithTaxes:Q}})(),X=async D=>{if(D.preventDefault(),g(null),x(!1),!N.name.trim()){g("Nome do produto  obrigatrio");return}if(N.min_stock<0){g("Estoque mnimo no pode ser negativo");return}if(N.current_stock<0){g("Estoque atual no pode ser negativo");return}if(N.icms_rate!==null&&(N.icms_rate<0||N.icms_rate>100)){g("Alquota de ICMS deve estar entre 0% e 100%");return}if(N.ipi_rate!==null&&(N.ipi_rate<0||N.ipi_rate>100)){g("Alquota de IPI deve estar entre 0% e 100%");return}h(!0);try{const H=await t({menu_item_id:N.menu_item_id,name:N.name,unit:N.unit,min_stock:N.min_stock,current_stock:N.current_stock,cost_price:N.cost_price,selling_price:N.selling_price,category:N.category||null,image:N.image||M,product_type:N.product_type||null,ncm:N.ncm||null,cst_icms:N.cst_icms||null,cfop:N.cfop||null,icms_rate:N.icms_rate,ipi_rate:N.ipi_rate,ean_code:N.ean_code||null});H.success?(x(!0),setTimeout(()=>{e("/stock")},1500)):g(H.error||"Erro ao adicionar item")}catch(H){g(H.message||"Erro ao adicionar item")}finally{h(!1)}};return r||s?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:u("loading")||"Carregando..."})]})}):l.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>e("/stock"),children:l.jsx(La,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:u("addInventoryItem")||"Adicionar Item ao Estoque"}),l.jsx("p",{className:"text-muted-foreground",children:u("addInventoryItemDescription")||"Cadastre um novo item no estoque com informaes fiscais completas"})]})]}),y&&l.jsx(Ne,{className:"border-green-200 bg-green-50",children:l.jsx(Ce,{className:"p-4",children:l.jsx("p",{className:"text-green-800 font-semibold",children:"Item adicionado com sucesso! Redirecionando..."})})}),l.jsxs("form",{onSubmit:X,className:"space-y-6",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes Bsicas do Produto"}),l.jsx(Et,{children:"Dados principais do item de estoque"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"menu_item",children:"Vincular a Item de Bebidas (Opcional)"}),l.jsxs(Qe,{value:N.menu_item_id?.toString()||"none",onValueChange:J,children:[l.jsx(Ye,{id:"menu_item",children:l.jsx(Je,{placeholder:"Selecione um item de bebidas ou deixe em branco"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Nenhum (criar item independente)"}),U.map(D=>l.jsx(_e,{value:D.id.toString(),children:D.name},D.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(oe,{htmlFor:"name",children:"Nome do Produto *"}),l.jsx(Ee,{id:"name",value:N.name,onChange:D=>T({...N,name:D.target.value}),required:!0,placeholder:"Ex: Arroz, Feijo, leo..."})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(oe,{htmlFor:"image",children:"URL da Imagem"}),l.jsx(Ee,{id:"image",value:N.image,onChange:D=>T({...N,image:D.target.value||M}),placeholder:"URL da imagem ou caminho do arquivo"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe em branco para usar a imagem padro. Se vincular a um item do menu, a imagem ser copiada automaticamente."}),N.image&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:N.image,alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onError:D=>{D.currentTarget.src=M}})})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"unit",children:"Unidade de Medida"}),l.jsx(Ee,{id:"unit",value:N.unit,onChange:D=>T({...N,unit:D.target.value}),placeholder:"UN, KG, L, etc"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"category",children:"Categoria"}),l.jsxs(Qe,{value:N.category||"none",onValueChange:L,children:[l.jsx(Ye,{id:"category",children:l.jsx(Je,{placeholder:"Selecione uma categoria"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem categoria"}),G.map(D=>l.jsx(_e,{value:D.name,children:D.name},D.id)),l.jsx(_e,{value:"add-new-category",className:"text-primary font-semibold",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pn,{className:"w-4 h-4"}),"Adicionar nova categoria..."]})})]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"min_stock",children:"Estoque Mnimo"}),l.jsx(Ee,{id:"min_stock",type:"number",min:"0",step:"0.01",value:N.min_stock,onChange:D=>T({...N,min_stock:parseFloat(D.target.value)||0})})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"current_stock",children:"Estoque Atual"}),l.jsx(Ee,{id:"current_stock",type:"number",min:"0",step:"0.01",value:N.current_stock,onChange:D=>T({...N,current_stock:parseFloat(D.target.value)||0})})]})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes de Preo"}),l.jsx(Et,{children:"Preos de custo e venda do produto"})]}),l.jsx(Ce,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cost_price",children:"Preo de Custo (R$)"}),l.jsx(Ee,{id:"cost_price",type:"number",min:"0",step:"0.01",value:N.cost_price||"",onChange:D=>T({...N,cost_price:D.target.value?parseFloat(D.target.value):null}),placeholder:"0.00"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"selling_price",children:"Preo de Venda (R$)"}),l.jsx(Ee,{id:"selling_price",type:"number",min:"0",step:"0.01",value:N.selling_price||"",onChange:D=>T({...N,selling_price:D.target.value?parseFloat(D.target.value):null}),placeholder:"0.00"})]})]})})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes Fiscais"}),l.jsx(Et,{children:"Dados necessrios para emisso de nota fiscal e clculo de impostos"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"product_type",children:"Tipo de Produto *"}),l.jsxs(Qe,{value:N.product_type,onValueChange:D=>T({...N,product_type:D}),children:[l.jsx(Ye,{id:"product_type",children:l.jsx(Je,{placeholder:"Selecione o tipo"})}),l.jsx(Xe,{children:B.map(D=>l.jsx(_e,{value:D.value,children:D.label},D.value))})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tipo determina a alquota de imposto aplicvel"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ncm",children:"NCM (Nomenclatura Comum do Mercosul)"}),l.jsx(Ee,{id:"ncm",value:N.ncm,onChange:D=>T({...N,ncm:D.target.value}),placeholder:"Ex: 1006.30.21",maxLength:8}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cdigo de 8 dgitos para classificao fiscal"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cst_icms",children:"CST ICMS (Cdigo de Situao Tributria)"}),l.jsxs(Qe,{value:N.cst_icms||"none",onValueChange:D=>T({...N,cst_icms:D==="none"?"":D}),children:[l.jsx(Ye,{id:"cst_icms",children:l.jsx(Je,{placeholder:"Selecione o CST"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No informado"}),K.map(D=>l.jsx(_e,{value:D.value,children:D.label},D.value))]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cfop",children:"CFOP (Cdigo Fiscal de Operaes)"}),l.jsxs(Qe,{value:N.cfop||"none",onValueChange:D=>T({...N,cfop:D==="none"?"":D}),children:[l.jsx(Ye,{id:"cfop",children:l.jsx(Je,{placeholder:"Selecione o CFOP"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No informado"}),F.map(D=>l.jsx(_e,{value:D.value,children:D.label},D.value))]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"icms_rate",children:"Alquota de ICMS (%)"}),l.jsxs(Qe,{value:N.icms_rate?.toString()||"none",onValueChange:D=>T({...N,icms_rate:D==="none"?null:parseFloat(D)}),children:[l.jsx(Ye,{id:"icms_rate",children:l.jsx(Je,{placeholder:"Selecione a alquota"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No informado"}),se.map(D=>l.jsx(_e,{value:D.value.toString(),children:D.label},D.value))]})]}),l.jsx(Ee,{className:"mt-2",type:"number",min:"0",max:"100",step:"0.01",value:N.icms_rate||"",onChange:D=>T({...N,icms_rate:D.target.value?parseFloat(D.target.value):null}),placeholder:"Ou digite um valor personalizado"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ipi_rate",children:"Alquota de IPI (%)"}),l.jsx(Ee,{id:"ipi_rate",type:"number",min:"0",max:"100",step:"0.01",value:N.ipi_rate||"",onChange:D=>T({...N,ipi_rate:D.target.value?parseFloat(D.target.value):null}),placeholder:"0.00 (opcional)"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Apenas para produtos industrializados"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ean_code",children:"Cdigo de Barras (EAN)"}),l.jsx(Ee,{id:"ean_code",value:N.ean_code,onChange:D=>T({...N,ean_code:D.target.value}),placeholder:"7891234567890",maxLength:13}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cdigo EAN-13 (13 dgitos)"})]})]}),re&&l.jsxs(Ne,{className:"bg-muted",children:[l.jsx(Ae,{children:l.jsx(Ie,{className:"text-base",children:"Clculo de Impostos"})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Preo de Custo:"}),l.jsx("span",{className:"font-medium",children:ge(re.costPrice)})]}),N.icms_rate!==null&&l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["ICMS (",N.icms_rate,"%):"]}),l.jsx("span",{className:"font-medium",children:ge(re.icmsValue)})]}),N.ipi_rate!==null&&N.ipi_rate>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["IPI (",N.ipi_rate,"%):"]}),l.jsx("span",{className:"font-medium",children:ge(re.ipiValue)})]}),l.jsxs("div",{className:"flex justify-between pt-2 border-t font-semibold",children:[l.jsx("span",{children:"Preo com Impostos:"}),l.jsx("span",{className:"text-lg",children:ge(re.totalWithTaxes)})]})]})})]})]})]}),m&&l.jsx(Ne,{className:"border-destructive",children:l.jsx(Ce,{className:"p-4",children:l.jsx("p",{className:"text-destructive",children:m})})}),l.jsx(Jr,{open:S,onOpenChange:w,children:l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:"Adicionar Nova Categoria"}),l.jsx(Dn,{children:"Digite o nome da nova categoria que deseja criar."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"new-category-name",children:"Nome da Categoria"}),l.jsx(Ee,{id:"new-category-name",value:_,onChange:D=>{E(D.target.value),A(null)},placeholder:"Ex: Bebidas, Limpeza, etc.",onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),R())},autoFocus:!0})]}),I&&l.jsx("p",{className:"text-sm text-destructive",children:I})]}),l.jsxs(mn,{children:[l.jsx(we,{variant:"outline",onClick:()=>{w(!1),E(""),A(null)},disabled:O,children:"Cancelar"}),l.jsx(we,{onClick:R,disabled:O||!_.trim(),children:O?"Criando...":"Criar Categoria"})]})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsxs(we,{type:"button",variant:"outline",onClick:()=>e("/stock"),children:[l.jsx(La,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),l.jsxs(we,{type:"submit",disabled:f||r,children:[l.jsx(Sp,{className:"w-4 h-4 mr-2"}),f?"Salvando...":"Salvar Item"]})]})]})]})}const Dg=v.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Dg.displayName="Textarea";const Yr="materialApoio/imagem-nao-disponivel.gif";function sfe(){const{id:e}=wp(),t=mr(),{updateInventoryItem:r,isLoading:n,getInventoryItemById:a}=j1(),{menuItems:s,categories:c,isLoading:u,addCategory:f}=Hr(),{t:h}=or(),[m,g]=v.useState(!1),[y,x]=v.useState(null),[S,w]=v.useState(!1),[_,E]=v.useState(!1),[O,C]=v.useState(""),[I,A]=v.useState(!1),[M,N]=v.useState(null),[T,U]=v.useState(!1),[G,B]=v.useState(0),[K,F]=v.useState(null),[se,J]=v.useState(null),[L,R]=v.useState(null),q=v.useRef(null),re=v.useRef(!0),X=e?parseInt(e):null,D=X?a(X):null,H=s||[],Q=c||[],[P,V]=v.useState({menu_item_id:null,name:"",unit:"UN",min_stock:0,current_stock:0,cost_price:null,selling_price:null,category:"",image:Yr,description:null,status:null,is_cold:!1,discount_type:null,discount_value:null,discount_applies_to:null,product_type:"",ncm:"",cst_icms:"",cfop:"",icms_rate:null,ipi_rate:null,ean_code:""});v.useEffect(()=>{if(D){const pe=D.image||Yr;V(ke=>{const it=ke.image&&ke.image!==Yr?ke.image:pe;return{menu_item_id:D.menu_item_id,name:D.name,unit:D.unit,min_stock:D.min_stock,current_stock:D.current_stock,cost_price:D.cost_price,selling_price:D.selling_price,category:D.category||"",image:it,description:D.description||null,status:D.status||null,is_cold:D.is_cold??!1,discount_type:D.discount_type??null,discount_value:D.discount_value??null,discount_applies_to:D.discount_applies_to??null,product_type:D.product_type||"",ncm:D.ncm||"",cst_icms:D.cst_icms||"",cfop:D.cfop||"",icms_rate:D.icms_rate,ipi_rate:D.ipi_rate,ean_code:D.ean_code||""}}),re.current&&(pe!==Yr&&J(pe),re.current=!1)}},[D]),v.useEffect(()=>()=>{L&&URL.revokeObjectURL(L)},[L]);const ie=[{value:"alimento",label:"Alimento"},{value:"bebida",label:"Bebida"},{value:"limpeza",label:"Limpeza"},{value:"embalagem",label:"Embalagem"},{value:"outros",label:"Outros"}],W=[{value:"UN",label:"UN - Unidade"},{value:"KG",label:"KG - Quilograma"},{value:"L",label:"L - Litro"},{value:"CX",label:"CX - Caixa"},{value:"PC",label:"PC - Pacote"}],je=[{value:"00",label:"00 - Tributada integralmente"},{value:"10",label:"10 - Tributada e com cobrana do ICMS por substituio tributria"},{value:"20",label:"20 - Com reduo de base de clculo"},{value:"30",label:"30 - Isenta ou no tributada e com cobrana do ICMS por substituio tributria"},{value:"40",label:"40 - Isenta"},{value:"41",label:"41 - No tributada"},{value:"50",label:"50 - Suspenso"},{value:"51",label:"51 - Diferimento"},{value:"60",label:"60 - ICMS cobrado anteriormente por substituio tributria"},{value:"70",label:"70 - Com reduo de base de clculo e cobrana do ICMS por substituio tributria"},{value:"90",label:"90 - Outras"}],$=[{value:"1101",label:"1101 - Compra para industrializao"},{value:"1102",label:"1102 - Compra para comercializao"},{value:"1401",label:"1401 - Compra para industrializao em operao com produto sujeito ao regime de substituio tributria"},{value:"1403",label:"1403 - Compra para comercializao em operao com mercadoria sujeita ao regime de substituio tributria"},{value:"1551",label:"1551 - Compra de bem para o ativo imobilizado"},{value:"1556",label:"1556 - Compra de material para uso ou consumo"},{value:"1651",label:"1651 - Compra de combustvel ou lubrificante para industrializao"},{value:"1652",label:"1652 - Compra de combustvel ou lubrificante para comercializao"},{value:"1653",label:"1653 - Compra de combustvel ou lubrificante para consumo"}],ee=[{value:0,label:"0% - Isento"},{value:7,label:"7% - Reduzida"},{value:12,label:"12% - Reduzida"},{value:18,label:"18% - Normal"},{value:25,label:"25% - Aumentada"}],ce=pe=>{if(!pe||pe==="none"){V(it=>({...it,menu_item_id:null}));return}const ke=H.find(it=>it.id===parseInt(pe));ke&&V(it=>({...it,menu_item_id:ke.id,name:it.name||ke.name,selling_price:it.selling_price||ke.price,category:it.category||ke.category||"",image:it.image===Yr?ke.image||Yr:it.image}))},Y=pe=>new Promise((ke,it)=>{const Ht=new FileReader;Ht.readAsDataURL(pe),Ht.onload=Ot=>{const gt=new Image;gt.src=Ot.target?.result,gt.onload=()=>{let Kr=gt.width,lr=gt.height;Kr>lr?Kr>800&&(lr=lr*800/Kr,Kr=800):lr>800&&(Kr=Kr*800/lr,lr=800);const Va=document.createElement("canvas");Va.width=800,Va.height=800;const $n=Va.getContext("2d");if(!$n){it(new Error("No foi possvel criar contexto do canvas"));return}$n.fillStyle="#FFFFFF",$n.fillRect(0,0,800,800);const Lc=(800-Kr)/2,Mg=(800-lr)/2;$n.drawImage(gt,Lc,Mg,Kr,lr),Va.toBlob(zi=>{if(!zi){it(new Error("Erro ao redimensionar imagem"));return}const Gr=new File([zi],pe.name,{type:"image/jpeg",lastModified:Date.now()});ke(Gr)},"image/jpeg",.9)},gt.onerror=()=>it(new Error("Erro ao carregar imagem"))},Ht.onerror=()=>it(new Error("Erro ao ler arquivo"))}),ae=async pe=>{const ke=pe.target.files?.[0];if(!ke)return;if(!ke.type.startsWith("image/")){F("Por favor, selecione apenas arquivos de imagem");return}const{data:{user:it}}=await be.auth.getUser();if(!it){F("Voc precisa estar logado para fazer upload de imagens.");return}const Ht=URL.createObjectURL(ke);R(Ht),U(!0),B(0),F(null);let Ot=null;try{B(10);const gt=await Y(ke);B(30);const $i=`${Date.now()}-${Math.random().toString(36).substring(2)}.jpg`;let Kr=30;Ot=setInterval(()=>{Kr+=5,Kr<=70?B(Kr):Ot&&(clearInterval(Ot),Ot=null)},150);const{error:lr}=await be.storage.from("product-images").upload($i,gt,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(Ot&&(clearInterval(Ot),Ot=null),B(70),lr){Ot&&(clearInterval(Ot),Ot=null),lr.message.includes("Bucket not found")?F('Bucket de imagens no encontrado. Por favor, crie um bucket chamado "product-images" no Supabase Storage.'):lr.message.includes("row-level security policy")||lr.message.includes("RLS")?F("Erro de poltica de segurana. Execute o script setup_storage_policies.sql no SQL Editor do Supabase para configurar as polticas do bucket."):F(`Erro ao fazer upload: ${lr.message}`),Ht&&URL.revokeObjectURL(Ht),R(null),B(0),U(!1);return}B(75);const Va="https://qzzbbrloztzfjcreaumt.supabase.co";let $n=null;Va&&($n=`${Va}/storage/v1/object/public/product-images/${$i}`),B(85),$n?(B(90),J($n),V(Lc=>({...Lc,image:$n})),B(95),Ht&&URL.revokeObjectURL(Ht),R(null),B(100),F(null),U(!1),setTimeout(()=>{B(0)},800)):(F("Erro ao obter URL da imagem. Verifique se o bucket est pblico e as polticas RLS esto configuradas."),Ht&&URL.revokeObjectURL(Ht),R(null),B(0),U(!1))}catch(gt){Ot&&(clearInterval(Ot),Ot=null),F(gt.message||"Erro ao fazer upload da imagem"),Ht&&URL.revokeObjectURL(Ht),R(null),B(0)}finally{Ot&&(clearInterval(Ot),Ot=null),q.current&&(q.current.value="")}},he=pe=>{if(pe==="add-new-category"){E(!0);return}V({...P,category:pe==="none"?"":pe})},Se=async()=>{if(!O.trim()){N("Nome da categoria  obrigatrio");return}A(!0),N(null);try{const pe=await f(O.trim());pe.success?(V({...P,category:O.trim()}),C(""),E(!1)):N(pe.error||"Erro ao criar categoria")}catch(pe){N(pe.message||"Erro ao criar categoria")}finally{A(!1)}},Ke=(()=>{if(!P.cost_price||!P.icms_rate)return null;const pe=P.cost_price*P.icms_rate/100,ke=P.ipi_rate?P.cost_price*P.ipi_rate/100:0,it=P.cost_price+pe+ke;return{costPrice:P.cost_price,icmsValue:pe,ipiValue:ke,totalWithTaxes:it}})(),ct=async pe=>{if(pe.preventDefault(),x(null),w(!1),!X){x("ID do item no encontrado");return}if(!P.name.trim()){x("Nome do produto  obrigatrio");return}if(P.min_stock<0){x("Estoque mnimo no pode ser negativo");return}if(P.current_stock<0){x("Estoque atual no pode ser negativo");return}if(P.icms_rate!==null&&(P.icms_rate<0||P.icms_rate>100)){x("Alquota de ICMS deve estar entre 0% e 100%");return}if(P.ipi_rate!==null&&(P.ipi_rate<0||P.ipi_rate>100)){x("Alquota de IPI deve estar entre 0% e 100%");return}if(T){x("Aguarde o upload da imagem terminar antes de salvar");return}g(!0);try{const ke=se||P.image||Yr,it=await r(X,{menu_item_id:P.menu_item_id,name:P.name,unit:P.unit,min_stock:P.min_stock,current_stock:P.current_stock,cost_price:P.cost_price,selling_price:P.selling_price,category:P.category||null,image:ke,description:P.description||null,status:P.status||null,is_cold:P.is_cold||null,discount_type:P.discount_type||null,discount_value:P.discount_value||null,discount_applies_to:P.discount_applies_to||null,product_type:P.product_type||null,ncm:P.ncm||null,cst_icms:P.cst_icms||null,cfop:P.cfop||null,icms_rate:P.icms_rate,ipi_rate:P.ipi_rate,ean_code:P.ean_code||null});if(it.success){const Ht=se||(P.image&&P.image!==Yr?P.image:null);Ht&&J(Ht),w(!0),setTimeout(()=>{t("/stock")},1500)}else x(it.error||"Erro ao atualizar item")}catch(ke){x(ke.message||"Erro ao atualizar item")}finally{g(!1)}};return n||u||!D?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:h("loading")||"Carregando..."})]})}):l.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>t("/stock"),children:l.jsx(La,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:h("editInventoryItem")||"Editar Item do Estoque"}),l.jsx("p",{className:"text-muted-foreground",children:h("editInventoryItemDescription")||"Edite as informaes do item de estoque"})]})]}),S&&l.jsx(Ne,{className:"border-green-200 bg-green-50",children:l.jsx(Ce,{className:"p-4",children:l.jsx("p",{className:"text-green-800 font-semibold",children:"Item atualizado com sucesso! Redirecionando..."})})}),l.jsxs("form",{onSubmit:ct,className:"space-y-6",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes Bsicas do Produto"}),l.jsx(Et,{children:"Dados principais do item de estoque"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"menu_item",children:"Vincular a Item de Bebidas (Opcional)"}),l.jsxs(Qe,{value:P.menu_item_id?.toString()||"none",onValueChange:ce,children:[l.jsx(Ye,{id:"menu_item",children:l.jsx(Je,{placeholder:"Selecione um item de bebidas ou deixe em branco"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Nenhum (criar item independente)"}),H.map(pe=>l.jsx(_e,{value:pe.id.toString(),children:pe.name},pe.id))]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"name",children:"Nome do Produto *"}),l.jsx(Ee,{id:"name",value:P.name,onChange:pe=>V({...P,name:pe.target.value}),required:!0,placeholder:"Ex: Arroz, Feijo, leo..."})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"category",children:"Categoria"}),l.jsxs(Qe,{value:P.category||"none",onValueChange:he,children:[l.jsx(Ye,{id:"category",children:l.jsx(Je,{placeholder:"Selecione uma categoria"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem categoria"}),Q.map(pe=>l.jsx(_e,{value:pe.name,children:pe.name},pe.id)),l.jsxs(_e,{value:"add-new-category",children:[l.jsx(pn,{className:"w-4 h-4 inline mr-2"}),"Nova categoria"]})]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"image",children:"Imagem do Produto"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx(we,{type:"button",variant:"outline",onClick:()=>q.current?.click(),disabled:T||m||!Zr,className:"w-auto",children:T?l.jsxs(l.Fragment,{children:[l.jsx(Gl,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando... ",G,"%"]}):l.jsxs(l.Fragment,{children:[l.jsx(Yw,{className:"w-4 h-4 mr-2"}),P.image&&P.image!==Yr?"Alterar Imagem":"Selecionar Imagem"]})}),l.jsx(Ee,{ref:q,type:"file",accept:"image/*",onChange:ae,className:"hidden",disabled:T}),!Zr]}),T&&G>0&&l.jsx("div",{className:"w-full mb-2",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${G}%`}})})}),K&&l.jsx("p",{className:"text-sm text-destructive mb-2",children:K}),(L||se||P.image&&P.image!==Yr)&&l.jsxs("div",{className:"mt-2",children:[T&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Redimensionando e enviando imagem (800x800px)..."}),!T&&P.image&&P.image!==Yr&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Imagem carregada com sucesso. A imagem foi redimensionada automaticamente para 800x800px."}),l.jsx("img",{src:L||se||P.image||Yr,alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onLoad:()=>{se&&L&&!T&&(URL.revokeObjectURL(L),R(null))},onError:pe=>{const ke=pe.currentTarget;if(L&&ke.src!==L){ke.src=L;return}if(se&&ke.src!==se){ke.src=se;return}if(P.image&&P.image!==Yr&&ke.src!==P.image){ke.src=P.image;return}ke.src!==Yr&&(ke.src=Yr)}})]})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes de Venda"}),l.jsx(Et,{children:"Preencha se o produto ser vendido diretamente"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"selling_price",children:"Preo de Venda"}),l.jsx(Ee,{id:"selling_price",type:"number",step:"0.01",min:"0",value:P.selling_price||"",onChange:pe=>V({...P,selling_price:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"0.00"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"description",children:"Descrio"}),l.jsx(Dg,{id:"description",value:P.description||"",onChange:pe=>V({...P,description:pe.target.value||null}),placeholder:"Descrio do produto",rows:3})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"is_cold",checked:P.is_cold||!1,onChange:pe=>V({...P,is_cold:pe.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx(oe,{htmlFor:"is_cold",className:"cursor-pointer",children:"Bebida gelada (mostra cone de floco de neve)"})]}),P.selling_price&&l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"status",children:"Status"}),l.jsxs(Qe,{value:P.status||"Available",onValueChange:pe=>V({...P,status:pe}),children:[l.jsx(Ye,{id:"status",children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"Available",children:"Disponvel"}),l.jsx(_e,{value:"Sold Out",children:"Esgotado"})]})]})]}),l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{className:"text-base font-semibold",children:"Desconto por Mtodo de Pagamento"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Configure desconto para pagamentos em dinheiro e PIX"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"discount_type",children:"Tipo de Desconto"}),l.jsxs(Qe,{value:P.discount_type||"none",onValueChange:pe=>{V(pe==="none"?{...P,discount_type:null,discount_value:null,discount_applies_to:null}:{...P,discount_type:pe,discount_value:P.discount_value||null})},children:[l.jsx(Ye,{id:"discount_type",children:l.jsx(Je,{placeholder:"Selecione o tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem desconto"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]})]}),P.discount_type&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"discount_value",children:P.discount_type==="fixed"?"Valor do Desconto (R$)":"Percentual do Desconto (%)"}),l.jsx(Ee,{id:"discount_value",type:"number",step:P.discount_type==="fixed"?"0.01":"0.1",min:"0",max:P.discount_type==="percentage"?"100":void 0,value:P.discount_value||"",onChange:pe=>V({...P,discount_value:pe.target.value?parseFloat(pe.target.value):null}),placeholder:P.discount_type==="fixed"?"0.00":"0"})]}),l.jsxs("div",{children:[l.jsx(oe,{children:"Aplicar desconto para:"}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"discount_cash",checked:P.discount_applies_to?.includes("Cash")||!1,onChange:pe=>{const ke=P.discount_applies_to||[];pe.target.checked?V({...P,discount_applies_to:[...ke,"Cash"]}):V({...P,discount_applies_to:ke.filter(it=>it!=="Cash")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx(oe,{htmlFor:"discount_cash",className:"cursor-pointer",children:"Dinheiro (Cash)"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"discount_pix",checked:P.discount_applies_to?.includes("PIX")||!1,onChange:pe=>{const ke=P.discount_applies_to||[];pe.target.checked?V({...P,discount_applies_to:[...ke,"PIX"]}):V({...P,discount_applies_to:ke.filter(it=>it!=="PIX")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx(oe,{htmlFor:"discount_pix",className:"cursor-pointer",children:"PIX"})]})]})]})]})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes de Estoque"}),l.jsx(Et,{children:"Preencha se o produto ter controle de estoque"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"unit",children:"Unidade de Medida"}),l.jsxs(Qe,{value:P.unit??"",onValueChange:pe=>V({...P,unit:pe}),children:[l.jsx(Ye,{id:"unit",children:l.jsx(Je,{placeholder:"Selecione uma unidade"})}),l.jsx(Xe,{children:W.map(pe=>l.jsx(_e,{value:pe.value,children:pe.label},pe.value))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"min_stock",children:"Estoque Mnimo"}),l.jsx(Ee,{id:"min_stock",type:"number",min:"0",step:"0.01",value:P.min_stock,onChange:pe=>V({...P,min_stock:parseFloat(pe.target.value)||0})})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"current_stock",children:"Estoque Atual"}),l.jsx(Ee,{id:"current_stock",type:"number",min:"0",step:"0.01",value:P.current_stock,onChange:pe=>V({...P,current_stock:parseFloat(pe.target.value)||0})})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cost_price",children:"Preo de Custo"}),l.jsx(Ee,{id:"cost_price",type:"number",step:"0.01",min:"0",value:P.cost_price||"",onChange:pe=>V({...P,cost_price:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"0.00"})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes Fiscais"}),l.jsx(Et,{children:"Dados necessrios para emisso de nota fiscal e clculo de impostos"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"product_type",children:"Tipo de Produto *"}),l.jsxs(Qe,{value:P.product_type||"none",onValueChange:pe=>V({...P,product_type:pe==="none"?"":pe}),children:[l.jsx(Ye,{id:"product_type",children:l.jsx(Je,{placeholder:"Selecione o tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No informado"}),ie.map(pe=>l.jsx(_e,{value:pe.value,children:pe.label},pe.value))]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ncm",children:"NCM (Nomenclatura Comum do Mercosul)"}),l.jsx(Ee,{id:"ncm",value:P.ncm,onChange:pe=>V({...P,ncm:pe.target.value}),placeholder:"Ex: 1006.30.21",maxLength:8})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cst_icms",children:"CST ICMS (Cdigo de Situao Tributria)"}),l.jsxs(Qe,{value:P.cst_icms||"none",onValueChange:pe=>V({...P,cst_icms:pe==="none"?"":pe}),children:[l.jsx(Ye,{id:"cst_icms",children:l.jsx(Je,{placeholder:"Selecione o CST"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No informado"}),je.map(pe=>l.jsx(_e,{value:pe.value,children:pe.label},pe.value))]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cfop",children:"CFOP (Cdigo Fiscal de Operaes)"}),l.jsxs(Qe,{value:P.cfop||"none",onValueChange:pe=>V({...P,cfop:pe==="none"?"":pe}),children:[l.jsx(Ye,{id:"cfop",children:l.jsx(Je,{placeholder:"Selecione o CFOP"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No informado"}),$.map(pe=>l.jsx(_e,{value:pe.value,children:pe.label},pe.value))]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"icms_rate",children:"Alquota de ICMS (%)"}),l.jsxs(Qe,{value:P.icms_rate?.toString()||"none",onValueChange:pe=>V({...P,icms_rate:pe==="none"?null:parseFloat(pe)}),children:[l.jsx(Ye,{id:"icms_rate",children:l.jsx(Je,{placeholder:"Selecione a alquota"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No informado"}),ee.map(pe=>l.jsx(_e,{value:pe.value.toString(),children:pe.label},pe.value))]})]}),l.jsx(Ee,{className:"mt-2",type:"number",min:"0",max:"100",step:"0.01",value:P.icms_rate||"",onChange:pe=>V({...P,icms_rate:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"Ou digite um valor personalizado"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ipi_rate",children:"Alquota de IPI (%)"}),l.jsx(Ee,{id:"ipi_rate",type:"number",min:"0",max:"100",step:"0.01",value:P.ipi_rate||"",onChange:pe=>V({...P,ipi_rate:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"0.00 (opcional)"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ean_code",children:"Cdigo de Barras (EAN)"}),l.jsx(Ee,{id:"ean_code",value:P.ean_code,onChange:pe=>V({...P,ean_code:pe.target.value}),placeholder:"7891234567890",maxLength:13})]})]}),Ke&&l.jsxs(Ne,{className:"bg-muted",children:[l.jsx(Ae,{children:l.jsx(Ie,{className:"text-base",children:"Clculo de Impostos"})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Preo de Custo:"}),l.jsx("span",{className:"font-medium",children:ge(Ke.costPrice)})]}),P.icms_rate!==null&&l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["ICMS (",P.icms_rate,"%):"]}),l.jsx("span",{className:"font-medium",children:ge(Ke.icmsValue)})]}),P.ipi_rate!==null&&P.ipi_rate>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["IPI (",P.ipi_rate,"%):"]}),l.jsx("span",{className:"font-medium",children:ge(Ke.ipiValue)})]}),l.jsxs("div",{className:"flex justify-between pt-2 border-t font-semibold",children:[l.jsx("span",{children:"Preo com Impostos:"}),l.jsx("span",{className:"text-lg",children:ge(Ke.totalWithTaxes)})]})]})})]})]})]}),y&&l.jsx(Ne,{className:"border-destructive",children:l.jsx(Ce,{className:"p-4",children:l.jsx("p",{className:"text-destructive",children:y})})}),l.jsx(Jr,{open:_,onOpenChange:E,children:l.jsxs(zr,{children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:"Adicionar Nova Categoria"}),l.jsx(Dn,{children:"Digite o nome da nova categoria que deseja criar."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"new-category-name",children:"Nome da Categoria"}),l.jsx(Ee,{id:"new-category-name",value:O,onChange:pe=>{C(pe.target.value),N(null)},placeholder:"Ex: Bebidas, Limpeza, etc.",onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),Se())},autoFocus:!0})]}),M&&l.jsx("p",{className:"text-sm text-destructive",children:M})]}),l.jsxs(mn,{children:[l.jsx(we,{variant:"outline",onClick:()=>{E(!1),C(""),N(null)},disabled:I,children:"Cancelar"}),l.jsx(we,{onClick:Se,disabled:I||!O.trim(),children:I?"Criando...":"Criar Categoria"})]})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsxs(we,{type:"button",variant:"outline",onClick:()=>t("/stock"),children:[l.jsx(La,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),l.jsxs(we,{type:"submit",disabled:m||n||T,children:[l.jsx(Sp,{className:"w-4 h-4 mr-2"}),m?"Salvando...":T?"Aguarde o upload...":"Salvar Alteraes"]})]})]})]})}const di="materialApoio/imagem-nao-disponivel.gif";function ofe(){const e=mr(),{addProduct:t,categories:r,isLoading:n,addCategory:a}=Hr(),{t:s}=or(),[c,u]=v.useState(!1),[f,h]=v.useState(null),[m,g]=v.useState(!1),[y,x]=v.useState(!1),[S,w]=v.useState(""),[_,E]=v.useState(!1),[O,C]=v.useState(null),[I,A]=v.useState(!1),[M,N]=v.useState(0),[T,U]=v.useState(null),[G,B]=v.useState(null),[K,F]=v.useState(null),se=v.useRef(null),[J,L]=v.useState({name:"",category:"",image:di,price:null,description:null,status:null,is_cold:!1,discount_type:null,discount_value:null,discount_applies_to:null,unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null}),R=[{value:"alimento",label:"Alimento"},{value:"bebida",label:"Bebida"},{value:"limpeza",label:"Limpeza"},{value:"embalagem",label:"Embalagem"},{value:"outros",label:"Outros"}],q=[{value:"UN",label:"UN - Unidade"},{value:"KG",label:"KG - Quilograma"},{value:"L",label:"L - Litro"},{value:"CX",label:"CX - Caixa"},{value:"PC",label:"PC - Pacote"}];v.useEffect(()=>()=>{K&&URL.revokeObjectURL(K)},[K]);const re=P=>new Promise((V,ie)=>{const W=new FileReader;W.readAsDataURL(P),W.onload=je=>{const $=new Image;$.src=je.target?.result,$.onload=()=>{let Y=$.width,ae=$.height;Y>ae?Y>800&&(ae=ae*800/Y,Y=800):ae>800&&(Y=Y*800/ae,ae=800);const he=document.createElement("canvas");he.width=800,he.height=800;const Se=he.getContext("2d");if(!Se){ie(new Error("No foi possvel criar contexto do canvas"));return}Se.fillStyle="#FFFFFF",Se.fillRect(0,0,800,800);const Oe=(800-Y)/2,Ke=(800-ae)/2;Se.drawImage($,Oe,Ke,Y,ae),he.toBlob(ct=>{if(!ct){ie(new Error("Erro ao redimensionar imagem"));return}const pe=new File([ct],P.name,{type:"image/jpeg",lastModified:Date.now()});V(pe)},"image/jpeg",.9)},$.onerror=()=>ie(new Error("Erro ao carregar imagem"))},W.onerror=()=>ie(new Error("Erro ao ler arquivo"))}),X=async P=>{const V=P.target.files?.[0];if(!V)return;if(!V.type.startsWith("image/")){U("Por favor, selecione apenas arquivos de imagem");return}const ie=URL.createObjectURL(V);F(ie),A(!0),N(0),U(null);let W=null;try{N(10);const je=await re(V);N(30);const ee=`product-images/${`${Date.now()}-${Math.random().toString(36).substring(2)}.jpg`}`;let ce=30;W=setInterval(()=>{ce+=5,ce<=70?N(ce):W&&(clearInterval(W),W=null)},150);const{error:Y}=await be.storage.from("product-images").upload(ee,je,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(W&&(clearInterval(W),W=null),N(70),Y){W&&(clearInterval(W),W=null),Y.message.includes("Bucket not found")?U('Bucket de imagens no encontrado. Por favor, crie um bucket chamado "product-images" no Supabase Storage.'):Y.message.includes("row-level security policy")||Y.message.includes("RLS")?U("Erro de poltica de segurana. Execute o script setup_storage_policies.sql no SQL Editor do Supabase para configurar as polticas do bucket."):U(`Erro ao fazer upload: ${Y.message}`),ie&&URL.revokeObjectURL(ie),F(null),N(0),A(!1);return}N(75);const ae="https://qzzbbrloztzfjcreaumt.supabase.co";let he=null;ae&&(he=`${ae}/storage/v1/object/public/product-images/${ee}`),N(85),he?(N(90),B(he),L(Se=>({...Se,image:he})),N(95),ie&&URL.revokeObjectURL(ie),F(null),N(100),U(null),A(!1),setTimeout(()=>{N(0)},800)):(U("Erro ao obter URL da imagem. Verifique se o bucket est pblico e as polticas RLS esto configuradas."),ie&&URL.revokeObjectURL(ie),F(null),N(0),A(!1))}catch(je){W&&(clearInterval(W),W=null),U(je.message||"Erro ao fazer upload da imagem"),ie&&URL.revokeObjectURL(ie),F(null),N(0)}finally{W&&(clearInterval(W),W=null),se.current&&(se.current.value="")}},D=P=>{if(P==="add-new-category"){x(!0);return}L({...J,category:P==="none"?null:P})},H=async()=>{if(!S.trim()){C("Nome da categoria  obrigatrio");return}E(!0),C(null);try{const P=await a(S.trim());P.success?(L({...J,category:S.trim()}),w(""),C(null),x(!1)):C(P.error||"Erro ao criar categoria")}catch(P){C(P.message||"Erro ao criar categoria")}finally{E(!1)}},Q=async P=>{if(P.preventDefault(),h(null),g(!1),!J.name||J.name.trim()===""){h("Nome do produto  obrigatrio");return}if(!J.price&&!J.unit){h("Produto deve ter preo de venda ou informaes de estoque (unidade)");return}if(I){h("Aguarde o upload da imagem terminar antes de salvar");return}u(!0),h(null),g(!1);try{console.log("Tentando criar produto:",J);const V=G||J.image||di,ie={...J,image:V},W=await t(ie);console.log("Resultado da criao:",W),W&&W.success?(g(!0),setTimeout(()=>{e("/settings")},1500)):h(W?.error||"Erro ao criar produto")}catch(V){console.error("Erro ao criar produto:",V),h(V?.message||"Erro ao criar produto")}finally{u(!1)}};return n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:s("loading")||"Carregando..."})]})}):l.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),children:l.jsx(La,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Cadastrar Produto"}),l.jsx("p",{className:"text-muted-foreground",children:"Cadastre um novo produto com todas as informaes necessrias"})]})]}),l.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes Bsicas"}),l.jsx(Et,{children:"Dados principais do produto"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"name",children:"Nome do Produto *"}),l.jsx(Ee,{id:"name",value:J.name,onChange:P=>L({...J,name:P.target.value}),required:!0,placeholder:"Ex: Pizza Margherita"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"category",children:"Categoria"}),l.jsxs(Qe,{value:J.category||"none",onValueChange:D,children:[l.jsx(Ye,{id:"category",children:l.jsx(Je,{placeholder:"Selecione uma categoria"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem categoria"}),r.map(P=>l.jsx(_e,{value:P.name,children:P.name},P.id)),l.jsxs(_e,{value:"add-new-category",children:[l.jsx(pn,{className:"w-4 h-4 inline mr-2"}),"Nova categoria"]})]})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"image",children:"Imagem do Produto"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx(we,{type:"button",variant:"outline",onClick:()=>se.current?.click(),disabled:I||c||!Zr,className:"w-auto",children:I?l.jsxs(l.Fragment,{children:[l.jsx(Gl,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando... ",M,"%"]}):l.jsxs(l.Fragment,{children:[l.jsx(Yw,{className:"w-4 h-4 mr-2"}),J.image&&J.image!==di?"Alterar Imagem":"Selecionar Imagem"]})}),l.jsx(Ee,{ref:se,type:"file",accept:"image/*",onChange:X,className:"hidden",disabled:I}),!Zr]}),I&&M>0&&l.jsx("div",{className:"w-full mb-2",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${M}%`}})})}),T&&l.jsx("p",{className:"text-sm text-destructive mb-2",children:T}),(K||G||J.image&&J.image!==di)&&l.jsxs("div",{className:"mt-2",children:[I&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Redimensionando e enviando imagem (800x800px)..."}),!I&&J.image&&J.image!==di&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Imagem carregada com sucesso. A imagem foi redimensionada automaticamente para 800x800px."}),l.jsx("img",{src:K||G||J.image||di,alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onLoad:()=>{G&&K&&!I&&(URL.revokeObjectURL(K),F(null))},onError:P=>{const V=P.currentTarget;if(K&&V.src!==K){V.src=K;return}if(G&&V.src!==G){V.src=G;return}if(J.image&&J.image!==di&&V.src!==J.image){V.src=J.image;return}V.src!==di&&(V.src=di)}})]})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes de Venda"}),l.jsx(Et,{children:"Preencha se o produto ser vendido diretamente"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"price",children:"Preo de Venda"}),l.jsx(Ee,{id:"price",type:"number",step:"0.01",min:"0",value:J.price||"",onChange:P=>L({...J,price:P.target.value?parseFloat(P.target.value):null}),placeholder:"0.00"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"description",children:"Descrio"}),l.jsx(Dg,{id:"description",value:J.description||"",onChange:P=>L({...J,description:P.target.value||null}),placeholder:"Descrio do produto",rows:3})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"is_cold",checked:J.is_cold||!1,onChange:P=>L({...J,is_cold:P.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx(oe,{htmlFor:"is_cold",className:"cursor-pointer",children:"Bebida gelada (mostra cone de floco de neve)"})]}),J.price&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"status",children:"Status"}),l.jsxs(Qe,{value:J.status||"Available",onValueChange:P=>L({...J,status:P}),children:[l.jsx(Ye,{id:"status",children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"Available",children:"Disponvel"}),l.jsx(_e,{value:"Sold Out",children:"Esgotado"})]})]})]}),l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{className:"text-base font-semibold",children:"Desconto por Mtodo de Pagamento"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Configure desconto para pagamentos em dinheiro e PIX"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"discount_type",children:"Tipo de Desconto"}),l.jsxs(Qe,{value:J.discount_type||"none",onValueChange:P=>{L(P==="none"?{...J,discount_type:null,discount_value:null,discount_applies_to:null}:{...J,discount_type:P,discount_value:J.discount_value||null})},children:[l.jsx(Ye,{id:"discount_type",children:l.jsx(Je,{placeholder:"Selecione o tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem desconto"}),l.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),l.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]})]}),J.discount_type&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"discount_value",children:J.discount_type==="fixed"?"Valor do Desconto (R$)":"Percentual do Desconto (%)"}),l.jsx(Ee,{id:"discount_value",type:"number",step:J.discount_type==="fixed"?"0.01":"0.1",min:"0",max:J.discount_type==="percentage"?"100":void 0,value:J.discount_value||"",onChange:P=>L({...J,discount_value:P.target.value?parseFloat(P.target.value):null}),placeholder:J.discount_type==="fixed"?"0.00":"0"})]}),l.jsxs("div",{children:[l.jsx(oe,{children:"Aplicar desconto para:"}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"discount_cash",checked:J.discount_applies_to?.includes("Cash")||!1,onChange:P=>{const V=J.discount_applies_to||[];P.target.checked?L({...J,discount_applies_to:[...V,"Cash"]}):L({...J,discount_applies_to:V.filter(ie=>ie!=="Cash")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx(oe,{htmlFor:"discount_cash",className:"cursor-pointer",children:"Dinheiro (Cash)"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"discount_pix",checked:J.discount_applies_to?.includes("PIX")||!1,onChange:P=>{const V=J.discount_applies_to||[];P.target.checked?L({...J,discount_applies_to:[...V,"PIX"]}):L({...J,discount_applies_to:V.filter(ie=>ie!=="PIX")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx(oe,{htmlFor:"discount_pix",className:"cursor-pointer",children:"PIX"})]})]}),J.discount_type&&J.discount_value&&J.discount_applies_to&&J.discount_applies_to.length>0&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:J.discount_type==="fixed"?`Desconto de ${ge(J.discount_value)} aplicado em pagamentos via ${J.discount_applies_to.join(" e ")}`:`Desconto de ${J.discount_value}% aplicado em pagamentos via ${J.discount_applies_to.join(" e ")}`})]})]})]})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes de Estoque"}),l.jsx(Et,{children:"Preencha se o produto ter controle de estoque"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"unit",children:"Unidade de Medida"}),l.jsxs(Qe,{value:J.unit||"",onValueChange:P=>L({...J,unit:P||null}),children:[l.jsx(Ye,{id:"unit",children:l.jsx(Je,{placeholder:"Selecione uma unidade"})}),l.jsx(Xe,{children:q.map(P=>l.jsx(_e,{value:P.value,children:P.label},P.value))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"min_stock",children:"Estoque Mnimo"}),l.jsx(Ee,{id:"min_stock",type:"number",min:"0",step:"0.01",value:J.min_stock||"",onChange:P=>L({...J,min_stock:P.target.value?parseFloat(P.target.value):null})})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"current_stock",children:"Estoque Atual"}),l.jsx(Ee,{id:"current_stock",type:"number",min:"0",step:"0.01",value:J.current_stock||"",onChange:P=>L({...J,current_stock:P.target.value?parseFloat(P.target.value):null})})]})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cost_price",children:"Preo de Custo"}),l.jsx(Ee,{id:"cost_price",type:"number",step:"0.01",min:"0",value:J.cost_price||"",onChange:P=>L({...J,cost_price:P.target.value?parseFloat(P.target.value):null}),placeholder:"0.00"})]})]})]}),l.jsxs(Ne,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Informaes Fiscais (Opcional)"}),l.jsx(Et,{children:"Dados para emisso de notas fiscais e clculo de impostos"})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"product_type",children:"Tipo de Produto"}),l.jsxs(Qe,{value:J.product_type||"none",onValueChange:P=>L({...J,product_type:P==="none"?null:P}),children:[l.jsx(Ye,{id:"product_type",children:l.jsx(Je,{placeholder:"Selecione o tipo"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"No especificado"}),R.map(P=>l.jsx(_e,{value:P.value,children:P.label},P.value))]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ncm",children:"NCM"}),l.jsx(Ee,{id:"ncm",value:J.ncm||"",onChange:P=>L({...J,ncm:P.target.value||null}),placeholder:"00000000",maxLength:8})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ean_code",children:"Cdigo de Barras (EAN)"}),l.jsx(Ee,{id:"ean_code",value:J.ean_code||"",onChange:P=>L({...J,ean_code:P.target.value||null}),placeholder:"7891234567890"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cst_icms",children:"CST ICMS"}),l.jsx(Ee,{id:"cst_icms",value:J.cst_icms||"",onChange:P=>L({...J,cst_icms:P.target.value||null}),placeholder:"00"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"cfop",children:"CFOP"}),l.jsx(Ee,{id:"cfop",value:J.cfop||"",onChange:P=>L({...J,cfop:P.target.value||null}),placeholder:"1102"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"icms_rate",children:"Alquota ICMS (%)"}),l.jsx(Ee,{id:"icms_rate",type:"number",step:"0.01",min:"0",max:"100",value:J.icms_rate||"",onChange:P=>L({...J,icms_rate:P.target.value?parseFloat(P.target.value):null}),placeholder:"18"})]}),l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"ipi_rate",children:"Alquota IPI (%)"}),l.jsx(Ee,{id:"ipi_rate",type:"number",step:"0.01",min:"0",max:"100",value:J.ipi_rate||"",onChange:P=>L({...J,ipi_rate:P.target.value?parseFloat(P.target.value):null}),placeholder:"10"})]})]})]})]}),f&&l.jsx("div",{className:"p-4 bg-destructive/10 text-destructive rounded-md",children:f}),m&&l.jsx("div",{className:"p-4 bg-green-500/10 text-green-700 rounded-md",children:"Produto cadastrado com sucesso! Redirecionando..."}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(we,{type:"button",variant:"outline",onClick:()=>e("/settings"),children:"Cancelar"}),l.jsxs(we,{type:"submit",disabled:c||I,children:[l.jsx(Sp,{className:"w-4 h-4 mr-2"}),c?"Salvando...":I?"Aguarde o upload...":"Salvar Produto"]})]})]}),y&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs(Ne,{className:"w-full max-w-md",children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Nova Categoria"})}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(oe,{htmlFor:"newCategoryName",children:"Nome da Categoria"}),l.jsx(Ee,{id:"newCategoryName",value:S,onChange:P=>w(P.target.value),placeholder:"Ex: Bebidas"}),O&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:O})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(we,{variant:"outline",onClick:()=>{x(!1),w(""),C(null)},children:"Cancelar"}),l.jsx(we,{onClick:H,disabled:_,children:_?"Criando...":"Criar"})]})]})]})})]})}function lfe(){const e=mr(),{menuItems:t,categories:r,isLoading:n}=Hr(),[a,s]=v.useState([]),[c,u]=v.useState(!0),[f,h]=v.useState(null),[m,g]=v.useState(!1),[y,x]=v.useState(null),[S,w]=v.useState(!1),[_,E]=v.useState(null),[O,C]=v.useState(!1),[I,A]=v.useState(0),[M,N]=v.useState(null),[T,U]=v.useState(null),[G,B]=v.useState(null),K=v.useRef(null),[F,se]=v.useState({name:"",description:"",image:null,type:"kit",price:null,discount_percentage:null,discount_amount:null,enabled:!0,category:"none",items:[]}),[J,L]=v.useState([]);v.useEffect(()=>()=>{G&&URL.revokeObjectURL(G)},[G]);const R=$=>new Promise((ee,ce)=>{const Y=new FileReader;Y.readAsDataURL($),Y.onload=ae=>{const he=new Image;he.src=ae.target?.result,he.onload=()=>{let Ke=he.width,ct=he.height;Ke>ct?Ke>800&&(ct=ct*800/Ke,Ke=800):ct>800&&(Ke=Ke*800/ct,ct=800);const pe=document.createElement("canvas");pe.width=800,pe.height=800;const ke=pe.getContext("2d");if(!ke){ce(new Error("No foi possvel criar contexto do canvas"));return}ke.fillStyle="#FFFFFF",ke.fillRect(0,0,800,800);const it=(800-Ke)/2,Ht=(800-ct)/2;ke.drawImage(he,it,Ht,Ke,ct),pe.toBlob(Ot=>{if(!Ot){ce(new Error("Erro ao redimensionar imagem"));return}const gt=new File([Ot],$.name,{type:"image/jpeg",lastModified:Date.now()});ee(gt)},"image/jpeg",.9)},he.onerror=()=>ce(new Error("Erro ao carregar imagem"))},Y.onerror=()=>ce(new Error("Erro ao ler arquivo"))}),q=async $=>{const ee=$.target.files?.[0];if(!ee)return;if(!ee.type.startsWith("image/")){N("Por favor, selecione apenas arquivos de imagem");return}const ce=URL.createObjectURL(ee);B(ce),C(!0),A(0),N(null);let Y=null;try{A(10);const ae=await R(ee);A(30);const Se=`promotions/${`${Date.now()}-${Math.random().toString(36).substring(2)}.jpg`}`;let Oe=30;Y=setInterval(()=>{Oe+=5,Oe<=70?A(Oe):Y&&(clearInterval(Y),Y=null)},150);const{error:Ke}=await be.storage.from("product-images").upload(Se,ae,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(Y&&(clearInterval(Y),Y=null),A(70),Ke){Y&&(clearInterval(Y),Y=null),Ke.message.includes("Bucket not found")?N('Bucket de imagens no encontrado. Por favor, crie um bucket chamado "product-images" no Supabase Storage.'):Ke.message.includes("row-level security policy")||Ke.message.includes("RLS")?N("Erro de poltica de segurana. Execute o script setup_storage_policies.sql no SQL Editor do Supabase para configurar as polticas do bucket."):N(`Erro ao fazer upload: ${Ke.message}`),ce&&URL.revokeObjectURL(ce),B(null),A(0),C(!1);return}A(75);const ct="https://qzzbbrloztzfjcreaumt.supabase.co";let pe=null;ct&&(pe=`${ct}/storage/v1/object/public/product-images/${Se}`),A(85),pe?(A(90),U(pe),se(ke=>({...ke,image:pe})),A(95),ce&&URL.revokeObjectURL(ce),B(null),A(100),N(null),C(!1),setTimeout(()=>{A(0)},800)):(N("Erro ao obter URL da imagem. Verifique se o bucket est pblico e as polticas RLS esto configuradas."),ce&&URL.revokeObjectURL(ce),B(null),A(0),C(!1))}catch(ae){Y&&(clearInterval(Y),Y=null),N(ae.message||"Erro ao fazer upload da imagem"),ce&&URL.revokeObjectURL(ce),B(null),A(0)}finally{Y&&(clearInterval(Y),Y=null),K.current&&(K.current.value="")}},re=async()=>{try{u(!0),h(null);const{data:$,error:ee}=await be.from("promotions").select("*").order("created_at",{ascending:!1});if(ee){if(ee.code==="42P01"||ee.message?.includes("does not exist")){console.warn("Tabela promotions no existe ainda. Execute o script create_promotions_table.sql"),s([]),u(!1);return}throw ee}if(!$){s([]),u(!1);return}const ce=await Promise.all($.map(async Y=>{if(Y.type==="kit")try{const{data:ae,error:he}=await be.from("promotion_items").select(`
                                    *,
                                    products:product_id (
                                        id,
                                        name,
                                        price,
                                        image
                                    )
                                `).eq("promotion_id",Y.id);if(he)return he.code==="42P01"||he.message?.includes("does not exist")?(console.warn("Tabela promotion_items no existe ainda"),{...Y,items:[]}):(console.error("Error fetching promotion items:",he),{...Y,items:[]});const Se=(ae||[]).map(Oe=>({id:Oe.id,promotion_id:Oe.promotion_id,product_id:Oe.product_id,quantity:Oe.quantity,created_at:Oe.created_at,product:Oe.products?{id:Oe.products.id,name:Oe.products.name,price:Oe.products.price,image:Oe.products.image}:void 0}));return{...Y,items:Se}}catch(ae){return console.error("Error processing promotion items:",ae),{...Y,items:[]}}return{...Y,items:[]}}));s(ce)}catch($){console.error("Error fetching promotions:",$),h($.message||"Erro ao carregar promoes")}finally{u(!1)}};v.useEffect(()=>{re()},[]);const X=()=>{try{x(null),se({name:"",description:"",image:null,type:"kit",price:null,discount_percentage:null,discount_amount:null,enabled:!0,category:"none",items:[]}),L([]),U(null),B(null),N(null),h(null),E(null),g(!0)}catch($){console.error("Error opening create dialog:",$),h("Erro ao abrir formulrio de criao")}},D=$=>{x($),se({name:$.name,description:$.description||"",image:$.image,type:$.type,price:$.price,discount_percentage:$.discount_percentage,discount_amount:$.discount_amount,enabled:$.enabled,category:$.category||"none",items:$.items?.map(ee=>({product_id:ee.product_id,quantity:ee.quantity}))||[]}),L($.items?.map(ee=>({product_id:ee.product_id,quantity:ee.quantity}))||[]),U(null),B(null),N(null),E(null),g(!0)},H=()=>{L([...J,{product_id:0,quantity:1}])},Q=$=>{L(J.filter((ee,ce)=>ce!==$))},P=($,ee,ce)=>{const Y=[...J];Y[$]={...Y[$],[ee]:ce},L(Y)},V=async()=>{if(E(null),!F.name.trim()){E("Nome da promoo  obrigatrio");return}if(F.type==="kit"&&J.length===0){E("Adicione pelo menos um produto ao kit");return}if(F.type==="kit"&&!J.some(ee=>ee.product_id>0)){E("Selecione pelo menos um produto vlido no kit");return}if(F.type==="product"&&!F.price){E("Preo  obrigatrio para produtos novos");return}if(O){E("Aguarde o upload da imagem terminar antes de salvar");return}try{w(!0),h(null),E(null);const $=T||F.image,ee={name:F.name.trim(),description:F.description||null,image:$,type:F.type,price:F.price,discount_percentage:F.discount_percentage,discount_amount:F.discount_amount,enabled:F.enabled??!0,category:F.category==="none"||!F.category?null:F.category};if(y){const{data:ce,error:Y}=await be.from("promotions").update(ee).eq("id",y.id).select().single();if(Y)throw Y;if(F.type==="kit"&&ce&&(await be.from("promotion_items").delete().eq("promotion_id",ce.id),J.length>0)){const ae=J.filter(he=>he.product_id>0).map(he=>({promotion_id:ce.id,product_id:he.product_id,quantity:he.quantity}));if(ae.length>0){const{error:he}=await be.from("promotion_items").insert(ae);if(he)throw he}}}else{const{data:ce,error:Y}=await be.from("promotions").insert(ee).select().single();if(Y)throw Y;if(F.type==="kit"&&ce){const ae=J.filter(he=>he.product_id>0).map(he=>({promotion_id:ce.id,product_id:he.product_id,quantity:he.quantity}));if(ae.length>0){const{error:he}=await be.from("promotion_items").insert(ae);if(he)throw he}}}await re(),g(!1),x(null),E(null)}catch($){console.error("Error saving promotion:",$);const ee=$.message||"Erro ao salvar promoo";E(ee),h(ee)}finally{w(!1)}},ie=async $=>{if(confirm("Tem certeza que deseja excluir esta promoo?"))try{const{error:ee}=await be.from("promotions").delete().eq("id",$);if(ee)throw ee;await re()}catch(ee){console.error("Error deleting promotion:",ee),h(ee.message||"Erro ao excluir promoo")}},W=async $=>{try{const{error:ee}=await be.from("promotions").update({enabled:!$.enabled}).eq("id",$.id);if(ee)throw ee;await re()}catch(ee){console.error("Error toggling promotion:",ee),h(ee.message||"Erro ao atualizar promoo")}},je=t?.filter($=>$.price!=null&&$.price>0)||[];return n||c?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(Gl,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:l.jsx(La,{className:"h-4 w-4"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Promoes e Produtos Customizados"}),l.jsx("p",{className:"text-muted-foreground",children:"Gerencie promoes e combinaes de produtos"})]})]}),l.jsxs(we,{onClick:X,children:[l.jsx(pn,{className:"h-4 w-4 mr-2"}),"Nova Promoo"]})]}),f&&l.jsx(Ne,{className:"border-destructive",children:l.jsx(Ce,{className:"pt-6",children:l.jsx("p",{className:"text-destructive",children:f})})}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map($=>l.jsxs(Ne,{children:[l.jsx(Ae,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Ie,{className:"text-lg",children:$.name}),l.jsx(Et,{className:"mt-1",children:$.type==="kit"?l.jsxs(fn,{variant:"secondary",children:[l.jsx(pa,{className:"h-3 w-3 mr-1"}),"Kit"]}):l.jsxs(fn,{variant:"secondary",children:[l.jsx(Gw,{className:"h-3 w-3 mr-1"}),"Produto"]})})]}),l.jsx(js,{checked:$.enabled,onCheckedChange:()=>W($)})]})}),l.jsxs(Ce,{className:"space-y-4",children:[$.image&&l.jsx("img",{src:$.image,alt:$.name,className:"w-full h-48 object-cover rounded-lg"}),$.description&&l.jsx("p",{className:"text-sm text-muted-foreground",children:$.description}),$.type==="kit"&&$.items&&$.items.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold",children:"Produtos do Kit:"}),l.jsx("ul",{className:"text-sm space-y-1",children:$.items.map((ee,ce)=>l.jsxs("li",{className:"flex justify-between",children:[l.jsx("span",{children:ee.product?.name||`Produto #${ee.product_id}`}),l.jsxs("span",{className:"text-muted-foreground",children:["x",ee.quantity]})]},ce))})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[$.price&&l.jsx("span",{className:"text-lg font-bold",children:ge($.price)}),($.discount_percentage||$.discount_amount)&&l.jsx(fn,{variant:"outline",children:$.discount_percentage?`${$.discount_percentage}% OFF`:$.discount_amount?`${ge($.discount_amount)} OFF`:""})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(we,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>D($),children:[l.jsx(PP,{className:"h-4 w-4 mr-2"}),"Editar"]}),l.jsx(we,{variant:"destructive",size:"sm",onClick:()=>ie($.id),children:l.jsx(sc,{className:"h-4 w-4"})})]})]})]},$.id))}),a.length===0&&!c&&l.jsx(Ne,{children:l.jsxs(Ce,{className:"pt-6 text-center space-y-2",children:[l.jsx("p",{className:"text-muted-foreground",children:"Nenhuma promoo cadastrada"}),!Zr,f&&f.includes("does not exist")&&l.jsx("p",{className:"text-xs text-destructive",children:"Execute o script create_promotions_table.sql no banco de dados"})]})}),l.jsx(Jr,{open:m,onOpenChange:g,children:l.jsxs(zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Ur,{children:[l.jsx(Br,{children:y?"Editar Promoo":"Nova Promoo"}),l.jsx(Dn,{children:"Crie uma promoo como produto novo ou combinao de produtos (kit)"})]}),_&&l.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:_}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"name",children:"Nome *"}),l.jsx(Ee,{id:"name",value:F.name,onChange:$=>se({...F,name:$.target.value}),placeholder:"Ex: Combo Burger + Batata"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"description",children:"Descrio"}),l.jsx(Dg,{id:"description",value:F.description||"",onChange:$=>se({...F,description:$.target.value}),placeholder:"Descrio da promoo...",rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"type",children:"Tipo *"}),l.jsxs(Qe,{value:F.type,onValueChange:$=>{se({...F,type:$}),$==="product"&&L([])},children:[l.jsx(Ye,{children:l.jsx(Je,{})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"kit",children:"Kit (Combinao de Produtos)"}),l.jsx(_e,{value:"product",children:"Produto Novo"})]})]})]}),F.type==="product"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"price",children:"Preo *"}),l.jsx(Ee,{id:"price",type:"number",step:"0.01",min:"0",value:F.price||"",onChange:$=>se({...F,price:parseFloat($.target.value)||null}),placeholder:"0.00"})]}),F.type==="kit"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(oe,{children:"Produtos do Kit *"}),l.jsxs(we,{type:"button",variant:"outline",size:"sm",onClick:H,children:[l.jsx(pn,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]}),J.map(($,ee)=>l.jsx(Ne,{children:l.jsx(Ce,{className:"pt-4",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Qe,{value:$.product_id>0?$.product_id.toString():void 0,onValueChange:ce=>{const Y=parseInt(ce);!isNaN(Y)&&Y>0&&P(ee,"product_id",Y)},children:[l.jsx(Ye,{className:"flex-1",children:l.jsx(Je,{placeholder:"Selecione um produto"})}),l.jsx(Xe,{children:je.length>0?je.map(ce=>l.jsxs(_e,{value:ce.id.toString(),children:[ce.name," - ",ge(ce.price||0)]},ce.id)):l.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"Nenhum produto disponvel"})})]}),l.jsx(Ee,{type:"number",min:"1",step:"1",value:$.quantity,onChange:ce=>P(ee,"quantity",parseInt(ce.target.value)||1),className:"w-20"}),l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>Q(ee),children:l.jsx(bd,{className:"h-4 w-4"})})]})})},`product-${ee}-${$.product_id}`)),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"kit-price",children:"Preo do Kit (opcional)"}),l.jsx(Ee,{id:"kit-price",type:"number",step:"0.01",min:"0",value:F.price||"",onChange:$=>se({...F,price:parseFloat($.target.value)||null}),placeholder:"Deixe vazio para usar soma dos produtos"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Se no informado, ser calculado automaticamente pela soma dos produtos"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"discount_percentage",children:"Desconto Percentual (%)"}),l.jsx(Ee,{id:"discount_percentage",type:"number",step:"0.01",min:"0",max:"100",value:F.discount_percentage||"",onChange:$=>se({...F,discount_percentage:parseFloat($.target.value)||null}),placeholder:"0"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"discount_amount",children:"Desconto Fixo (R$)"}),l.jsx(Ee,{id:"discount_amount",type:"number",step:"0.01",min:"0",value:F.discount_amount||"",onChange:$=>se({...F,discount_amount:parseFloat($.target.value)||null}),placeholder:"0.00"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"category",children:"Categoria"}),l.jsxs(Qe,{value:F.category||void 0,onValueChange:$=>se({...F,category:$==="none"?null:$}),children:[l.jsx(Ye,{children:l.jsx(Je,{placeholder:"Selecione uma categoria"})}),l.jsxs(Xe,{children:[l.jsx(_e,{value:"none",children:"Sem categoria"}),r&&r.length>0?r.map($=>l.jsx(_e,{value:$.name,children:$.name},$.id)):null]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oe,{htmlFor:"image",children:"Imagem da Promoo"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx(we,{type:"button",variant:"outline",onClick:()=>K.current?.click(),disabled:O||S||!Zr,className:"w-auto",children:O?l.jsxs(l.Fragment,{children:[l.jsx(Gl,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando... ",I,"%"]}):l.jsxs(l.Fragment,{children:[l.jsx(Yw,{className:"w-4 h-4 mr-2"}),F.image?"Alterar Imagem":"Selecionar Imagem"]})}),l.jsx(Ee,{ref:K,type:"file",accept:"image/*",onChange:q,className:"hidden",disabled:O}),!Zr]}),O&&I>0&&l.jsx("div",{className:"w-full mb-2",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${I}%`}})})}),M&&l.jsx("p",{className:"text-sm text-destructive mb-2",children:M}),(G||T||F.image)&&l.jsxs("div",{className:"mt-2",children:[O&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Redimensionando e enviando imagem (800x800px)..."}),!O&&F.image&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Imagem carregada com sucesso. A imagem foi redimensionada automaticamente para 800x800px."}),l.jsx("img",{src:G||T||F.image||"",alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onLoad:()=>{T&&G&&!O&&(URL.revokeObjectURL(G),B(null))},onError:$=>{const ee=$.currentTarget;if(G&&ee.src!==G){ee.src=G;return}if(T&&ee.src!==T){ee.src=T;return}if(F.image&&ee.src!==F.image){ee.src=F.image;return}}})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx(oe,{htmlFor:"image-url",className:"text-xs text-muted-foreground",children:"Ou cole uma URL de imagem:"}),l.jsx(Ee,{id:"image-url",value:F.image||"",onChange:$=>se({...F,image:$.target.value||null}),placeholder:"https://...",disabled:O})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(js,{id:"enabled",checked:F.enabled??!0,onCheckedChange:$=>se({...F,enabled:$})}),l.jsx(oe,{htmlFor:"enabled",children:"Habilitada"})]})]}),l.jsxs(mn,{children:[l.jsx(we,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),l.jsxs(we,{onClick:V,disabled:S||O,children:[S&&l.jsx(Gl,{className:"h-4 w-4 mr-2 animate-spin"}),S?y?"Salvando...":"Criando...":O?"Aguarde o upload...":y?"Salvar":"Criar"]})]})]})})]})}function cfe(){const{user:e,isLoading:t}=Fa();return t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?l.jsx(sV,{children:l.jsxs(xP,{children:[l.jsx(Zt,{path:"/",element:l.jsx(cV,{})}),l.jsx(Zt,{path:"/orders",element:l.jsx(uV,{})}),l.jsx(Zt,{path:"/orders/new",element:l.jsx(_G,{})}),l.jsx(Zt,{path:"/orders/:id",element:l.jsx(OG,{})}),l.jsx(Zt,{path:"/finance",element:l.jsx(ms,{requiredRole:["admin","gerente"],children:l.jsx(Wde,{})})}),l.jsx(Zt,{path:"/sales",element:l.jsx(ms,{requiredRole:["admin","gerente"],children:l.jsx(Yde,{})})}),l.jsx(Zt,{path:"/tables",element:l.jsx(TG,{})}),l.jsx(Zt,{path:"/tables/:id",element:l.jsx(kG,{})}),l.jsx(Zt,{path:"/tables/:id/bill",element:l.jsx(efe,{})}),l.jsx(Zt,{path:"/menu",element:l.jsx(RG,{})}),l.jsx(Zt,{path:"/settings",element:l.jsx(ms,{requiredRole:["admin","gerente"],children:l.jsx(UG,{})})}),l.jsx(Zt,{path:"/order-display",element:l.jsx(Xde,{})}),l.jsx(Zt,{path:"/stock",element:l.jsx(ms,{requiredRole:"admin",children:l.jsx(afe,{})})}),l.jsx(Zt,{path:"/stock/add",element:l.jsx(ms,{requiredRole:"admin",children:l.jsx(ife,{})})}),l.jsx(Zt,{path:"/stock/edit/:id",element:l.jsx(ms,{requiredRole:"admin",children:l.jsx(sfe,{})})}),l.jsx(Zt,{path:"/products/new",element:l.jsx(ms,{requiredRole:["admin","gerente"],children:l.jsx(ofe,{})})}),l.jsx(Zt,{path:"/promotions",element:l.jsx(ms,{requiredRole:["admin","gerente","usuario"],children:l.jsx(lfe,{})})})]})}):l.jsx(yP,{to:"/login",replace:!0})}function ufe(){return l.jsx(QH,{children:l.jsx(eV,{children:l.jsx(tV,{children:l.jsx(Jde,{children:l.jsx(lV,{children:l.jsx(iB,{children:l.jsxs(xP,{children:[l.jsx(Zt,{path:"/login",element:l.jsx(Qde,{})}),l.jsx(Zt,{path:"/order-display-standalone",element:l.jsx(Zde,{})}),l.jsx(Zt,{path:"/*",element:l.jsx(cfe,{})})]})})})})})})})}VU.createRoot(document.getElementById("root")).render(l.jsx(v.StrictMode,{children:l.jsx(ufe,{})}));
