function cP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function _a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $U(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Wy={exports:{}},Au={};var wC;function UU(){if(wC)return Au;wC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:s}}return Au.Fragment=t,Au.jsx=r,Au.jsxs=r,Au}var jC;function BU(){return jC||(jC=1,Wy.exports=UU()),Wy.exports}var o=BU(),Yy={exports:{}},Ge={};var _C;function qU(){if(_C)return Ge;_C=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function E(M,H,Q){this.props=M,this.context=H,this.refs=_,this.updater=Q||S}E.prototype.isReactComponent={},E.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=E.prototype;function C(M,H,Q){this.props=M,this.context=H,this.refs=_,this.updater=Q||S}var R=C.prototype=new A;R.constructor=C,w(R,E.prototype),R.isPureReactComponent=!0;var O=Array.isArray;function I(){}var N={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function U(M,H,Q){var P=Q.ref;return{$$typeof:e,type:M,key:H,ref:P!==void 0?P:null,props:Q}}function G(M,H){return U(M.type,H,M.props)}function B(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function K(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Q){return H[Q]})}var F=/\/+/g;function oe(M,H){return typeof M=="object"&&M!==null&&M.key!=null?K(""+M.key):H.toString(36)}function J(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function L(M,H,Q,P,V){var ie=typeof M;(ie==="undefined"||ie==="boolean")&&(M=null);var W=!1;if(M===null)W=!0;else switch(ie){case"bigint":case"string":case"number":W=!0;break;case"object":switch(M.$$typeof){case e:case t:W=!0;break;case m:return W=M._init,L(W(M._payload),H,Q,P,V)}}if(W)return V=V(M),W=P===""?"."+oe(M,0):P,O(V)?(Q="",W!=null&&(Q=W.replace(F,"$&/")+"/"),L(V,H,Q,"",function(ee){return ee})):V!=null&&(B(V)&&(V=G(V,Q+(V.key==null||M&&M.key===V.key?"":(""+V.key).replace(F,"$&/")+"/")+W)),H.push(V)),1;W=0;var je=P===""?".":P+":";if(O(M))for(var z=0;z<M.length;z++)P=M[z],ie=je+oe(P,z),W+=L(P,H,Q,ie,V);else if(z=x(M),typeof z=="function")for(M=z.call(M),z=0;!(P=M.next()).done;)P=P.value,ie=je+oe(P,z++),W+=L(P,H,Q,ie,V);else if(ie==="object"){if(typeof M.then=="function")return L(J(M),H,Q,P,V);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return W}function D(M,H,Q){if(M==null)return M;var P=[],V=0;return L(M,P,"","",function(ie){return H.call(Q,ie,V++)}),P}function q(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(Q){(M._status===0||M._status===-1)&&(M._status=1,M._result=Q)},function(Q){(M._status===0||M._status===-1)&&(M._status=2,M._result=Q)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var re=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},X={map:D,forEach:function(M,H,Q){D(M,function(){H.apply(this,arguments)},Q)},count:function(M){var H=0;return D(M,function(){H++}),H},toArray:function(M){return D(M,function(H){return H})||[]},only:function(M){if(!B(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ge.Activity=g,Ge.Children=X,Ge.Component=E,Ge.Fragment=r,Ge.Profiler=a,Ge.PureComponent=C,Ge.StrictMode=n,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ge.cache=function(M){return function(){return M.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(M,H,Q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var P=w({},M.props),V=M.key;if(H!=null)for(ie in H.key!==void 0&&(V=""+H.key),H)!T.call(H,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&H.ref===void 0||(P[ie]=H[ie]);var ie=arguments.length-2;if(ie===1)P.children=Q;else if(1<ie){for(var W=Array(ie),je=0;je<ie;je++)W[je]=arguments[je+2];P.children=W}return U(M.type,V,P)},Ge.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},Ge.createElement=function(M,H,Q){var P,V={},ie=null;if(H!=null)for(P in H.key!==void 0&&(ie=""+H.key),H)T.call(H,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(V[P]=H[P]);var W=arguments.length-2;if(W===1)V.children=Q;else if(1<W){for(var je=Array(W),z=0;z<W;z++)je[z]=arguments[z+2];V.children=je}if(M&&M.defaultProps)for(P in W=M.defaultProps,W)V[P]===void 0&&(V[P]=W[P]);return U(M,ie,V)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(M){return{$$typeof:u,render:M}},Ge.isValidElement=B,Ge.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:q}},Ge.memo=function(M,H){return{$$typeof:h,type:M,compare:H===void 0?null:H}},Ge.startTransition=function(M){var H=N.T,Q={};N.T=Q;try{var P=M(),V=N.S;V!==null&&V(Q,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(I,re)}catch(ie){re(ie)}finally{H!==null&&Q.types!==null&&(H.types=Q.types),N.T=H}},Ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ge.use=function(M){return N.H.use(M)},Ge.useActionState=function(M,H,Q){return N.H.useActionState(M,H,Q)},Ge.useCallback=function(M,H){return N.H.useCallback(M,H)},Ge.useContext=function(M){return N.H.useContext(M)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(M,H){return N.H.useDeferredValue(M,H)},Ge.useEffect=function(M,H){return N.H.useEffect(M,H)},Ge.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ge.useId=function(){return N.H.useId()},Ge.useImperativeHandle=function(M,H,Q){return N.H.useImperativeHandle(M,H,Q)},Ge.useInsertionEffect=function(M,H){return N.H.useInsertionEffect(M,H)},Ge.useLayoutEffect=function(M,H){return N.H.useLayoutEffect(M,H)},Ge.useMemo=function(M,H){return N.H.useMemo(M,H)},Ge.useOptimistic=function(M,H){return N.H.useOptimistic(M,H)},Ge.useReducer=function(M,H,Q){return N.H.useReducer(M,H,Q)},Ge.useRef=function(M){return N.H.useRef(M)},Ge.useState=function(M){return N.H.useState(M)},Ge.useSyncExternalStore=function(M,H,Q){return N.H.useSyncExternalStore(M,H,Q)},Ge.useTransition=function(){return N.H.useTransition()},Ge.version="19.2.0",Ge}var SC;function yc(){return SC||(SC=1,Yy.exports=qU()),Yy.exports}var v=yc();const vs=_a(v),bp=cP({__proto__:null,default:vs},[v]);var Xy={exports:{}},Tu={},Zy={exports:{}},Qy={};var EC;function FU(){return EC||(EC=1,(function(e){function t(L,D){var q=L.length;L.push(D);e:for(;0<q;){var re=q-1>>>1,X=L[re];if(0<a(X,D))L[re]=D,L[q]=X,q=re;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var D=L[0],q=L.pop();if(q!==D){L[0]=q;e:for(var re=0,X=L.length,M=X>>>1;re<M;){var H=2*(re+1)-1,Q=L[H],P=H+1,V=L[P];if(0>a(Q,q))P<X&&0>a(V,Q)?(L[re]=V,L[P]=q,re=P):(L[re]=Q,L[H]=q,re=H);else if(P<X&&0>a(V,q))L[re]=V,L[P]=q,re=P;else break e}}return D}function a(L,D){var q=L.sortIndex-D.sortIndex;return q!==0?q:L.id-D.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,g=null,y=3,x=!1,S=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(L){for(var D=r(h);D!==null;){if(D.callback===null)n(h);else if(D.startTime<=L)n(h),D.sortIndex=D.expirationTime,t(f,D);else break;D=r(h)}}function O(L){if(w=!1,R(L),!S)if(r(f)!==null)S=!0,I||(I=!0,K());else{var D=r(h);D!==null&&J(O,D.startTime-L)}}var I=!1,N=-1,T=5,U=-1;function G(){return _?!0:!(e.unstable_now()-U<T)}function B(){if(_=!1,I){var L=e.unstable_now();U=L;var D=!0;try{e:{S=!1,w&&(w=!1,A(N),N=-1),x=!0;var q=y;try{t:{for(R(L),g=r(f);g!==null&&!(g.expirationTime>L&&G());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var X=re(g.expirationTime<=L);if(L=e.unstable_now(),typeof X=="function"){g.callback=X,R(L),D=!0;break t}g===r(f)&&n(f),R(L)}else n(f);g=r(f)}if(g!==null)D=!0;else{var M=r(h);M!==null&&J(O,M.startTime-L),D=!1}}break e}finally{g=null,y=q,x=!1}D=void 0}}finally{D?K():I=!1}}}var K;if(typeof C=="function")K=function(){C(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,oe=F.port2;F.port1.onmessage=B,K=function(){oe.postMessage(null)}}else K=function(){E(B,0)};function J(L,D){N=E(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var D=3;break;default:D=y}var q=y;y=D;try{return L()}finally{y=q}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=y;y=L;try{return D()}finally{y=q}},e.unstable_scheduleCallback=function(L,D,q){var re=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?re+q:re):q=re,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,L={id:m++,callback:D,priorityLevel:L,startTime:q,expirationTime:X,sortIndex:-1},q>re?(L.sortIndex=q,t(h,L),r(f)===null&&L===r(h)&&(w?(A(N),N=-1):w=!0,J(O,q-re))):(L.sortIndex=X,t(f,L),S||x||(S=!0,I||(I=!0,K()))),L},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(L){var D=y;return function(){var q=y;y=D;try{return L.apply(this,arguments)}finally{y=q}}}})(Qy)),Qy}var NC;function HU(){return NC||(NC=1,Zy.exports=FU()),Zy.exports}var Jy={exports:{}},Ir={};var CC;function VU(){if(CC)return Ir;CC=1;var e=yc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ir.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,m)},Ir.flushSync=function(f){var h=c.T,m=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=h,n.p=m,n.d.f()}},Ir.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Ir.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Ir.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):m==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ir.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Ir.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);n.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ir.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Ir.requestFormReset=function(f){n.d.r(f)},Ir.unstable_batchedUpdates=function(f,h){return f(h)},Ir.useFormState=function(f,h,m){return c.H.useFormState(f,h,m)},Ir.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ir.version="19.2.0",Ir}var OC;function uP(){if(OC)return Jy.exports;OC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jy.exports=VU(),Jy.exports}var AC;function KU(){if(AC)return Tu;AC=1;var e=HU(),t=yc(),r=uP();function n(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(n(188));return l!==i?null:i}for(var d=i,p=l;;){var b=d.return;if(b===null)break;var j=b.alternate;if(j===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===j.child){for(j=b.child;j;){if(j===d)return f(b),i;if(j===p)return f(b),l;j=j.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=j;else{for(var k=!1,$=b.child;$;){if($===d){k=!0,d=b,p=j;break}if($===p){k=!0,p=b,d=j;break}$=$.sibling}if(!k){for($=j.child;$;){if($===d){k=!0,d=j,p=b;break}if($===p){k=!0,p=j,d=b;break}$=$.sibling}if(!k)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:l}function m(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=m(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case C:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case R:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return l=i.displayName||null,l!==null?l:oe(i.type)||"Memo";case T:l=i._payload,i=i._init;try{return oe(i(l))}catch{}}return null}var J=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},re=[],X=-1;function M(i){return{current:i}}function H(i){0>X||(i.current=re[X],re[X]=null,X--)}function Q(i,l){X++,re[X]=i.current,i.current=l}var P=M(null),V=M(null),ie=M(null),W=M(null);function je(i,l){switch(Q(ie,l),Q(V,i),Q(P,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?HN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=HN(l),i=VN(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(P),Q(P,i)}function z(){H(P),H(V),H(ie)}function ee(i){i.memoizedState!==null&&Q(W,i);var l=P.current,d=VN(l,i.type);l!==d&&(Q(V,i),Q(P,d))}function ce(i){V.current===i&&(H(P),H(V)),W.current===i&&(H(W),Eu._currentValue=q)}var Y,ae;function he(i){if(Y===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Y=l&&l[1]||"",ae=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+i+ae}var Se=!1;function Oe(i,l){if(!i||Se)return"";Se=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(me){var fe=me}Reflect.construct(i,[],be)}else{try{be.call()}catch(me){fe=me}i.call(be.prototype)}}else{try{throw Error()}catch(me){fe=me}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=p.DetermineComponentFrameRoot(),k=j[0],$=j[1];if(k&&$){var Z=k.split(`
`),ue=$.split(`
`);for(b=p=0;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ue.length&&!ue[b].includes("DetermineComponentFrameRoot");)b++;if(p===Z.length||b===ue.length)for(p=Z.length-1,b=ue.length-1;1<=p&&0<=b&&Z[p]!==ue[b];)b--;for(;1<=p&&0<=b;p--,b--)if(Z[p]!==ue[b]){if(p!==1||b!==1)do if(p--,b--,0>b||Z[p]!==ue[b]){var ve=`
`+Z[p].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=p&&0<=b);break}}}finally{Se=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?he(d):""}function Ke(i,l){switch(i.tag){case 26:case 27:case 5:return he(i.type);case 16:return he("Lazy");case 13:return i.child!==l&&l!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return Oe(i.type,!1);case 11:return Oe(i.type.render,!1);case 1:return Oe(i.type,!0);case 31:return he("Activity");default:return""}}function ct(i){try{var l="",d=null;do l+=Ke(i,d),d=i,i=i.return;while(i);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var pe=Object.prototype.hasOwnProperty,Pe=e.unstable_scheduleCallback,it=e.unstable_cancelCallback,Ht=e.unstable_shouldYield,Ot=e.unstable_requestPaint,vt=e.unstable_now,zs=e.unstable_getCurrentPriorityLevel,Bi=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,cr=e.unstable_NormalPriority,Ka=e.unstable_LowPriority,$n=e.unstable_IdlePriority,Lc=e.log,Mg=e.unstable_setDisableYieldValue,qi=null,Wr=null;function Fi(i){if(typeof Lc=="function"&&Mg(i),Wr&&typeof Wr.setStrictMode=="function")try{Wr.setStrictMode(qi,i)}catch{}}var xn=Math.clz32?Math.clz32:E$,_$=Math.log,S$=Math.LN2;function E$(i){return i>>>=0,i===0?32:31-(_$(i)/S$|0)|0}var Wd=256,Yd=262144,Xd=4194304;function $s(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Zd(i,l,d){var p=i.pendingLanes;if(p===0)return 0;var b=0,j=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var $=p&134217727;return $!==0?(p=$&~j,p!==0?b=$s(p):(k&=$,k!==0?b=$s(k):d||(d=$&~i,d!==0&&(b=$s(d))))):($=p&~j,$!==0?b=$s($):k!==0?b=$s(k):d||(d=p&~i,d!==0&&(b=$s(d)))),b===0?0:l!==0&&l!==b&&(l&j)===0&&(j=b&-b,d=l&-l,j>=d||j===32&&(d&4194048)!==0)?l:b}function zc(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function N$(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E1(){var i=Xd;return Xd<<=1,(Xd&62914560)===0&&(Xd=4194304),i}function Ig(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function $c(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function C$(i,l,d,p,b,j){var k=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var $=i.entanglements,Z=i.expirationTimes,ue=i.hiddenUpdates;for(d=k&~d;0<d;){var ve=31-xn(d),be=1<<ve;$[ve]=0,Z[ve]=-1;var fe=ue[ve];if(fe!==null)for(ue[ve]=null,ve=0;ve<fe.length;ve++){var me=fe[ve];me!==null&&(me.lane&=-536870913)}d&=~be}p!==0&&N1(i,p,0),j!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=j&~(k&~l))}function N1(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var p=31-xn(l);i.entangledLanes|=l,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function C1(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var p=31-xn(d),b=1<<p;b&l|i[p]&l&&(i[p]|=l),d&=~b}}function O1(i,l){var d=l&-l;return d=(d&42)!==0?1:Lg(d),(d&(i.suspendedLanes|l))!==0?0:d}function Lg(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function zg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function A1(){var i=D.p;return i!==0?i:(i=window.event,i===void 0?32:mC(i.type))}function T1(i,l){var d=D.p;try{return D.p=i,l()}finally{D.p=d}}var Hi=Math.random().toString(36).slice(2),Or="__reactFiber$"+Hi,sn="__reactProps$"+Hi,Vo="__reactContainer$"+Hi,$g="__reactEvents$"+Hi,O$="__reactListeners$"+Hi,A$="__reactHandles$"+Hi,k1="__reactResources$"+Hi,Uc="__reactMarker$"+Hi;function Ug(i){delete i[Or],delete i[sn],delete i[$g],delete i[O$],delete i[A$]}function Ko(i){var l=i[Or];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Vo]||d[Or]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=QN(i);i!==null;){if(d=i[Or])return d;i=QN(i)}return l}i=d,d=i.parentNode}return null}function Go(i){if(i=i[Or]||i[Vo]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Bc(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(n(33))}function Wo(i){var l=i[k1];return l||(l=i[k1]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function br(i){i[Uc]=!0}var P1=new Set,R1={};function Us(i,l){Yo(i,l),Yo(i+"Capture",l)}function Yo(i,l){for(R1[i]=l,i=0;i<l.length;i++)P1.add(l[i])}var T$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D1={},M1={};function k$(i){return pe.call(M1,i)?!0:pe.call(D1,i)?!1:T$.test(i)?M1[i]=!0:(D1[i]=!0,!1)}function Qd(i,l,d){if(k$(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function Jd(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function Ga(i,l,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+p)}}function Un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function I1(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function P$(i,l,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,j=p.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(k){d=""+k,j.call(this,k)}}),Object.defineProperty(i,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Bg(i){if(!i._valueTracker){var l=I1(i)?"checked":"value";i._valueTracker=P$(i,l,""+i[l])}}function L1(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return i&&(p=I1(i)?i.checked?"true":"false":i.value),i=p,i!==d?(l.setValue(i),!0):!1}function ef(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var R$=/[\n"\\]/g;function Bn(i){return i.replace(R$,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qg(i,l,d,p,b,j,k,$){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),l!=null?k==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Un(l)):i.value!==""+Un(l)&&(i.value=""+Un(l)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),l!=null?Fg(i,k,Un(l)):d!=null?Fg(i,k,Un(d)):p!=null&&i.removeAttribute("value"),b==null&&j!=null&&(i.defaultChecked=!!j),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Un($):i.removeAttribute("name")}function z1(i,l,d,p,b,j,k,$){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),l!=null||d!=null){if(!(j!=="submit"&&j!=="reset"||l!=null)){Bg(i);return}d=d!=null?""+Un(d):"",l=l!=null?""+Un(l):d,$||l===i.value||(i.value=l),i.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=$?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Bg(i)}function Fg(i,l,d){l==="number"&&ef(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Xo(i,l,d,p){if(i=i.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=l.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Un(d),l=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function $1(i,l,d){if(l!=null&&(l=""+Un(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+Un(d):""}function U1(i,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(n(92));if(J(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Un(l),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Bg(i)}function Zo(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var D$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function B1(i,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":p?i.setProperty(l,d):typeof d!="number"||d===0||D$.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function q1(i,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&d[b]!==p&&B1(i,b,p)}else for(var j in l)l.hasOwnProperty(j)&&B1(i,j,l[j])}function Hg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tf(i){return I$.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Wa(){}var Vg=null;function Kg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qo=null,Jo=null;function F1(i){var l=Go(i);if(l&&(i=l.stateNode)){var d=i[sn]||null;e:switch(i=l.stateNode,l.type){case"input":if(qg(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Bn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==i&&p.form===i.form){var b=p[sn]||null;if(!b)throw Error(n(90));qg(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===i.form&&L1(p)}break e;case"textarea":$1(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Xo(i,!!d.multiple,l,!1)}}}var Gg=!1;function H1(i,l,d){if(Gg)return i(l,d);Gg=!0;try{var p=i(l);return p}finally{if(Gg=!1,(Qo!==null||Jo!==null)&&(Ff(),Qo&&(l=Qo,i=Jo,Jo=Qo=null,F1(l),i)))for(l=0;l<i.length;l++)F1(i[l])}}function qc(i,l){var d=i.stateNode;if(d===null)return null;var p=d[sn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=!1;if(Ya)try{var Fc={};Object.defineProperty(Fc,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{Wg=!1}var Vi=null,Yg=null,rf=null;function V1(){if(rf)return rf;var i,l=Yg,d=l.length,p,b="value"in Vi?Vi.value:Vi.textContent,j=b.length;for(i=0;i<d&&l[i]===b[i];i++);var k=d-i;for(p=1;p<=k&&l[d-p]===b[j-p];p++);return rf=b.slice(i,1<p?1-p:void 0)}function nf(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function af(){return!0}function K1(){return!1}function on(i){function l(d,p,b,j,k){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=j,this.target=k,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(d=i[$],this[$]=d?d(j):j[$]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?af:K1,this.isPropagationStopped=K1,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=af)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=af)},persist:function(){},isPersistent:af}),l}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=on(Bs),Hc=g({},Bs,{view:0,detail:0}),L$=on(Hc),Xg,Zg,Vc,of=g({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vc&&(Vc&&i.type==="mousemove"?(Xg=i.screenX-Vc.screenX,Zg=i.screenY-Vc.screenY):Zg=Xg=0,Vc=i),Xg)},movementY:function(i){return"movementY"in i?i.movementY:Zg}}),G1=on(of),z$=g({},of,{dataTransfer:0}),$$=on(z$),U$=g({},Hc,{relatedTarget:0}),Qg=on(U$),B$=g({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),q$=on(B$),F$=g({},Bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),H$=on(F$),V$=g({},Bs,{data:0}),W1=on(V$),K$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y$(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=W$[i])?!!l[i]:!1}function Jg(){return Y$}var X$=g({},Hc,{key:function(i){if(i.key){var l=K$[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=nf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?G$[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jg,charCode:function(i){return i.type==="keypress"?nf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Z$=on(X$),Q$=g({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=on(Q$),J$=g({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jg}),e5=on(J$),t5=g({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),r5=on(t5),n5=g({},of,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),a5=on(n5),i5=g({},Bs,{newState:0,oldState:0}),s5=on(i5),o5=[9,13,27,32],ev=Ya&&"CompositionEvent"in window,Kc=null;Ya&&"documentMode"in document&&(Kc=document.documentMode);var l5=Ya&&"TextEvent"in window&&!Kc,X1=Ya&&(!ev||Kc&&8<Kc&&11>=Kc),Z1=" ",Q1=!1;function J1(i,l){switch(i){case"keyup":return o5.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var el=!1;function c5(i,l){switch(i){case"compositionend":return eS(l);case"keypress":return l.which!==32?null:(Q1=!0,Z1);case"textInput":return i=l.data,i===Z1&&Q1?null:i;default:return null}}function u5(i,l){if(el)return i==="compositionend"||!ev&&J1(i,l)?(i=V1(),rf=Yg=Vi=null,el=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return X1&&l.locale!=="ko"?null:l.data;default:return null}}var d5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tS(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!d5[i.type]:l==="textarea"}function rS(i,l,d,p){Qo?Jo?Jo.push(p):Jo=[p]:Qo=p,l=Xf(l,"onChange"),0<l.length&&(d=new sf("onChange","change",null,d,p),i.push({event:d,listeners:l}))}var Gc=null,Wc=null;function f5(i){zN(i,0)}function lf(i){var l=Bc(i);if(L1(l))return i}function nS(i,l){if(i==="change")return l}var aS=!1;if(Ya){var tv;if(Ya){var rv="oninput"in document;if(!rv){var iS=document.createElement("div");iS.setAttribute("oninput","return;"),rv=typeof iS.oninput=="function"}tv=rv}else tv=!1;aS=tv&&(!document.documentMode||9<document.documentMode)}function sS(){Gc&&(Gc.detachEvent("onpropertychange",oS),Wc=Gc=null)}function oS(i){if(i.propertyName==="value"&&lf(Wc)){var l=[];rS(l,Wc,i,Kg(i)),H1(f5,l)}}function h5(i,l,d){i==="focusin"?(sS(),Gc=l,Wc=d,Gc.attachEvent("onpropertychange",oS)):i==="focusout"&&sS()}function m5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lf(Wc)}function p5(i,l){if(i==="click")return lf(l)}function g5(i,l){if(i==="input"||i==="change")return lf(l)}function v5(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var bn=typeof Object.is=="function"?Object.is:v5;function Yc(i,l){if(bn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!pe.call(l,b)||!bn(i[b],l[b]))return!1}return!0}function lS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cS(i,l){var d=lS(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=l&&p>=l)return{node:d,offset:l-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=lS(d)}}function uS(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?uS(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function dS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ef(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=ef(i.document)}return l}function nv(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var y5=Ya&&"documentMode"in document&&11>=document.documentMode,tl=null,av=null,Xc=null,iv=!1;function fS(i,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;iv||tl==null||tl!==ef(p)||(p=tl,"selectionStart"in p&&nv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Xc&&Yc(Xc,p)||(Xc=p,p=Xf(av,"onSelect"),0<p.length&&(l=new sf("onSelect","select",null,l,d),i.push({event:l,listeners:p}),l.target=tl)))}function qs(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var rl={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},sv={},hS={};Ya&&(hS=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Fs(i){if(sv[i])return sv[i];if(!rl[i])return i;var l=rl[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in hS)return sv[i]=l[d];return i}var mS=Fs("animationend"),pS=Fs("animationiteration"),gS=Fs("animationstart"),x5=Fs("transitionrun"),b5=Fs("transitionstart"),w5=Fs("transitioncancel"),vS=Fs("transitionend"),yS=new Map,ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ov.push("scrollEnd");function sa(i,l){yS.set(i,l),Us(l,[i])}var cf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},qn=[],nl=0,lv=0;function uf(){for(var i=nl,l=lv=nl=0;l<i;){var d=qn[l];qn[l++]=null;var p=qn[l];qn[l++]=null;var b=qn[l];qn[l++]=null;var j=qn[l];if(qn[l++]=null,p!==null&&b!==null){var k=p.pending;k===null?b.next=b:(b.next=k.next,k.next=b),p.pending=b}j!==0&&xS(d,b,j)}}function df(i,l,d,p){qn[nl++]=i,qn[nl++]=l,qn[nl++]=d,qn[nl++]=p,lv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function cv(i,l,d,p){return df(i,l,d,p),ff(i)}function Hs(i,l){return df(i,null,null,l),ff(i)}function xS(i,l,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var b=!1,j=i.return;j!==null;)j.childLanes|=d,p=j.alternate,p!==null&&(p.childLanes|=d),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(b=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,b&&l!==null&&(b=31-xn(d),i=j.hiddenUpdates,p=i[b],p===null?i[b]=[l]:p.push(l),l.lane=d|536870912),j):null}function ff(i){if(50<yu)throw yu=0,yy=null,Error(n(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var al={};function j5(i,l,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,l,d,p){return new j5(i,l,d,p)}function uv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xa(i,l){var d=i.alternate;return d===null?(d=wn(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function bS(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function hf(i,l,d,p,b,j){var k=0;if(p=i,typeof i=="function")uv(i)&&(k=1);else if(typeof i=="string")k=CU(i,d,P.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=wn(31,d,l,b),i.elementType=U,i.lanes=j,i;case w:return Vs(d.children,b,j,l);case _:k=8,b|=24;break;case E:return i=wn(12,d,l,b|2),i.elementType=E,i.lanes=j,i;case O:return i=wn(13,d,l,b),i.elementType=O,i.lanes=j,i;case I:return i=wn(19,d,l,b),i.elementType=I,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:k=10;break e;case A:k=9;break e;case R:k=11;break e;case N:k=14;break e;case T:k=16,p=null;break e}k=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return l=wn(k,d,l,b),l.elementType=i,l.type=p,l.lanes=j,l}function Vs(i,l,d,p){return i=wn(7,i,p,l),i.lanes=d,i}function dv(i,l,d){return i=wn(6,i,null,l),i.lanes=d,i}function wS(i){var l=wn(18,null,null,0);return l.stateNode=i,l}function fv(i,l,d){return l=wn(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var jS=new WeakMap;function Fn(i,l){if(typeof i=="object"&&i!==null){var d=jS.get(i);return d!==void 0?d:(l={value:i,source:l,stack:ct(l)},jS.set(i,l),l)}return{value:i,source:l,stack:ct(l)}}var il=[],sl=0,mf=null,Zc=0,Hn=[],Vn=0,Ki=null,Ta=1,ka="";function Za(i,l){il[sl++]=Zc,il[sl++]=mf,mf=i,Zc=l}function _S(i,l,d){Hn[Vn++]=Ta,Hn[Vn++]=ka,Hn[Vn++]=Ki,Ki=i;var p=Ta;i=ka;var b=32-xn(p)-1;p&=~(1<<b),d+=1;var j=32-xn(l)+b;if(30<j){var k=b-b%5;j=(p&(1<<k)-1).toString(32),p>>=k,b-=k,Ta=1<<32-xn(l)+b|d<<b|p,ka=j+i}else Ta=1<<j|d<<b|p,ka=i}function hv(i){i.return!==null&&(Za(i,1),_S(i,1,0))}function mv(i){for(;i===mf;)mf=il[--sl],il[sl]=null,Zc=il[--sl],il[sl]=null;for(;i===Ki;)Ki=Hn[--Vn],Hn[Vn]=null,ka=Hn[--Vn],Hn[Vn]=null,Ta=Hn[--Vn],Hn[Vn]=null}function SS(i,l){Hn[Vn++]=Ta,Hn[Vn++]=ka,Hn[Vn++]=Ki,Ta=l.id,ka=l.overflow,Ki=i}var Ar=null,kt=null,lt=!1,Gi=null,Kn=!1,pv=Error(n(519));function Wi(i){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qc(Fn(l,i)),pv}function ES(i){var l=i.stateNode,d=i.type,p=i.memoizedProps;switch(l[Or]=i,l[sn]=p,d){case"dialog":at("cancel",l),at("close",l);break;case"iframe":case"object":case"embed":at("load",l);break;case"video":case"audio":for(d=0;d<bu.length;d++)at(bu[d],l);break;case"source":at("error",l);break;case"img":case"image":case"link":at("error",l),at("load",l);break;case"details":at("toggle",l);break;case"input":at("invalid",l),z1(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":at("invalid",l);break;case"textarea":at("invalid",l),U1(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||qN(l.textContent,d)?(p.popover!=null&&(at("beforetoggle",l),at("toggle",l)),p.onScroll!=null&&at("scroll",l),p.onScrollEnd!=null&&at("scrollend",l),p.onClick!=null&&(l.onclick=Wa),l=!0):l=!1,l||Wi(i,!0)}function NS(i){for(Ar=i.return;Ar;)switch(Ar.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ar=Ar.return}}function ol(i){if(i!==Ar)return!1;if(!lt)return NS(i),lt=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||Ry(i.type,i.memoizedProps)),d=!d),d&&kt&&Wi(i),NS(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));kt=ZN(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));kt=ZN(i)}else l===27?(l=kt,ls(i.type)?(i=zy,zy=null,kt=i):kt=l):kt=Ar?Wn(i.stateNode.nextSibling):null;return!0}function Ks(){kt=Ar=null,lt=!1}function gv(){var i=Gi;return i!==null&&(dn===null?dn=i:dn.push.apply(dn,i),Gi=null),i}function Qc(i){Gi===null?Gi=[i]:Gi.push(i)}var vv=M(null),Gs=null,Qa=null;function Yi(i,l,d){Q(vv,l._currentValue),l._currentValue=d}function Ja(i){i._currentValue=vv.current,H(vv)}function yv(i,l,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===d)break;i=i.return}}function xv(i,l,d,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var j=b.dependencies;if(j!==null){var k=b.child;j=j.firstContext;e:for(;j!==null;){var $=j;j=b;for(var Z=0;Z<l.length;Z++)if($.context===l[Z]){j.lanes|=d,$=j.alternate,$!==null&&($.lanes|=d),yv(j.return,d,i),p||(k=null);break e}j=$.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=d,j=k.alternate,j!==null&&(j.lanes|=d),yv(k,d,i),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===i){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function ll(i,l,d,p){i=null;for(var b=l,j=!1;b!==null;){if(!j){if((b.flags&524288)!==0)j=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var $=b.type;bn(b.pendingProps.value,k.value)||(i!==null?i.push($):i=[$])}}else if(b===W.current){if(k=b.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}b=b.return}i!==null&&xv(l,i,d,p),l.flags|=262144}function pf(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ws(i){Gs=i,Qa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tr(i){return CS(Gs,i)}function gf(i,l){return Gs===null&&Ws(i),CS(i,l)}function CS(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Qa===null){if(i===null)throw Error(n(308));Qa=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Qa=Qa.next=l;return d}var _5=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},S5=e.unstable_scheduleCallback,E5=e.unstable_NormalPriority,er={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bv(){return{controller:new _5,data:new Map,refCount:0}}function Jc(i){i.refCount--,i.refCount===0&&S5(E5,function(){i.controller.abort()})}var eu=null,wv=0,cl=0,ul=null;function N5(i,l){if(eu===null){var d=eu=[];wv=0,cl=Sy(),ul={status:"pending",value:void 0,then:function(p){d.push(p)}}}return wv++,l.then(OS,OS),l}function OS(){if(--wv===0&&eu!==null){ul!==null&&(ul.status="fulfilled");var i=eu;eu=null,cl=0,ul=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function C5(i,l){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return i.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var AS=L.S;L.S=function(i,l){fN=vt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&N5(i,l),AS!==null&&AS(i,l)};var Ys=M(null);function jv(){var i=Ys.current;return i!==null?i:Et.pooledCache}function vf(i,l){l===null?Q(Ys,Ys.current):Q(Ys,l.pool)}function TS(){var i=jv();return i===null?null:{parent:er._currentValue,pool:i}}var dl=Error(n(460)),_v=Error(n(474)),yf=Error(n(542)),xf={then:function(){}};function kS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function PS(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(Wa,Wa),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,DS(i),i;default:if(typeof l.status=="string")l.then(Wa,Wa);else{if(i=Et,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=l,i.status="pending",i.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,DS(i),i}throw Zs=l,dl}}function Xs(i){try{var l=i._init;return l(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Zs=d,dl):d}}var Zs=null;function RS(){if(Zs===null)throw Error(n(459));var i=Zs;return Zs=null,i}function DS(i){if(i===dl||i===yf)throw Error(n(483))}var fl=null,tu=0;function bf(i){var l=tu;return tu+=1,fl===null&&(fl=[]),PS(fl,i,l)}function ru(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function wf(i,l){throw l.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function MS(i){function l(ne,te){if(i){var le=ne.deletions;le===null?(ne.deletions=[te],ne.flags|=16):le.push(te)}}function d(ne,te){if(!i)return null;for(;te!==null;)l(ne,te),te=te.sibling;return null}function p(ne){for(var te=new Map;ne!==null;)ne.key!==null?te.set(ne.key,ne):te.set(ne.index,ne),ne=ne.sibling;return te}function b(ne,te){return ne=Xa(ne,te),ne.index=0,ne.sibling=null,ne}function j(ne,te,le){return ne.index=le,i?(le=ne.alternate,le!==null?(le=le.index,le<te?(ne.flags|=67108866,te):le):(ne.flags|=67108866,te)):(ne.flags|=1048576,te)}function k(ne){return i&&ne.alternate===null&&(ne.flags|=67108866),ne}function $(ne,te,le,ye){return te===null||te.tag!==6?(te=dv(le,ne.mode,ye),te.return=ne,te):(te=b(te,le),te.return=ne,te)}function Z(ne,te,le,ye){var qe=le.type;return qe===w?ve(ne,te,le.props.children,ye,le.key):te!==null&&(te.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===T&&Xs(qe)===te.type)?(te=b(te,le.props),ru(te,le),te.return=ne,te):(te=hf(le.type,le.key,le.props,null,ne.mode,ye),ru(te,le),te.return=ne,te)}function ue(ne,te,le,ye){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=fv(le,ne.mode,ye),te.return=ne,te):(te=b(te,le.children||[]),te.return=ne,te)}function ve(ne,te,le,ye,qe){return te===null||te.tag!==7?(te=Vs(le,ne.mode,ye,qe),te.return=ne,te):(te=b(te,le),te.return=ne,te)}function be(ne,te,le){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=dv(""+te,ne.mode,le),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return le=hf(te.type,te.key,te.props,null,ne.mode,le),ru(le,te),le.return=ne,le;case S:return te=fv(te,ne.mode,le),te.return=ne,te;case T:return te=Xs(te),be(ne,te,le)}if(J(te)||K(te))return te=Vs(te,ne.mode,le,null),te.return=ne,te;if(typeof te.then=="function")return be(ne,bf(te),le);if(te.$$typeof===C)return be(ne,gf(ne,te),le);wf(ne,te)}return null}function fe(ne,te,le,ye){var qe=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return qe!==null?null:$(ne,te,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return le.key===qe?Z(ne,te,le,ye):null;case S:return le.key===qe?ue(ne,te,le,ye):null;case T:return le=Xs(le),fe(ne,te,le,ye)}if(J(le)||K(le))return qe!==null?null:ve(ne,te,le,ye,null);if(typeof le.then=="function")return fe(ne,te,bf(le),ye);if(le.$$typeof===C)return fe(ne,te,gf(ne,le),ye);wf(ne,le)}return null}function me(ne,te,le,ye,qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ne=ne.get(le)||null,$(te,ne,""+ye,qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ne=ne.get(ye.key===null?le:ye.key)||null,Z(te,ne,ye,qe);case S:return ne=ne.get(ye.key===null?le:ye.key)||null,ue(te,ne,ye,qe);case T:return ye=Xs(ye),me(ne,te,le,ye,qe)}if(J(ye)||K(ye))return ne=ne.get(le)||null,ve(te,ne,ye,qe,null);if(typeof ye.then=="function")return me(ne,te,le,bf(ye),qe);if(ye.$$typeof===C)return me(ne,te,le,gf(te,ye),qe);wf(te,ye)}return null}function Re(ne,te,le,ye){for(var qe=null,ut=null,Le=te,Ze=te=0,ot=null;Le!==null&&Ze<le.length;Ze++){Le.index>Ze?(ot=Le,Le=null):ot=Le.sibling;var dt=fe(ne,Le,le[Ze],ye);if(dt===null){Le===null&&(Le=ot);break}i&&Le&&dt.alternate===null&&l(ne,Le),te=j(dt,te,Ze),ut===null?qe=dt:ut.sibling=dt,ut=dt,Le=ot}if(Ze===le.length)return d(ne,Le),lt&&Za(ne,Ze),qe;if(Le===null){for(;Ze<le.length;Ze++)Le=be(ne,le[Ze],ye),Le!==null&&(te=j(Le,te,Ze),ut===null?qe=Le:ut.sibling=Le,ut=Le);return lt&&Za(ne,Ze),qe}for(Le=p(Le);Ze<le.length;Ze++)ot=me(Le,ne,Ze,le[Ze],ye),ot!==null&&(i&&ot.alternate!==null&&Le.delete(ot.key===null?Ze:ot.key),te=j(ot,te,Ze),ut===null?qe=ot:ut.sibling=ot,ut=ot);return i&&Le.forEach(function(hs){return l(ne,hs)}),lt&&Za(ne,Ze),qe}function Fe(ne,te,le,ye){if(le==null)throw Error(n(151));for(var qe=null,ut=null,Le=te,Ze=te=0,ot=null,dt=le.next();Le!==null&&!dt.done;Ze++,dt=le.next()){Le.index>Ze?(ot=Le,Le=null):ot=Le.sibling;var hs=fe(ne,Le,dt.value,ye);if(hs===null){Le===null&&(Le=ot);break}i&&Le&&hs.alternate===null&&l(ne,Le),te=j(hs,te,Ze),ut===null?qe=hs:ut.sibling=hs,ut=hs,Le=ot}if(dt.done)return d(ne,Le),lt&&Za(ne,Ze),qe;if(Le===null){for(;!dt.done;Ze++,dt=le.next())dt=be(ne,dt.value,ye),dt!==null&&(te=j(dt,te,Ze),ut===null?qe=dt:ut.sibling=dt,ut=dt);return lt&&Za(ne,Ze),qe}for(Le=p(Le);!dt.done;Ze++,dt=le.next())dt=me(Le,ne,Ze,dt.value,ye),dt!==null&&(i&&dt.alternate!==null&&Le.delete(dt.key===null?Ze:dt.key),te=j(dt,te,Ze),ut===null?qe=dt:ut.sibling=dt,ut=dt);return i&&Le.forEach(function(zU){return l(ne,zU)}),lt&&Za(ne,Ze),qe}function _t(ne,te,le,ye){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case x:e:{for(var qe=le.key;te!==null;){if(te.key===qe){if(qe=le.type,qe===w){if(te.tag===7){d(ne,te.sibling),ye=b(te,le.props.children),ye.return=ne,ne=ye;break e}}else if(te.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===T&&Xs(qe)===te.type){d(ne,te.sibling),ye=b(te,le.props),ru(ye,le),ye.return=ne,ne=ye;break e}d(ne,te);break}else l(ne,te);te=te.sibling}le.type===w?(ye=Vs(le.props.children,ne.mode,ye,le.key),ye.return=ne,ne=ye):(ye=hf(le.type,le.key,le.props,null,ne.mode,ye),ru(ye,le),ye.return=ne,ne=ye)}return k(ne);case S:e:{for(qe=le.key;te!==null;){if(te.key===qe)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){d(ne,te.sibling),ye=b(te,le.children||[]),ye.return=ne,ne=ye;break e}else{d(ne,te);break}else l(ne,te);te=te.sibling}ye=fv(le,ne.mode,ye),ye.return=ne,ne=ye}return k(ne);case T:return le=Xs(le),_t(ne,te,le,ye)}if(J(le))return Re(ne,te,le,ye);if(K(le)){if(qe=K(le),typeof qe!="function")throw Error(n(150));return le=qe.call(le),Fe(ne,te,le,ye)}if(typeof le.then=="function")return _t(ne,te,bf(le),ye);if(le.$$typeof===C)return _t(ne,te,gf(ne,le),ye);wf(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,te!==null&&te.tag===6?(d(ne,te.sibling),ye=b(te,le),ye.return=ne,ne=ye):(d(ne,te),ye=dv(le,ne.mode,ye),ye.return=ne,ne=ye),k(ne)):d(ne,te)}return function(ne,te,le,ye){try{tu=0;var qe=_t(ne,te,le,ye);return fl=null,qe}catch(Le){if(Le===dl||Le===yf)throw Le;var ut=wn(29,Le,null,ne.mode);return ut.lanes=ye,ut.return=ne,ut}finally{}}}var Qs=MS(!0),IS=MS(!1),Xi=!1;function Sv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ev(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Qi(i,l,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(mt&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=ff(i),xS(i,null,d),l}return df(i,p,l,d),ff(i)}function nu(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,C1(i,d)}}function Nv(i,l){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};j===null?b=j=k:j=j.next=k,d=d.next}while(d!==null);j===null?b=j=l:j=j.next=l}else b=j=l;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:j,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var Cv=!1;function au(){if(Cv){var i=ul;if(i!==null)throw i}}function iu(i,l,d,p){Cv=!1;var b=i.updateQueue;Xi=!1;var j=b.firstBaseUpdate,k=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var Z=$,ue=Z.next;Z.next=null,k===null?j=ue:k.next=ue,k=Z;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,$=ve.lastBaseUpdate,$!==k&&($===null?ve.firstBaseUpdate=ue:$.next=ue,ve.lastBaseUpdate=Z))}if(j!==null){var be=b.baseState;k=0,ve=ue=Z=null,$=j;do{var fe=$.lane&-536870913,me=fe!==$.lane;if(me?(st&fe)===fe:(p&fe)===fe){fe!==0&&fe===cl&&(Cv=!0),ve!==null&&(ve=ve.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Re=i,Fe=$;fe=l;var _t=d;switch(Fe.tag){case 1:if(Re=Fe.payload,typeof Re=="function"){be=Re.call(_t,be,fe);break e}be=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Fe.payload,fe=typeof Re=="function"?Re.call(_t,be,fe):Re,fe==null)break e;be=g({},be,fe);break e;case 2:Xi=!0}}fe=$.callback,fe!==null&&(i.flags|=64,me&&(i.flags|=8192),me=b.callbacks,me===null?b.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ve===null?(ue=ve=me,Z=be):ve=ve.next=me,k|=fe;if($=$.next,$===null){if($=b.shared.pending,$===null)break;me=$,$=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);ve===null&&(Z=be),b.baseState=Z,b.firstBaseUpdate=ue,b.lastBaseUpdate=ve,j===null&&(b.shared.lanes=0),ns|=k,i.lanes=k,i.memoizedState=be}}function LS(i,l){if(typeof i!="function")throw Error(n(191,i));i.call(l)}function zS(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)LS(d[i],l)}var hl=M(null),jf=M(0);function $S(i,l){i=li,Q(jf,i),Q(hl,l),li=i|l.baseLanes}function Ov(){Q(jf,li),Q(hl,hl.current)}function Av(){li=jf.current,H(hl),H(jf)}var jn=M(null),Gn=null;function Ji(i){var l=i.alternate;Q(Yt,Yt.current&1),Q(jn,i),Gn===null&&(l===null||hl.current!==null||l.memoizedState!==null)&&(Gn=i)}function Tv(i){Q(Yt,Yt.current),Q(jn,i),Gn===null&&(Gn=i)}function US(i){i.tag===22?(Q(Yt,Yt.current),Q(jn,i),Gn===null&&(Gn=i)):es()}function es(){Q(Yt,Yt.current),Q(jn,jn.current)}function _n(i){H(jn),Gn===i&&(Gn=null),H(Yt)}var Yt=M(0);function _f(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Iy(d)||Ly(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ei=0,We=null,wt=null,tr=null,Sf=!1,ml=!1,Js=!1,Ef=0,su=0,pl=null,O5=0;function Vt(){throw Error(n(321))}function kv(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!bn(i[d],l[d]))return!1;return!0}function Pv(i,l,d,p,b,j){return ei=j,We=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=i===null||i.memoizedState===null?_E:Gv,Js=!1,j=d(p,b),Js=!1,ml&&(j=qS(l,d,p,b)),BS(i),j}function BS(i){L.H=cu;var l=wt!==null&&wt.next!==null;if(ei=0,tr=wt=We=null,Sf=!1,su=0,pl=null,l)throw Error(n(300));i===null||rr||(i=i.dependencies,i!==null&&pf(i)&&(rr=!0))}function qS(i,l,d,p){We=i;var b=0;do{if(ml&&(pl=null),su=0,ml=!1,25<=b)throw Error(n(301));if(b+=1,tr=wt=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}L.H=SE,j=l(d,p)}while(ml);return j}function A5(){var i=L.H,l=i.useState()[0];return l=typeof l.then=="function"?ou(l):l,i=i.useState()[0],(wt!==null?wt.memoizedState:null)!==i&&(We.flags|=1024),l}function Rv(){var i=Ef!==0;return Ef=0,i}function Dv(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function Mv(i){if(Sf){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Sf=!1}ei=0,tr=wt=We=null,ml=!1,su=Ef=0,pl=null}function Yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?We.memoizedState=tr=i:tr=tr.next=i,tr}function Xt(){if(wt===null){var i=We.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var l=tr===null?We.memoizedState:tr.next;if(l!==null)tr=l,wt=i;else{if(i===null)throw We.alternate===null?Error(n(467)):Error(n(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},tr===null?We.memoizedState=tr=i:tr=tr.next=i}return tr}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var l=su;return su+=1,pl===null&&(pl=[]),i=PS(pl,i,l),l=We,(tr===null?l.memoizedState:tr.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?_E:Gv),i}function Cf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===C)return Tr(i)}throw Error(n(438,String(i)))}function Iv(i){var l=null,d=We.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=We.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Nf(),We.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),p=0;p<i;p++)d[p]=G;return l.index++,d}function ti(i,l){return typeof l=="function"?l(i):l}function Of(i){var l=Xt();return Lv(l,wt,i)}function Lv(i,l,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=i.baseQueue,j=p.pending;if(j!==null){if(b!==null){var k=b.next;b.next=j.next,j.next=k}l.baseQueue=b=j,p.pending=null}if(j=i.baseState,b===null)i.memoizedState=j;else{l=b.next;var $=k=null,Z=null,ue=l,ve=!1;do{var be=ue.lane&-536870913;if(be!==ue.lane?(st&be)===be:(ei&be)===be){var fe=ue.revertLane;if(fe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),be===cl&&(ve=!0);else if((ei&fe)===fe){ue=ue.next,fe===cl&&(ve=!0);continue}else be={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?($=Z=be,k=j):Z=Z.next=be,We.lanes|=fe,ns|=fe;be=ue.action,Js&&d(j,be),j=ue.hasEagerState?ue.eagerState:d(j,be)}else fe={lane:be,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?($=Z=fe,k=j):Z=Z.next=fe,We.lanes|=be,ns|=be;ue=ue.next}while(ue!==null&&ue!==l);if(Z===null?k=j:Z.next=$,!bn(j,i.memoizedState)&&(rr=!0,ve&&(d=ul,d!==null)))throw d;i.memoizedState=j,i.baseState=k,i.baseQueue=Z,p.lastRenderedState=j}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function zv(i){var l=Xt(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,b=d.pending,j=l.memoizedState;if(b!==null){d.pending=null;var k=b=b.next;do j=i(j,k.action),k=k.next;while(k!==b);bn(j,l.memoizedState)||(rr=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),d.lastRenderedState=j}return[j,p]}function FS(i,l,d){var p=We,b=Xt(),j=lt;if(j){if(d===void 0)throw Error(n(407));d=d()}else d=l();var k=!bn((wt||b).memoizedState,d);if(k&&(b.memoizedState=d,rr=!0),b=b.queue,Bv(KS.bind(null,p,b,i),[i]),b.getSnapshot!==l||k||tr!==null&&tr.memoizedState.tag&1){if(p.flags|=2048,gl(9,{destroy:void 0},VS.bind(null,p,b,d,l),null),Et===null)throw Error(n(349));j||(ei&127)!==0||HS(p,l,d)}return d}function HS(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=We.updateQueue,l===null?(l=Nf(),We.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function VS(i,l,d,p){l.value=d,l.getSnapshot=p,GS(l)&&WS(i)}function KS(i,l,d){return d(function(){GS(l)&&WS(i)})}function GS(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!bn(i,d)}catch{return!0}}function WS(i){var l=Hs(i,2);l!==null&&fn(l,i,2)}function $v(i){var l=Yr();if(typeof i=="function"){var d=i;if(i=d(),Js){Fi(!0);try{d()}finally{Fi(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:i},l}function YS(i,l,d,p){return i.baseState=d,Lv(i,wt,typeof p=="function"?p:ti)}function T5(i,l,d,p,b){if(kf(i))throw Error(n(485));if(i=l.action,i!==null){var j={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){j.listeners.push(k)}};L.T!==null?d(!0):j.isTransition=!1,p(j),d=l.pending,d===null?(j.next=l.pending=j,XS(l,j)):(j.next=d.next,l.pending=d.next=j)}}function XS(i,l){var d=l.action,p=l.payload,b=i.state;if(l.isTransition){var j=L.T,k={};L.T=k;try{var $=d(b,p),Z=L.S;Z!==null&&Z(k,$),ZS(i,l,$)}catch(ue){Uv(i,l,ue)}finally{j!==null&&k.types!==null&&(j.types=k.types),L.T=j}}else try{j=d(b,p),ZS(i,l,j)}catch(ue){Uv(i,l,ue)}}function ZS(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){QS(i,l,p)},function(p){return Uv(i,l,p)}):QS(i,l,d)}function QS(i,l,d){l.status="fulfilled",l.value=d,JS(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,XS(i,d)))}function Uv(i,l,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,JS(l),l=l.next;while(l!==p)}i.action=null}function JS(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function eE(i,l){return l}function tE(i,l){if(lt){var d=Et.formState;if(d!==null){e:{var p=We;if(lt){if(kt){t:{for(var b=kt,j=Kn;b.nodeType!==8;){if(!j){b=null;break t}if(b=Wn(b.nextSibling),b===null){b=null;break t}}j=b.data,b=j==="F!"||j==="F"?b:null}if(b){kt=Wn(b.nextSibling),p=b.data==="F!";break e}}Wi(p)}p=!1}p&&(l=d[0])}}return d=Yr(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eE,lastRenderedState:l},d.queue=p,d=bE.bind(null,We,p),p.dispatch=d,p=$v(!1),j=Kv.bind(null,We,!1,p.queue),p=Yr(),b={state:l,dispatch:null,action:i,pending:null},p.queue=b,d=T5.bind(null,We,b,j,d),b.dispatch=d,p.memoizedState=i,[l,d,!1]}function rE(i){var l=Xt();return nE(l,wt,i)}function nE(i,l,d){if(l=Lv(i,l,eE)[0],i=Of(ti)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=ou(l)}catch(k){throw k===dl?yf:k}else p=l;l=Xt();var b=l.queue,j=b.dispatch;return d!==l.memoizedState&&(We.flags|=2048,gl(9,{destroy:void 0},k5.bind(null,b,d),null)),[p,j,i]}function k5(i,l){i.action=l}function aE(i){var l=Xt(),d=wt;if(d!==null)return nE(l,d,i);Xt(),l=l.memoizedState,d=Xt();var p=d.queue.dispatch;return d.memoizedState=i,[l,p,!1]}function gl(i,l,d,p){return i={tag:i,create:d,deps:p,inst:l,next:null},l=We.updateQueue,l===null&&(l=Nf(),We.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,l.lastEffect=i),i}function iE(){return Xt().memoizedState}function Af(i,l,d,p){var b=Yr();We.flags|=i,b.memoizedState=gl(1|l,{destroy:void 0},d,p===void 0?null:p)}function Tf(i,l,d,p){var b=Xt();p=p===void 0?null:p;var j=b.memoizedState.inst;wt!==null&&p!==null&&kv(p,wt.memoizedState.deps)?b.memoizedState=gl(l,j,d,p):(We.flags|=i,b.memoizedState=gl(1|l,j,d,p))}function sE(i,l){Af(8390656,8,i,l)}function Bv(i,l){Tf(2048,8,i,l)}function P5(i){We.flags|=4;var l=We.updateQueue;if(l===null)l=Nf(),We.updateQueue=l,l.events=[i];else{var d=l.events;d===null?l.events=[i]:d.push(i)}}function oE(i){var l=Xt().memoizedState;return P5({ref:l,nextImpl:i}),function(){if((mt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function lE(i,l){return Tf(4,2,i,l)}function cE(i,l){return Tf(4,4,i,l)}function uE(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function dE(i,l,d){d=d!=null?d.concat([i]):null,Tf(4,4,uE.bind(null,l,i),d)}function qv(){}function fE(i,l){var d=Xt();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&kv(l,p[1])?p[0]:(d.memoizedState=[i,l],i)}function hE(i,l){var d=Xt();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&kv(l,p[1]))return p[0];if(p=i(),Js){Fi(!0);try{i()}finally{Fi(!1)}}return d.memoizedState=[p,l],p}function Fv(i,l,d){return d===void 0||(ei&1073741824)!==0&&(st&261930)===0?i.memoizedState=l:(i.memoizedState=d,i=mN(),We.lanes|=i,ns|=i,d)}function mE(i,l,d,p){return bn(d,l)?d:hl.current!==null?(i=Fv(i,d,p),bn(i,l)||(rr=!0),i):(ei&42)===0||(ei&1073741824)!==0&&(st&261930)===0?(rr=!0,i.memoizedState=d):(i=mN(),We.lanes|=i,ns|=i,l)}function pE(i,l,d,p,b){var j=D.p;D.p=j!==0&&8>j?j:8;var k=L.T,$={};L.T=$,Kv(i,!1,l,d);try{var Z=b(),ue=L.S;if(ue!==null&&ue($,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ve=C5(Z,p);lu(i,l,ve,Nn(i))}else lu(i,l,p,Nn(i))}catch(be){lu(i,l,{then:function(){},status:"rejected",reason:be},Nn())}finally{D.p=j,k!==null&&$.types!==null&&(k.types=$.types),L.T=k}}function R5(){}function Hv(i,l,d,p){if(i.tag!==5)throw Error(n(476));var b=gE(i).queue;pE(i,b,l,q,d===null?R5:function(){return vE(i),d(p)})}function gE(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:q},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function vE(i){var l=gE(i);l.next===null&&(l=i.alternate.memoizedState),lu(i,l.next.queue,{},Nn())}function Vv(){return Tr(Eu)}function yE(){return Xt().memoizedState}function xE(){return Xt().memoizedState}function D5(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=Nn();i=Zi(d);var p=Qi(l,i,d);p!==null&&(fn(p,l,d),nu(p,l,d)),l={cache:bv()},i.payload=l;return}l=l.return}}function M5(i,l,d){var p=Nn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},kf(i)?wE(l,d):(d=cv(i,l,d,p),d!==null&&(fn(d,i,p),jE(d,l,p)))}function bE(i,l,d){var p=Nn();lu(i,l,d,p)}function lu(i,l,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(kf(i))wE(l,b);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var k=l.lastRenderedState,$=j(k,d);if(b.hasEagerState=!0,b.eagerState=$,bn($,k))return df(i,l,b,0),Et===null&&uf(),!1}catch{}finally{}if(d=cv(i,l,b,p),d!==null)return fn(d,i,p),jE(d,l,p),!0}return!1}function Kv(i,l,d,p){if(p={lane:2,revertLane:Sy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},kf(i)){if(l)throw Error(n(479))}else l=cv(i,d,p,2),l!==null&&fn(l,i,2)}function kf(i){var l=i.alternate;return i===We||l!==null&&l===We}function wE(i,l){ml=Sf=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function jE(i,l,d){if((d&4194048)!==0){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,C1(i,d)}}var cu={readContext:Tr,use:Cf,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};cu.useEffectEvent=Vt;var _E={readContext:Tr,use:Cf,useCallback:function(i,l){return Yr().memoizedState=[i,l===void 0?null:l],i},useContext:Tr,useEffect:sE,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,Af(4194308,4,uE.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Af(4194308,4,i,l)},useInsertionEffect:function(i,l){Af(4,2,i,l)},useMemo:function(i,l){var d=Yr();l=l===void 0?null:l;var p=i();if(Js){Fi(!0);try{i()}finally{Fi(!1)}}return d.memoizedState=[p,l],p},useReducer:function(i,l,d){var p=Yr();if(d!==void 0){var b=d(l);if(Js){Fi(!0);try{d(l)}finally{Fi(!1)}}}else b=l;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=M5.bind(null,We,i),[p.memoizedState,i]},useRef:function(i){var l=Yr();return i={current:i},l.memoizedState=i},useState:function(i){i=$v(i);var l=i.queue,d=bE.bind(null,We,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:qv,useDeferredValue:function(i,l){var d=Yr();return Fv(d,i,l)},useTransition:function(){var i=$v(!1);return i=pE.bind(null,We,i.queue,!0,!1),Yr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var p=We,b=Yr();if(lt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Et===null)throw Error(n(349));(st&127)!==0||HS(p,l,d)}b.memoizedState=d;var j={value:d,getSnapshot:l};return b.queue=j,sE(KS.bind(null,p,j,i),[i]),p.flags|=2048,gl(9,{destroy:void 0},VS.bind(null,p,j,d,l),null),d},useId:function(){var i=Yr(),l=Et.identifierPrefix;if(lt){var d=ka,p=Ta;d=(p&~(1<<32-xn(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Ef++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=O5++,l="_"+l+"r_"+d.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Vv,useFormState:tE,useActionState:tE,useOptimistic:function(i){var l=Yr();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Kv.bind(null,We,!0,d),d.dispatch=l,[i,l]},useMemoCache:Iv,useCacheRefresh:function(){return Yr().memoizedState=D5.bind(null,We)},useEffectEvent:function(i){var l=Yr(),d={impl:i};return l.memoizedState=d,function(){if((mt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Gv={readContext:Tr,use:Cf,useCallback:fE,useContext:Tr,useEffect:Bv,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:hE,useReducer:Of,useRef:iE,useState:function(){return Of(ti)},useDebugValue:qv,useDeferredValue:function(i,l){var d=Xt();return mE(d,wt.memoizedState,i,l)},useTransition:function(){var i=Of(ti)[0],l=Xt().memoizedState;return[typeof i=="boolean"?i:ou(i),l]},useSyncExternalStore:FS,useId:yE,useHostTransitionStatus:Vv,useFormState:rE,useActionState:rE,useOptimistic:function(i,l){var d=Xt();return YS(d,wt,i,l)},useMemoCache:Iv,useCacheRefresh:xE};Gv.useEffectEvent=oE;var SE={readContext:Tr,use:Cf,useCallback:fE,useContext:Tr,useEffect:Bv,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:hE,useReducer:zv,useRef:iE,useState:function(){return zv(ti)},useDebugValue:qv,useDeferredValue:function(i,l){var d=Xt();return wt===null?Fv(d,i,l):mE(d,wt.memoizedState,i,l)},useTransition:function(){var i=zv(ti)[0],l=Xt().memoizedState;return[typeof i=="boolean"?i:ou(i),l]},useSyncExternalStore:FS,useId:yE,useHostTransitionStatus:Vv,useFormState:aE,useActionState:aE,useOptimistic:function(i,l){var d=Xt();return wt!==null?YS(d,wt,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Iv,useCacheRefresh:xE};SE.useEffectEvent=oE;function Wv(i,l,d,p){l=i.memoizedState,d=d(p,l),d=d==null?l:g({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Yv={enqueueSetState:function(i,l,d){i=i._reactInternals;var p=Nn(),b=Zi(p);b.payload=l,d!=null&&(b.callback=d),l=Qi(i,b,p),l!==null&&(fn(l,i,p),nu(l,i,p))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var p=Nn(),b=Zi(p);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=Qi(i,b,p),l!==null&&(fn(l,i,p),nu(l,i,p))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Nn(),p=Zi(d);p.tag=2,l!=null&&(p.callback=l),l=Qi(i,p,d),l!==null&&(fn(l,i,d),nu(l,i,d))}};function EE(i,l,d,p,b,j,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,j,k):l.prototype&&l.prototype.isPureReactComponent?!Yc(d,p)||!Yc(b,j):!0}function NE(i,l,d,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==i&&Yv.enqueueReplaceState(l,l.state,null)}function eo(i,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(i=i.defaultProps){d===l&&(d=g({},d));for(var b in i)d[b]===void 0&&(d[b]=i[b])}return d}function CE(i){cf(i)}function OE(i){console.error(i)}function AE(i){cf(i)}function Pf(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function TE(i,l,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Xv(i,l,d){return d=Zi(d),d.tag=3,d.payload={element:null},d.callback=function(){Pf(i,l)},d}function kE(i){return i=Zi(i),i.tag=3,i}function PE(i,l,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var j=p.value;i.payload=function(){return b(j)},i.callback=function(){TE(l,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){TE(l,d,p),typeof b!="function"&&(as===null?as=new Set([this]):as.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function I5(i,l,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&ll(l,d,b,!0),d=jn.current,d!==null){switch(d.tag){case 31:case 13:return Gn===null?Hf():d.alternate===null&&Kt===0&&(Kt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===xf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),wy(i,p,b)),!1;case 22:return d.flags|=65536,p===xf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),wy(i,p,b)),!1}throw Error(n(435,d.tag))}return wy(i,p,b),Hf(),!1}if(lt)return l=jn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==pv&&(i=Error(n(422),{cause:p}),Qc(Fn(i,d)))):(p!==pv&&(l=Error(n(423),{cause:p}),Qc(Fn(l,d))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=Fn(p,d),b=Xv(i.stateNode,p,b),Nv(i,b),Kt!==4&&(Kt=2)),!1;var j=Error(n(520),{cause:p});if(j=Fn(j,d),vu===null?vu=[j]:vu.push(j),Kt!==4&&(Kt=2),l===null)return!0;p=Fn(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=b&-b,d.lanes|=i,i=Xv(d.stateNode,p,i),Nv(d,i),!1;case 1:if(l=d.type,j=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(as===null||!as.has(j))))return d.flags|=65536,b&=-b,d.lanes|=b,b=kE(b),PE(b,i,d,p),Nv(d,b),!1}d=d.return}while(d!==null);return!1}var Zv=Error(n(461)),rr=!1;function kr(i,l,d,p){l.child=i===null?IS(l,null,d,p):Qs(l,i.child,d,p)}function RE(i,l,d,p,b){d=d.render;var j=l.ref;if("ref"in p){var k={};for(var $ in p)$!=="ref"&&(k[$]=p[$])}else k=p;return Ws(l),p=Pv(i,l,d,k,j,b),$=Rv(),i!==null&&!rr?(Dv(i,l,b),ri(i,l,b)):(lt&&$&&hv(l),l.flags|=1,kr(i,l,p,b),l.child)}function DE(i,l,d,p,b){if(i===null){var j=d.type;return typeof j=="function"&&!uv(j)&&j.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=j,ME(i,l,j,p,b)):(i=hf(d.type,null,p,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(j=i.child,!iy(i,b)){var k=j.memoizedProps;if(d=d.compare,d=d!==null?d:Yc,d(k,p)&&i.ref===l.ref)return ri(i,l,b)}return l.flags|=1,i=Xa(j,p),i.ref=l.ref,i.return=l,l.child=i}function ME(i,l,d,p,b){if(i!==null){var j=i.memoizedProps;if(Yc(j,p)&&i.ref===l.ref)if(rr=!1,l.pendingProps=p=j,iy(i,b))(i.flags&131072)!==0&&(rr=!0);else return l.lanes=i.lanes,ri(i,l,b)}return Qv(i,l,d,p,b)}function IE(i,l,d,p){var b=p.children,j=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(j=j!==null?j.baseLanes|d:d,i!==null){for(p=l.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~j}else p=0,l.child=null;return LE(i,l,j,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&vf(l,j!==null?j.cachePool:null),j!==null?$S(l,j):Ov(),US(l);else return p=l.lanes=536870912,LE(i,l,j!==null?j.baseLanes|d:d,d,p)}else j!==null?(vf(l,j.cachePool),$S(l,j),es(),l.memoizedState=null):(i!==null&&vf(l,null),Ov(),es());return kr(i,l,b,d),l.child}function uu(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function LE(i,l,d,p,b){var j=jv();return j=j===null?null:{parent:er._currentValue,pool:j},l.memoizedState={baseLanes:d,cachePool:j},i!==null&&vf(l,null),Ov(),US(l),i!==null&&ll(i,l,p,!0),l.childLanes=b,null}function Rf(i,l){return l=Mf({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function zE(i,l,d){return Qs(l,i.child,null,d),i=Rf(l,l.pendingProps),i.flags|=2,_n(l),l.memoizedState=null,i}function L5(i,l,d){var p=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(lt){if(p.mode==="hidden")return i=Rf(l,p),l.lanes=536870912,uu(null,i);if(Tv(l),(i=kt)?(i=XN(i,Kn),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Ki!==null?{id:Ta,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},d=wS(i),d.return=l,l.child=d,Ar=l,kt=null)):i=null,i===null)throw Wi(l);return l.lanes=536870912,null}return Rf(l,p)}var j=i.memoizedState;if(j!==null){var k=j.dehydrated;if(Tv(l),b)if(l.flags&256)l.flags&=-257,l=zE(i,l,d);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(n(558));else if(rr||ll(i,l,d,!1),b=(d&i.childLanes)!==0,rr||b){if(p=Et,p!==null&&(k=O1(p,d),k!==0&&k!==j.retryLane))throw j.retryLane=k,Hs(i,k),fn(p,i,k),Zv;Hf(),l=zE(i,l,d)}else i=j.treeContext,kt=Wn(k.nextSibling),Ar=l,lt=!0,Gi=null,Kn=!1,i!==null&&SS(l,i),l=Rf(l,p),l.flags|=4096;return l}return i=Xa(i.child,{mode:p.mode,children:p.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Df(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function Qv(i,l,d,p,b){return Ws(l),d=Pv(i,l,d,p,void 0,b),p=Rv(),i!==null&&!rr?(Dv(i,l,b),ri(i,l,b)):(lt&&p&&hv(l),l.flags|=1,kr(i,l,d,b),l.child)}function $E(i,l,d,p,b,j){return Ws(l),l.updateQueue=null,d=qS(l,p,d,b),BS(i),p=Rv(),i!==null&&!rr?(Dv(i,l,j),ri(i,l,j)):(lt&&p&&hv(l),l.flags|=1,kr(i,l,d,j),l.child)}function UE(i,l,d,p,b){if(Ws(l),l.stateNode===null){var j=al,k=d.contextType;typeof k=="object"&&k!==null&&(j=Tr(k)),j=new d(p,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Yv,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=p,j.state=l.memoizedState,j.refs={},Sv(l),k=d.contextType,j.context=typeof k=="object"&&k!==null?Tr(k):al,j.state=l.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Wv(l,d,k,p),j.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(k=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),k!==j.state&&Yv.enqueueReplaceState(j,j.state,null),iu(l,p,j,b),au(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(i===null){j=l.stateNode;var $=l.memoizedProps,Z=eo(d,$);j.props=Z;var ue=j.context,ve=d.contextType;k=al,typeof ve=="object"&&ve!==null&&(k=Tr(ve));var be=d.getDerivedStateFromProps;ve=typeof be=="function"||typeof j.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,ve||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||($||ue!==k)&&NE(l,j,p,k),Xi=!1;var fe=l.memoizedState;j.state=fe,iu(l,p,j,b),au(),ue=l.memoizedState,$||fe!==ue||Xi?(typeof be=="function"&&(Wv(l,d,be,p),ue=l.memoizedState),(Z=Xi||EE(l,d,Z,p,fe,ue,k))?(ve||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ue),j.props=p,j.state=ue,j.context=k,p=Z):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{j=l.stateNode,Ev(i,l),k=l.memoizedProps,ve=eo(d,k),j.props=ve,be=l.pendingProps,fe=j.context,ue=d.contextType,Z=al,typeof ue=="object"&&ue!==null&&(Z=Tr(ue)),$=d.getDerivedStateFromProps,(ue=typeof $=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(k!==be||fe!==Z)&&NE(l,j,p,Z),Xi=!1,fe=l.memoizedState,j.state=fe,iu(l,p,j,b),au();var me=l.memoizedState;k!==be||fe!==me||Xi||i!==null&&i.dependencies!==null&&pf(i.dependencies)?(typeof $=="function"&&(Wv(l,d,$,p),me=l.memoizedState),(ve=Xi||EE(l,d,ve,p,fe,me,Z)||i!==null&&i.dependencies!==null&&pf(i.dependencies))?(ue||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(p,me,Z),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(p,me,Z)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=me),j.props=p,j.state=me,j.context=Z,p=ve):(typeof j.componentDidUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&fe===i.memoizedState||(l.flags|=1024),p=!1)}return j=p,Df(i,l),p=(l.flags&128)!==0,j||p?(j=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,i!==null&&p?(l.child=Qs(l,i.child,null,b),l.child=Qs(l,null,d,b)):kr(i,l,d,b),l.memoizedState=j.state,i=l.child):i=ri(i,l,b),i}function BE(i,l,d,p){return Ks(),l.flags|=256,kr(i,l,d,p),l.child}var Jv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ey(i){return{baseLanes:i,cachePool:TS()}}function ty(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=En),i}function qE(i,l,d){var p=l.pendingProps,b=!1,j=(l.flags&128)!==0,k;if((k=j)||(k=i!==null&&i.memoizedState===null?!1:(Yt.current&2)!==0),k&&(b=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,i===null){if(lt){if(b?Ji(l):es(),(i=kt)?(i=XN(i,Kn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Ki!==null?{id:Ta,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},d=wS(i),d.return=l,l.child=d,Ar=l,kt=null)):i=null,i===null)throw Wi(l);return Ly(i)?l.lanes=32:l.lanes=536870912,null}var $=p.children;return p=p.fallback,b?(es(),b=l.mode,$=Mf({mode:"hidden",children:$},b),p=Vs(p,b,d,null),$.return=l,p.return=l,$.sibling=p,l.child=$,p=l.child,p.memoizedState=ey(d),p.childLanes=ty(i,k,d),l.memoizedState=Jv,uu(null,p)):(Ji(l),ry(l,$))}var Z=i.memoizedState;if(Z!==null&&($=Z.dehydrated,$!==null)){if(j)l.flags&256?(Ji(l),l.flags&=-257,l=ny(i,l,d)):l.memoizedState!==null?(es(),l.child=i.child,l.flags|=128,l=null):(es(),$=p.fallback,b=l.mode,p=Mf({mode:"visible",children:p.children},b),$=Vs($,b,d,null),$.flags|=2,p.return=l,$.return=l,p.sibling=$,l.child=p,Qs(l,i.child,null,d),p=l.child,p.memoizedState=ey(d),p.childLanes=ty(i,k,d),l.memoizedState=Jv,l=uu(null,p));else if(Ji(l),Ly($)){if(k=$.nextSibling&&$.nextSibling.dataset,k)var ue=k.dgst;k=ue,p=Error(n(419)),p.stack="",p.digest=k,Qc({value:p,source:null,stack:null}),l=ny(i,l,d)}else if(rr||ll(i,l,d,!1),k=(d&i.childLanes)!==0,rr||k){if(k=Et,k!==null&&(p=O1(k,d),p!==0&&p!==Z.retryLane))throw Z.retryLane=p,Hs(i,p),fn(k,i,p),Zv;Iy($)||Hf(),l=ny(i,l,d)}else Iy($)?(l.flags|=192,l.child=i.child,l=null):(i=Z.treeContext,kt=Wn($.nextSibling),Ar=l,lt=!0,Gi=null,Kn=!1,i!==null&&SS(l,i),l=ry(l,p.children),l.flags|=4096);return l}return b?(es(),$=p.fallback,b=l.mode,Z=i.child,ue=Z.sibling,p=Xa(Z,{mode:"hidden",children:p.children}),p.subtreeFlags=Z.subtreeFlags&65011712,ue!==null?$=Xa(ue,$):($=Vs($,b,d,null),$.flags|=2),$.return=l,p.return=l,p.sibling=$,l.child=p,uu(null,p),p=l.child,$=i.child.memoizedState,$===null?$=ey(d):(b=$.cachePool,b!==null?(Z=er._currentValue,b=b.parent!==Z?{parent:Z,pool:Z}:b):b=TS(),$={baseLanes:$.baseLanes|d,cachePool:b}),p.memoizedState=$,p.childLanes=ty(i,k,d),l.memoizedState=Jv,uu(i.child,p)):(Ji(l),d=i.child,i=d.sibling,d=Xa(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,i!==null&&(k=l.deletions,k===null?(l.deletions=[i],l.flags|=16):k.push(i)),l.child=d,l.memoizedState=null,d)}function ry(i,l){return l=Mf({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Mf(i,l){return i=wn(22,i,null,l),i.lanes=0,i}function ny(i,l,d){return Qs(l,i.child,null,d),i=ry(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function FE(i,l,d){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),yv(i.return,l,d)}function ay(i,l,d,p,b,j){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:j}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=b,k.treeForkCount=j)}function HE(i,l,d){var p=l.pendingProps,b=p.revealOrder,j=p.tail;p=p.children;var k=Yt.current,$=(k&2)!==0;if($?(k=k&1|2,l.flags|=128):k&=1,Q(Yt,k),kr(i,l,p,d),p=lt?Zc:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&FE(i,d,l);else if(i.tag===19)FE(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)i=d.alternate,i!==null&&_f(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),ay(l,!1,b,d,j,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&_f(i)===null){l.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}ay(l,!0,d,null,j,p);break;case"together":ay(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function ri(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),ns|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(ll(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,d=Xa(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Xa(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function iy(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&pf(i)))}function z5(i,l,d){switch(l.tag){case 3:je(l,l.stateNode.containerInfo),Yi(l,er,i.memoizedState.cache),Ks();break;case 27:case 5:ee(l);break;case 4:je(l,l.stateNode.containerInfo);break;case 10:Yi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Tv(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ji(l),l.flags|=128,null):(d&l.child.childLanes)!==0?qE(i,l,d):(Ji(l),i=ri(i,l,d),i!==null?i.sibling:null);Ji(l);break;case 19:var b=(i.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(ll(i,l,d,!1),p=(d&l.childLanes)!==0),b){if(p)return HE(i,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Q(Yt,Yt.current),p)break;return null;case 22:return l.lanes=0,IE(i,l,d,l.pendingProps);case 24:Yi(l,er,i.memoizedState.cache)}return ri(i,l,d)}function VE(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)rr=!0;else{if(!iy(i,d)&&(l.flags&128)===0)return rr=!1,z5(i,l,d);rr=(i.flags&131072)!==0}else rr=!1,lt&&(l.flags&1048576)!==0&&_S(l,Zc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(i=Xs(l.elementType),l.type=i,typeof i=="function")uv(i)?(p=eo(i,p),l.tag=1,l=UE(null,l,i,p,d)):(l.tag=0,l=Qv(null,l,i,p,d));else{if(i!=null){var b=i.$$typeof;if(b===R){l.tag=11,l=RE(null,l,i,p,d);break e}else if(b===N){l.tag=14,l=DE(null,l,i,p,d);break e}}throw l=oe(i)||i,Error(n(306,l,""))}}return l;case 0:return Qv(i,l,l.type,l.pendingProps,d);case 1:return p=l.type,b=eo(p,l.pendingProps),UE(i,l,p,b,d);case 3:e:{if(je(l,l.stateNode.containerInfo),i===null)throw Error(n(387));p=l.pendingProps;var j=l.memoizedState;b=j.element,Ev(i,l),iu(l,p,null,d);var k=l.memoizedState;if(p=k.cache,Yi(l,er,p),p!==j.cache&&xv(l,[er],d,!0),au(),p=k.element,j.isDehydrated)if(j={element:p,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=BE(i,l,p,d);break e}else if(p!==b){b=Fn(Error(n(424)),l),Qc(b),l=BE(i,l,p,d);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=Wn(i.firstChild),Ar=l,lt=!0,Gi=null,Kn=!0,d=IS(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ks(),p===b){l=ri(i,l,d);break e}kr(i,l,p,d)}l=l.child}return l;case 26:return Df(i,l),i===null?(d=rC(l.type,null,l.pendingProps,null))?l.memoizedState=d:lt||(d=l.type,i=l.pendingProps,p=Zf(ie.current).createElement(d),p[Or]=l,p[sn]=i,Pr(p,d,i),br(p),l.stateNode=p):l.memoizedState=rC(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return ee(l),i===null&&lt&&(p=l.stateNode=JN(l.type,l.pendingProps,ie.current),Ar=l,Kn=!0,b=kt,ls(l.type)?(zy=b,kt=Wn(p.firstChild)):kt=b),kr(i,l,l.pendingProps.children,d),Df(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&lt&&((b=p=kt)&&(p=mU(p,l.type,l.pendingProps,Kn),p!==null?(l.stateNode=p,Ar=l,kt=Wn(p.firstChild),Kn=!1,b=!0):b=!1),b||Wi(l)),ee(l),b=l.type,j=l.pendingProps,k=i!==null?i.memoizedProps:null,p=j.children,Ry(b,j)?p=null:k!==null&&Ry(b,k)&&(l.flags|=32),l.memoizedState!==null&&(b=Pv(i,l,A5,null,null,d),Eu._currentValue=b),Df(i,l),kr(i,l,p,d),l.child;case 6:return i===null&&lt&&((i=d=kt)&&(d=pU(d,l.pendingProps,Kn),d!==null?(l.stateNode=d,Ar=l,kt=null,i=!0):i=!1),i||Wi(l)),null;case 13:return qE(i,l,d);case 4:return je(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=Qs(l,null,p,d):kr(i,l,p,d),l.child;case 11:return RE(i,l,l.type,l.pendingProps,d);case 7:return kr(i,l,l.pendingProps,d),l.child;case 8:return kr(i,l,l.pendingProps.children,d),l.child;case 12:return kr(i,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,Yi(l,l.type,p.value),kr(i,l,p.children,d),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,Ws(l),b=Tr(b),p=p(b),l.flags|=1,kr(i,l,p,d),l.child;case 14:return DE(i,l,l.type,l.pendingProps,d);case 15:return ME(i,l,l.type,l.pendingProps,d);case 19:return HE(i,l,d);case 31:return L5(i,l,d);case 22:return IE(i,l,d,l.pendingProps);case 24:return Ws(l),p=Tr(er),i===null?(b=jv(),b===null&&(b=Et,j=bv(),b.pooledCache=j,j.refCount++,j!==null&&(b.pooledCacheLanes|=d),b=j),l.memoizedState={parent:p,cache:b},Sv(l),Yi(l,er,b)):((i.lanes&d)!==0&&(Ev(i,l),iu(l,null,null,d),au()),b=i.memoizedState,j=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Yi(l,er,p)):(p=j.cache,Yi(l,er,p),p!==b.cache&&xv(l,[er],d,!0))),kr(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function ni(i){i.flags|=4}function sy(i,l,d,p,b){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(yN())i.flags|=8192;else throw Zs=xf,_v}else i.flags&=-16777217}function KE(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!oC(l))if(yN())i.flags|=8192;else throw Zs=xf,_v}function If(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?E1():536870912,i.lanes|=l,bl|=l)}function du(i,l){if(!lt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Pt(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(l)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=d,l}function $5(i,l,d){var p=l.pendingProps;switch(mv(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(l),null;case 1:return Pt(l),null;case 3:return d=l.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ja(er),z(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(ol(l)?ni(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gv())),Pt(l),null;case 26:var b=l.type,j=l.memoizedState;return i===null?(ni(l),j!==null?(Pt(l),KE(l,j)):(Pt(l),sy(l,b,null,p,d))):j?j!==i.memoizedState?(ni(l),Pt(l),KE(l,j)):(Pt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==p&&ni(l),Pt(l),sy(l,b,i,p,d)),null;case 27:if(ce(l),d=ie.current,b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&ni(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Pt(l),null}i=P.current,ol(l)?ES(l):(i=JN(b,p,d),l.stateNode=i,ni(l))}return Pt(l),null;case 5:if(ce(l),b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&ni(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Pt(l),null}if(j=P.current,ol(l))ES(l);else{var k=Zf(ie.current);switch(j){case 1:j=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:j=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":j=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":j=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":j=k.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?j.multiple=!0:p.size&&(j.size=p.size);break;default:j=typeof p.is=="string"?k.createElement(b,{is:p.is}):k.createElement(b)}}j[Or]=l,j[sn]=p;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)j.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=j;e:switch(Pr(j,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ni(l)}}return Pt(l),sy(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,d),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==p&&ni(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(i=ie.current,ol(l)){if(i=l.stateNode,d=l.memoizedProps,p=null,b=Ar,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Or]=l,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||qN(i.nodeValue,d)),i||Wi(l,!0)}else i=Zf(i).createTextNode(p),i[Or]=l,l.stateNode=i}return Pt(l),null;case 31:if(d=l.memoizedState,i===null||i.memoizedState!==null){if(p=ol(l),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Or]=l}else Ks(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),i=!1}else d=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return l.flags&256?(_n(l),l):(_n(l),null);if((l.flags&128)!==0)throw Error(n(558))}return Pt(l),null;case 13:if(p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=ol(l),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Or]=l}else Ks(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),b=!1}else b=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(_n(l),l):(_n(l),null)}return _n(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),j=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(j=p.memoizedState.cachePool.pool),j!==b&&(p.flags|=2048)),d!==i&&d&&(l.child.flags|=8192),If(l,l.updateQueue),Pt(l),null);case 4:return z(),i===null&&Oy(l.stateNode.containerInfo),Pt(l),null;case 10:return Ja(l.type),Pt(l),null;case 19:if(H(Yt),p=l.memoizedState,p===null)return Pt(l),null;if(b=(l.flags&128)!==0,j=p.rendering,j===null)if(b)du(p,!1);else{if(Kt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(j=_f(i),j!==null){for(l.flags|=128,du(p,!1),i=j.updateQueue,l.updateQueue=i,If(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)bS(d,i),d=d.sibling;return Q(Yt,Yt.current&1|2),lt&&Za(l,p.treeForkCount),l.child}i=i.sibling}p.tail!==null&&vt()>Bf&&(l.flags|=128,b=!0,du(p,!1),l.lanes=4194304)}else{if(!b)if(i=_f(j),i!==null){if(l.flags|=128,b=!0,i=i.updateQueue,l.updateQueue=i,If(l,i),du(p,!0),p.tail===null&&p.tailMode==="hidden"&&!j.alternate&&!lt)return Pt(l),null}else 2*vt()-p.renderingStartTime>Bf&&d!==536870912&&(l.flags|=128,b=!0,du(p,!1),l.lanes=4194304);p.isBackwards?(j.sibling=l.child,l.child=j):(i=p.last,i!==null?i.sibling=j:l.child=j,p.last=j)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=vt(),i.sibling=null,d=Yt.current,Q(Yt,b?d&1|2:d&1),lt&&Za(l,p.treeForkCount),i):(Pt(l),null);case 22:case 23:return _n(l),Av(),p=l.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(Pt(l),l.subtreeFlags&6&&(l.flags|=8192)):Pt(l),d=l.updateQueue,d!==null&&If(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),i!==null&&H(Ys),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ja(er),Pt(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function U5(i,l){switch(mv(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ja(er),z(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return ce(l),null;case 31:if(l.memoizedState!==null){if(_n(l),l.alternate===null)throw Error(n(340));Ks()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(_n(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ks()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return H(Yt),null;case 4:return z(),null;case 10:return Ja(l.type),null;case 22:case 23:return _n(l),Av(),i!==null&&H(Ys),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Ja(er),null;case 25:return null;default:return null}}function GE(i,l){switch(mv(l),l.tag){case 3:Ja(er),z();break;case 26:case 27:case 5:ce(l);break;case 4:z();break;case 31:l.memoizedState!==null&&_n(l);break;case 13:_n(l);break;case 19:H(Yt);break;case 10:Ja(l.type);break;case 22:case 23:_n(l),Av(),i!==null&&H(Ys);break;case 24:Ja(er)}}function fu(i,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){p=void 0;var j=d.create,k=d.inst;p=j(),k.destroy=p}d=d.next}while(d!==b)}}catch($){xt(l,l.return,$)}}function ts(i,l,d){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var j=b.next;p=j;do{if((p.tag&i)===i){var k=p.inst,$=k.destroy;if($!==void 0){k.destroy=void 0,b=l;var Z=d,ue=$;try{ue()}catch(ve){xt(b,Z,ve)}}}p=p.next}while(p!==j)}}catch(ve){xt(l,l.return,ve)}}function WE(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{zS(l,d)}catch(p){xt(i,i.return,p)}}}function YE(i,l,d){d.props=eo(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){xt(i,l,p)}}function hu(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(b){xt(i,l,b)}}function Pa(i,l){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){xt(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){xt(i,l,b)}else d.current=null}function XE(i){var l=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){xt(i,i.return,b)}}function oy(i,l,d){try{var p=i.stateNode;lU(p,i.type,d,l),p[sn]=l}catch(b){xt(i,i.return,b)}}function ZE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ls(i.type)||i.tag===4}function ly(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ZE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cy(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Wa));else if(p!==4&&(p===27&&ls(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for(cy(i,l,d),i=i.sibling;i!==null;)cy(i,l,d),i=i.sibling}function Lf(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(p!==4&&(p===27&&ls(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Lf(i,l,d),i=i.sibling;i!==null;)Lf(i,l,d),i=i.sibling}function QE(i){var l=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Pr(l,p,d),l[Or]=i,l[sn]=d}catch(j){xt(i,i.return,j)}}var ai=!1,nr=!1,uy=!1,JE=typeof WeakSet=="function"?WeakSet:Set,wr=null;function B5(i,l){if(i=i.containerInfo,ky=ah,i=dS(i),nv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,j=p.focusNode;p=p.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var k=0,$=-1,Z=-1,ue=0,ve=0,be=i,fe=null;t:for(;;){for(var me;be!==d||b!==0&&be.nodeType!==3||($=k+b),be!==j||p!==0&&be.nodeType!==3||(Z=k+p),be.nodeType===3&&(k+=be.nodeValue.length),(me=be.firstChild)!==null;)fe=be,be=me;for(;;){if(be===i)break t;if(fe===d&&++ue===b&&($=k),fe===j&&++ve===p&&(Z=k),(me=be.nextSibling)!==null)break;be=fe,fe=be.parentNode}be=me}d=$===-1||Z===-1?null:{start:$,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Py={focusedElem:i,selectionRange:d},ah=!1,wr=l;wr!==null;)if(l=wr,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,wr=i;else for(;wr!==null;){switch(l=wr,j=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)b=i[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,d=l,b=j.memoizedProps,j=j.memoizedState,p=d.stateNode;try{var Re=eo(d.type,b);i=p.getSnapshotBeforeUpdate(Re,j),p.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){xt(d,d.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)My(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":My(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=l.sibling,i!==null){i.return=l.return,wr=i;break}wr=l.return}}function eN(i,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:si(i,d),p&4&&fu(5,d);break;case 1:if(si(i,d),p&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(k){xt(d,d.return,k)}else{var b=eo(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(k){xt(d,d.return,k)}}p&64&&WE(d),p&512&&hu(d,d.return);break;case 3:if(si(i,d),p&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{zS(i,l)}catch(k){xt(d,d.return,k)}}break;case 27:l===null&&p&4&&QE(d);case 26:case 5:si(i,d),l===null&&p&4&&XE(d),p&512&&hu(d,d.return);break;case 12:si(i,d);break;case 31:si(i,d),p&4&&nN(i,d);break;case 13:si(i,d),p&4&&aN(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=X5.bind(null,d),gU(i,d))));break;case 22:if(p=d.memoizedState!==null||ai,!p){l=l!==null&&l.memoizedState!==null||nr,b=ai;var j=nr;ai=p,(nr=l)&&!j?oi(i,d,(d.subtreeFlags&8772)!==0):si(i,d),ai=b,nr=j}break;case 30:break;default:si(i,d)}}function tN(i){var l=i.alternate;l!==null&&(i.alternate=null,tN(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Ug(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,ln=!1;function ii(i,l,d){for(d=d.child;d!==null;)rN(i,l,d),d=d.sibling}function rN(i,l,d){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(qi,d)}catch{}switch(d.tag){case 26:nr||Pa(d,l),ii(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:nr||Pa(d,l);var p=Dt,b=ln;ls(d.type)&&(Dt=d.stateNode,ln=!1),ii(i,l,d),ju(d.stateNode),Dt=p,ln=b;break;case 5:nr||Pa(d,l);case 6:if(p=Dt,b=ln,Dt=null,ii(i,l,d),Dt=p,ln=b,Dt!==null)if(ln)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(d.stateNode)}catch(j){xt(d,l,j)}else try{Dt.removeChild(d.stateNode)}catch(j){xt(d,l,j)}break;case 18:Dt!==null&&(ln?(i=Dt,WN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Ol(i)):WN(Dt,d.stateNode));break;case 4:p=Dt,b=ln,Dt=d.stateNode.containerInfo,ln=!0,ii(i,l,d),Dt=p,ln=b;break;case 0:case 11:case 14:case 15:ts(2,d,l),nr||ts(4,d,l),ii(i,l,d);break;case 1:nr||(Pa(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&YE(d,l,p)),ii(i,l,d);break;case 21:ii(i,l,d);break;case 22:nr=(p=nr)||d.memoizedState!==null,ii(i,l,d),nr=p;break;default:ii(i,l,d)}}function nN(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ol(i)}catch(d){xt(l,l.return,d)}}}function aN(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ol(i)}catch(d){xt(l,l.return,d)}}function q5(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new JE),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new JE),l;default:throw Error(n(435,i.tag))}}function zf(i,l){var d=q5(i);l.forEach(function(p){if(!d.has(p)){d.add(p);var b=Z5.bind(null,i,p);p.then(b,b)}})}function cn(i,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],j=i,k=l,$=k;e:for(;$!==null;){switch($.tag){case 27:if(ls($.type)){Dt=$.stateNode,ln=!1;break e}break;case 5:Dt=$.stateNode,ln=!1;break e;case 3:case 4:Dt=$.stateNode.containerInfo,ln=!0;break e}$=$.return}if(Dt===null)throw Error(n(160));rN(j,k,b),Dt=null,ln=!1,j=b.alternate,j!==null&&(j.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)iN(l,i),l=l.sibling}var oa=null;function iN(i,l){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cn(l,i),un(i),p&4&&(ts(3,i,i.return),fu(3,i),ts(5,i,i.return));break;case 1:cn(l,i),un(i),p&512&&(nr||d===null||Pa(d,d.return)),p&64&&ai&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=oa;if(cn(l,i),un(i),p&512&&(nr||d===null||Pa(d,d.return)),p&4){var j=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":j=b.getElementsByTagName("title")[0],(!j||j[Uc]||j[Or]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=b.createElement(p),b.head.insertBefore(j,b.querySelector("head > title"))),Pr(j,p,d),j[Or]=i,br(j),p=j;break e;case"link":var k=iC("link","href",b).get(p+(d.href||""));if(k){for(var $=0;$<k.length;$++)if(j=k[$],j.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&j.getAttribute("rel")===(d.rel==null?null:d.rel)&&j.getAttribute("title")===(d.title==null?null:d.title)&&j.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice($,1);break t}}j=b.createElement(p),Pr(j,p,d),b.head.appendChild(j);break;case"meta":if(k=iC("meta","content",b).get(p+(d.content||""))){for($=0;$<k.length;$++)if(j=k[$],j.getAttribute("content")===(d.content==null?null:""+d.content)&&j.getAttribute("name")===(d.name==null?null:d.name)&&j.getAttribute("property")===(d.property==null?null:d.property)&&j.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&j.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice($,1);break t}}j=b.createElement(p),Pr(j,p,d),b.head.appendChild(j);break;default:throw Error(n(468,p))}j[Or]=i,br(j),p=j}i.stateNode=p}else sC(b,i.type,i.stateNode);else i.stateNode=aC(b,p,i.memoizedProps);else j!==p?(j===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):j.count--,p===null?sC(b,i.type,i.stateNode):aC(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&oy(i,i.memoizedProps,d.memoizedProps)}break;case 27:cn(l,i),un(i),p&512&&(nr||d===null||Pa(d,d.return)),d!==null&&p&4&&oy(i,i.memoizedProps,d.memoizedProps);break;case 5:if(cn(l,i),un(i),p&512&&(nr||d===null||Pa(d,d.return)),i.flags&32){b=i.stateNode;try{Zo(b,"")}catch(Re){xt(i,i.return,Re)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,oy(i,b,d!==null?d.memoizedProps:b)),p&1024&&(uy=!0);break;case 6:if(cn(l,i),un(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Re){xt(i,i.return,Re)}}break;case 3:if(eh=null,b=oa,oa=Qf(l.containerInfo),cn(l,i),oa=b,un(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Ol(l.containerInfo)}catch(Re){xt(i,i.return,Re)}uy&&(uy=!1,sN(i));break;case 4:p=oa,oa=Qf(i.stateNode.containerInfo),cn(l,i),un(i),oa=p;break;case 12:cn(l,i),un(i);break;case 31:cn(l,i),un(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 13:cn(l,i),un(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Uf=vt()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 22:b=i.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,ue=ai,ve=nr;if(ai=ue||b,nr=ve||Z,cn(l,i),nr=ve,ai=ue,un(i),p&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||Z||ai||nr||to(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){Z=d=l;try{if(j=Z.stateNode,b)k=j.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{$=Z.stateNode;var be=Z.memoizedProps.style,fe=be!=null&&be.hasOwnProperty("display")?be.display:null;$.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Re){xt(Z,Z.return,Re)}}}else if(l.tag===6){if(d===null){Z=l;try{Z.stateNode.nodeValue=b?"":Z.memoizedProps}catch(Re){xt(Z,Z.return,Re)}}}else if(l.tag===18){if(d===null){Z=l;try{var me=Z.stateNode;b?YN(me,!0):YN(Z.stateNode,!1)}catch(Re){xt(Z,Z.return,Re)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,zf(i,d))));break;case 19:cn(l,i),un(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 30:break;case 21:break;default:cn(l,i),un(i)}}function un(i){var l=i.flags;if(l&2){try{for(var d,p=i.return;p!==null;){if(ZE(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,j=ly(i);Lf(i,j,b);break;case 5:var k=d.stateNode;d.flags&32&&(Zo(k,""),d.flags&=-33);var $=ly(i);Lf(i,$,k);break;case 3:case 4:var Z=d.stateNode.containerInfo,ue=ly(i);cy(i,ue,Z);break;default:throw Error(n(161))}}catch(ve){xt(i,i.return,ve)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function sN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;sN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function si(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)eN(i,l.alternate,l),l=l.sibling}function to(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:ts(4,l,l.return),to(l);break;case 1:Pa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&YE(l,l.return,d),to(l);break;case 27:ju(l.stateNode);case 26:case 5:Pa(l,l.return),to(l);break;case 22:l.memoizedState===null&&to(l);break;case 30:to(l);break;default:to(l)}i=i.sibling}}function oi(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=i,j=l,k=j.flags;switch(j.tag){case 0:case 11:case 15:oi(b,j,d),fu(4,j);break;case 1:if(oi(b,j,d),p=j,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ue){xt(p,p.return,ue)}if(p=j,b=p.updateQueue,b!==null){var $=p.stateNode;try{var Z=b.shared.hiddenCallbacks;if(Z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Z.length;b++)LS(Z[b],$)}catch(ue){xt(p,p.return,ue)}}d&&k&64&&WE(j),hu(j,j.return);break;case 27:QE(j);case 26:case 5:oi(b,j,d),d&&p===null&&k&4&&XE(j),hu(j,j.return);break;case 12:oi(b,j,d);break;case 31:oi(b,j,d),d&&k&4&&nN(b,j);break;case 13:oi(b,j,d),d&&k&4&&aN(b,j);break;case 22:j.memoizedState===null&&oi(b,j,d),hu(j,j.return);break;case 30:break;default:oi(b,j,d)}l=l.sibling}}function dy(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Jc(d))}function fy(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Jc(i))}function la(i,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)oN(i,l,d,p),l=l.sibling}function oN(i,l,d,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:la(i,l,d,p),b&2048&&fu(9,l);break;case 1:la(i,l,d,p);break;case 3:la(i,l,d,p),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Jc(i)));break;case 12:if(b&2048){la(i,l,d,p),i=l.stateNode;try{var j=l.memoizedProps,k=j.id,$=j.onPostCommit;typeof $=="function"&&$(k,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){xt(l,l.return,Z)}}else la(i,l,d,p);break;case 31:la(i,l,d,p);break;case 13:la(i,l,d,p);break;case 23:break;case 22:j=l.stateNode,k=l.alternate,l.memoizedState!==null?j._visibility&2?la(i,l,d,p):mu(i,l):j._visibility&2?la(i,l,d,p):(j._visibility|=2,vl(i,l,d,p,(l.subtreeFlags&10256)!==0||!1)),b&2048&&dy(k,l);break;case 24:la(i,l,d,p),b&2048&&fy(l.alternate,l);break;default:la(i,l,d,p)}}function vl(i,l,d,p,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var j=i,k=l,$=d,Z=p,ue=k.flags;switch(k.tag){case 0:case 11:case 15:vl(j,k,$,Z,b),fu(8,k);break;case 23:break;case 22:var ve=k.stateNode;k.memoizedState!==null?ve._visibility&2?vl(j,k,$,Z,b):mu(j,k):(ve._visibility|=2,vl(j,k,$,Z,b)),b&&ue&2048&&dy(k.alternate,k);break;case 24:vl(j,k,$,Z,b),b&&ue&2048&&fy(k.alternate,k);break;default:vl(j,k,$,Z,b)}l=l.sibling}}function mu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,p=l,b=p.flags;switch(p.tag){case 22:mu(d,p),b&2048&&dy(p.alternate,p);break;case 24:mu(d,p),b&2048&&fy(p.alternate,p);break;default:mu(d,p)}l=l.sibling}}var pu=8192;function yl(i,l,d){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)lN(i,l,d),i=i.sibling}function lN(i,l,d){switch(i.tag){case 26:yl(i,l,d),i.flags&pu&&i.memoizedState!==null&&OU(d,oa,i.memoizedState,i.memoizedProps);break;case 5:yl(i,l,d);break;case 3:case 4:var p=oa;oa=Qf(i.stateNode.containerInfo),yl(i,l,d),oa=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=pu,pu=16777216,yl(i,l,d),pu=p):yl(i,l,d));break;default:yl(i,l,d)}}function cN(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function gu(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];wr=p,dN(p,i)}cN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uN(i),i=i.sibling}function uN(i){switch(i.tag){case 0:case 11:case 15:gu(i),i.flags&2048&&ts(9,i,i.return);break;case 3:gu(i);break;case 12:gu(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,$f(i)):gu(i);break;default:gu(i)}}function $f(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];wr=p,dN(p,i)}cN(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:ts(8,l,l.return),$f(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,$f(l));break;default:$f(l)}i=i.sibling}}function dN(i,l){for(;wr!==null;){var d=wr;switch(d.tag){case 0:case 11:case 15:ts(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Jc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,wr=p;else e:for(d=i;wr!==null;){p=wr;var b=p.sibling,j=p.return;if(tN(p),p===d){wr=null;break e}if(b!==null){b.return=j,wr=b;break e}wr=j}}}var F5={getCacheForType:function(i){var l=Tr(er),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d},cacheSignal:function(){return Tr(er).controller.signal}},H5=typeof WeakMap=="function"?WeakMap:Map,mt=0,Et=null,nt=null,st=0,yt=0,Sn=null,rs=!1,xl=!1,hy=!1,li=0,Kt=0,ns=0,ro=0,my=0,En=0,bl=0,vu=null,dn=null,py=!1,Uf=0,fN=0,Bf=1/0,qf=null,as=null,ur=0,is=null,wl=null,ci=0,gy=0,vy=null,hN=null,yu=0,yy=null;function Nn(){return(mt&2)!==0&&st!==0?st&-st:L.T!==null?Sy():A1()}function mN(){if(En===0)if((st&536870912)===0||lt){var i=Yd;Yd<<=1,(Yd&3932160)===0&&(Yd=262144),En=i}else En=536870912;return i=jn.current,i!==null&&(i.flags|=32),En}function fn(i,l,d){(i===Et&&(yt===2||yt===9)||i.cancelPendingCommit!==null)&&(jl(i,0),ss(i,st,En,!1)),$c(i,d),((mt&2)===0||i!==Et)&&(i===Et&&((mt&2)===0&&(ro|=d),Kt===4&&ss(i,st,En,!1)),Ra(i))}function pN(i,l,d){if((mt&6)!==0)throw Error(n(327));var p=!d&&(l&127)===0&&(l&i.expiredLanes)===0||zc(i,l),b=p?G5(i,l):by(i,l,!0),j=p;do{if(b===0){xl&&!p&&ss(i,l,0,!1);break}else{if(d=i.current.alternate,j&&!V5(d)){b=by(i,l,!1),j=!1;continue}if(b===2){if(j=l,i.errorRecoveryDisabledLanes&j)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var $=i;b=vu;var Z=$.current.memoizedState.isDehydrated;if(Z&&(jl($,k).flags|=256),k=by($,k,!1),k!==2){if(hy&&!Z){$.errorRecoveryDisabledLanes|=j,ro|=j,b=4;break e}j=dn,dn=b,j!==null&&(dn===null?dn=j:dn.push.apply(dn,j))}b=k}if(j=!1,b!==2)continue}}if(b===1){jl(i,0),ss(i,l,0,!0);break}e:{switch(p=i,j=b,j){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:ss(p,l,En,!rs);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(b=Uf+300-vt(),10<b)){if(ss(p,l,En,!rs),Zd(p,0,!0)!==0)break e;ci=l,p.timeoutHandle=KN(gN.bind(null,p,d,dn,qf,py,l,En,ro,bl,rs,j,"Throttled",-0,0),b);break e}gN(p,d,dn,qf,py,l,En,ro,bl,rs,j,null,-0,0)}}break}while(!0);Ra(i)}function gN(i,l,d,p,b,j,k,$,Z,ue,ve,be,fe,me){if(i.timeoutHandle=-1,be=l.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wa},lN(l,j,be);var Re=(j&62914560)===j?Uf-vt():(j&4194048)===j?fN-vt():0;if(Re=AU(be,Re),Re!==null){ci=j,i.cancelPendingCommit=Re(SN.bind(null,i,l,j,d,p,b,k,$,Z,ve,be,null,fe,me)),ss(i,j,k,!ue);return}}SN(i,l,j,d,p,b,k,$,Z)}function V5(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],j=b.getSnapshot;b=b.value;try{if(!bn(j(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ss(i,l,d,p){l&=~my,l&=~ro,i.suspendedLanes|=l,i.pingedLanes&=~l,p&&(i.warmLanes|=l),p=i.expirationTimes;for(var b=l;0<b;){var j=31-xn(b),k=1<<j;p[j]=-1,b&=~k}d!==0&&N1(i,d,l)}function Ff(){return(mt&6)===0?(xu(0),!1):!0}function xy(){if(nt!==null){if(yt===0)var i=nt.return;else i=nt,Qa=Gs=null,Mv(i),fl=null,tu=0,i=nt;for(;i!==null;)GE(i.alternate,i),i=i.return;nt=null}}function jl(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,dU(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),ci=0,xy(),Et=i,nt=d=Xa(i.current,null),st=l,yt=0,Sn=null,rs=!1,xl=zc(i,l),hy=!1,bl=En=my=ro=ns=Kt=0,dn=vu=null,py=!1,(l&8)!==0&&(l|=l&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=l;0<p;){var b=31-xn(p),j=1<<b;l|=i[b],p&=~j}return li=l,uf(),d}function vN(i,l){We=null,L.H=cu,l===dl||l===yf?(l=RS(),yt=3):l===_v?(l=RS(),yt=4):yt=l===Zv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Sn=l,nt===null&&(Kt=1,Pf(i,Fn(l,i.current)))}function yN(){var i=jn.current;return i===null?!0:(st&4194048)===st?Gn===null:(st&62914560)===st||(st&536870912)!==0?i===Gn:!1}function xN(){var i=L.H;return L.H=cu,i===null?cu:i}function bN(){var i=L.A;return L.A=F5,i}function Hf(){Kt=4,rs||(st&4194048)!==st&&jn.current!==null||(xl=!0),(ns&134217727)===0&&(ro&134217727)===0||Et===null||ss(Et,st,En,!1)}function by(i,l,d){var p=mt;mt|=2;var b=xN(),j=bN();(Et!==i||st!==l)&&(qf=null,jl(i,l)),l=!1;var k=Kt;e:do try{if(yt!==0&&nt!==null){var $=nt,Z=Sn;switch(yt){case 8:xy(),k=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(l=!0);var ue=yt;if(yt=0,Sn=null,_l(i,$,Z,ue),d&&xl){k=0;break e}break;default:ue=yt,yt=0,Sn=null,_l(i,$,Z,ue)}}K5(),k=Kt;break}catch(ve){vN(i,ve)}while(!0);return l&&i.shellSuspendCounter++,Qa=Gs=null,mt=p,L.H=b,L.A=j,nt===null&&(Et=null,st=0,uf()),k}function K5(){for(;nt!==null;)wN(nt)}function G5(i,l){var d=mt;mt|=2;var p=xN(),b=bN();Et!==i||st!==l?(qf=null,Bf=vt()+500,jl(i,l)):xl=zc(i,l);e:do try{if(yt!==0&&nt!==null){l=nt;var j=Sn;t:switch(yt){case 1:yt=0,Sn=null,_l(i,l,j,1);break;case 2:case 9:if(kS(j)){yt=0,Sn=null,jN(l);break}l=function(){yt!==2&&yt!==9||Et!==i||(yt=7),Ra(i)},j.then(l,l);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:kS(j)?(yt=0,Sn=null,jN(l)):(yt=0,Sn=null,_l(i,l,j,7));break;case 5:var k=null;switch(nt.tag){case 26:k=nt.memoizedState;case 5:case 27:var $=nt;if(k?oC(k):$.stateNode.complete){yt=0,Sn=null;var Z=$.sibling;if(Z!==null)nt=Z;else{var ue=$.return;ue!==null?(nt=ue,Vf(ue)):nt=null}break t}}yt=0,Sn=null,_l(i,l,j,5);break;case 6:yt=0,Sn=null,_l(i,l,j,6);break;case 8:xy(),Kt=6;break e;default:throw Error(n(462))}}W5();break}catch(ve){vN(i,ve)}while(!0);return Qa=Gs=null,L.H=p,L.A=b,mt=d,nt!==null?0:(Et=null,st=0,uf(),Kt)}function W5(){for(;nt!==null&&!Ht();)wN(nt)}function wN(i){var l=VE(i.alternate,i,li);i.memoizedProps=i.pendingProps,l===null?Vf(i):nt=l}function jN(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=$E(d,l,l.pendingProps,l.type,void 0,st);break;case 11:l=$E(d,l,l.pendingProps,l.type.render,l.ref,st);break;case 5:Mv(l);default:GE(d,l),l=nt=bS(l,li),l=VE(d,l,li)}i.memoizedProps=i.pendingProps,l===null?Vf(i):nt=l}function _l(i,l,d,p){Qa=Gs=null,Mv(l),fl=null,tu=0;var b=l.return;try{if(I5(i,b,l,d,st)){Kt=1,Pf(i,Fn(d,i.current)),nt=null;return}}catch(j){if(b!==null)throw nt=b,j;Kt=1,Pf(i,Fn(d,i.current)),nt=null;return}l.flags&32768?(lt||p===1?i=!0:xl||(st&536870912)!==0?i=!1:(rs=i=!0,(p===2||p===9||p===3||p===6)&&(p=jn.current,p!==null&&p.tag===13&&(p.flags|=16384))),_N(l,i)):Vf(l)}function Vf(i){var l=i;do{if((l.flags&32768)!==0){_N(l,rs);return}i=l.return;var d=$5(l.alternate,l,li);if(d!==null){nt=d;return}if(l=l.sibling,l!==null){nt=l;return}nt=l=i}while(l!==null);Kt===0&&(Kt=5)}function _N(i,l){do{var d=U5(i.alternate,i);if(d!==null){d.flags&=32767,nt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){nt=i;return}nt=i=d}while(i!==null);Kt=6,nt=null}function SN(i,l,d,p,b,j,k,$,Z){i.cancelPendingCommit=null;do Kf();while(ur!==0);if((mt&6)!==0)throw Error(n(327));if(l!==null){if(l===i.current)throw Error(n(177));if(j=l.lanes|l.childLanes,j|=lv,C$(i,d,j,k,$,Z),i===Et&&(nt=Et=null,st=0),wl=l,is=i,ci=d,gy=j,vy=b,hN=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Q5(cr,function(){return AN(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,b=D.p,D.p=2,k=mt,mt|=4;try{B5(i,l,d)}finally{mt=k,D.p=b,L.T=p}}ur=1,EN(),NN(),CN()}}function EN(){if(ur===1){ur=0;var i=is,l=wl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var p=D.p;D.p=2;var b=mt;mt|=4;try{iN(l,i);var j=Py,k=dS(i.containerInfo),$=j.focusedElem,Z=j.selectionRange;if(k!==$&&$&&$.ownerDocument&&uS($.ownerDocument.documentElement,$)){if(Z!==null&&nv($)){var ue=Z.start,ve=Z.end;if(ve===void 0&&(ve=ue),"selectionStart"in $)$.selectionStart=ue,$.selectionEnd=Math.min(ve,$.value.length);else{var be=$.ownerDocument||document,fe=be&&be.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Re=$.textContent.length,Fe=Math.min(Z.start,Re),_t=Z.end===void 0?Fe:Math.min(Z.end,Re);!me.extend&&Fe>_t&&(k=_t,_t=Fe,Fe=k);var ne=cS($,Fe),te=cS($,_t);if(ne&&te&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==te.node||me.focusOffset!==te.offset)){var le=be.createRange();le.setStart(ne.node,ne.offset),me.removeAllRanges(),Fe>_t?(me.addRange(le),me.extend(te.node,te.offset)):(le.setEnd(te.node,te.offset),me.addRange(le))}}}}for(be=[],me=$;me=me.parentNode;)me.nodeType===1&&be.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<be.length;$++){var ye=be[$];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}ah=!!ky,Py=ky=null}finally{mt=b,D.p=p,L.T=d}}i.current=l,ur=2}}function NN(){if(ur===2){ur=0;var i=is,l=wl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var p=D.p;D.p=2;var b=mt;mt|=4;try{eN(i,l.alternate,l)}finally{mt=b,D.p=p,L.T=d}}ur=3}}function CN(){if(ur===4||ur===3){ur=0,Ot();var i=is,l=wl,d=ci,p=hN;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ur=5:(ur=0,wl=is=null,ON(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(as=null),zg(d),l=l.stateNode,Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(qi,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=L.T,b=D.p,D.p=2,L.T=null;try{for(var j=i.onRecoverableError,k=0;k<p.length;k++){var $=p[k];j($.value,{componentStack:$.stack})}}finally{L.T=l,D.p=b}}(ci&3)!==0&&Kf(),Ra(i),b=i.pendingLanes,(d&261930)!==0&&(b&42)!==0?i===yy?yu++:(yu=0,yy=i):yu=0,xu(0)}}function ON(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Jc(l)))}function Kf(){return EN(),NN(),CN(),AN()}function AN(){if(ur!==5)return!1;var i=is,l=gy;gy=0;var d=zg(ci),p=L.T,b=D.p;try{D.p=32>d?32:d,L.T=null,d=vy,vy=null;var j=is,k=ci;if(ur=0,wl=is=null,ci=0,(mt&6)!==0)throw Error(n(331));var $=mt;if(mt|=4,uN(j.current),oN(j,j.current,k,d),mt=$,xu(0,!1),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(qi,j)}catch{}return!0}finally{D.p=b,L.T=p,ON(i,l)}}function TN(i,l,d){l=Fn(d,l),l=Xv(i.stateNode,l,2),i=Qi(i,l,2),i!==null&&($c(i,2),Ra(i))}function xt(i,l,d){if(i.tag===3)TN(i,i,d);else for(;l!==null;){if(l.tag===3){TN(l,i,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(as===null||!as.has(p))){i=Fn(d,i),d=kE(2),p=Qi(l,d,2),p!==null&&(PE(d,p,l,i),$c(p,2),Ra(p));break}}l=l.return}}function wy(i,l,d){var p=i.pingCache;if(p===null){p=i.pingCache=new H5;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(d)||(hy=!0,b.add(d),i=Y5.bind(null,i,l,d),l.then(i,i))}function Y5(i,l,d){var p=i.pingCache;p!==null&&p.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Et===i&&(st&d)===d&&(Kt===4||Kt===3&&(st&62914560)===st&&300>vt()-Uf?(mt&2)===0&&jl(i,0):my|=d,bl===st&&(bl=0)),Ra(i)}function kN(i,l){l===0&&(l=E1()),i=Hs(i,l),i!==null&&($c(i,l),Ra(i))}function X5(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),kN(i,d)}function Z5(i,l){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(l),kN(i,d)}function Q5(i,l){return Pe(i,l)}var Gf=null,Sl=null,jy=!1,Wf=!1,_y=!1,os=0;function Ra(i){i!==Sl&&i.next===null&&(Sl===null?Gf=Sl=i:Sl=Sl.next=i),Wf=!0,jy||(jy=!0,eU())}function xu(i,l){if(!_y&&Wf){_y=!0;do for(var d=!1,p=Gf;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var j=0;else{var k=p.suspendedLanes,$=p.pingedLanes;j=(1<<31-xn(42|i)+1)-1,j&=b&~(k&~$),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(d=!0,MN(p,j))}else j=st,j=Zd(p,p===Et?j:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(j&3)===0||zc(p,j)||(d=!0,MN(p,j));p=p.next}while(d);_y=!1}}function J5(){PN()}function PN(){Wf=jy=!1;var i=0;os!==0&&uU()&&(i=os);for(var l=vt(),d=null,p=Gf;p!==null;){var b=p.next,j=RN(p,l);j===0?(p.next=null,d===null?Gf=b:d.next=b,b===null&&(Sl=d)):(d=p,(i!==0||(j&3)!==0)&&(Wf=!0)),p=b}ur!==0&&ur!==5||xu(i),os!==0&&(os=0)}function RN(i,l){for(var d=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var k=31-xn(j),$=1<<k,Z=b[k];Z===-1?(($&d)===0||($&p)!==0)&&(b[k]=N$($,l)):Z<=l&&(i.expiredLanes|=$),j&=~$}if(l=Et,d=st,d=Zd(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===l&&(yt===2||yt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&it(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||zc(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(p!==null&&it(p),zg(d)){case 2:case 8:d=Gr;break;case 32:d=cr;break;case 268435456:d=$n;break;default:d=cr}return p=DN.bind(null,i),d=Pe(d,p),i.callbackPriority=l,i.callbackNode=d,l}return p!==null&&p!==null&&it(p),i.callbackPriority=2,i.callbackNode=null,2}function DN(i,l){if(ur!==0&&ur!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Kf()&&i.callbackNode!==d)return null;var p=st;return p=Zd(i,i===Et?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(pN(i,p,l),RN(i,vt()),i.callbackNode!=null&&i.callbackNode===d?DN.bind(null,i):null)}function MN(i,l){if(Kf())return null;pN(i,l,!0)}function eU(){fU(function(){(mt&6)!==0?Pe(Bi,J5):PN()})}function Sy(){if(os===0){var i=cl;i===0&&(i=Wd,Wd<<=1,(Wd&261888)===0&&(Wd=256)),os=i}return os}function IN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:tf(""+i)}function LN(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function tU(i,l,d,p,b){if(l==="submit"&&d&&d.stateNode===b){var j=IN((b[sn]||null).action),k=p.submitter;k&&(l=(l=k[sn]||null)?IN(l.formAction):k.getAttribute("formAction"),l!==null&&(j=l,k=null));var $=new sf("action","action",null,p,b);i.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(os!==0){var Z=k?LN(b,k):new FormData(b);Hv(d,{pending:!0,data:Z,method:b.method,action:j},null,Z)}}else typeof j=="function"&&($.preventDefault(),Z=k?LN(b,k):new FormData(b),Hv(d,{pending:!0,data:Z,method:b.method,action:j},j,Z))},currentTarget:b}]})}}for(var Ey=0;Ey<ov.length;Ey++){var Ny=ov[Ey],rU=Ny.toLowerCase(),nU=Ny[0].toUpperCase()+Ny.slice(1);sa(rU,"on"+nU)}sa(mS,"onAnimationEnd"),sa(pS,"onAnimationIteration"),sa(gS,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(x5,"onTransitionRun"),sa(b5,"onTransitionStart"),sa(w5,"onTransitionCancel"),sa(vS,"onTransitionEnd"),Yo("onMouseEnter",["mouseout","mouseover"]),Yo("onMouseLeave",["mouseout","mouseover"]),Yo("onPointerEnter",["pointerout","pointerover"]),Yo("onPointerLeave",["pointerout","pointerover"]),Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Us("onBeforeInput",["compositionend","keypress","textInput","paste"]),Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function zN(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],b=p.event;p=p.listeners;e:{var j=void 0;if(l)for(var k=p.length-1;0<=k;k--){var $=p[k],Z=$.instance,ue=$.currentTarget;if($=$.listener,Z!==j&&b.isPropagationStopped())break e;j=$,b.currentTarget=ue;try{j(b)}catch(ve){cf(ve)}b.currentTarget=null,j=Z}else for(k=0;k<p.length;k++){if($=p[k],Z=$.instance,ue=$.currentTarget,$=$.listener,Z!==j&&b.isPropagationStopped())break e;j=$,b.currentTarget=ue;try{j(b)}catch(ve){cf(ve)}b.currentTarget=null,j=Z}}}}function at(i,l){var d=l[$g];d===void 0&&(d=l[$g]=new Set);var p=i+"__bubble";d.has(p)||($N(l,i,2,!1),d.add(p))}function Cy(i,l,d){var p=0;l&&(p|=4),$N(d,i,p,l)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function Oy(i){if(!i[Yf]){i[Yf]=!0,P1.forEach(function(d){d!=="selectionchange"&&(aU.has(d)||Cy(d,!1,i),Cy(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Yf]||(l[Yf]=!0,Cy("selectionchange",!1,l))}}function $N(i,l,d,p){switch(mC(l)){case 2:var b=PU;break;case 8:b=RU;break;default:b=Fy}d=b.bind(null,l,d,i),b=void 0,!Wg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(l,d,{capture:!0,passive:b}):i.addEventListener(l,d,!0):b!==void 0?i.addEventListener(l,d,{passive:b}):i.addEventListener(l,d,!1)}function Ay(i,l,d,p,b){var j=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var $=p.stateNode.containerInfo;if($===b)break;if(k===4)for(k=p.return;k!==null;){var Z=k.tag;if((Z===3||Z===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;$!==null;){if(k=Ko($),k===null)return;if(Z=k.tag,Z===5||Z===6||Z===26||Z===27){p=j=k;continue e}$=$.parentNode}}p=p.return}H1(function(){var ue=j,ve=Kg(d),be=[];e:{var fe=yS.get(i);if(fe!==void 0){var me=sf,Re=i;switch(i){case"keypress":if(nf(d)===0)break e;case"keydown":case"keyup":me=Z$;break;case"focusin":Re="focus",me=Qg;break;case"focusout":Re="blur",me=Qg;break;case"beforeblur":case"afterblur":me=Qg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=G1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=$$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=e5;break;case mS:case pS:case gS:me=q$;break;case vS:me=r5;break;case"scroll":case"scrollend":me=L$;break;case"wheel":me=a5;break;case"copy":case"cut":case"paste":me=H$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Y1;break;case"toggle":case"beforetoggle":me=s5}var Fe=(l&4)!==0,_t=!Fe&&(i==="scroll"||i==="scrollend"),ne=Fe?fe!==null?fe+"Capture":null:fe;Fe=[];for(var te=ue,le;te!==null;){var ye=te;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||ne===null||(ye=qc(te,ne),ye!=null&&Fe.push(wu(te,ye,le))),_t)break;te=te.return}0<Fe.length&&(fe=new me(fe,Re,null,d,ve),be.push({event:fe,listeners:Fe}))}}if((l&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",fe&&d!==Vg&&(Re=d.relatedTarget||d.fromElement)&&(Ko(Re)||Re[Vo]))break e;if((me||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Re=d.relatedTarget||d.toElement,me=ue,Re=Re?Ko(Re):null,Re!==null&&(_t=s(Re),Fe=Re.tag,Re!==_t||Fe!==5&&Fe!==27&&Fe!==6)&&(Re=null)):(me=null,Re=ue),me!==Re)){if(Fe=G1,ye="onMouseLeave",ne="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=Y1,ye="onPointerLeave",ne="onPointerEnter",te="pointer"),_t=me==null?fe:Bc(me),le=Re==null?fe:Bc(Re),fe=new Fe(ye,te+"leave",me,d,ve),fe.target=_t,fe.relatedTarget=le,ye=null,Ko(ve)===ue&&(Fe=new Fe(ne,te+"enter",Re,d,ve),Fe.target=le,Fe.relatedTarget=_t,ye=Fe),_t=ye,me&&Re)t:{for(Fe=iU,ne=me,te=Re,le=0,ye=ne;ye;ye=Fe(ye))le++;ye=0;for(var qe=te;qe;qe=Fe(qe))ye++;for(;0<le-ye;)ne=Fe(ne),le--;for(;0<ye-le;)te=Fe(te),ye--;for(;le--;){if(ne===te||te!==null&&ne===te.alternate){Fe=ne;break t}ne=Fe(ne),te=Fe(te)}Fe=null}else Fe=null;me!==null&&UN(be,fe,me,Fe,!1),Re!==null&&_t!==null&&UN(be,_t,Re,Fe,!0)}}e:{if(fe=ue?Bc(ue):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var ut=nS;else if(tS(fe))if(aS)ut=g5;else{ut=m5;var Le=h5}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&Hg(ue.elementType)&&(ut=nS):ut=p5;if(ut&&(ut=ut(i,ue))){rS(be,ut,d,ve);break e}Le&&Le(i,fe,ue),i==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&Fg(fe,"number",fe.value)}switch(Le=ue?Bc(ue):window,i){case"focusin":(tS(Le)||Le.contentEditable==="true")&&(tl=Le,av=ue,Xc=null);break;case"focusout":Xc=av=tl=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,fS(be,d,ve);break;case"selectionchange":if(y5)break;case"keydown":case"keyup":fS(be,d,ve)}var Ze;if(ev)e:{switch(i){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else el?J1(i,d)&&(ot="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ot="onCompositionStart");ot&&(X1&&d.locale!=="ko"&&(el||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&el&&(Ze=V1()):(Vi=ve,Yg="value"in Vi?Vi.value:Vi.textContent,el=!0)),Le=Xf(ue,ot),0<Le.length&&(ot=new W1(ot,i,null,d,ve),be.push({event:ot,listeners:Le}),Ze?ot.data=Ze:(Ze=eS(d),Ze!==null&&(ot.data=Ze)))),(Ze=l5?c5(i,d):u5(i,d))&&(ot=Xf(ue,"onBeforeInput"),0<ot.length&&(Le=new W1("onBeforeInput","beforeinput",null,d,ve),be.push({event:Le,listeners:ot}),Le.data=Ze)),tU(be,i,ue,d,ve)}zN(be,l)})}function wu(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Xf(i,l){for(var d=l+"Capture",p=[];i!==null;){var b=i,j=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||j===null||(b=qc(i,d),b!=null&&p.unshift(wu(i,b,j)),b=qc(i,l),b!=null&&p.push(wu(i,b,j))),i.tag===3)return p;i=i.return}return[]}function iU(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function UN(i,l,d,p,b){for(var j=l._reactName,k=[];d!==null&&d!==p;){var $=d,Z=$.alternate,ue=$.stateNode;if($=$.tag,Z!==null&&Z===p)break;$!==5&&$!==26&&$!==27||ue===null||(Z=ue,b?(ue=qc(d,j),ue!=null&&k.unshift(wu(d,ue,Z))):b||(ue=qc(d,j),ue!=null&&k.push(wu(d,ue,Z)))),d=d.return}k.length!==0&&i.push({event:l,listeners:k})}var sU=/\r\n?/g,oU=/\u0000|\uFFFD/g;function BN(i){return(typeof i=="string"?i:""+i).replace(sU,`
`).replace(oU,"")}function qN(i,l){return l=BN(l),BN(i)===l}function jt(i,l,d,p,b,j){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Zo(i,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Zo(i,""+p);break;case"className":Jd(i,"class",p);break;case"tabIndex":Jd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Jd(i,d,p);break;case"style":q1(i,p,j);break;case"data":if(l!=="object"){Jd(i,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=tf(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(d==="formAction"?(l!=="input"&&jt(i,l,"name",b.name,b,null),jt(i,l,"formEncType",b.formEncType,b,null),jt(i,l,"formMethod",b.formMethod,b,null),jt(i,l,"formTarget",b.formTarget,b,null)):(jt(i,l,"encType",b.encType,b,null),jt(i,l,"method",b.method,b,null),jt(i,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=tf(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Wa);break;case"onScroll":p!=null&&at("scroll",i);break;case"onScrollEnd":p!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=tf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":at("beforetoggle",i),at("toggle",i),Qd(i,"popover",p);break;case"xlinkActuate":Ga(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ga(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ga(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ga(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ga(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ga(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ga(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Qd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=M$.get(d)||d,Qd(i,d,p))}}function Ty(i,l,d,p,b,j){switch(d){case"style":q1(i,p,j);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Zo(i,p):(typeof p=="number"||typeof p=="bigint")&&Zo(i,""+p);break;case"onScroll":p!=null&&at("scroll",i);break;case"onScrollEnd":p!=null&&at("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!R1.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),j=i[sn]||null,j=j!=null?j[d]:null,typeof j=="function"&&i.removeEventListener(l,j,b),typeof p=="function")){typeof j!="function"&&j!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,p,b);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Qd(i,d,p)}}}function Pr(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var p=!1,b=!1,j;for(j in d)if(d.hasOwnProperty(j)){var k=d[j];if(k!=null)switch(j){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:jt(i,l,j,k,d,null)}}b&&jt(i,l,"srcSet",d.srcSet,d,null),p&&jt(i,l,"src",d.src,d,null);return;case"input":at("invalid",i);var $=j=k=b=null,Z=null,ue=null;for(p in d)if(d.hasOwnProperty(p)){var ve=d[p];if(ve!=null)switch(p){case"name":b=ve;break;case"type":k=ve;break;case"checked":Z=ve;break;case"defaultChecked":ue=ve;break;case"value":j=ve;break;case"defaultValue":$=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,l));break;default:jt(i,l,p,ve,d,null)}}z1(i,j,$,Z,ue,k,b,!1);return;case"select":at("invalid",i),p=k=j=null;for(b in d)if(d.hasOwnProperty(b)&&($=d[b],$!=null))switch(b){case"value":j=$;break;case"defaultValue":k=$;break;case"multiple":p=$;default:jt(i,l,b,$,d,null)}l=j,d=k,i.multiple=!!p,l!=null?Xo(i,!!p,l,!1):d!=null&&Xo(i,!!p,d,!0);return;case"textarea":at("invalid",i),j=b=p=null;for(k in d)if(d.hasOwnProperty(k)&&($=d[k],$!=null))switch(k){case"value":p=$;break;case"defaultValue":b=$;break;case"children":j=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(n(91));break;default:jt(i,l,k,$,d,null)}U1(i,p,b,j);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(p=d[Z],p!=null))switch(Z){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:jt(i,l,Z,p,d,null)}return;case"dialog":at("beforetoggle",i),at("toggle",i),at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(p=0;p<bu.length;p++)at(bu[p],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(p=d[ue],p!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:jt(i,l,ue,p,d,null)}return;default:if(Hg(l)){for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!==void 0&&Ty(i,l,ve,p,d,void 0));return}}for($ in d)d.hasOwnProperty($)&&(p=d[$],p!=null&&jt(i,l,$,p,d,null))}function lU(i,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,j=null,k=null,$=null,Z=null,ue=null,ve=null;for(me in d){var be=d[me];if(d.hasOwnProperty(me)&&be!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Z=be;default:p.hasOwnProperty(me)||jt(i,l,me,null,p,be)}}for(var fe in p){var me=p[fe];if(be=d[fe],p.hasOwnProperty(fe)&&(me!=null||be!=null))switch(fe){case"type":j=me;break;case"name":b=me;break;case"checked":ue=me;break;case"defaultChecked":ve=me;break;case"value":k=me;break;case"defaultValue":$=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,l));break;default:me!==be&&jt(i,l,fe,me,p,be)}}qg(i,k,$,Z,ue,ve,j,b);return;case"select":me=k=$=fe=null;for(j in d)if(Z=d[j],d.hasOwnProperty(j)&&Z!=null)switch(j){case"value":break;case"multiple":me=Z;default:p.hasOwnProperty(j)||jt(i,l,j,null,p,Z)}for(b in p)if(j=p[b],Z=d[b],p.hasOwnProperty(b)&&(j!=null||Z!=null))switch(b){case"value":fe=j;break;case"defaultValue":$=j;break;case"multiple":k=j;default:j!==Z&&jt(i,l,b,j,p,Z)}l=$,d=k,p=me,fe!=null?Xo(i,!!d,fe,!1):!!p!=!!d&&(l!=null?Xo(i,!!d,l,!0):Xo(i,!!d,d?[]:"",!1));return;case"textarea":me=fe=null;for($ in d)if(b=d[$],d.hasOwnProperty($)&&b!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:jt(i,l,$,null,p,b)}for(k in p)if(b=p[k],j=d[k],p.hasOwnProperty(k)&&(b!=null||j!=null))switch(k){case"value":fe=b;break;case"defaultValue":me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==j&&jt(i,l,k,b,p,j)}$1(i,fe,me);return;case"option":for(var Re in d)if(fe=d[Re],d.hasOwnProperty(Re)&&fe!=null&&!p.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:jt(i,l,Re,null,p,fe)}for(Z in p)if(fe=p[Z],me=d[Z],p.hasOwnProperty(Z)&&fe!==me&&(fe!=null||me!=null))switch(Z){case"selected":i.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:jt(i,l,Z,fe,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in d)fe=d[Fe],d.hasOwnProperty(Fe)&&fe!=null&&!p.hasOwnProperty(Fe)&&jt(i,l,Fe,null,p,fe);for(ue in p)if(fe=p[ue],me=d[ue],p.hasOwnProperty(ue)&&fe!==me&&(fe!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,l));break;default:jt(i,l,ue,fe,p,me)}return;default:if(Hg(l)){for(var _t in d)fe=d[_t],d.hasOwnProperty(_t)&&fe!==void 0&&!p.hasOwnProperty(_t)&&Ty(i,l,_t,void 0,p,fe);for(ve in p)fe=p[ve],me=d[ve],!p.hasOwnProperty(ve)||fe===me||fe===void 0&&me===void 0||Ty(i,l,ve,fe,p,me);return}}for(var ne in d)fe=d[ne],d.hasOwnProperty(ne)&&fe!=null&&!p.hasOwnProperty(ne)&&jt(i,l,ne,null,p,fe);for(be in p)fe=p[be],me=d[be],!p.hasOwnProperty(be)||fe===me||fe==null&&me==null||jt(i,l,be,fe,p,me)}function FN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cU(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],j=b.transferSize,k=b.initiatorType,$=b.duration;if(j&&$&&FN(k)){for(k=0,$=b.responseEnd,p+=1;p<d.length;p++){var Z=d[p],ue=Z.startTime;if(ue>$)break;var ve=Z.transferSize,be=Z.initiatorType;ve&&FN(be)&&(Z=Z.responseEnd,k+=ve*(Z<$?1:($-ue)/(Z-ue)))}if(--p,l+=8*(j+k)/(b.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ky=null,Py=null;function Zf(i){return i.nodeType===9?i:i.ownerDocument}function HN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VN(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Ry(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Dy=null;function uU(){var i=window.event;return i&&i.type==="popstate"?i===Dy?!1:(Dy=i,!0):(Dy=null,!1)}var KN=typeof setTimeout=="function"?setTimeout:void 0,dU=typeof clearTimeout=="function"?clearTimeout:void 0,GN=typeof Promise=="function"?Promise:void 0,fU=typeof queueMicrotask=="function"?queueMicrotask:typeof GN<"u"?function(i){return GN.resolve(null).then(i).catch(hU)}:KN;function hU(i){setTimeout(function(){throw i})}function ls(i){return i==="head"}function WN(i,l){var d=l,p=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(b),Ol(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")ju(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,ju(d);for(var j=d.firstChild;j;){var k=j.nextSibling,$=j.nodeName;j[Uc]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=k}}else d==="body"&&ju(i.ownerDocument.body);d=b}while(d);Ol(l)}function YN(i,l){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function My(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":My(d),Ug(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function mU(i,l,d,p){for(;i.nodeType===1;){var b=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Uc])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var j=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function pU(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Wn(i.nextSibling),i===null))return null;return i}function XN(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Wn(i.nextSibling),i===null))return null;return i}function Iy(i){return i.data==="$?"||i.data==="$~"}function Ly(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function gU(i,l){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Wn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var zy=null;function ZN(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(l===0)return Wn(i.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}i=i.nextSibling}return null}function QN(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return i;l--}else d!=="/$"&&d!=="/&"||l++}i=i.previousSibling}return null}function JN(i,l,d){switch(l=Zf(d),i){case"html":if(i=l.documentElement,!i)throw Error(n(452));return i;case"head":if(i=l.head,!i)throw Error(n(453));return i;case"body":if(i=l.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function ju(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Ug(i)}var Yn=new Map,eC=new Set;function Qf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ui=D.d;D.d={f:vU,r:yU,D:xU,C:bU,L:wU,m:jU,X:SU,S:_U,M:EU};function vU(){var i=ui.f(),l=Ff();return i||l}function yU(i){var l=Go(i);l!==null&&l.tag===5&&l.type==="form"?vE(l):ui.r(i)}var El=typeof document>"u"?null:document;function tC(i,l,d){var p=El;if(p&&typeof l=="string"&&l){var b=Bn(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),eC.has(b)||(eC.add(b),i={rel:i,crossOrigin:d,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),Pr(l,"link",i),br(l),p.head.appendChild(l)))}}function xU(i){ui.D(i),tC("dns-prefetch",i,null)}function bU(i,l){ui.C(i,l),tC("preconnect",i,l)}function wU(i,l,d){ui.L(i,l,d);var p=El;if(p&&i&&l){var b='link[rel="preload"][as="'+Bn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Bn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Bn(d.imageSizes)+'"]')):b+='[href="'+Bn(i)+'"]';var j=b;switch(l){case"style":j=Nl(i);break;case"script":j=Cl(i)}Yn.has(j)||(i=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),Yn.set(j,i),p.querySelector(b)!==null||l==="style"&&p.querySelector(_u(j))||l==="script"&&p.querySelector(Su(j))||(l=p.createElement("link"),Pr(l,"link",i),br(l),p.head.appendChild(l)))}}function jU(i,l){ui.m(i,l);var d=El;if(d&&i){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Bn(p)+'"][href="'+Bn(i)+'"]',j=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Cl(i)}if(!Yn.has(j)&&(i=g({rel:"modulepreload",href:i},l),Yn.set(j,i),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Su(j)))return}p=d.createElement("link"),Pr(p,"link",i),br(p),d.head.appendChild(p)}}}function _U(i,l,d){ui.S(i,l,d);var p=El;if(p&&i){var b=Wo(p).hoistableStyles,j=Nl(i);l=l||"default";var k=b.get(j);if(!k){var $={loading:0,preload:null};if(k=p.querySelector(_u(j)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},d),(d=Yn.get(j))&&$y(i,d);var Z=k=p.createElement("link");br(Z),Pr(Z,"link",i),Z._p=new Promise(function(ue,ve){Z.onload=ue,Z.onerror=ve}),Z.addEventListener("load",function(){$.loading|=1}),Z.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Jf(k,l,p)}k={type:"stylesheet",instance:k,count:1,state:$},b.set(j,k)}}}function SU(i,l){ui.X(i,l);var d=El;if(d&&i){var p=Wo(d).hoistableScripts,b=Cl(i),j=p.get(b);j||(j=d.querySelector(Su(b)),j||(i=g({src:i,async:!0},l),(l=Yn.get(b))&&Uy(i,l),j=d.createElement("script"),br(j),Pr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function EU(i,l){ui.M(i,l);var d=El;if(d&&i){var p=Wo(d).hoistableScripts,b=Cl(i),j=p.get(b);j||(j=d.querySelector(Su(b)),j||(i=g({src:i,async:!0,type:"module"},l),(l=Yn.get(b))&&Uy(i,l),j=d.createElement("script"),br(j),Pr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function rC(i,l,d,p){var b=(b=ie.current)?Qf(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Nl(d.href),d=Wo(b).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Nl(d.href);var j=Wo(b).hoistableStyles,k=j.get(i);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,k),(j=b.querySelector(_u(i)))&&!j._p&&(k.instance=j,k.state.loading=5),Yn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Yn.set(i,d),j||NU(b,i,d,k.state))),l&&p===null)throw Error(n(528,""));return k}if(l&&p!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Cl(d),d=Wo(b).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Nl(i){return'href="'+Bn(i)+'"'}function _u(i){return'link[rel="stylesheet"]['+i+"]"}function nC(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function NU(i,l,d,p){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=i.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Pr(l,"link",d),br(l),i.head.appendChild(l))}function Cl(i){return'[src="'+Bn(i)+'"]'}function Su(i){return"script[async]"+i}function aC(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=i.querySelector('style[data-href~="'+Bn(d.href)+'"]');if(p)return l.instance=p,br(p),p;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),br(p),Pr(p,"style",b),Jf(p,d.precedence,i),l.instance=p;case"stylesheet":b=Nl(d.href);var j=i.querySelector(_u(b));if(j)return l.state.loading|=4,l.instance=j,br(j),j;p=nC(d),(b=Yn.get(b))&&$y(p,b),j=(i.ownerDocument||i).createElement("link"),br(j);var k=j;return k._p=new Promise(function($,Z){k.onload=$,k.onerror=Z}),Pr(j,"link",p),l.state.loading|=4,Jf(j,d.precedence,i),l.instance=j;case"script":return j=Cl(d.src),(b=i.querySelector(Su(j)))?(l.instance=b,br(b),b):(p=d,(b=Yn.get(j))&&(p=g({},d),Uy(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),br(b),Pr(b,"link",p),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Jf(p,d.precedence,i));return l.instance}function Jf(i,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,j=b,k=0;k<p.length;k++){var $=p[k];if($.dataset.precedence===l)j=$;else if(j!==b)break}j?j.parentNode.insertBefore(i,j.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function $y(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Uy(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var eh=null;function iC(i,l,d){if(eh===null){var p=new Map,b=eh=new Map;b.set(d,p)}else b=eh,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),b=0;b<d.length;b++){var j=d[b];if(!(j[Uc]||j[Or]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var k=j.getAttribute(l)||"";k=i+k;var $=p.get(k);$?$.push(j):p.set(k,[j])}}return p}function sC(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function CU(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function oC(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function OU(i,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Nl(p.href),j=l.querySelector(_u(b));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=th.bind(i),l.then(i,i)),d.state.loading|=4,d.instance=j,br(j);return}j=l.ownerDocument||l,p=nC(p),(b=Yn.get(b))&&$y(p,b),j=j.createElement("link"),br(j);var k=j;k._p=new Promise(function($,Z){k.onload=$,k.onerror=Z}),Pr(j,"link",p),d.instance=j}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=th.bind(i),l.addEventListener("load",d),l.addEventListener("error",d))}}var By=0;function AU(i,l){return i.stylesheets&&i.count===0&&nh(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&nh(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4+l);0<i.imgBytes&&By===0&&(By=62500*cU());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nh(i,i.stylesheets),i.unsuspend)){var j=i.unsuspend;i.unsuspend=null,j()}},(i.imgBytes>By?50:800)+l);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rh=null;function nh(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rh=new Map,l.forEach(TU,i),rh=null,th.call(i))}function TU(i,l){if(!(l.state.loading&4)){var d=rh.get(i);if(d)var p=d.get(null);else{d=new Map,rh.set(i,d);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<b.length;j++){var k=b[j];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}b=l.instance,k=b.getAttribute("data-precedence"),j=d.get(k)||p,j===p&&d.set(null,b),d.set(k,b),this.count++,p=th.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),j?j.parentNode.insertBefore(b,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var Eu={$$typeof:C,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function kU(i,l,d,p,b,j,k,$,Z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ig(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.hiddenUpdates=Ig(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=j,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function lC(i,l,d,p,b,j,k,$,Z,ue,ve,be){return i=new kU(i,l,d,k,Z,ue,ve,be,$),l=1,j===!0&&(l|=24),j=wn(3,null,null,l),i.current=j,j.stateNode=i,l=bv(),l.refCount++,i.pooledCache=l,l.refCount++,j.memoizedState={element:p,isDehydrated:d,cache:l},Sv(j),i}function cC(i){return i?(i=al,i):al}function uC(i,l,d,p,b,j){b=cC(b),p.context===null?p.context=b:p.pendingContext=b,p=Zi(l),p.payload={element:d},j=j===void 0?null:j,j!==null&&(p.callback=j),d=Qi(i,p,l),d!==null&&(fn(d,i,l),nu(d,i,l))}function dC(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function qy(i,l){dC(i,l),(i=i.alternate)&&dC(i,l)}function fC(i){if(i.tag===13||i.tag===31){var l=Hs(i,67108864);l!==null&&fn(l,i,67108864),qy(i,67108864)}}function hC(i){if(i.tag===13||i.tag===31){var l=Nn();l=Lg(l);var d=Hs(i,l);d!==null&&fn(d,i,l),qy(i,l)}}var ah=!0;function PU(i,l,d,p){var b=L.T;L.T=null;var j=D.p;try{D.p=2,Fy(i,l,d,p)}finally{D.p=j,L.T=b}}function RU(i,l,d,p){var b=L.T;L.T=null;var j=D.p;try{D.p=8,Fy(i,l,d,p)}finally{D.p=j,L.T=b}}function Fy(i,l,d,p){if(ah){var b=Hy(p);if(b===null)Ay(i,l,p,ih,d),pC(i,p);else if(MU(b,i,l,d,p))p.stopPropagation();else if(pC(i,p),l&4&&-1<DU.indexOf(i)){for(;b!==null;){var j=Go(b);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var k=$s(j.pendingLanes);if(k!==0){var $=j;for($.pendingLanes|=2,$.entangledLanes|=2;k;){var Z=1<<31-xn(k);$.entanglements[1]|=Z,k&=~Z}Ra(j),(mt&6)===0&&(Bf=vt()+500,xu(0))}}break;case 31:case 13:$=Hs(j,2),$!==null&&fn($,j,2),Ff(),qy(j,2)}if(j=Hy(p),j===null&&Ay(i,l,p,ih,d),j===b)break;b=j}b!==null&&p.stopPropagation()}else Ay(i,l,p,null,d)}}function Hy(i){return i=Kg(i),Vy(i)}var ih=null;function Vy(i){if(ih=null,i=Ko(i),i!==null){var l=s(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=c(l),i!==null)return i;i=null}else if(d===31){if(i=u(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return ih=i,null}function mC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zs()){case Bi:return 2;case Gr:return 8;case cr:case Ka:return 32;case $n:return 268435456;default:return 32}default:return 32}}var Ky=!1,cs=null,us=null,ds=null,Nu=new Map,Cu=new Map,fs=[],DU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pC(i,l){switch(i){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Nu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(l.pointerId)}}function Ou(i,l,d,p,b,j){return i===null||i.nativeEvent!==j?(i={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:j,targetContainers:[b]},l!==null&&(l=Go(l),l!==null&&fC(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function MU(i,l,d,p,b){switch(l){case"focusin":return cs=Ou(cs,i,l,d,p,b),!0;case"dragenter":return us=Ou(us,i,l,d,p,b),!0;case"mouseover":return ds=Ou(ds,i,l,d,p,b),!0;case"pointerover":var j=b.pointerId;return Nu.set(j,Ou(Nu.get(j)||null,i,l,d,p,b)),!0;case"gotpointercapture":return j=b.pointerId,Cu.set(j,Ou(Cu.get(j)||null,i,l,d,p,b)),!0}return!1}function gC(i){var l=Ko(i.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){i.blockedOn=l,T1(i.priority,function(){hC(d)});return}}else if(l===31){if(l=u(d),l!==null){i.blockedOn=l,T1(i.priority,function(){hC(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Hy(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Vg=p,d.target.dispatchEvent(p),Vg=null}else return l=Go(d),l!==null&&fC(l),i.blockedOn=d,!1;l.shift()}return!0}function vC(i,l,d){sh(i)&&d.delete(l)}function IU(){Ky=!1,cs!==null&&sh(cs)&&(cs=null),us!==null&&sh(us)&&(us=null),ds!==null&&sh(ds)&&(ds=null),Nu.forEach(vC),Cu.forEach(vC)}function oh(i,l){i.blockedOn===l&&(i.blockedOn=null,Ky||(Ky=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IU)))}var lh=null;function yC(i){lh!==i&&(lh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lh===i&&(lh=null);for(var l=0;l<i.length;l+=3){var d=i[l],p=i[l+1],b=i[l+2];if(typeof p!="function"){if(Vy(p||d)===null)continue;break}var j=Go(d);j!==null&&(i.splice(l,3),l-=3,Hv(j,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function Ol(i){function l(Z){return oh(Z,i)}cs!==null&&oh(cs,i),us!==null&&oh(us,i),ds!==null&&oh(ds,i),Nu.forEach(l),Cu.forEach(l);for(var d=0;d<fs.length;d++){var p=fs[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<fs.length&&(d=fs[0],d.blockedOn===null);)gC(d),d.blockedOn===null&&fs.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],j=d[p+1],k=b[sn]||null;if(typeof j=="function")k||yC(d);else if(k){var $=null;if(j&&j.hasAttribute("formAction")){if(b=j,k=j[sn]||null)$=k.formAction;else if(Vy(b)!==null)continue}else $=k.action;typeof $=="function"?d[p+1]=$:(d.splice(p,3),p-=3),yC(d)}}}function xC(){function i(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function Gy(i){this._internalRoot=i}ch.prototype.render=Gy.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,p=Nn();uC(d,p,i,l,null,null)},ch.prototype.unmount=Gy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;uC(i.current,2,null,i,null,null),Ff(),l[Vo]=null}};function ch(i){this._internalRoot=i}ch.prototype.unstable_scheduleHydration=function(i){if(i){var l=A1();i={blockedOn:null,target:i,priority:l};for(var d=0;d<fs.length&&l!==0&&l<fs[d].priority;d++);fs.splice(d,0,i),d===0&&gC(i)}};var bC=t.version;if(bC!=="19.2.0")throw Error(n(527,bC,"19.2.0"));D.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(l),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var LU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{qi=uh.inject(LU),Wr=uh}catch{}}return Tu.createRoot=function(i,l){if(!a(i))throw Error(n(299));var d=!1,p="",b=CE,j=OE,k=AE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=lC(i,1,!1,null,null,d,p,null,b,j,k,xC),i[Vo]=l.current,Oy(i),new Gy(l)},Tu.hydrateRoot=function(i,l,d){if(!a(i))throw Error(n(299));var p=!1,b="",j=CE,k=OE,$=AE,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(j=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&($=d.onRecoverableError),d.formState!==void 0&&(Z=d.formState)),l=lC(i,1,!0,l,d??null,p,b,Z,j,k,$,xC),l.context=cC(null),d=l.current,p=Nn(),p=Lg(p),b=Zi(p),b.callback=null,Qi(d,b,p),d=p,l.current.lanes=d,$c(l,d),Ra(l),i[Vo]=l.current,Oy(i),new ch(l)},Tu.version="19.2.0",Tu}var TC;function GU(){if(TC)return Xy.exports;TC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xy.exports=KU(),Xy.exports}var WU=GU();var kC="popstate";function YU(e={}){function t(a,s){let{pathname:c="/",search:u="",hash:f=""}=Uo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ib("",{pathname:c,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let c=a.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof s=="string"?s:Yu(s))}function n(a,s){Ln(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return ZU(t,r,n,e)}function zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XU(){return Math.random().toString(36).substring(2,10)}function PC(e,t){return{usr:e.state,key:e.key,idx:t}}function ib(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Uo(t):t,state:r,key:t&&t.key||n||XU()}}function Yu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function ZU(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,c=a.history,u="POP",f=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function g(){u="POP";let _=m(),E=_==null?null:_-h;h=_,f&&f({action:u,location:w.location,delta:E})}function y(_,E){u="PUSH";let A=ib(w.location,_,E);r&&r(A,_),h=m()+1;let C=PC(A,h),R=w.createHref(A);try{c.pushState(C,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(R)}s&&f&&f({action:u,location:w.location,delta:1})}function x(_,E){u="REPLACE";let A=ib(w.location,_,E);r&&r(A,_),h=m();let C=PC(A,h),R=w.createHref(A);c.replaceState(C,"",R),s&&f&&f({action:u,location:w.location,delta:0})}function S(_){return QU(_)}let w={get action(){return u},get location(){return e(a,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(kC,g),f=_,()=>{a.removeEventListener(kC,g),f=null}},createHref(_){return t(a,_)},createURL:S,encodeLocation(_){let E=S(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:x,go(_){return c.go(_)}};return w}function QU(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),zt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Yu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function dP(e,t,r="/"){return JU(e,t,r,!1)}function JU(e,t,r,n){let a=typeof t=="string"?Uo(t):t,s=Si(a.pathname||"/",r);if(s==null)return null;let c=fP(e);e6(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=d6(s);u=c6(c[f],h,n)}return u}function fP(e,t=[],r=[],n="",a=!1){let s=(c,u,f=a,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&f)return;zt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let g=wi([n,m.relativePath]),y=r.concat(m);c.children&&c.children.length>0&&(zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fP(c.children,t,y,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:o6(g,c.index),routesMeta:y})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))s(c,u);else for(let f of hP(c.path))s(c,u,!0,f)}),t}function hP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let c=hP(n.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function e6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:l6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var t6=/^:[\w-]+$/,r6=3,n6=2,a6=1,i6=10,s6=-2,RC=e=>e==="*";function o6(e,t){let r=e.split("/"),n=r.length;return r.some(RC)&&(n+=s6),t&&(n+=n6),r.filter(a=>!RC(a)).reduce((a,s)=>a+(t6.test(s)?r6:s===""?a6:i6),n)}function l6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function c6(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",g=cm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),y=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=cm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:wi([s,g.pathname]),pathnameBase:g6(wi([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=wi([s,g.pathnameBase]))}return c}function cm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=u6(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:g},y)=>{if(m==="*"){let S=u[y]||"";c=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[y];return g&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:e}}function u6(e,t=!1,r=!0){Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function d6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Si(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var f6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h6=e=>f6.test(e);function m6(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Uo(e):e,s;if(r)if(h6(r))s=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?s=DC(r.substring(1),"/"):s=DC(r,t)}else s=t;return{pathname:s,search:v6(n),hash:y6(a)}}function DC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ex(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zw(e){let t=p6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function $w(e,t,r,n=!1){let a;typeof e=="string"?a=Uo(e):(a={...e},zt(!a.pathname||!a.pathname.includes("?"),ex("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),ex("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),ex("#","search","hash",a)));let s=e===""||a.pathname==="",c=s?"/":a.pathname,u;if(c==null)u=r;else{let g=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?t[g]:"/"}let f=m6(a,u),h=c&&c!=="/"&&c.endsWith("/"),m=(s||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var wi=e=>e.join("/").replace(/\/\/+/g,"/"),g6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,y6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function x6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function b6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mP=["POST","PUT","PATCH","DELETE"];new Set(mP);var w6=["GET",...mP];new Set(w6);var xc=v.createContext(null);xc.displayName="DataRouter";var wp=v.createContext(null);wp.displayName="DataRouterState";v.createContext(!1);var pP=v.createContext({isTransitioning:!1});pP.displayName="ViewTransition";var j6=v.createContext(new Map);j6.displayName="Fetchers";var _6=v.createContext(null);_6.displayName="Await";var aa=v.createContext(null);aa.displayName="Navigation";var yd=v.createContext(null);yd.displayName="Location";var Sa=v.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var Uw=v.createContext(null);Uw.displayName="RouteError";function S6(e,{relative:t}={}){zt(bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(aa),{hash:a,pathname:s,search:c}=xd(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:wi([r,s])),n.createHref({pathname:u,search:c,hash:a})}function bc(){return v.useContext(yd)!=null}function Ha(){return zt(bc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(yd).location}var gP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vP(e){v.useContext(aa).static||v.useLayoutEffect(e)}function pr(){let{isDataRoute:e}=v.useContext(Sa);return e?L6():E6()}function E6(){zt(bc(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(xc),{basename:t,navigator:r}=v.useContext(aa),{matches:n}=v.useContext(Sa),{pathname:a}=Ha(),s=JSON.stringify(zw(n)),c=v.useRef(!1);return vP(()=>{c.current=!0}),v.useCallback((f,h={})=>{if(Ln(c.current,gP),!c.current)return;if(typeof f=="number"){r.go(f);return}let m=$w(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:wi([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,s,a,e])}v.createContext(null);function jp(){let{matches:e}=v.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function xd(e,{relative:t}={}){let{matches:r}=v.useContext(Sa),{pathname:n}=Ha(),a=JSON.stringify(zw(r));return v.useMemo(()=>$w(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function N6(e,t){return yP(e,t)}function yP(e,t,r,n,a){zt(bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(aa),{matches:c}=v.useContext(Sa),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";xP(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Ha(),x;if(t){let A=typeof t=="string"?Uo(t):t;zt(m==="/"||A.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=y;let S=x.pathname||"/",w=S;if(m!=="/"){let A=m.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=dP(e,{pathname:w});Ln(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ln(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=k6(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:wi([m,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:wi([m,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,r,n,a);return t&&E?v.createElement(yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function C6(){let e=I6(),t=x6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:s},"ErrorBoundary")," or"," ",v.createElement("code",{style:s},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,c)}var O6=v.createElement(C6,null),A6=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(Sa.Provider,{value:this.props.routeContext},v.createElement(Uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T6({routeContext:e,match:t,children:r}){let n=v.useContext(xc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Sa.Provider,{value:e},r)}function k6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r?.errors;if(c!=null){let m=s.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);zt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:y,errors:x}=r,S=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||S){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(m,g)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:b6(r.matches),errorInfo:g})}:void 0;return s.reduceRight((m,g,y)=>{let x,S=!1,w=null,_=null;r&&(x=c&&g.route.id?c[g.route.id]:void 0,w=g.route.errorElement||O6,u&&(f<0&&y===0?(xP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,_=null):f===y&&(S=!0,_=g.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,y+1)),A=()=>{let C;return x?C=w:S?C=_:g.route.Component?C=v.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,v.createElement(T6,{match:g,routeContext:{outlet:m,matches:E,isDataRoute:r!=null},children:C})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?v.createElement(A6,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:h}):A()},null)}function Bw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P6(e){let t=v.useContext(xc);return zt(t,Bw(e)),t}function R6(e){let t=v.useContext(wp);return zt(t,Bw(e)),t}function D6(e){let t=v.useContext(Sa);return zt(t,Bw(e)),t}function qw(e){let t=D6(e),r=t.matches[t.matches.length-1];return zt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function M6(){return qw("useRouteId")}function I6(){let e=v.useContext(Uw),t=R6("useRouteError"),r=qw("useRouteError");return e!==void 0?e:t.errors?.[r]}function L6(){let{router:e}=P6("useNavigate"),t=qw("useNavigate"),r=v.useRef(!1);return vP(()=>{r.current=!0}),v.useCallback(async(a,s={})=>{Ln(r.current,gP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var MC={};function xP(e,t,r){!t&&!MC[e]&&(MC[e]=!0,Ln(!1,r))}v.memo(z6);function z6({routes:e,future:t,state:r,unstable_onError:n}){return yP(e,void 0,r,n,t)}function bP({to:e,replace:t,state:r,relative:n}){zt(bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(aa);Ln(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=v.useContext(Sa),{pathname:c}=Ha(),u=pr(),f=$w(e,zw(s),c,n==="path"),h=JSON.stringify(f);return v.useEffect(()=>{u(JSON.parse(h),{replace:t,state:r,relative:n})},[u,h,n,t,r]),null}function Gt(e){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:c}){zt(!bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:c,future:{}}),[u,a,s,c]);typeof r=="string"&&(r=Uo(r));let{pathname:h="/",search:m="",hash:g="",state:y=null,key:x="default"}=r,S=v.useMemo(()=>{let w=Si(h,u);return w==null?null:{location:{pathname:w,search:m,hash:g,state:y,key:x},navigationType:n}},[u,h,m,g,y,x,n]);return Ln(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:v.createElement(aa.Provider,{value:f},v.createElement(yd.Provider,{children:t,value:S}))}function wP({children:e,location:t}){return N6(sb(e),t)}function sb(e,t=[]){let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let s=[...t,a];if(n.type===v.Fragment){r.push.apply(r,sb(n.props.children,s));return}zt(n.type===Gt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=sb(n.props.children,s)),r.push(c)}),r}var Wh="get",Yh="application/x-www-form-urlencoded";function _p(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function U6(e){return _p(e)&&e.tagName.toLowerCase()==="button"}function B6(e){return _p(e)&&e.tagName.toLowerCase()==="form"}function q6(e){return _p(e)&&e.tagName.toLowerCase()==="input"}function F6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H6(e,t){return e.button===0&&(!t||t==="_self")&&!F6(e)}var dh=null;function V6(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var K6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tx(e){return e!=null&&!K6.has(e)?(Ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):e}function G6(e,t){let r,n,a,s,c;if(B6(e)){let u=e.getAttribute("action");n=u?Si(u,t):null,r=e.getAttribute("method")||Wh,a=tx(e.getAttribute("enctype"))||Yh,s=new FormData(e)}else if(U6(e)||q6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Si(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Wh,a=tx(e.getAttribute("formenctype"))||tx(u.getAttribute("enctype"))||Yh,s=new FormData(u,e),!V6()){let{name:h,type:m,value:g}=e;if(m==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(_p(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Wh,n=null,a=Yh,c=e}return s&&a==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W6(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Si(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Y6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Z6(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let c=await Y6(s,r);return c.links?c.links():[]}return[]}));return tB(n.flat(1).filter(X6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function IC(e,t,r,n,a,s){let c=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,u=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,h)=>c(f,h)||u(f,h)):s==="data"?t.filter((f,h)=>{let m=n.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Q6(e,t,{includeHydrateFallback:r}={}){return J6(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function J6(e){return[...new Set(e)]}function eB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function tB(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(eB(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function jP(){let e=v.useContext(xc);return Fw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rB(){let e=v.useContext(wp);return Fw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hw=v.createContext(void 0);Hw.displayName="FrameworkContext";function _P(){let e=v.useContext(Hw);return Fw(e,"You must render this element inside a <HydratedRouter> element"),e}function nB(e,t){let r=v.useContext(Hw),[n,a]=v.useState(!1),[s,c]=v.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=t,y=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=E=>{E.forEach(A=>{c(A.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{a(!0)},S=()=>{a(!1),c(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:ku(u,x),onBlur:ku(f,S),onMouseEnter:ku(h,x),onMouseLeave:ku(m,S),onTouchStart:ku(g,x)}]:[!1,y,{}]}function ku(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function aB({page:e,...t}){let{router:r}=jP(),n=v.useMemo(()=>dP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(sB,{page:e,matches:n,...t}):null}function iB(e){let{manifest:t,routeModules:r}=_P(),[n,a]=v.useState([]);return v.useEffect(()=>{let s=!1;return Z6(e,t,r).then(c=>{s||a(c)}),()=>{s=!0}},[e,t,r]),n}function sB({page:e,matches:t,...r}){let n=Ha(),{manifest:a,routeModules:s}=_P(),{basename:c}=jP(),{loaderData:u,matches:f}=rB(),h=v.useMemo(()=>IC(e,t,f,a,n,"data"),[e,t,f,a,n]),m=v.useMemo(()=>IC(e,t,f,a,n,"assets"),[e,t,f,a,n]),g=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,w=!1;if(t.forEach(E=>{let A=a.routes[E.route.id];!A||!A.hasLoader||(!h.some(C=>C.route.id===E.route.id)&&E.route.id in u&&s[E.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:S.add(E.route.id))}),S.size===0)return[];let _=W6(e,c,"data");return w&&S.size>0&&_.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[c,u,n,a,h,t,e,s]),y=v.useMemo(()=>Q6(m,a),[m,a]),x=iB(m);return v.createElement(v.Fragment,null,g.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),y.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),x.map(({key:S,link:w})=>v.createElement("link",{key:S,nonce:r.nonce,...w})))}function oB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var SP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SP&&(window.__reactRouterVersion="7.10.0")}catch{}function lB({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=v.useRef();a.current==null&&(a.current=YU({window:n,v5Compat:!0}));let s=a.current,[c,u]=v.useState({action:s.action,location:s.location}),f=v.useCallback(h=>{r===!1?u(h):v.startTransition(()=>u(h))},[r]);return v.useLayoutEffect(()=>s.listen(f),[s,f]),v.createElement($6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r===!0})}var EP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NP=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:g,...y},x){let{basename:S,unstable_useTransitions:w}=v.useContext(aa),_=typeof h=="string"&&EP.test(h),E,A=!1;if(typeof h=="string"&&_&&(E=h,SP))try{let G=new URL(window.location.href),B=h.startsWith("//")?new URL(G.protocol+h):new URL(h),K=Si(B.pathname,S);B.origin===G.origin&&K!=null?h=K+B.search+B.hash:A=!0}catch{Ln(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=S6(h,{relative:a}),[R,O,I]=nB(n,y),N=dB(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:a,viewTransition:g,unstable_useTransitions:w});function T(G){t&&t(G),G.defaultPrevented||N(G)}let U=v.createElement("a",{...y,...I,href:E||C,onClick:A||s?t:T,ref:oB(x,O),target:f,"data-discover":!_&&r==="render"?"true":void 0});return R&&!_?v.createElement(v.Fragment,null,U,v.createElement(aB,{page:C})):U});NP.displayName="Link";var Vw=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:c,viewTransition:u,children:f,...h},m){let g=xd(c,{relative:h.relative}),y=Ha(),x=v.useContext(wp),{navigator:S,basename:w}=v.useContext(aa),_=x!=null&&gB(g)&&u===!0,E=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,A=y.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(A=A.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&w&&(C=Si(C,w)||C);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=A===E||!a&&A.startsWith(E)&&A.charAt(R)==="/",I=C!=null&&(C===E||!a&&C.startsWith(E)&&C.charAt(E.length)==="/"),N={isActive:O,isPending:I,isTransitioning:_},T=O?t:void 0,U;typeof n=="function"?U=n(N):U=[n,O?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(N):s;return v.createElement(NP,{...h,"aria-current":T,className:U,ref:m,style:G,to:c,viewTransition:u},typeof f=="function"?f(N):f)});Vw.displayName="NavLink";var cB=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:c=Wh,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,...y},x)=>{let{unstable_useTransitions:S}=v.useContext(aa),w=mB(),_=pB(u,{relative:h}),E=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&EP.test(u),C=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let O=R.nativeEvent.submitter,I=O?.getAttribute("formmethod")||c,N=()=>w(O||R.currentTarget,{fetcherKey:t,method:I,navigate:r,replace:a,state:s,relative:h,preventScrollReset:m,viewTransition:g});S&&r!==!1?v.startTransition(()=>N()):N()};return v.createElement("form",{ref:x,method:E,action:_,onSubmit:n?f:C,...y,"data-discover":!A&&e==="render"?"true":void 0})});cB.displayName="Form";function uB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CP(e){let t=v.useContext(xc);return zt(t,uB(e)),t}function dB(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:c,unstable_useTransitions:u}={}){let f=pr(),h=Ha(),m=xd(e,{relative:s});return v.useCallback(g=>{if(H6(g,t)){g.preventDefault();let y=r!==void 0?r:Yu(h)===Yu(m),x=()=>f(e,{replace:y,state:n,preventScrollReset:a,relative:s,viewTransition:c});u?v.startTransition(()=>x()):x()}},[h,f,m,r,n,t,e,a,s,c,u])}var fB=0,hB=()=>`__${String(++fB)}__`;function mB(){let{router:e}=CP("useSubmit"),{basename:t}=v.useContext(aa),r=M6(),n=e.fetch,a=e.navigate;return v.useCallback(async(s,c={})=>{let{action:u,method:f,encType:h,formData:m,body:g}=G6(s,t);if(c.navigate===!1){let y=c.fetcherKey||hB();await n(y,r,c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await a(c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,a,t,r])}function pB(e,{relative:t}={}){let{basename:r}=v.useContext(aa),n=v.useContext(Sa);zt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...xd(e||".",{relative:t})},c=Ha();if(e==null){s.search=c.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:wi([r,s.pathname])),Yu(s)}function gB(e,{relative:t}={}){let r=v.useContext(pP);zt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=CP("useViewTransitionState"),a=xd(e,{relative:t});if(!r.isTransitioning)return!1;let s=Si(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Si(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cm(a.pathname,c)!=null||cm(a.pathname,s)!=null}var Bo=uP();const vB=_a(Bo);const yB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),LC=e=>{const t=xB(e);return t.charAt(0).toUpperCase()+t.slice(1)},OP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),bB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var wB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jB=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...u},f)=>v.createElement("svg",{ref:f,...wB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:OP("lucide",a),...!s&&!bB(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>v.createElement(h,m)),...Array.isArray(s)?s:[s]]));const Be=(e,t)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(jB,{ref:s,iconNode:t,className:OP(`lucide-${yB(LC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=LC(e),r};const _B=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],ic=Be("armchair",_B);const SB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$a=Be("arrow-left",SB);const EB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],NB=Be("arrow-right",EB);const CB=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],rx=Be("arrow-up-down",CB);const OB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AB=Be("check",OB);const TB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],AP=Be("chevron-down",TB);const kB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kw=Be("chevron-right",kB);const PB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gw=Be("chevron-left",PB);const RB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],DB=Be("chevron-up",RB);const MB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ob=Be("circle-alert",MB);const IB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ga=Be("circle-check-big",IB);const LB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nx=Be("circle-x",LB);const zB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$B=Be("circle",zB);const UB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],TP=Be("clipboard-list",UB);const BB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qr=Be("clock",BB);const qB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],FB=Be("copy",qB);const HB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],po=Be("credit-card",HB);const VB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sp=Be("dollar-sign",VB);const KB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],zC=Be("ellipsis-vertical",KB);const GB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kP=Be("external-link",GB);const WB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],um=Be("funnel",WB);const YB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],PP=Be("layout-dashboard",YB);const XB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wl=Be("loader-circle",XB);const ZB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QB=Be("log-out",ZB);const JB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eq=Be("menu",JB);const tq=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ww=Be("minus",tq);const rq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Yw=Be("package",rq);const nq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],lb=Be("pencil",nq);const aq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gn=Be("plus",aq);const iq=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],RP=Be("printer",iq);const sq=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Yl=Be("qr-code",sq);const oq=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],lq=Be("receipt",oq);const cq=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bo=Be("refresh-cw",cq);const uq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dq=Be("rotate-ccw",uq);const fq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bd=Be("save",fq);const hq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xw=Be("search",hq);const mq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DP=Be("settings",mq);const pq=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tn=Be("shopping-bag",pq);const gq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],$C=Be("shopping-cart",gq);const vq=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],yq=Be("snowflake",vq);const xq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],MP=Be("square-pen",xq);const bq=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],IP=Be("tag",bq);const wq=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],jq=Be("test-tube",wq);const _q=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Xl=Be("ticket",_q);const Sq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sc=Be("trash-2",Sq);const Eq=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nq=Be("trending-down",Eq);const Cq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ws=Be("trending-up",Cq);const Oq=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],dm=Be("truck",Oq);const Aq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zw=Be("upload",Aq);const Tq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kq=Be("user",Tq);const Pq=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Rq=Be("utensils-crossed",Pq);const Dq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LP=Be("users",Dq);const Mq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Zl=Be("wallet",Mq);const Iq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],zP=Be("wifi-off",Iq);const Lq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],$P=Be("wifi",Lq);const zq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wd=Be("x",zq);function UP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=UP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=UP(e))&&(n&&(n+=" "),n+=t);return n}const $q=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Uq=(e,t)=>({classGroupId:e,validator:t}),BP=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),fm="-",UC=[],Bq="arbitrary..",qq=e=>{const t=Hq(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Fq(c);const u=c.split(fm),f=u[0]===""&&u.length>1?1:0;return qP(u,f,t)},getConflictingClassGroupIds:(c,u)=>{if(u){const f=n[c],h=r[c];return f?h?$q(h,f):f:h||UC}return r[c]||UC}}},qP=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],s=r.nextPart.get(a);if(s){const h=qP(e,t+1,s);if(h)return h}const c=r.validators;if(c===null)return;const u=t===0?e.join(fm):e.slice(t).join(fm),f=c.length;for(let h=0;h<f;h++){const m=c[h];if(m.validator(u))return m.classGroupId}},Fq=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Bq+n:void 0})(),Hq=e=>{const{theme:t,classGroups:r}=e;return Vq(r,t)},Vq=(e,t)=>{const r=BP();for(const n in e){const a=e[n];Qw(a,r,n,t)}return r},Qw=(e,t,r,n)=>{const a=e.length;for(let s=0;s<a;s++){const c=e[s];Kq(c,t,r,n)}},Kq=(e,t,r,n)=>{if(typeof e=="string"){Gq(e,t,r);return}if(typeof e=="function"){Wq(e,t,r,n);return}Yq(e,t,r,n)},Gq=(e,t,r)=>{const n=e===""?t:FP(t,e);n.classGroupId=r},Wq=(e,t,r,n)=>{if(Xq(e)){Qw(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Uq(r,e))},Yq=(e,t,r,n)=>{const a=Object.entries(e),s=a.length;for(let c=0;c<s;c++){const[u,f]=a[c];Qw(f,FP(t,u),r,n)}},FP=(e,t)=>{let r=e;const n=t.split(fm),a=n.length;for(let s=0;s<a;s++){const c=n[s];let u=r.nextPart.get(c);u||(u=BP(),r.nextPart.set(c,u)),r=u}return r},Xq=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Zq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(s,c)=>{r[s]=c,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(s){let c=r[s];if(c!==void 0)return c;if((c=n[s])!==void 0)return a(s,c),c},set(s,c){s in r?r[s]=c:a(s,c)}}},cb="!",BC=":",Qq=[],qC=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Jq=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const s=[];let c=0,u=0,f=0,h;const m=a.length;for(let w=0;w<m;w++){const _=a[w];if(c===0&&u===0){if(_===BC){s.push(a.slice(f,w)),f=w+1;continue}if(_==="/"){h=w;continue}}_==="["?c++:_==="]"?c--:_==="("?u++:_===")"&&u--}const g=s.length===0?a:a.slice(f);let y=g,x=!1;g.endsWith(cb)?(y=g.slice(0,-1),x=!0):g.startsWith(cb)&&(y=g.slice(1),x=!0);const S=h&&h>f?h-f:void 0;return qC(s,x,y,S)};if(t){const a=t+BC,s=n;n=c=>c.startsWith(a)?s(c.slice(a.length)):qC(Qq,!1,c,void 0,!0)}if(r){const a=n;n=s=>r({className:s,parseClassName:a})}return n},e8=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let s=0;s<r.length;s++){const c=r[s],u=c[0]==="[",f=t.has(c);u||f?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(c)):a.push(c)}return a.length>0&&(a.sort(),n.push(...a)),n}},t8=e=>({cache:Zq(e.cacheSize),parseClassName:Jq(e),sortModifiers:e8(e),...qq(e)}),r8=/\s+/,n8=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,c=[],u=e.trim().split(r8);let f="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:g,modifiers:y,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:w}=r(m);if(g){f=m+(f.length>0?" "+f:f);continue}let _=!!w,E=n(_?S.substring(0,w):S);if(!E){if(!_){f=m+(f.length>0?" "+f:f);continue}if(E=n(S),!E){f=m+(f.length>0?" "+f:f);continue}_=!1}const A=y.length===0?"":y.length===1?y[0]:s(y).join(":"),C=x?A+cb:A,R=C+E;if(c.indexOf(R)>-1)continue;c.push(R);const O=a(E,_);for(let I=0;I<O.length;++I){const N=O[I];c.push(C+N)}f=m+(f.length>0?" "+f:f)}return f},a8=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=HP(r))&&(a&&(a+=" "),a+=n);return a},HP=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=HP(e[n]))&&(r&&(r+=" "),r+=t);return r},i8=(e,...t)=>{let r,n,a,s;const c=f=>{const h=t.reduce((m,g)=>g(m),e());return r=t8(h),n=r.cache.get,a=r.cache.set,s=u,u(f)},u=f=>{const h=n(f);if(h)return h;const m=n8(f,r);return a(f,m),m};return s=c,(...f)=>s(a8(...f))},s8=[],dr=e=>{const t=r=>r[e]||s8;return t.isThemeGetter=!0,t},VP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,o8=/^\d+\/\d+$/,l8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,d8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=e=>o8.test(e),et=e=>!!e&&!Number.isNaN(Number(e)),ms=e=>!!e&&Number.isInteger(Number(e)),ax=e=>e.endsWith("%")&&et(e.slice(0,-1)),di=e=>l8.test(e),h8=()=>!0,m8=e=>c8.test(e)&&!u8.test(e),GP=()=>!1,p8=e=>d8.test(e),g8=e=>f8.test(e),v8=e=>!Me(e)&&!Ie(e),y8=e=>wc(e,XP,GP),Me=e=>VP.test(e),no=e=>wc(e,ZP,m8),ix=e=>wc(e,_8,et),FC=e=>wc(e,WP,GP),x8=e=>wc(e,YP,g8),fh=e=>wc(e,QP,p8),Ie=e=>KP.test(e),Pu=e=>jc(e,ZP),b8=e=>jc(e,S8),HC=e=>jc(e,WP),w8=e=>jc(e,XP),j8=e=>jc(e,YP),hh=e=>jc(e,QP,!0),wc=(e,t,r)=>{const n=VP.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},jc=(e,t,r=!1)=>{const n=KP.exec(e);return n?n[1]?t(n[1]):r:!1},WP=e=>e==="position"||e==="percentage",YP=e=>e==="image"||e==="url",XP=e=>e==="length"||e==="size"||e==="bg-size",ZP=e=>e==="length",_8=e=>e==="number",S8=e=>e==="family-name",QP=e=>e==="shadow",E8=()=>{const e=dr("color"),t=dr("font"),r=dr("text"),n=dr("font-weight"),a=dr("tracking"),s=dr("leading"),c=dr("breakpoint"),u=dr("container"),f=dr("spacing"),h=dr("radius"),m=dr("shadow"),g=dr("inset-shadow"),y=dr("text-shadow"),x=dr("drop-shadow"),S=dr("blur"),w=dr("perspective"),_=dr("aspect"),E=dr("ease"),A=dr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...R(),Ie,Me],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],T=()=>[Ie,Me,f],U=()=>[Al,"full","auto",...T()],G=()=>[ms,"none","subgrid",Ie,Me],B=()=>["auto",{span:["full",ms,Ie,Me]},ms,Ie,Me],K=()=>[ms,"auto",Ie,Me],F=()=>["auto","min","max","fr",Ie,Me],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...T()],D=()=>[Al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],q=()=>[e,Ie,Me],re=()=>[...R(),HC,FC,{position:[Ie,Me]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",w8,y8,{size:[Ie,Me]}],H=()=>[ax,Pu,no],Q=()=>["","none","full",h,Ie,Me],P=()=>["",et,Pu,no],V=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[et,ax,HC,FC],je=()=>["","none",S,Ie,Me],z=()=>["none",et,Ie,Me],ee=()=>["none",et,Ie,Me],ce=()=>[et,Ie,Me],Y=()=>[Al,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[h8],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[v8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",et],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Al,Me,Ie,_]}],container:["container"],columns:[{columns:[et,Me,Ie,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[ms,"auto",Ie,Me]}],basis:[{basis:[Al,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Al,"auto","initial","none",Me]}],grow:[{grow:["",et,Ie,Me]}],shrink:[{shrink:["",et,Ie,Me]}],order:[{order:[ms,"first","last","none",Ie,Me]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[u,"screen",...D()]}],"min-w":[{"min-w":[u,"screen","none",...D()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",r,Pu,no]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ie,ix]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ax,Me]}],"font-family":[{font:[b8,Me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Me]}],"line-clamp":[{"line-clamp":[et,"none",Ie,ix]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",Ie,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Ie,no]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[et,"auto",Ie,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ms,Ie,Me],radial:["",Ie,Me],conic:[ms,Ie,Me]},j8,x8]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Ie,Me]}],"outline-w":[{outline:["",et,Pu,no]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",m,hh,fh]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,hh,fh]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[et,no]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",y,hh,fh]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[et,Ie,Me]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ie,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Me]}],filter:[{filter:["","none",Ie,Me]}],blur:[{blur:je()}],brightness:[{brightness:[et,Ie,Me]}],contrast:[{contrast:[et,Ie,Me]}],"drop-shadow":[{"drop-shadow":["","none",x,hh,fh]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",et,Ie,Me]}],"hue-rotate":[{"hue-rotate":[et,Ie,Me]}],invert:[{invert:["",et,Ie,Me]}],saturate:[{saturate:[et,Ie,Me]}],sepia:[{sepia:["",et,Ie,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Me]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[et,Ie,Me]}],"backdrop-contrast":[{"backdrop-contrast":[et,Ie,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Ie,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Ie,Me]}],"backdrop-invert":[{"backdrop-invert":["",et,Ie,Me]}],"backdrop-opacity":[{"backdrop-opacity":[et,Ie,Me]}],"backdrop-saturate":[{"backdrop-saturate":[et,Ie,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Ie,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Ie,Me]}],ease:[{ease:["linear","initial",E,Ie,Me]}],delay:[{delay:[et,Ie,Me]}],animate:[{animate:["none",A,Ie,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ie,Me]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[Ie,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Me]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[et,Pu,no,ix]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},N8=i8(E8);function He(...e){return N8(gt(e))}function ge(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function Xh(e,t,r,n,a){if(!t||r===null||r===void 0||r<=0||!n||!n.includes(a))return e;if(t==="fixed"){const s=e-r;return Math.max(0,s)}else if(t==="percentage"){const s=e*r/100,c=e-s;return Math.max(0,c)}return e}function Da(e,t,r,n,a){if(!e||t===null||t===void 0||t<=0)return{isValid:!0};if(!r||n===null||n===void 0)return{isValid:!0};if(e==="fixed"){if(r==="fixed"){if(t>n)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O valor mximo permitido  ${ge(n)}.`}}else if(r==="percentage"){const s=a*n/100;if(t>s)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O valor mximo permitido  ${ge(s)} (${n}% de ${ge(a)}).`}}}else if(e==="percentage"){if(r==="fixed"){if(a*t/100>n)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O percentual mximo permitido  ${(n/a*100).toFixed(2)}% (${ge(n)}).`}}else if(r==="percentage"&&t>n)return{isValid:!1,errorMessage:`Limite de desconto maior do que o permitido. O percentual mximo permitido  ${n}%.`}}return{isValid:!0}}const C8={en:{appTitle:"JE BEBIDAS",dashboard:"Dashboard",orders:"Orders",tables:"Tables",menu:"Menu",settings:"Settings",totalRevenue:"Receivable",activeOrders:"Active Orders",availableTables:"Available Tables",recentOrders:"Recent Orders",recentOrdersDescription:"Latest completed transactions.",viewAllOrders:"View All Orders",searchPlaceholder:"Search orders...",filterStatus:"Filter by Status",newOrder:"New Order",orderId:"Order ID",table:"Table",customer:"Customer",status:"Status",total:"Total",actions:"Actions",items:"Items",item:"Item",quantity:"Qty",price:"Price",addTable:"Add Table",tableNumber:"Table Number",capacity:"Capacity",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",viewBill:"View Bill & Close Table",closeTablePay:"Close Table & Pay",paymentMethod:"Payment Method",cash:"Cash",card:"Card",voucher:"Voucher",pix:"PIX",confirmPayment:"Confirm Payment",billForTable:"Bill for Table",consolidatedView:"Consolidated view of all active orders.",orderSummary:"Order Summary",totalAmountDue:"Total Amount Due",noActiveOrders:"No active orders to pay.",manageOrders:"Manage orders for this table",back:"Back",tableInfo:"Table Information",noOrdersFoundForTable:"No active orders found for this table",tableDetails:"Table Details",orderHistory:"Order History",noOrdersFound:"No orders found for this table.",addToOrder:"Add to Order",createOrder:"Create Order",selectItems:"Select Items",selectTable:"Select Table",orderCreated:"Order Created",orderCreatedMessage:"Order has been successfully created.",language:"Language",selectLanguage:"Select the language for the application.",english:"English",portuguese:"Portuguese (Brazil)",pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",closed:"Closed",available:"Available",occupied:"Occupied",reserved:"Reserved",soldOut:"Sold Out",manageTables:"Manage your restaurant tables.",manageMenu:"Manage your menu items.",settingsTitle:"Settings",settingsDescription:"Manage your application preferences.",printReceipt:"Print Receipt",updateStatus:"Update Status",payNow:"Pay Now",subtotal:"Subtotal",tax:"Tax",date:"Date",time:"Time",notes:"Notes",addNote:"Add Note",typeNote:"Type your note here...",currentBill:"Current Bill",readyForCustomers:"Ready for customers",enterTableNumber:"Enter the number or name for the new table.",addNewTable:"Add New Table",number:"Number",orderNotFound:"Order not found",tableNotFound:"Table not found",noNotes:"No notes added.",addItem:"Add Item",guest:"Guest",occupiedAbbr:"Occ",customerNamePlaceholder:"Customer Name",noItemsSelected:"No items selected.",noOrders:"No orders found.",closeTableAndPay:"Close Table & Pay",closeTable:"Close Table",selectPaymentMethod:"Select payment method for total of",closeTableWarning:"This will close all active orders for this table.",orderType:"Order Type",dineIn:"Dine-in",takeout:"Takeout",delivery:"Delivery",type:"Type",finance:"Finance",overview:"Overview",sales:"Sales",expenses:"Expenses",netProfit:"Net Profit",revenue:"Revenue",addExpense:"Add Expense",expenseDescription:"Description",expenseCategory:"Category",expenseAmount:"Amount",expenseDate:"Date",noExpenses:"No expenses recorded.",salesByPaymentMethod:"Sales by Payment Method",salesByOrderType:"Sales by Order Type",dailySales:"Daily Sales",selectATable:"Please select a table.",addItemsToOrder:"Please add items to the order.",viewDetails:"View Details",itemName:"Item Name",itemDescription:"Description",itemCategory:"Category",itemPrice:"Price",itemImage:"Image URL",fillAllFields:"Please fill all required fields.",paid:"Paid",paymentPending:"Pending",enableTables:"Enable Table Management",enableTablesDescription:"Allow management of restaurant tables and table-based orders.",tableManagement:"Table Management",salesAnalysis:"Sales Analysis",salesByProduct:"View sales data by product with filters",timePeriod:"Time Period",allTime:"All Time",today:"Today",thisWeek:"This Week",thisMonth:"This Month",thisYear:"This Year",category:"Category",allCategories:"All Categories",chartType:"Chart Type",barChart:"Bar Chart",pieChart:"Pie Chart",totalItems:"Total Items Sold",uniqueProducts:"Unique Products",avgOrderValue:"Avg Revenue per Item",productSales:"Product Sales",categoryDistribution:"Category Distribution",topProducts:"Top Products",noSalesData:"No sales data available for the selected period",login:"Login",loginDescription:"Enter your credentials to access the system",email:"Email",emailPlaceholder:"your@email.com",emailOrUsername:"Email or Username",emailOrUsernamePlaceholder:"your@email.com or username",password:"Password",passwordPlaceholder:"",loggingIn:"Logging in...",logout:"Logout",accessDenied:"Access Denied",accessDeniedMessage:"You don't have permission to access this page",unauthorized:"Unauthorized",unauthorizedMessage:"Please login to access this page",loading:"Loading...",printerSettings:"Printer Settings",printerSettingsDescription:"Configure printer settings for receipts and orders",enablePrinter:"Enable Printer",printerType:"Printer Type",printerName:"Printer Name",printerIpAddress:"IP Address",printerPort:"Port",paperSize:"Paper Size",autoPrint:"Auto Print",browser:"Browser (Default)",network:"Network Printer",usb:"USB Printer",printer80mm:"80mm (Thermal)",printer58mm:"58mm (Thermal)",printerA4:"A4",stockManagement:"Stock Management",stockManagementDescription:"Manage product inventory and register purchase invoices",inventory:"Inventory",stock:"Stock",stockLevel:"Stock Level",minStock:"Minimum Stock",currentStock:"Current Stock",stockMovement:"Movement",entry:"Entry",exit:"Exit",adjustment:"Adjustment",lowStock:"Low Stock",outOfStock:"Out of Stock",stockAlert:"Stock Alert",addEntry:"Add Entry",manualAdjustment:"Manual Adjustment",viewHistory:"View History",purchaseInvoice:"Purchase Invoice",newPurchaseInvoice:"New Purchase Invoice",supplier:"Supplier",supplierCNPJ:"Supplier CNPJ",supplierAddress:"Supplier Address",invoiceNumber:"Invoice Number",invoiceSeries:"Series",danfeImport:"Import DANFE",importDANFE:"Import DANFE (XML)",uploadXML:"Upload XML",xmlFile:"XML File",parseXML:"Parse XML",xmlParsing:"Parsing XML...",xmlError:"Error parsing XML",invalidXML:"Invalid XML",importSuccess:"Import successful",importFailed:"Import failed",nfeKey:"NFe Key",issueDate:"Issue Date",issuer:"Issuer",addInventoryItem:"Add Item",addStockEntry:"Add Entry",addInventoryItemDescription:"Register a new inventory item without a purchase invoice",addStockEntryDescription:"Manually add stock entry for an existing item",editInventoryItem:"Edit Item",editInventoryItemDescription:"Edit inventory item information",productType:"Product Type",ncm:"NCM",cstIcms:"CST ICMS",cfop:"CFOP",icmsRate:"ICMS Rate",ipiRate:"IPI Rate",eanCode:"EAN Code",taxCalculation:"Tax Calculation",priceWithTaxes:"Price with Taxes",cancelOrder:"Cancel Order",cancelOrderConfirmation:"Cancel Order",cancelOrderDescription:"This action cannot be undone. Stock will be automatically returned.",enterManagerPassword:"Enter Admin/Manager Password",cancellationReason:"Cancellation Reason",selectCancellationReason:"Select a reason",confirmCancel:"Confirm Cancellation",cancelled:"Cancelled",cancellationReasons:{clientDesisted:"Client desisted",paymentProblem:"Payment problem",damagedGoods:"Damaged goods",noStock:"Out of stock"}},pt:{appTitle:"JE BEBIDAS",dashboard:"Painel",orders:"Pedidos",tables:"Mesas",menu:"Bebidas",settings:"Configuraes",totalRevenue:"Valores  receber",activeOrders:"Pedidos Ativos",availableTables:"Mesas Disponveis",recentOrders:"Pedidos Recentes",recentOrdersDescription:"ltimas transaes concludas.",viewAllOrders:"Ver Todos os Pedidos",searchPlaceholder:"Buscar pedidos...",filterStatus:"Filtrar por Status",newOrder:"Novo Pedido",orderId:"ID do Pedido",table:"Mesa",customer:"Cliente",status:"Status",total:"Total",actions:"Aes",items:"Itens",item:"Item",quantity:"Qtd",price:"Preo",addTable:"Adicionar Mesa",tableNumber:"Nmero da Mesa",capacity:"Capacidade",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",viewBill:"Ver Conta e Fechar Mesa",closeTablePay:"Fechar Mesa e Pagar",paymentMethod:"Mtodo de Pagamento",cash:"Dinheiro",card:"Carto",voucher:"Vale",pix:"PIX",confirmPayment:"Confirmar Pagamento",billForTable:"Conta da Mesa",consolidatedView:"Viso consolidada de todos os pedidos ativos.",orderSummary:"Resumo do Pedido",totalAmountDue:"Valor Total Devido",noActiveOrders:"Nenhum pedido ativo para pagar.",tableDetails:"Detalhes da Mesa",orderHistory:"Histrico de Pedidos",noOrdersFound:"Nenhum pedido encontrado para esta mesa.",addToOrder:"Adicionar ao Pedido",createOrder:"Criar Pedido",selectItems:"Selecionar Itens",selectTable:"Selecionar Mesa",orderCreated:"Pedido Criado",orderCreatedMessage:"O pedido foi criado com sucesso.",language:"Idioma",selectLanguage:"Selecione o idioma da aplicao.",english:"Ingls",portuguese:"Portugus (Brasil)",pending:"Pendente",preparing:"Preparando",ready:"Pronto",delivered:"Entregue",closed:"Fechado",available:"Disponvel",occupied:"Ocupada",reserved:"Reservada",soldOut:"Esgotado",manageTables:"Gerencie as mesas do seu restaurante.",manageMenu:"Gerencie os itens de bebidas.",manageOrders:"Gerenciar pedidos desta mesa",settingsTitle:"Configuraes",settingsDescription:"Gerencie as preferncias da sua aplicao.",printReceipt:"Imprimir Recibo",updateStatus:"Atualizar Status",payNow:"Pagar Agora",subtotal:"Subtotal",tax:"Imposto",date:"Data",time:"Hora",notes:"Observaes",addNote:"Adicionar Observao",typeNote:"Digite sua observao aqui...",currentBill:"Conta Atual",readyForCustomers:"Pronta para clientes",enterTableNumber:"Digite o nmero ou nome da nova mesa.",addNewTable:"Adicionar Nova Mesa",number:"Nmero",orderNotFound:"Pedido no encontrado",tableNotFound:"Mesa no encontrada",noNotes:"Nenhuma observao adicionada.",addItem:"Adicionar Item",guest:"Convidado",occupiedAbbr:"Ocp",customerNamePlaceholder:"Nome do Cliente",noItemsSelected:"Nenhum item selecionado.",noOrders:"Nenhum pedido encontrado.",closeTableAndPay:"Fechar Mesa e Pagar",closeTable:"Fechar Mesa",selectPaymentMethod:"Selecione o mtodo de pagamento para o total de",closeTableWarning:"Isso fechar todos os pedidos ativos desta mesa.",back:"Voltar",tableInfo:"Informaes da Mesa",noOrdersFoundForTable:"Nenhum pedido ativo encontrado para esta mesa",orderType:"Tipo de Pedido",dineIn:"Mesa",takeout:"Retirada",delivery:"Delivery",type:"Tipo",finance:"Financeiro",overview:"Viso Geral",sales:"Vendas",expenses:"Despesas",netProfit:"Lucro Lquido",revenue:"Receita",addExpense:"Adicionar Despesa",expenseDescription:"Descrio",expenseCategory:"Categoria",expenseAmount:"Valor",expenseDate:"Data",noExpenses:"Nenhuma despesa registrada.",salesByPaymentMethod:"Vendas por Mtodo de Pagamento",salesByOrderType:"Vendas por Tipo de Pedido",dailySales:"Vendas Dirias",selectATable:"Por favor, selecione uma mesa.",addItemsToOrder:"Por favor, adicione itens ao pedido.",viewDetails:"Ver Detalhes",itemName:"Nome do Item",itemDescription:"Descrio",itemCategory:"Categoria",itemPrice:"Preo",itemImage:"URL da Imagem",fillAllFields:"Por favor, preencha todos os campos obrigatrios.",paid:"Pago",paymentPending:"Pendente",enableTables:"Habilitar Gerenciamento de Mesas",enableTablesDescription:"Permitir gerenciamento de mesas do restaurante e pedidos por mesa.",tableManagement:"Gerenciamento de Mesas",salesAnalysis:"Anlise de Vendas",salesByProduct:"Visualize dados de vendas por produto com filtros",timePeriod:"Perodo de Tempo",allTime:"Todo o Tempo",today:"Hoje",thisWeek:"Esta Semana",thisMonth:"Este Ms",thisYear:"Este Ano",category:"Categoria",allCategories:"Todas as Categorias",chartType:"Tipo de Grfico",barChart:"Grfico de Barras",pieChart:"Grfico de Pizza",totalItems:"Total de Itens Vendidos",uniqueProducts:"Produtos nicos",avgOrderValue:"Mdia de Receita por Item",productSales:"Vendas por Produto",categoryDistribution:"Distribuio por Categoria",topProducts:"Principais Produtos",noSalesData:"Nenhum dado de vendas disponvel para o perodo selecionado",login:"Entrar",loginDescription:"Entre com suas credenciais para acessar o sistema",email:"Email",emailPlaceholder:"seu@email.com",emailOrUsername:"Email ou Nome de Usurio",emailOrUsernamePlaceholder:"seu@email.com ou nomeusuario",password:"Senha",passwordPlaceholder:"",loggingIn:"Entrando...",logout:"Sair",accessDenied:"Acesso Negado",accessDeniedMessage:"Voc no tem permisso para acessar esta pgina",unauthorized:"No Autorizado",unauthorizedMessage:"Por favor, faa login para acessar esta pgina",loading:"Carregando...",printerSettings:"Configuraes da Impressora",printerSettingsDescription:"Configure as configuraes da impressora para recibos e pedidos",enablePrinter:"Habilitar Impressora",printerType:"Tipo de Impressora",printerName:"Nome da Impressora",printerIpAddress:"Endereo IP",printerPort:"Porta",paperSize:"Tamanho do Papel",autoPrint:"Impresso Automtica",browser:"Navegador (Padro)",network:"Impressora de Rede",usb:"Impressora USB",printer80mm:"80mm (Trmica)",printer58mm:"58mm (Trmica)",printerA4:"A4",stockManagement:"Controle de Estoque",stockManagementDescription:"Gerencie o estoque de produtos e cadastre notas fiscais de compra",inventory:"Estoque",stock:"Estoque",stockLevel:"Nvel de Estoque",minStock:"Estoque Mnimo",currentStock:"Estoque Atual",stockMovement:"Movimentao",entry:"Entrada",exit:"Sada",adjustment:"Ajuste",lowStock:"Estoque Baixo",outOfStock:"Sem Estoque",stockAlert:"Alerta de Estoque",addEntry:"Adicionar Entrada",manualAdjustment:"Ajuste Manual",viewHistory:"Ver Histrico",purchaseInvoice:"Nota Fiscal de Compra",newPurchaseInvoice:"Nova Nota Fiscal",supplier:"Fornecedor",supplierCNPJ:"CNPJ do Fornecedor",supplierAddress:"Endereo do Fornecedor",invoiceNumber:"Nmero da Nota",invoiceSeries:"Srie",danfeImport:"Importar DANFE",importDANFE:"Importar DANFE (XML)",uploadXML:"Enviar XML",xmlFile:"Arquivo XML",parseXML:"Processar XML",xmlParsing:"Processando XML...",xmlError:"Erro ao processar XML",invalidXML:"XML invlido",importSuccess:"Importao realizada com sucesso",importFailed:"Falha na importao",nfeKey:"Chave de Acesso (NFe)",issueDate:"Data de Emisso",issuer:"Emitente",addInventoryItem:"Adicionar Item",addStockEntry:"Adicionar Entrada",addInventoryItemDescription:"Cadastre um novo item no estoque sem necessidade de nota fiscal",addStockEntryDescription:"Adicione entrada de estoque manualmente para um item existente",editInventoryItem:"Editar Item",editInventoryItemDescription:"Edite as informaes do item de estoque",productType:"Tipo de Produto",ncm:"NCM",cstIcms:"CST ICMS",cfop:"CFOP",icmsRate:"Alquota de ICMS",ipiRate:"Alquota de IPI",eanCode:"Cdigo de Barras (EAN)",taxCalculation:"Clculo de Impostos",priceWithTaxes:"Preo com Impostos",basicProductInfo:"Informaes Bsicas do Produto",priceInfo:"Informaes de Preo",fiscalInfo:"Informaes Fiscais",fiscalInfoDescription:"Dados necessrios para emisso de nota fiscal e clculo de impostos",cancelOrder:"Cancelar Pedido",cancelOrderConfirmation:"Cancelar Pedido",cancelOrderDescription:"Esta ao no pode ser desfeita. O estoque ser devolvido automaticamente.",enterManagerPassword:"Digite a Senha de Admin/Gerente",cancellationReason:"Justificativa do Cancelamento",selectCancellationReason:"Selecione uma justificativa",confirmCancel:"Confirmar Cancelamento",cancelled:"CANCELADO",cancellationReasons:{clientDesisted:"Cliente desistiu",paymentProblem:"Problema no pagamento do cliente",damagedGoods:"Mercadoria danificada",noStock:"Sem estoque"}}};var ub=function(e,t){return ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ub(e,t)};function JP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ub(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Jn=function(){return Jn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Jn.apply(this,arguments)};function ks(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function eR(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(c=e[u])&&(s=(a<3?c(s):a>3?c(t,r,s):c(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function tR(e,t){return function(r,n){t(r,n,e)}}function rR(e,t,r,n,a,s){function c(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var u=n.kind,f=u==="getter"?"get":u==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,m=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),g,y=!1,x=r.length-1;x>=0;x--){var S={};for(var w in n)S[w]=w==="access"?{}:n[w];for(var w in n.access)S.access[w]=n.access[w];S.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(E||null))};var _=(0,r[x])(u==="accessor"?{get:m.get,set:m.set}:m[f],S);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=c(_.get))&&(m.get=g),(g=c(_.set))&&(m.set=g),(g=c(_.init))&&a.unshift(g)}else(g=c(_))&&(u==="field"?a.unshift(g):m[f]=g)}h&&Object.defineProperty(h,n.name,m),y=!0}function nR(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function aR(e){return typeof e=="symbol"?e:"".concat(e)}function iR(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function sR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function De(e,t,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(m){try{h(n.next(m))}catch(g){c(g)}}function f(m){try{h(n.throw(m))}catch(g){c(g)}}function h(m){m.done?s(m.value):a(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})}function oR(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(m){h=[6,m],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ep=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function lR(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ep(t,e,r)}function hm(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jw(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],c;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){c={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function cR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jw(arguments[t]));return e}function uR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],c=0,u=s.length;c<u;c++,a++)n[a]=s[c];return n}function ej(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function oc(e){return this instanceof oc?(this.v=e,this):new oc(e)}function dR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(x){return function(S){return Promise.resolve(S).then(x,g)}}function u(x,S){n[x]&&(a[x]=function(w){return new Promise(function(_,E){s.push([x,w,_,E])>1||f(x,w)})},S&&(a[x]=S(a[x])))}function f(x,S){try{h(n[x](S))}catch(w){y(s[0][3],w)}}function h(x){x.value instanceof oc?Promise.resolve(x.value.v).then(m,g):y(s[0][2],x)}function m(x){f("next",x)}function g(x){f("throw",x)}function y(x,S){x(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function fR(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(c){return(r=!r)?{value:oc(e[a](c)),done:!1}:s?s(c):c}:s}}function hR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hm=="function"?hm(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(c){return new Promise(function(u,f){c=e[s](c),a(u,f,c.done,c.value)})}}function a(s,c,u,f){Promise.resolve(f).then(function(h){s({value:h,done:u})},c)}}function mR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O8=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},db=function(e){return db=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},db(e)};function pR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=db(e),n=0;n<r.length;n++)r[n]!=="default"&&Ep(t,e,r[n]);return O8(t,e),t}function gR(e){return e&&e.__esModule?e:{default:e}}function vR(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function yR(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function xR(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function bR(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var A8=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function wR(e){function t(s){e.error=e.hasError?new A8(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(c){return t(c),a()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function jR(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,c){return n?t?".jsx":".js":a&&(!s||!c)?r:a+s+"."+c.toLowerCase()+"js"}):e}const T8={__extends:JP,__assign:Jn,__rest:ks,__decorate:eR,__param:tR,__esDecorate:rR,__runInitializers:nR,__propKey:aR,__setFunctionName:iR,__metadata:sR,__awaiter:De,__generator:oR,__createBinding:Ep,__exportStar:lR,__values:hm,__read:Jw,__spread:cR,__spreadArrays:uR,__spreadArray:ej,__await:oc,__asyncGenerator:dR,__asyncDelegator:fR,__asyncValues:hR,__makeTemplateObject:mR,__importStar:pR,__importDefault:gR,__classPrivateFieldGet:vR,__classPrivateFieldSet:yR,__classPrivateFieldIn:xR,__addDisposableResource:bR,__disposeResources:wR,__rewriteRelativeImportExtension:jR},k8=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:bR,get __assign(){return Jn},__asyncDelegator:fR,__asyncGenerator:dR,__asyncValues:hR,__await:oc,__awaiter:De,__classPrivateFieldGet:vR,__classPrivateFieldIn:xR,__classPrivateFieldSet:yR,__createBinding:Ep,__decorate:eR,__disposeResources:wR,__esDecorate:rR,__exportStar:lR,__extends:JP,__generator:oR,__importDefault:gR,__importStar:pR,__makeTemplateObject:mR,__metadata:sR,__param:tR,__propKey:aR,__read:Jw,__rest:ks,__rewriteRelativeImportExtension:jR,__runInitializers:nR,__setFunctionName:iR,__spread:cR,__spreadArray:ej,__spreadArrays:uR,__values:hm,default:T8},Symbol.toStringTag,{value:"Module"})),P8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class tj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class R8 extends tj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VC extends tj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class KC extends tj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fb||(fb={}));class D8{constructor(t,{headers:r={},customFetch:n,region:a=fb.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=P8(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return De(this,arguments,void 0,function*(r,n={}){var a;let s,c;try{const{headers:u,method:f,body:h,signal:m,timeout:g}=n;let y={},{region:x}=n;x||(x=this.region);const S=new URL(`${this.url}/${r}`);x&&x!=="any"&&(y["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(y["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(y["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;let _=m;g&&(c=new AbortController,s=setTimeout(()=>c.abort(),g),m?(_=c.signal,m.addEventListener("abort",()=>c.abort())):_=c.signal);const E=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:w,signal:_}).catch(O=>{throw new R8(O)}),A=E.headers.get("x-relay-error");if(A&&A==="true")throw new VC(E);if(!E.ok)throw new KC(E);let C=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),R;return C==="application/json"?R=yield E.json():C==="application/octet-stream"||C==="application/pdf"?R=yield E.blob():C==="text/event-stream"?R=E:C==="multipart/form-data"?R=yield E.formData():R=yield E.text(),{data:R,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof KC||u instanceof VC?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var Lr={};const _c=$U(k8);var mh={},ph={},gh={},vh={},yh={},xh={},GC;function _R(){if(GC)return xh;GC=1,Object.defineProperty(xh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xh.default=e,xh}var WC;function SR(){if(WC)return yh;WC=1,Object.defineProperty(yh,"__esModule",{value:!0});const t=_c.__importDefault(_R());class r{constructor(a){var s,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,g,y;let x=null,S=null,w=null,_=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const O=await f.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=O:S=JSON.parse(O))}const C=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),R=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");C&&R&&R.length>1&&(w=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,_=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const C=await f.text();try{x=JSON.parse(C),Array.isArray(x)&&f.status===404&&(S=[],x=null,_=200,E="OK")}catch{f.status===404&&C===""?(_=204,E="No Content"):x={message:C}}if(x&&this.isMaybeSingle&&(!((y=x?.details)===null||y===void 0)&&y.includes("0 rows"))&&(x=null,_=200,E="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:S,count:w,status:_,statusText:E}});return this.shouldThrowOnError||(u=u.catch(f=>{var h,m,g,y,x,S;let w="";const _=f?.cause;if(_){const E=(h=_?.message)!==null&&h!==void 0?h:"",A=(m=_?.code)!==null&&m!==void 0?m:"";w=`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,w+=`

Caused by: ${(y=_?.name)!==null&&y!==void 0?y:"Error"}: ${E}`,A&&(w+=` (${A})`),_?.stack&&(w+=`
${_.stack}`)}else w=(x=f?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=f?.name)!==null&&S!==void 0?S:"FetchError"}: ${f?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}}return yh.default=r,yh}var YC;function ER(){if(YC)return vh;YC=1,Object.defineProperty(vh,"__esModule",{value:!0});const t=_c.__importDefault(SR());class r extends t.default{select(a){let s=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:c=s}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const g=[a?"analyze":null,s?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return vh.default=r,vh}var XC;function rj(){if(XC)return gh;XC=1,Object.defineProperty(gh,"__esModule",{value:!0});const t=_c.__importDefault(ER()),r=new RegExp("[,()]");class n extends t.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}regexMatch(s,c){return this.url.searchParams.append(s,`match.${c}`),this}regexIMatch(s,c){return this.url.searchParams.append(s,`imatch.${c}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}isDistinct(s,c){return this.url.searchParams.append(s,`isdistinct.${c}`),this}in(s,c){const u=Array.from(new Set(c)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${m}.${c}`),this}match(s){return Object.entries(s).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(s,c,u){return this.url.searchParams.append(s,`not.${c}.${u}`),this}or(s,{foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${s})`),this}filter(s,c,u){return this.url.searchParams.append(s,`${c}.${u}`),this}}return gh.default=n,gh}var ZC;function NR(){if(ZC)return ph;ZC=1,Object.defineProperty(ph,"__esModule",{value:!0});const t=_c.__importDefault(rj());class r{constructor(a,{headers:s={},schema:c,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=c,this.fetch=u}select(a,s){const{head:c=!1,count:u}=s??{},f=c?"HEAD":"GET";let h=!1;const m=(a??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:c=!0}={}){var u;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:s}={}){var c;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var s;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return ph.default=r,ph}var QC;function M8(){if(QC)return mh;QC=1,Object.defineProperty(mh,"__esModule",{value:!0});const e=_c,t=e.__importDefault(NR()),r=e.__importDefault(rj());class n{constructor(s,{headers:c={},schema:u,fetch:f}={}){this.url=s,this.headers=new Headers(c),this.schemaName=u,this.fetch=f}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:u=!1,get:f=!1,count:h}={}){var m;let g;const y=new URL(`${this.url}/rpc/${s}`);let x;u||f?(g=u?"HEAD":"GET",Object.entries(c).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{y.searchParams.append(w,_)})):(g="POST",x=c);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new r.default({method:g,url:y,headers:S,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return mh.default=n,mh}var JC;function I8(){if(JC)return Lr;JC=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const e=_c,t=e.__importDefault(M8());Lr.PostgrestClient=t.default;const r=e.__importDefault(NR());Lr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(rj());Lr.PostgrestFilterBuilder=n.default;const a=e.__importDefault(ER());Lr.PostgrestTransformBuilder=a.default;const s=e.__importDefault(SR());Lr.PostgrestBuilder=s.default;const c=e.__importDefault(_R());return Lr.PostgrestError=c.default,Lr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:c.default},Lr}var CR=I8();const OR=_a(CR),L8=cP({__proto__:null,default:OR},[CR]),{PostgrestClient:z8,PostgrestQueryBuilder:vfe,PostgrestFilterBuilder:yfe,PostgrestTransformBuilder:xfe,PostgrestBuilder:bfe,PostgrestError:wfe}=OR||L8;class $8{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const U8="2.86.0",B8=`realtime-js/${U8}`,AR="1.0.0",q8="2.0.0",eO=AR,hb=1e4,F8=1e3,H8=100;var fo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fo||(fo={}));var fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fr||(fr={}));var fa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fa||(fa={}));var mb;(function(e){e.websocket="websocket"})(mb||(mb={}));var ho;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ho||(ho={}));class V8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var a,s;const c=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+c.length+h.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(x),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,f.length),S.setUint8(w++,u.length),S.setUint8(w++,c.length),S.setUint8(w++,h.length),S.setUint8(w++,g.length),S.setUint8(w++,r),Array.from(f,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(u,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(c,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(h,E=>S.setUint8(w++,E.charCodeAt(0))),Array.from(g,E=>S.setUint8(w++,E.charCodeAt(0)));var _=new Uint8Array(x.byteLength+n.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(n),x.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,c,u,f]=n;return r({join_ref:a,ref:s,topic:c,event:u,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const m=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+c));f=f+c;const y=t.slice(f,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,S={type:this.BROADCAST_EVENT,event:m,payload:x};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class TR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(At||(At={}));const tO=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=K8(c,e,t,a),s),{}):{}},K8=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,c=r[e];return s&&!n.includes(s)?kR(s,c):pb(c)},kR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return X8(t,r)}switch(e){case At.bool:return G8(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return W8(t);case At.json:case At.jsonb:return Y8(t);case At.timestamp:return Z8(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return pb(t);default:return pb(t)}},pb=e=>e,G8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},W8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Y8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},X8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const c=e.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(u=>kR(t,u))}return e},Z8=e=>typeof e=="string"?e.replace(" ","T"):e,PR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class sx{constructor(t,r,n={},a=hb){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rO||(rO={}));class Ku{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ku.syncState(this.state,a,s,c),this.pendingDiffs.forEach(f=>{this.state=Ku.syncDiff(this.state,f,s,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ku.syncDiff(this.state,a,s,c),u())}),this.onJoin((a,s,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:c})}),this.onLeave((a,s,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),c=this.transformState(r),u={},f={};return this.map(s,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const g=s[h];if(g){const y=m.map(_=>_.presence_ref),x=g.map(_=>_.presence_ref),S=m.filter(_=>x.indexOf(_.presence_ref)<0),w=g.filter(_=>y.indexOf(_.presence_ref)<0);S.length>0&&(u[h]=S),w.length>0&&(f[h]=w)}else u[h]=m}),this.syncDiff(s,{joins:u,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const g=t[u].map(x=>x.presence_ref),y=m.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...y)}n(u,m,f)}),this.map(c,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=h,a(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nO||(nO={}));var Gu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gu||(Gu={}));var mi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class nj{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sx(this,fa.join,this.params,this.timeout),this.rejoinTimer=new TR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fa.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Ku(this),this.broadcastEndpointURL=PR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==fr.closed){const{config:{broadcast:c,presence:u,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Gu.PRESENCE]&&this.bindings[Gu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(mi.CHANNEL_ERROR,x)),this._onClose(()=>t?.(mi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){t?.(mi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(S=w?.length)!==null&&S!==void 0?S:0,E=[];for(let A=0;A<_;A++){const C=w[A],{filter:{event:R,schema:O,table:I,filter:N}}=C,T=x&&x[A];if(T&&T.event===R&&T.schema===O&&T.table===I&&T.filter===N)E.push(Object.assign(Object.assign({},C),{id:T.id}));else{this.unsubscribe(),this.state=fr.errored,t?.(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(mi.SUBSCRIBED);return}}).receive("error",x=>{this.state=fr.errored,t?.(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===fr.joined&&t===Gu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new sx(this,fa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new sx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>H8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const c=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=fa;if(n&&[u,f,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let y=this._onMessage(c,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var S,w,_;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(w=x.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(x=>x.callback(y,n)):(s=this.bindings[c])===null||s===void 0||s.filter(x=>{var S,w,_,E,A,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const R=x.id,O=(S=x.filter)===null||S===void 0?void 0:S.event;return R&&((w=r.ids)===null||w===void 0?void 0:w.includes(R))&&(O==="*"||O?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const R=(A=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return R==="*"||R===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:w,table:_,commit_timestamp:E,type:A,errors:C}=S;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:E,eventType:A,new:{},old:{},errors:C}),this._getPayloadRecords(S))}x.callback(y,n)})}_isClosed(){return this.state===fr.closed}_isJoined(){return this.state===fr.joined}_isJoining(){return this.state===fr.joining}_isLeaving(){return this.state===fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&nj.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fa.close,{},t)}_onError(t){this._on(fa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=tO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=tO(t.columns,t.old_record)),r}}const ox=()=>{},bh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Q8=[1e3,2e3,5e3,1e4],J8=1e4,eF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tF{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hb,this.transport=null,this.heartbeatIntervalMs=bh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ox,this.ref=0,this.reconnectTimer=null,this.vsn=eO,this.logger=ox,this.conn=null,this.sendBuffer=[],this.serializer=new V8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${mb.websocket}`,this.httpEndpoint=PR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fo.connecting:return ho.Connecting;case fo.open:return ho.Open;case fo.closing:return ho.Closing;default:return ho.Closed}}isConnected(){return this.connectionState()===ho.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new nj(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,c=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(F8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:c}=r,u=c?`(${c})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fo.open||this.conn.readyState===fo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:B8};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(fa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,c,u,f,h,m,g,y,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:hb,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:bh.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:ox,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:eO,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>Q8[S-1]||J8),this.vsn){case AR:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((S,w)=>w(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,w)=>w(JSON.parse(S)));break;case q8:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Np extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rF extends Np{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gb extends Np{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const aj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nF=()=>Response,vb=e=>{if(Array.isArray(e))return e.map(r=>vb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=vb(n)}),t},aF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),lx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sF=(e,t,r)=>De(void 0,void 0,void 0,function*(){const n=yield nF();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,c=a?.statusCode||s+"";t(new rF(lx(a),s,c))}).catch(a=>{t(new gb(lx(a),a))}):t(new gb(lx(e),e))}),oF=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(aF(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function jd(e,t,r,n,a,s){return De(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,oF(t,n,a,s)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>sF(f,u,n))})})}function Xu(e,t,r,n){return De(this,void 0,void 0,function*(){return jd(e,"GET",t,r,n)})}function da(e,t,r,n,a){return De(this,void 0,void 0,function*(){return jd(e,"POST",t,n,a,r)})}function yb(e,t,r,n,a){return De(this,void 0,void 0,function*(){return jd(e,"PUT",t,n,a,r)})}function lF(e,t,r,n){return De(this,void 0,void 0,function*(){return jd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ij(e,t,r,n,a){return De(this,void 0,void 0,function*(){return jd(e,"DELETE",t,n,a,r)})}class cF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return De(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}var RR;class uF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[RR]="BlobDownloadBuilder",this.promise=null}asStream(){return new cF(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return De(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}RR=Symbol.toStringTag;const dF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fF{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=aj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return De(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},aO),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),f&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(f))):(s=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),g=yield(t=="PUT"?yb:da)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return De(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),c=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:aO.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield yb(this.fetch,u.toString(),f,{headers:m});return{data:{path:s,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Bt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return De(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield da(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(this.url+s.url),u=c.searchParams.get("token");if(!u)throw new Np("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}update(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return De(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield da(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return De(this,void 0,void 0,function*(){try{const a=yield da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),c=s?`?${s}`:"",u=this._getFinalPath(t),f=()=>Xu(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new uF(f,this.shouldThrowOnError)}info(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vb(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}exists(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n)&&n instanceof gb){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return De(this,void 0,void 0,function*(){try{return{data:yield ij(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}list(t,r,n){return De(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},dF),r),{prefix:t||""});return{data:yield da(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}listV2(t,r){return De(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const DR="2.86.0",MR={"X-Client-Info":`storage-js/${DR}`};class hF{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MR),r),this.fetch=aj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return De(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Xu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}createBucket(t){return De(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Bt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return De(this,void 0,void 0,function*(){try{return{data:yield yb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield ij(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Zu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mF(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function pF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function gF(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:c}){const u=mF(e.baseUrl,n,a),f=await pF(e.auth),h=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...c},body:s?JSON.stringify(s):void 0}),m=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&m?JSON.parse(m):m;if(!h.ok){const x=g?y:void 0,S=x?.error;throw new Zu(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:h.status,headers:h.headers,data:y}}}}function wh(e){return e.join("")}var vF=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:wh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wh(e.namespace)}`}),!0}catch(t){if(t instanceof Zu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Zu&&r.status===409)return;throw r}}};function Tl(e){return e.join("")}var yF=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Zu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Zu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},xF=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=gF({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new vF(this.client,t),this.tableOps=new yF(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class bF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MR),r),this.fetch=aj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBuckets(t){return De(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Xu(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield ij(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}from(t){if(!iF(t))throw new Np("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new xF({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>De(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const sj={"X-Client-Info":`storage-js/${DR}`,"Content-Type":"application/json"};class IR extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Tn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class cx extends IR{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wF extends IR{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var iO;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(iO||(iO={}));const oj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_F=(e,t,r)=>De(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(c=>{const u=c?.statusCode||c?.code||a+"";t(new cx(sO(c),a,u))}).catch(()=>{const c=a+"",u=s.statusText||`HTTP ${a} error`;t(new cx(u,a,c))});else{const c=a+"",u=s.statusText||`HTTP ${a} error`;t(new cx(u,a,c))}}else t(new wF(sO(e),e))}),SF=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(jF(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function EF(e,t,r,n,a,s){return De(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,SF(t,n,a,s)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>_F(f,u,n))})})}function kn(e,t,r,n,a){return De(this,void 0,void 0,function*(){return EF(e,"POST",t,n,a,r)})}class NF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),r),this.fetch=oj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return De(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return De(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}listIndexes(t){return De(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return De(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}}class CF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),r),this.fetch=oj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return De(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}getVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}listVectors(t){return De(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield kn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}queryVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return De(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}}class OF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),r),this.fetch=oj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}listBuckets(){return De(this,arguments,void 0,function*(t={}){try{return{data:yield kn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}}class AF extends OF{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new TF(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return De(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return De(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return De(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return De(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class TF extends NF{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return De(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return De(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return De(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return De(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new kF(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class kF extends CF{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return De(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return De(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return De(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return De(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return De(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class PF extends hF{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new fF(this.url,this.headers,t,this.fetch)}get vectors(){return new AF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bF(this.url+"/iceberg",this.headers,this.fetch)}}const RF="2.86.0";let Bu="";typeof Deno<"u"?Bu="deno":typeof document<"u"?Bu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bu="react-native":Bu="node";const DF={"X-Client-Info":`supabase-js-${Bu}/${RF}`},MF={headers:DF},IF={schema:"public"},LF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zF={},$F=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UF=()=>Headers,BF=(e,t,r)=>{const n=$F(r),a=UF();return async(s,c)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let h=new a(c?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,Object.assign(Object.assign({},c),{headers:h}))}};function qF(e){return e.endsWith("/")?e:e+"/"}function FF(e,t){var r,n;const{db:a,auth:s,realtime:c,global:u}=e,{db:f,auth:h,realtime:m,global:g}=t,y={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function HF(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const LR="2.86.0",ql=30*1e3,xb=3,ux=xb*ql,VF="http://localhost:9999",KF="supabase.auth.token",GF={"X-Client-Info":`gotrue-js/${LR}`},bb="X-Supabase-Api-Version",zR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YF=600*1e3;class Qu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XF extends Qu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZF(e){return Ue(e)&&e.name==="AuthApiError"}class mo extends Qu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ps extends Qu{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Cn extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QF(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class kl extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jh extends Ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _h extends Ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JF(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class oO extends Ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wb extends Ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dx(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class lO extends Ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jb extends Ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cO=` 	
\r=`.split(""),eH=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cO.length;t+=1)e[cO[t].charCodeAt(0)]=-2;for(let t=0;t<mm.length;t+=1)e[mm[t].charCodeAt(0)]=t;return e})();function uO(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(mm[n]),t.queuedBits-=6}}function $R(e,t,r){const n=eH[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dO(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=c=>{nH(c,n,r)};for(let c=0;c<e.length;c+=1)$R(e.charCodeAt(c),a,s);return t.join("")}function tH(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rH(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}tH(n,t)}}function nH(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ql(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)$R(e.charCodeAt(a),r,n);return new Uint8Array(t)}function aH(e){const t=[];return rH(e,r=>t.push(r)),new Uint8Array(t)}function go(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>uO(a,r,n)),uO(null,r,n),t.join("")}function iH(e){return Math.round(Date.now()/1e3)+e}function sH(){return Symbol("auth-callback")}const Rr=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},UR=()=>{if(!Rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function oH(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const BR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},io=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ps=async(e,t)=>{await e.removeItem(t)};class Cp{constructor(){this.promise=new Cp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cp.promiseConstructor=Promise;function fx(e){const t=e.split(".");if(t.length!==3)throw new jb("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!WF.test(t[n]))throw new jb("JWT not in base64url format");return{header:JSON.parse(dO(t[0])),payload:JSON.parse(dO(t[1])),signature:Ql(t[2]),raw:{header:t[0],payload:t[1]}}}async function cH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uH(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){n(c);return}}catch(c){if(!t(s,c)){a(c);return}}})()})}function dH(e){return("0"+e.toString(16)).substr(-2)}function fH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,dH).join("")}async function hH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function mH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pl(e,t,r=!1){const n=fH();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Fl(e,`${t}-code-verifier`,a);const s=await mH(n);return[s,n===s?"plain":"s256"]}const pH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gH(e){const t=e.headers.get(bb);if(!t||!t.match(pH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rl(e){if(!xH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bH(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function fO(e){return JSON.parse(JSON.stringify(e))}const so=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wH=[502,503,504];async function hO(e){var t;if(!lH(e))throw new wb(so(e),0);if(wH.includes(e.status))throw new wb(so(e),e.status);let r;try{r=await e.json()}catch(s){throw new mo(so(s),s)}let n;const a=gH(e);if(a&&a.getTime()>=zR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lO(so(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Cn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new lO(so(r),e.status,r.weak_password.reasons);throw new XF(so(r),e.status||500,n)}const jH=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ve(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[bb]||(s[bb]=zR["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await _H(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function _H(e,t,r,n,a,s){const c=jH(t,n,a,s);let u;try{u=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new wb(so(f),0)}if(u.ok||await hO(u),n?.noResolveJson)return u;try{return await u.json()}catch(f){await hO(f)}}function ca(e){var t;let r=null;NH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function mO(e){const t=ca(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SH(e){return{data:e,error:null}}function EH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,c=ks(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function pO(e){return e}function NH(e){return e.access_token&&e.refresh_token&&e.expires_in}const mx=["global","local","others"];class CH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=BR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mx[0]){if(mx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mx.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:js})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ks(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:EH,redirectTo:r?.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:js})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:pO});if(m.error)throw m.error;const g=await m.json(),y=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ue(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Rl(t);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:js})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rl(t);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:js})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rl(t);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:js})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rl(t.userId);try{const{data:r,error:n}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rl(t.userId),Rl(t.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:pO});if(m.error)throw m.error;const g=await m.json(),y=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ue(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function gO(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Dl={debug:!!(globalThis&&UR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class OH extends qR{}async function AH(e,t,r){Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new OH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function TH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function FR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kH(e){return parseInt(e,16)}function PH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function RH(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:c,notBefore:u,requestId:f,resources:h,scheme:m,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=FR(e.address),S=m?`${m}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${x}

${w}`;let E=`URI: ${g}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(a&&(E+=`
Expiration Time: ${a.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),f&&(E+=`
Request ID: ${f}`),h){let A=`
Resources:`;for(const C of h){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);A+=`
- ${C}`}E+=A}return`${_}
${E}`}class ar extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class pm extends ar{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function DH({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(HR(c)){if(s.rp.id!==c)return new ar({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(HR(n)){if(r.rpId!==n)return new ar({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class IH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const LH=new IH;function zH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ks(e,["challenge","user","excludeCredentials"]),s=Ql(t).buffer,c=Object.assign(Object.assign({},r),{id:Ql(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Ql(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function $H(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ks(e,["challenge","allowCredentials"]),a=Ql(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Ql(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function UH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:go(new Uint8Array(e.response.attestationObject)),clientDataJSON:go(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:go(new Uint8Array(a.authenticatorData)),clientDataJSON:go(new Uint8Array(a.clientDataJSON)),signature:go(new Uint8Array(a.signature)),userHandle:a.userHandle?go(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vO(){var e,t;return!!(Rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pm("Browser returned unexpected credential type",t)}:{data:null,error:new pm("Empty credential response",t)}}catch(t){return{data:null,error:DH({error:t,options:e})}}}async function FH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pm("Browser returned unexpected credential type",t)}:{data:null,error:new pm("Empty credential response",t)}}catch(t){return{data:null,error:MH({error:t,options:e})}}}const HH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const c=a[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(t(c)){const u=n[s];t(u)?n[s]=gm(u,c):n[s]=gm(c)}else n[s]=c}return n}function KH(e,t){return gm(HH,e,t||{})}function GH(e,t){return gm(VH,e,t||{})}class WH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:u};const f=a??LH.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=KH(c.webauthn.credential_options.publicKey,s?.create),{data:m,error:g}=await qH({publicKey:h,signal:f});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=GH(c.webauthn.credential_options.publicKey,s?.request),{data:m,error:g}=await FH(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:f}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new mo("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Qu("rpId is required for WebAuthn authentication")};try{if(!vO())return{data:null,error:new mo("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!c)return{data:null,error:u};const{webauthn:f}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new mo("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Qu("rpId is required for WebAuthn registration")};try{if(!vO())return{data:null,error:new mo("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new mo("Unexpected error in register",c)}}}}TH();const YH={url:VF,storageKey:KF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function yO(e,t,r){return await r()}const Ml={};class Ju{get jwks(){var t,r;return(r=(t=Ml[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ml[this.storageKey]=Object.assign(Object.assign({},Ml[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ml[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ml[this.storageKey]=Object.assign(Object.assign({},Ml[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},YH),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Ju.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ju.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Rr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new CH({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=BR(s.fetch),this.lock=s.lock||yO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Rr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=AH:this.lock=yO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:UR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gO(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=gO(this.memoryStorage)),Rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${LR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Rr()&&(r=oH(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Rr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),JF(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new mo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ca}),{data:c,error:u}=s;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:m,password:g,options:y}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await Pl(this.storage,this.storageKey)),s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:x,code_challenge_method:S},xform:ca})}else if("phone"in t){const{phone:m,password:g,options:y}=t;s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:ca})}else throw new jh("You must provide either an email or phone number and a password");const{data:c,error:u}=s;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:c,options:u}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:mO})}else if("phone"in t){const{phone:s,password:c,options:u}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:mO})}else throw new jh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new kl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,c,u,f,h,m,g,y;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:w,wallet:_,statement:E,options:A}=t;let C;if(Rr())if(typeof _=="object")C=_;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")C=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const R=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),O=await C.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=FR(O[0]);let N=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const U=await C.request({method:"eth_chainId"});N=kH(U)}const T={domain:R.host,address:I,statement:E,uri:R.href,version:"1",chainId:N,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=A?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=RH(T),S=await C.request({method:"personal_sign",params:[PH(x),I]})}try{const{data:w,error:_}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ca});if(_)throw _;if(!w||!w.session||!w.user){const E=new kl;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(Ue(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,s,c,u,f,h,m,g,y,x;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:A,options:C}=t;let R;if(Rr())if(typeof E=="object")R=E;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))R=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const O=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const I=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),A?{statement:A}:null));let N;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")N=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)N=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)S=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(m=C?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const I=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=I}}try{const{data:_,error:E}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:go(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ca});if(E)throw E;if(!_||!_.session||!_.user){const A=new kl;return this._returnResult({data:{user:null,session:null},error:A})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(Ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await io(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:c}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ca});if(await ps(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const u=new kl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:c})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:c}=t,u=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ca}),{data:f,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const m=new kl;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,c;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Pl(this.storage,this.storageKey));const{error:g}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new jh("You must provide either an email or phone number.")}catch(u){if(Ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ca});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,c;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Pl(this.storage,this.storageKey));const h=await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:SH});return!((s=h.data)===null||s===void 0)&&s.url&&Rr()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(Ue(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Cn;const{error:a}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:c}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:c,error:u}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new jh("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ux:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await io(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=hx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=bH(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:js}):await this._useSession(async r=>{var n,a,s;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:js})})}catch(r){if(Ue(r))return QF(r)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Cn;const c=a.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Pl(this.storage,this.storageKey));const{data:h,error:m}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:js});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:c}=fx(t.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Cn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Rr())throw new _h("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _h(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new oO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _h("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oO("No code detected.");const{data:A,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=t;if(!s||!u||!c||!h)throw new _h("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let y=m+g;f&&(y=parseInt(f));const x=y-m;x*1e3<=ql&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const S=y-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,m);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const E={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:c,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await io(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(ZF(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=sH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Pl(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ue(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var c,u,f,h,m;const{data:g,error:y}=s;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Rr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:c,provider:u,token:f,access_token:h,nonce:m}=t,g=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ca}),{data:y,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new kl}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)throw c;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uH(async a=>(a>0&&await cH(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ca})),(a,s)=>{const c=200*Math.pow(2,a);return s&&dx(s)&&Date.now()+c-n<ql})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await io(this.storage,this.storageKey);if(a&&this.userStorage){let c=await io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Fl(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:hx()}else if(a&&!a.user&&!a.user){const c=await io(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await ps(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,a)):a.user=hx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ux;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ux}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),dx(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Cp;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new Cn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Ue(s)){const c={data:null,error:s};return dx(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(c),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=fO(a);await Fl(this.storage,this.storageKey,s)}else{const a=fO(r);await Fl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ql);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ql);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ql}ms, refresh threshold is ${xb} ticks`),a<=xb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await Pl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?UH(t.webauthn.credential_response):BH(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:zH(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:$H(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=fx(n.access_token);let c=null;s.aal&&(c=s.aal);let u=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Cn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Cn});const c=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Rr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Cn});const c=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Rr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Cn})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Cn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+YF>a)return n;const{data:s,error:c}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});n=x.session.access_token}const{header:a,payload:s,signature:c,raw:{header:u,payload:f}}=fx(n);r?.allowExpired||vH(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:s,header:a,signature:c},error:null}}const m=yH(a.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,c,aH(`${u}.${f}`)))throw new jb("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}Ju.nextInstanceID={};const XH=Ju;class ZH extends XH{constructor(t){super(t)}}class QH{constructor(t,r,n){var a,s,c;this.supabaseUrl=t,this.supabaseKey=r;const u=HF(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:IF,realtime:zF,auth:Object.assign(Object.assign({},LF),{storageKey:f}),global:MF},m=FF(n??{},h);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=m.global.headers)!==null&&s!==void 0?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=BF(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new z8(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new PF(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new D8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:c,flowType:u,lock:f,debug:h,throwOnError:m},g,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZH({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:u,lock:f,debug:h,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VR=(e,t,r)=>new QH(e,t,r);function JH(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}JH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KR="https://qzzbbrloztzfjcreaumt.supabase.co",eV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6emJicmxvenR6ZmpjcmVhdW10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MDQzMTQsImV4cCI6MjA4MDM4MDMxNH0.NCUcd5cf_uy0dWH8H86pI2XfV18cBtEbDbsjKuKHxuQ",tV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6emJicmxvenR6ZmpjcmVhdW10Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDgwNDMxNCwiZXhwIjoyMDgwMzgwMzE0fQ.jjAC_vYkiKH9DNzmX6m9o96_LEY4UhoDmYJ8gka0YcE",Jr=!0,we=VR(KR,eV),xO=VR(KR,tV);async function rV(e,t){if(!xO)return{success:!1,error:"Cliente admin no inicializado. Verifique se VITE_SUPABASE_SERVICE_ROLE_KEY est configurado corretamente."};try{console.log("Alterando senha para usurio:",e);const{data:r,error:n}=await xO.auth.admin.updateUserById(e,{password:t});return n?(console.error("Erro ao alterar senha:",n),{success:!1,error:n.message}):(console.log("Senha alterada com sucesso:",r),{success:!0})}catch(r){return console.error("Exceo ao alterar senha:",r),{success:!1,error:r.message||"Erro ao alterar senha"}}}const GR=v.createContext(void 0);function nV({children:e}){const[t,r]=v.useState(null),[n,a]=v.useState(null),[s,c]=v.useState(null),[u,f]=v.useState(!0),[h,m]=v.useState(null),g=async N=>{try{const{data:T,error:U}=await we.from("user_profiles").select("email").eq("username",N).single();return U||!T?null:T.email}catch(T){return console.error("Error fetching email by username:",T),null}},y=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),x=v.useCallback(async(N,T)=>{try{console.log("Creating user profile for:",{userId:N,email:T});const{data:U,error:G}=await we.from("user_profiles").insert({id:N,email:T,role:"usuario",full_name:null,username:null}).select().single();return G?(console.error("Error creating user profile:",G),null):(console.log("User profile created:",U),U)}catch(U){return console.error("Error creating user profile:",U),null}},[]),S=v.useCallback(async(N,T)=>{try{const{data:U,error:G}=await we.from("user_profiles").select("*").eq("id",N).single();if(G){if(console.warn("Profile not found, error:",G),G.code==="PGRST116"||G.code==="42P01"||G.message?.includes("No rows")||G.message?.includes("not found")||G.message?.includes("does not exist")){console.log("Profile does not exist, attempting to create...");let K=T;if(!K)try{const{data:oe}=await we.auth.getUser();K=oe?.user?.email||"unknown@example.com"}catch(oe){console.error("Error getting user email:",oe),K="unknown@example.com"}const F=await x(N,K);return F?(console.log("Profile created successfully"),F):(console.error("Failed to create profile automatically"),{id:N,email:K,username:null,full_name:null,role:"usuario",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}return console.error("Error fetching user profile:",G),null}return console.log("User profile fetched:",U),U}catch(U){return console.error("Error fetching user profile:",U),null}},[x]);v.useEffect(()=>{let N=!0,T=!1;const U=setTimeout(()=>{N&&!T&&(console.warn("Auth loading timeout - forcing isLoading to false"),f(!1),T=!0)},1e4);we.auth.getSession().then(({data:{session:B},error:K})=>{if(N){if(K){console.error("Error getting session:",K),m(K.message),clearTimeout(U),f(!1),T=!0;return}c(B),r(B?.user??null),B?.user?S(B.user.id,B.user.email).then(F=>{N&&(a(F),clearTimeout(U),T||(f(!1),T=!0))}).catch(F=>{console.error("Error fetching profile:",F),N&&(clearTimeout(U),T||(f(!1),T=!0))}):(clearTimeout(U),T||(f(!1),T=!0))}});const{data:{subscription:G}}=we.auth.onAuthStateChange(async(B,K)=>{if(N&&(console.log("Auth state changed:",B,K?.user?.email),T))if(c(K),r(K?.user??null),m(null),K?.user){const F=await S(K.user.id,K.user.email);N&&a(F)}else a(null)});return()=>{N=!1,clearTimeout(U),G.unsubscribe()}},[]);const w=async(N,T)=>{m(null);try{let U=N;if(!y(N)){const K=await g(N);if(!K)return m("Usurio no encontrado"),{success:!1,error:"Usurio no encontrado"};U=K}const{data:G,error:B}=await we.auth.signInWithPassword({email:U,password:T});if(B)return m(B.message),{success:!1,error:B.message};if(G.user){const K=await S(G.user.id,G.user.email);if(K&&K.enabled===!1)return await we.auth.signOut(),m("Usurio desabilitado. Entre em contato com o administrador."),{success:!1,error:"Usurio desabilitado. Entre em contato com o administrador."};a(K)}return{success:!0}}catch(U){const G=U.message||"Erro ao fazer login";return m(G),{success:!1,error:G}}},_=async(N,T,U,G)=>{m(null);try{const{error:B}=await we.auth.signUp({email:N,password:T,options:{data:{full_name:U||"",username:G||null}}});return B?(m(B.message),{success:!1,error:B.message}):{success:!0}}catch(B){const K=B.message||"Erro ao criar conta";return m(K),{success:!1,error:K}}},E=async()=>{if(t)try{const N=await S(t.id,t.email);N&&a(N)}catch(N){console.error("Error refreshing profile:",N),m(N.message||"Erro ao atualizar perfil")}},A=async()=>{m(null);try{const{error:N}=await we.auth.signOut();N?m(N.message):(r(null),a(null),c(null))}catch(N){m(N.message||"Erro ao fazer logout")}},C=N=>{if(!n)return console.warn("hasPermission: No profile found"),!1;const T=Array.isArray(N)?N:[N],U=n.role?.toLowerCase()||"usuario";return!!(U==="admin"||U==="gerente"&&(T.includes("gerente")||T.includes("usuario"))||U==="usuario"&&T.includes("usuario"))},R=n?.role==="admin",O=n?.role==="gerente",I=n?.role==="usuario";return o.jsx(GR.Provider,{value:{user:t,profile:n,session:s,isLoading:u,error:h,signIn:w,signUp:_,signOut:A,refreshProfile:E,hasPermission:C,isAdmin:R,isGerente:O,isUsuario:I},children:e})}function Ea(){const e=v.useContext(GR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const aV={enabled:!1,type:"browser",name:"",ipAddress:"",port:9100,paperSize:"80mm",autoPrint:!1},gs={language:"pt",enableTables:!0,enableOrderDisplay:!1,printer:aV,paymentDiscountLimitType:null,paymentDiscountLimitValue:null},WR=v.createContext(void 0);function iV({children:e}){const[t,r]=v.useState(gs),[n,a]=v.useState(!0),{profile:s}=Ea(),c=v.useRef(!0),u=v.useRef(!1),f=s?.role==="admin";v.useEffect(()=>{const _=async()=>{try{if(Jr){console.log("Loading global settings from database");const{data:A,error:C}=await we.from("app_settings").select("settings").eq("id","global").single();if(C&&C.code!=="PGRST116")console.error("Error loading settings from database:",C),E();else if(A&&A.settings){console.log("Settings loaded from database:",A.settings);const R={...gs,...A.settings};r(R)}else console.log("No settings found in database, using defaults"),r(gs)}}catch(A){console.error("Error loading settings:",A),E()}finally{a(!1),c.current=!1}},E=()=>{try{const A=localStorage.getItem("restaurant-settings");if(A){const C=JSON.parse(A),R={...gs,...C};r(R)}else r(gs)}catch(A){console.error("Error loading from localStorage:",A),r(gs)}};_()},[]),v.useEffect(()=>{if(n||c.current||u.current||!f)return;const _=async()=>{u.current=!0;try{if(Jr&&f){console.log("Saving global settings to database (admin user)");const{error:C}=await we.from("app_settings").upsert({id:"global",settings:t,updated_at:new Date().toISOString()},{onConflict:"id"});C?(console.error("Error saving settings to database:",C),E()):console.log("Settings saved to database successfully")}else E()}catch(C){console.error("Error saving settings:",C),E()}finally{u.current=!1}},E=()=>{try{localStorage.setItem("restaurant-settings",JSON.stringify(t)),console.log("Settings saved to localStorage:",t)}catch(C){console.error("Error saving to localStorage:",C)}},A=setTimeout(()=>{_()},500);return()=>clearTimeout(A)},[t,f,n]);const h=_=>{console.log("Updating settings:",_),r(E=>({...E,..._}))},m=_=>{console.log("Updating printer settings:",_),r(E=>({...E,printer:{...E.printer,..._}}))},g=async()=>{if(!f){console.warn("Only admins can save settings");return}try{if(Jr&&f){console.log("Manually saving global settings to database (admin user)");const{error:_}=await we.from("app_settings").upsert({id:"global",settings:t,updated_at:new Date().toISOString()},{onConflict:"id"});_?(console.error("Error manually saving settings to database:",_),localStorage.setItem("restaurant-settings",JSON.stringify(t))):console.log("Settings manually saved to database successfully")}else localStorage.setItem("restaurant-settings",JSON.stringify(t)),console.log("Settings manually saved to localStorage:",t)}catch(_){console.error("Error manually saving settings:",_)}},y=async()=>{if(!f){console.warn("Only admins can reset settings");return}r(gs);try{if(Jr&&f){console.log("Resetting global settings in database (admin user)");const{error:_}=await we.from("app_settings").upsert({id:"global",settings:gs,updated_at:new Date().toISOString()},{onConflict:"id"});_?(console.error("Error resetting settings in database:",_),localStorage.removeItem("restaurant-settings")):console.log("Settings reset in database successfully")}else localStorage.removeItem("restaurant-settings"),console.log("Settings reset in localStorage")}catch(_){console.error("Error resetting settings:",_)}},x=t.enableTables,S=t.enableOrderDisplay,w=t.printer;return o.jsx(WR.Provider,{value:{settings:t,updateSettings:h,updatePrinterSettings:m,isTablesEnabled:x,isOrderDisplayEnabled:S,printerSettings:w,saveSettings:g,resetSettings:y,isLoading:n},children:e})}function Na(){const e=v.useContext(WR);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e}const YR=v.createContext(void 0);function sV({children:e}){const{settings:t,updateSettings:r}=Na(),n=t?.language||"pt",a=c=>{r({language:c})},s=c=>{const u=C8[n];if(c in u){const f=u[c];return typeof f=="string"?f:c}return c};return o.jsx(YR.Provider,{value:{language:n,setLanguage:a,t:s},children:e})}function lr(){const e=v.useContext(YR);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const bO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wO=gt,lj=(e,t)=>r=>{var n;if(t?.variants==null)return wO(e,r?.class,r?.className);const{variants:a,defaultVariants:s}=t,c=Object.keys(a).map(h=>{const m=r?.[h],g=s?.[h];if(m===null)return null;const y=bO(m)||bO(g);return a[h][y]}),u=r&&Object.entries(r).reduce((h,m)=>{let[g,y]=m;return y===void 0||(h[g]=y),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:g,className:y,...x}=m;return Object.entries(x).every(S=>{let[w,_]=S;return Array.isArray(_)?_.includes({...s,...u}[w]):{...s,...u}[w]===_})?[...h,g,y]:h},[]);return wO(e,c,f,r?.class,r?.className)},oV=lj("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>o.jsx("button",{className:He(oV({variant:t,size:r,className:e})),ref:s,...a}));xe.displayName="Button";function XR({className:e,showText:t=!0,size:r="md"}){const n={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"},a={sm:"text-lg",md:"text-xl",lg:"text-2xl"};return o.jsxs("div",{className:He("flex items-center gap-3 min-w-0",e),children:[o.jsx("div",{className:He("relative flex-shrink-0",n[r]),children:o.jsxs("svg",{viewBox:"0 0 140 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"arrowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"#0066CC"}),o.jsx("stop",{offset:"100%",stopColor:"#0052CC"})]})}),o.jsx("path",{d:"M 5 75 Q 25 50, 45 60 Q 65 70, 85 50 Q 105 30, 125 50",fill:"none",stroke:"url(#arrowGradient)",strokeWidth:"7",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M 5 75 Q 25 50, 45 60 Q 65 70, 85 50 Q 105 30, 125 50",fill:"none",stroke:"white",strokeWidth:"9",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),o.jsxs("g",{transform:"translate(25, 20)",children:[o.jsx("path",{d:"M15 15 L55 -5 L95 15 L55 35 Z",fill:"#0066CC",stroke:"white",strokeWidth:"2.5"}),o.jsx("path",{d:"M15 15 L15 55 L55 75 L55 35 Z",fill:"#0066CC",stroke:"white",strokeWidth:"2.5"}),o.jsx("path",{d:"M55 35 L95 15 L95 55 L55 75 Z",fill:"#0052CC",stroke:"white",strokeWidth:"2.5"}),o.jsx("line",{x1:"25",y1:"25",x2:"25",y2:"65",stroke:"white",strokeWidth:"2",opacity:"0.9"}),o.jsx("line",{x1:"45",y1:"20",x2:"45",y2:"70",stroke:"white",strokeWidth:"2",opacity:"0.9"}),o.jsx("line",{x1:"65",y1:"15",x2:"65",y2:"70",stroke:"white",strokeWidth:"2",opacity:"0.9"}),o.jsx("line",{x1:"85",y1:"20",x2:"85",y2:"60",stroke:"white",strokeWidth:"2",opacity:"0.9"})]}),o.jsx("path",{d:"M 120 45 L 125 50 L 120 55 Z",fill:"#0066CC",stroke:"white",strokeWidth:"2.5"})]})}),t&&o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("h1",{className:He("font-bold tracking-tight uppercase min-w-0",a[r]),children:o.jsx("span",{className:"text-white relative block truncate",style:{WebkitTextStroke:"3px #0066CC",WebkitTextFillColor:"white",textShadow:"2px 2px 0 #0066CC, -2px -2px 0 #0066CC, 2px -2px 0 #0066CC, -2px 2px 0 #0066CC",paintOrder:"stroke fill"},children:"JE BEBIDAS"})}),o.jsx("span",{className:He("font-bold text-[#0066CC] uppercase truncate",r==="sm"?"text-xs":r==="md"?"text-sm":"text-base"),children:"DISTRIBUIDORA"})]})]})}function lV({className:e,onClose:t}){const{t:r}=lr(),{isTablesEnabled:n}=Na(),{hasPermission:a,profile:s,signOut:c}=Ea(),u=pr(),f=async()=>{await c(),u("/login")},m=[{href:"/",label:r("dashboard"),icon:PP,requiredRole:null},{href:"/orders",label:r("orders"),icon:TP,requiredRole:null},...n?[{href:"/tables",label:r("tables"),icon:ic,requiredRole:null}]:[],{href:"/menu",label:r("menu"),icon:eq,requiredRole:null},{href:"/promotions",label:"Promoes",icon:IP,requiredRole:["admin","gerente","usuario"]},{href:"/stock",label:r("stockManagement")||"Estoque",icon:Yw,requiredRole:"admin"},{href:"/sales",label:r("salesAnalysis"),icon:ws,requiredRole:["admin","gerente"]},{href:"/finance",label:r("finance"),icon:Sp,requiredRole:["admin","gerente"]},{href:"/ifood",label:"iFood",icon:tn,requiredRole:"admin"},{href:"/settings",label:r("settings"),icon:DP,requiredRole:["admin","gerente"]}].filter(g=>g.requiredRole?a(g.requiredRole):!0);return o.jsxs("div",{className:He("pb-12 min-h-screen border-r bg-card flex flex-col",e),children:[o.jsx("div",{className:"space-y-4 py-4 flex-1",children:o.jsxs("div",{className:"px-3 py-2 min-w-0",children:[o.jsx("div",{className:"px-4 mb-6 py-2 min-w-0 overflow-hidden",children:o.jsx(XR,{size:"sm",showText:!0,className:"min-w-0"})}),o.jsx("div",{className:"space-y-1",children:m.map(g=>o.jsxs(Vw,{to:g.href,onClick:t,className:({isActive:y})=>He("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all hover:text-primary",y?"bg-secondary text-primary":"text-muted-foreground"),children:[o.jsx(g.icon,{className:"h-4 w-4"}),g.label]},g.href))})]})}),o.jsxs("div",{className:"px-3 py-4 border-t",children:[s&&o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2 text-sm text-muted-foreground",children:[o.jsx(kq,{className:"h-4 w-4"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"truncate font-medium",children:s.username||s.full_name||s.email}),o.jsxs("p",{className:"text-xs capitalize",children:[s.role||"sem role",s.role==="admin"&&" "]})]})]}),!s&&o.jsx("div",{className:"px-3 py-2 mb-2 text-xs text-destructive",children:" Perfil no carregado"}),o.jsxs(xe,{variant:"ghost",className:"w-full justify-start",onClick:f,children:[o.jsx(QB,{className:"h-4 w-4 mr-2"}),r("logout")||"Sair"]})]})]})}const Ne=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const Ae=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:He("flex flex-col space-y-1.5 p-6",e),...t}));Ae.displayName="CardHeader";const Te=v.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:He("text-2xl font-semibold leading-none tracking-tight",e),...t}));Te.displayName="CardTitle";const pt=v.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:He("text-sm text-muted-foreground",e),...t}));pt.displayName="CardDescription";const Ce=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:He("p-6 pt-0",e),...t}));Ce.displayName="CardContent";const cV=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:He("flex items-center p-6 pt-0",e),...t}));cV.displayName="CardFooter";function uV(){const{t:e}=lr(),{isTablesEnabled:t}=Na(),{hasPermission:r}=Ea(),n=pr(),a=Ha(),c=[{href:"/",label:e("dashboard"),icon:PP,requiredRole:null},{href:"/orders",label:e("orders"),icon:TP,requiredRole:null},...t?[{href:"/tables",label:e("tables"),icon:ic,requiredRole:null}]:[],{href:"/menu",label:e("menu"),icon:Rq,requiredRole:null},{href:"/settings",label:e("settings"),icon:DP,requiredRole:["admin","gerente"]}].filter(h=>h.requiredRole?r(h.requiredRole):!0),u=a.pathname==="/settings";let f=[];return u&&(f=[{href:"/promotions",label:"Promoes",icon:IP,requiredRole:["admin","gerente","usuario"]},{href:"/stock",label:e("stockManagement")||"Estoque",icon:Yw,requiredRole:"admin"},{href:"/sales",label:e("salesAnalysis"),icon:ws,requiredRole:["admin","gerente"]},{href:"/finance",label:e("finance"),icon:Sp,requiredRole:["admin","gerente"]}].filter(m=>m.requiredRole?r(m.requiredRole):!0)),o.jsxs(o.Fragment,{children:[u&&f.length>0&&o.jsx("div",{className:"mobile-admin-cards fixed bottom-[60px] left-0 right-0 z-40 lg:hidden print:hidden px-4 pb-2 bg-background/95 backdrop-blur-sm",children:o.jsx("div",{className:"grid grid-cols-3 gap-2 max-w-screen-md mx-auto",children:f.map(h=>o.jsx(Ne,{className:"cursor-pointer hover:bg-accent transition-colors active:scale-95 shadow-sm",onClick:()=>n(h.href),children:o.jsxs(Ce,{className:"flex flex-col items-center justify-center gap-1 p-2.5 min-h-[60px]",children:[o.jsx(h.icon,{className:"h-5 w-5 text-primary flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium text-center leading-tight line-clamp-2",children:h.label})]})},h.href))})}),o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-card border-t lg:hidden print:hidden mobile-bottom-nav",children:o.jsx("div",{className:"grid gap-1 px-2 py-2",style:{gridTemplateColumns:`repeat(${c.length}, minmax(0, 1fr))`},children:c.map(h=>o.jsxs(Vw,{to:h.href,className:({isActive:m})=>He("flex flex-col items-center justify-center gap-1 rounded-lg px-2 py-2 text-xs font-medium transition-all min-h-[60px]",m?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[o.jsx(h.icon,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate max-w-full text-center leading-tight",children:h.label})]},h.href))})})]})}function dV({children:e}){const r=Ha().pathname==="/settings";return v.useEffect(()=>(r?document.body.classList.add("has-admin-cards"):document.body.classList.remove("has-admin-cards"),()=>{document.body.classList.remove("has-admin-cards")}),[r]),o.jsxs("div",{className:"flex h-screen bg-background",children:[o.jsx("div",{className:"hidden lg:block w-64 shrink-0 print:hidden",children:o.jsx(lV,{className:"h-full"})}),o.jsx("main",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 lg:p-8 mobile-content lg:pb-8 print:p-0 print:overflow-visible print:pb-0 mb-safe w-full min-w-0",children:e})}),o.jsx(uV,{})]})}const Zh=e=>({id:e.id,name:e.name,price:e.price??0,description:e.description??"",category:e.category??"",status:e.status??"Available",image:e.image??"",is_cold:e.is_cold??!1,discount_type:e.discount_type??null,discount_value:e.discount_value??null,discount_applies_to:e.discount_applies_to??null}),fV=[{id:1,name:"Margherita Pizza",price:25,description:"Classic tomato and mozzarella",category:"Pizza",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:2,name:"Carbonara Pasta",price:22,description:"Creamy bacon pasta",category:"Pasta",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:3,name:"Caesar Salad",price:18,description:"Fresh romaine with Caesar dressing",category:"Salads",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:4,name:"Tiramisu",price:12,description:"Classic Italian dessert",category:"Desserts",status:"Available",image:"",unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null,is_cold:null,discount_type:null,discount_value:null,discount_applies_to:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];fV.map(Zh);const ZR=v.createContext(void 0);function hV({children:e}){const[t,r]=v.useState([]),[n,a]=v.useState([]),[s,c]=v.useState([]),[u,f]=v.useState([]),[h,m]=v.useState([]),[g,y]=v.useState(1),[x,S]=v.useState(!0),[w,_]=v.useState(null),E=async()=>{S(!0),_(null);try{console.log("Fetching products (menu items)...");const{data:X,error:M}=await we.from("products").select("*").order("id");if(M)throw console.error("Error fetching products:",M),M;if(console.log("All products fetched:",X?.length||0),X){const ee=X.filter(Y=>Y.price!=null&&Y.price>0);console.log("Sellable products (with price):",ee.length);const ce=ee.map(Zh);console.log("Menu items converted:",ce.length),r(ce)}else console.warn("No products data returned"),r([]);const{data:H,error:Q}=await we.from("restaurant_tables").select("*").order("id");if(Q)throw Q;H&&c(H);const{data:P,error:V}=await we.from("orders").select("*, items:order_items(*)").order("created_at",{ascending:!1});if(V)throw V;if(P){const ee=P.map(Y=>({id:Y.id,customer:Y.customer,table:Y.table_number,orderType:Y.order_type||"dine_in",order_discount_type:Y.order_discount_type||null,order_discount_value:Y.order_discount_value||null,total:Y.total,status:Y.status,time:new Date(Y.created_at).toLocaleString(),created_at:Y.created_at,closedAt:Y.closed_at,notes:Y.notes,paymentMethod:Y.payment_method,cancellation_reason:Y.cancellation_reason||null,source:Y.source||"manual",ifood_order_id:Y.ifood_order_id||null,ifood_status:Y.ifood_status||null,items:Y.items.map(ae=>({id:ae.product_id||ae.menu_item_id,name:ae.name,price:ae.price,quantity:ae.quantity}))}));a(ee);const ce=ee.map(Y=>{const ae=parseInt(Y.id,10);return isNaN(ae)?0:ae}).filter(Y=>Y>0);if(ce.length>0){const Y=Math.max(...ce);y(Y+1)}}const{data:ie,error:W}=await we.from("expenses").select("*").order("date",{ascending:!1});W&&console.error("Error fetching expenses:",W),ie&&f(ie);const{data:je,error:z}=await we.from("categories").select("*").order("name");z&&console.error("Error fetching categories:",z),je&&m(je)}catch(X){console.error("Error fetching data:",X),_(X.message||"Failed to load data")}finally{S(!1)}};v.useEffect(()=>{E();{console.log("Setting up real-time subscriptions...");const X=we.channel("restaurant-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},M=>{console.log("Real-time order update detected:",M),E()}).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},M=>{console.log("Real-time table update detected:",M),E()}).on("postgres_changes",{event:"*",schema:"public",table:"products"},M=>{console.log("Real-time products update detected:",M),E()}).on("postgres_changes",{event:"*",schema:"public",table:"expenses"},M=>{console.log("Real-time expense update detected:",M),E()}).on("postgres_changes",{event:"*",schema:"public",table:"categories"},M=>{console.log("Real-time category update detected:",M),E()}).subscribe(M=>{console.log("Real-time subscription status:",M)});return()=>{console.log("Cleaning up real-time subscriptions"),we.removeChannel(X)}}},[]);const A=async X=>{a(P=>[X,...P]);const{error:M}=await we.from("orders").insert({id:X.id,customer:X.customer,table_number:X.table,order_type:X.orderType,total:X.total,status:X.status,created_at:new Date().toISOString(),notes:X.notes,order_discount_type:X.order_discount_type||null,order_discount_value:X.order_discount_value||null});if(M)return console.error("Error adding order:",M),a(P=>P.filter(V=>V.id!==X.id)),{success:!1,error:M.message};const H=X.items.map(P=>({order_id:X.id,product_id:P.id&&P.id>0?P.id:null,menu_item_id:null,name:P.name,price:P.price,quantity:P.quantity})),{error:Q}=await we.from("order_items").insert(H);if(Q)return console.error("Error adding items:",Q),{success:!1,error:Q.message};try{const{data:{user:P}}=await we.auth.getUser();for(const V of X.items){const{data:ie}=await we.from("products").select("id").or(`id.eq.${V.id},name.ilike.%${V.name}%`).limit(1);if(ie&&ie.length>0){const W=ie[0].id;await we.from("stock_movements").insert({product_id:W,movement_type:"exit",quantity:V.quantity,reference_id:parseInt(X.id.replace(/\D/g,""))||null,reference_type:"order",notes:`Sada via pedido ${X.id} (criao do pedido)`,created_by:P?.id||null})}}}catch(P){console.error("Error reducing stock:",P)}if(X.table){const P=s.find(V=>V.number===X.table);P&&O(P.id,"Occupied")}return{success:!0}},C=async(X,M)=>{console.log(`Updating order ${X} to status: ${M}`);const H=[...n];a(P=>P.map(V=>V.id===X?{...V,status:M}:V));const{error:Q}=await we.from("orders").update({status:M}).eq("id",X);return Q?(console.error("Error updating order status:",Q),a(H),{success:!1,error:Q.message}):(console.log("Order status updated successfully in database"),{success:!0})},R=async X=>{const{data:M,error:H}=await we.from("restaurant_tables").insert({number:X,status:"Available"}).select();return M?(c(Q=>[...Q,M[0]]),{success:!0}):H?(console.error("Error adding table:",H),{success:!1,error:H.message}):{success:!1,error:"Unknown error occurred"}},O=async(X,M)=>{c(H=>H.map(Q=>Q.id===X?{...Q,status:M}:Q)),await we.from("restaurant_tables").update({status:M}).eq("id",X)},I=async(X,M)=>{const H=new Date().toISOString(),Q=[...n],P=n.find(ie=>ie.id===X);a(ie=>ie.map(W=>W.id===X?{...W,status:"Closed",paymentMethod:M,closedAt:H}:W));const{error:V}=await we.from("orders").update({status:"Closed",payment_method:M,closed_at:H}).eq("id",X);if(V)return console.error("Error processing payment:",V),a(Q),{success:!1,error:V.message};if(P)try{const{data:{user:ie}}=await we.auth.getUser();for(const W of P.items){const{data:je}=await we.from("products").select("id").or(`id.eq.${W.id},name.ilike.%${W.name}%`).limit(1);if(je&&je.length>0){const z=je[0].id;await we.from("stock_movements").insert({product_id:z,movement_type:"exit",quantity:W.quantity,reference_id:parseInt(X.replace(/\D/g,""))||null,reference_type:"order",notes:`Sada via pedido ${X}`,created_by:ie?.id||null})}}}catch(ie){console.error("Error reducing stock:",ie)}if(P&&P.table&&n.filter(W=>W.table===P.table&&W.id!==X&&W.status!=="Closed").length===0){const W=s.find(je=>je.number===P.table);W&&O(W.id,"Available")}return{success:!0}},N=async(X,M)=>{const H=s.find(W=>W.id===X);if(!H)return{success:!1,error:"Table not found"};const Q=new Date().toISOString(),P=[...n];a(W=>W.map(je=>je.table===H.number&&je.status!=="Closed"?{...je,status:"Closed",paymentMethod:M,closedAt:Q}:je));const{data:V,error:ie}=await we.from("orders").select("id").eq("table_number",H.number).neq("status","Closed");if(ie)return console.error("Error fetching active orders:",ie),a(P),{success:!1,error:ie.message};if(V&&V.length>0){const W=V.map(z=>z.id),{error:je}=await we.from("orders").update({status:"Closed",payment_method:M,closed_at:Q}).in("id",W);if(je)return console.error("Error closing orders:",je),a(P),{success:!1,error:je.message};try{const{data:{user:z}}=await we.auth.getUser(),{data:ee,error:ce}=await we.from("orders").select("*, items:order_items(*)").in("id",W);if(ce)console.error("Error fetching orders for stock reduction:",ce);else if(ee){const Y=ee.map(ae=>({id:ae.id,customer:ae.customer,table:ae.table_number,orderType:ae.order_type||"dine_in",total:ae.total,status:ae.status,time:new Date(ae.created_at).toLocaleString(),closedAt:ae.closed_at,notes:ae.notes,paymentMethod:ae.payment_method,items:ae.items.map(he=>({id:he.product_id||he.menu_item_id,name:he.name,price:he.price,quantity:he.quantity}))}));for(const ae of Y)for(const he of ae.items){const{data:Se}=await we.from("products").select("id").or(`id.eq.${he.id},name.ilike.%${he.name}%`).limit(1);if(Se&&Se.length>0){const Oe=Se[0].id;await we.from("stock_movements").insert({product_id:Oe,movement_type:"exit",quantity:he.quantity,reference_id:parseInt(ae.id.replace(/\D/g,""))||null,reference_type:"order",notes:`Sada via pedido ${ae.id} (fechamento de mesa)`,created_by:z?.id||null})}}}}catch(z){console.error("Error reducing stock:",z)}}return O(X,"Available"),{success:!0}},T=async X=>{const M=n.find(Q=>Q.id===X);if(!M)return{success:!1,error:"Pedido no encontrado"};if(M.status!=="Closed")return{success:!1,error:"Apenas pedidos fechados podem ser cancelados"};const H=[...n];a(Q=>Q.map(P=>P.id===X?{...P,status:"Cancelled",paymentMethod:void 0,closedAt:void 0}:P));try{const{error:Q}=await we.from("orders").update({status:"Cancelled",payment_method:null,closed_at:null}).eq("id",X);if(Q)return console.error("Error cancelling order:",Q),a(H),{success:!1,error:Q.message};if(M.table){const{data:P}=await we.from("orders").select("id").eq("table_number",M.table).in("status",["Pending","Preparing","Ready","Delivered","Closed"]);if(!P||P.length===0){const V=s.find(ie=>ie.number===M.table);V&&O(V.id,"Available")}}return{success:!0}}catch(Q){return console.error("Error cancelling order:",Q),a(H),{success:!1,error:Q.message||"Erro ao cancelar pedido"}}},U=async(X,M,H)=>{const Q=n.find(W=>W.id===X);if(!Q)return{success:!1,error:"Pedido no encontrado"};if(Q.status==="Closed")return{success:!1,error:"Pedidos pagos no podem ser cancelados"};if(Q.status==="Cancelled")return{success:!1,error:"Pedido j est cancelado"};const{data:{session:P}}=await we.auth.getSession(),V=P?.user?.id;try{let W=!1,je=null,z=null;if(V){const{data:ee}=await we.from("user_profiles").select("email, role").eq("id",V).single();if(z=ee,z&&(z.role==="admin"||z.role==="gerente"))try{const{data:ce,error:Y}=await we.auth.signInWithPassword({email:z.email,password:M});!Y&&ce.user&&(W=!0,je=ce.user)}catch{}}if(!W){const{data:ee,error:ce}=await we.from("user_profiles").select("email, role").in("role",["admin","gerente"]);if(ce||!ee||ee.length===0)return P&&await we.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token}),{success:!1,error:"Erro ao validar permisses"};for(const Y of ee)if(!(V&&z&&Y.email===z.email))try{const{data:ae,error:he}=await we.auth.signInWithPassword({email:Y.email,password:M});if(!he&&ae.user){const{data:Se}=await we.from("user_profiles").select("role").eq("id",ae.user.id).single();if(Se&&(Se.role==="admin"||Se.role==="gerente")){W=!0,je=ae.user;break}else await we.auth.signOut()}}catch{continue}}if(!W||!je)return P&&await we.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token}),{success:!1,error:"Senha de admin/gerente invlida"};P&&V!==je.id&&await we.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token})}catch(W){if(P)try{await we.auth.setSession({access_token:P.access_token,refresh_token:P.refresh_token})}catch(je){console.error("Error restoring session:",je)}return{success:!1,error:W.message||"Erro ao validar senha"}}const ie=[...n];a(W=>W.map(je=>je.id===X?{...je,status:"Cancelled",cancellation_reason:H}:je));try{const{error:W}=await we.from("orders").update({status:"Cancelled",cancellation_reason:H}).eq("id",X);if(W)return console.error("Error cancelling order:",W),a(ie),{success:!1,error:W.message};try{const{data:{user:je}}=await we.auth.getUser();for(const z of Q.items){const{data:ee}=await we.from("products").select("id").or(`id.eq.${z.id},name.ilike.%${z.name}%`).limit(1);if(ee&&ee.length>0){const ce=ee[0].id;await we.from("stock_movements").insert({product_id:ce,movement_type:"entry",quantity:z.quantity,reference_id:parseInt(X.replace(/\D/g,""))||null,reference_type:"order_cancellation",notes:`Entrada via cancelamento do pedido ${X} - ${H}`,created_by:je?.id||null})}}}catch(je){return console.error("Error returning stock:",je),a(ie),await we.from("orders").update({status:Q.status,cancellation_reason:null}).eq("id",X),{success:!1,error:"Erro ao devolver estoque. Cancelamento revertido."}}if(Q.table){const{data:je}=await we.from("orders").select("id").eq("table_number",Q.table).in("status",["Pending","Preparing","Ready","Delivered","Closed"]);if(!je||je.length===0){const z=s.find(ee=>ee.number===Q.table);z&&O(z.id,"Available")}}return{success:!0}}catch(W){return console.error("Error cancelling order:",W),a(ie),{success:!1,error:W.message||"Erro ao cancelar pedido"}}},G=async X=>{const M={name:X.name,price:X.price,description:X.description,category:X.category,status:X.status,image:X.image},{data:H,error:Q}=await we.from("products").insert(M).select().single();if(H){const P=Zh(H);return r(V=>[...V,P]),{success:!0,data:P}}return Q?(console.error("Error adding product:",Q),{success:!1,error:Q.message}):{success:!1,error:"Unknown error occurred"}},B=async(X,M)=>{const H=[...t];r(Q=>Q.map(P=>P.id===X?{...P,...M}:P));try{const Q={};M.name!==void 0&&(Q.name=M.name),M.price!==void 0&&(Q.price=M.price),M.description!==void 0&&(Q.description=M.description),M.category!==void 0&&(Q.category=M.category),M.status!==void 0&&(Q.status=M.status),M.image!==void 0&&(Q.image=M.image);const{error:P}=await we.from("products").update(Q).eq("id",X);return P?(console.error("Error updating product:",P),r(H),P.message?.includes("foreign key constraint")||P.message?.includes("violates foreign key")?{success:!1,error:"No  possvel editar este item porque ele est sendo usado em pedidos existentes. Voc pode criar um novo item ou aguardar que os pedidos sejam finalizados."}:{success:!1,error:P.message}):{success:!0}}catch(Q){return r(H),console.error("Error updating product:",Q),Q.message?.includes("foreign key constraint")||Q.message?.includes("violates foreign key")?{success:!1,error:"No  possvel editar este item porque ele est sendo usado em pedidos existentes. Voc pode criar um novo item ou aguardar que os pedidos sejam finalizados."}:{success:!1,error:Q.message||"Erro ao atualizar item"}}},K=async X=>{if(!X.name||X.name.trim()==="")return{success:!1,error:"Nome do produto  obrigatrio"};if(!X.price&&!X.unit)return{success:!1,error:"Produto deve ter preo de venda ou informaes de estoque"};try{const M={name:X.name.trim(),category:X.category||null,image:X.image||null,price:X.price||null,description:X.description||null,status:X.status||(X.price?"Available":null),unit:X.unit||null,min_stock:X.min_stock??null,current_stock:X.current_stock??null,cost_price:X.cost_price||null,product_type:X.product_type||null,ncm:X.ncm||null,cst_icms:X.cst_icms||null,cfop:X.cfop||null,icms_rate:X.icms_rate||null,ipi_rate:X.ipi_rate||null,ean_code:X.ean_code||null};console.log("Inserindo produto no banco:",M);const{data:H,error:Q}=await we.from("products").insert(M).select().single();if(Q)return console.error("Error adding product:",Q),{success:!1,error:Q.message};if(!H)return console.error("No data returned from insert"),{success:!1,error:"Erro desconhecido ao criar produto"};console.log("Produto criado com sucesso:",H);const P=H;if(P.price){const V=Zh(P);r(ie=>ie.find(W=>W.id===V.id)?ie.map(W=>W.id===V.id?V:W):[...ie,V])}return{success:!0,data:P}}catch(M){return console.error("Error adding product (catch):",M),{success:!1,error:M.message||"Erro ao criar produto"}}},F=async X=>{const M=[...t];r(H=>H.filter(Q=>Q.id!==X));try{const{error:H}=await we.from("products").delete().eq("id",X);return H?(r(M),console.error("Error deleting product:",H),{success:!1,error:H.message}):{success:!0}}catch(H){return r(M),console.error("Error deleting product:",H),{success:!1,error:H.message||"Erro ao excluir item"}}},oe=async X=>{const M=Date.now(),H={...X,id:M};f(V=>[H,...V]);const{data:Q,error:P}=await we.from("expenses").insert(X).select();return Q?(f(V=>V.map(ie=>ie.id===M?Q[0]:ie)),{success:!0}):P?(console.error("Error adding expense:",P),f(V=>V.filter(ie=>ie.id!==M)),{success:!1,error:P.message}):{success:!1,error:"Unknown error"}},J=async X=>{f(H=>H.filter(Q=>Q.id!==X));const{error:M}=await we.from("expenses").delete().eq("id",X);M&&console.error("Error deleting expense:",M)},L=async X=>{const{data:M,error:H}=await we.from("categories").insert({name:X}).select();return M?(m(Q=>[...Q,M[0]]),{success:!0}):H?(console.error("Error adding category:",H),{success:!1,error:H.message}):{success:!1,error:"Unknown error"}},D=async(X,M)=>{const H=h.find(V=>V.id===X);if(!H)return{success:!1,error:"Category not found"};m(V=>V.map(ie=>ie.id===X?{...ie,name:M}:ie)),r(V=>V.map(ie=>ie.category===H.name?{...ie,category:M}:ie));const{error:Q}=await we.from("categories").update({name:M}).eq("id",X);if(Q)return console.error("Error updating category:",Q),m(V=>V.map(ie=>ie.id===X?H:ie)),r(V=>V.map(ie=>ie.category===M?{...ie,category:H.name}:ie)),{success:!1,error:Q.message};const{error:P}=await we.from("products").update({category:M}).eq("category",H.name);return P?(console.error("Error updating menu items category:",P),{success:!1,error:"Category renamed but failed to update menu items: "+P.message}):{success:!0}},q=async X=>{m(H=>H.filter(Q=>Q.id!==X));const{error:M}=await we.from("categories").delete().eq("id",X);return M?(console.error("Error deleting category:",M),{success:!1,error:M.message}):{success:!0}},re=async()=>{try{const{data:M,error:H}=await we.from("orders").select("id").order("created_at",{ascending:!1}).limit(1e3);if(!H&&M&&M.length>0){const Q=M.map(P=>{const V=parseInt(P.id,10);return isNaN(V)?0:V}).filter(P=>P>0);if(Q.length>0){const V=Math.max(...Q)+1;return y(V+1),V.toString().padStart(4,"0")}}return y(2),"0001"}catch(M){console.error("Error generating order ID:",M);const H=Date.now().toString().slice(-8),Q=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${H}${Q}`}const X=g.toString().padStart(4,"0");return y(M=>M+1),X};return o.jsx(ZR.Provider,{value:{menuItems:t,orders:n,tables:s,addOrder:A,addTable:R,updateOrderStatus:C,updateTableStatus:O,processPayment:I,closeTable:N,cancelOrder:T,cancelUnpaidOrder:U,addMenuItem:G,updateMenuItem:B,deleteMenuItem:F,addProduct:K,expenses:u,addExpense:oe,deleteExpense:J,categories:h,addCategory:L,updateCategory:D,deleteCategory:q,generateOrderId:re,isLoading:x,error:w,isDemoMode:!Jr},children:e})}function Vr(){const e=v.useContext(ZR);if(e===void 0)throw new Error("useRestaurant must be used within a RestaurantProvider");return e}function mV(){const e=pr(),{orders:t,tables:r}=Vr(),{t:n}=lr(),{isTablesEnabled:a}=Na(),s=t.filter(f=>f.status!=="Closed").reduce((f,h)=>f+h.total,0),c=t.filter(f=>f.status!=="Delivered"&&f.status!=="Closed").length,u=a?r.filter(f=>f.status==="Available").length:0;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n("dashboard")}),o.jsx("p",{className:"text-muted-foreground",children:n("manageOrders")})]}),o.jsxs(xe,{onClick:()=>e("/orders/new"),children:[o.jsx(gn,{className:"mr-2 h-4 w-4"})," ",n("newOrder")]})]}),o.jsxs("div",{className:`grid gap-4 grid-cols-2 md:grid-cols-2 ${a?"lg:grid-cols-4":"lg:grid-cols-3"}`,children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:n("totalRevenue")}),o.jsx(Sp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:ge(s)})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:n("activeOrders")}),o.jsx(tn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:c})})]}),a&&o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:n("availableTables")}),o.jsx(LP,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:u})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:n("recentOrders")}),o.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:t.length})})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:n("recentOrders")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n("recentOrdersDescription")||"Latest completed transactions."})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"space-y-8",children:[t.filter(f=>f.status==="Closed").slice(0,5).map(f=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:f.customer}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.id,"  ",f.table?`${n("table")} ${f.table}`:f.orderType?n(f.orderType==="dine_in"?"dineIn":f.orderType):n("dineIn")]})]}),o.jsxs("div",{className:"ml-auto font-medium",children:["+",ge(f.total)]})]},f.id)),t.filter(f=>f.status==="Closed").length===0&&o.jsx("div",{className:"text-center text-muted-foreground py-4",children:n("noOrders")})]})})]})]})}const Ee=v.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Ee.displayName="Input";const pV=lj("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function Qt({className:e,variant:t,...r}){return o.jsx("div",{className:He(pV({variant:t}),e),...r})}function _b({ifoodStatus:e,className:t}){const r=a=>{if(!a)return"bg-blue-100 text-blue-700 border-blue-200";switch(a.toUpperCase()){case"PLACED":case"PLC":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"CONFIRMED":case"CFM":return"bg-blue-100 text-blue-700 border-blue-200";case"SEPARATION_STARTED":case"SPS":return"bg-cyan-100 text-cyan-700 border-cyan-200";case"SEPARATION_ENDED":case"SPE":return"bg-teal-100 text-teal-700 border-teal-200";case"READY_TO_PICKUP":case"RTP":return"bg-green-100 text-green-700 border-green-200";case"DISPATCHED":case"DSP":return"bg-purple-100 text-purple-700 border-purple-200";case"CONCLUDED":case"CON":return"bg-gray-100 text-gray-700 border-gray-200";case"CANCELLED":case"CAN":return"bg-red-100 text-red-700 border-red-200";default:return"bg-blue-100 text-blue-700 border-blue-200"}},n=a=>{if(!a)return"iFood";switch(a.toUpperCase()){case"PLACED":case"PLC":return"iFood - Novo Pedido";case"CONFIRMED":case"CFM":return"iFood - Confirmado";case"SEPARATION_STARTED":case"SPS":return"iFood - Separao Iniciada";case"SEPARATION_ENDED":case"SPE":return"iFood - Separao Concluda";case"READY_TO_PICKUP":case"RTP":return"iFood - Pronto para Retirada";case"DISPATCHED":case"DSP":return"iFood - Saiu para Entrega";case"CONCLUDED":case"CON":return"iFood - Concludo";case"CANCELLED":case"CAN":return"iFood - Cancelado";default:return`iFood - ${a}`}};return o.jsxs(Qt,{variant:"outline",className:`flex items-center gap-1 ${r(e)} ${t||""}`,children:[o.jsx(tn,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs font-medium",children:n(e)})]})}function gV(){const e=pr(),{orders:t}=Vr(),{isTablesEnabled:r}=Na(),[n,a]=v.useState(""),[s,c]=v.useState("all");v.useEffect(()=>{!r&&s==="mesa"&&c("all")},[r,s]);const u=t.filter(g=>{const y=g.id.toLowerCase().includes(n.toLowerCase())||g.table&&g.table.toLowerCase().includes(n.toLowerCase())||g.customer.toLowerCase().includes(n.toLowerCase()),x=s==="all"||s==="delivery"&&g.orderType==="delivery"||s==="pickup"&&g.orderType==="takeout"||s==="mesa"&&g.orderType==="dine_in";return y&&x}),f=g=>{switch(g.toLowerCase()){case"pending":case"preparing":return{label:"Pendente",className:"bg-destructive/10 text-destructive border-destructive/20",icon:Qr};case"ready":return{label:"Pronto",className:"bg-green-100 text-green-700 border-green-200",icon:ga};case"delivered":case"closed":return{label:"Entregue",className:"bg-green-100 text-green-700 border-green-200",icon:ga};case"cancelled":return{label:"CANCELADO",className:"bg-red-100 text-red-700 border-red-200",icon:Qr};default:return{label:g,className:"bg-muted text-muted-foreground border-border",icon:Qr}}},h=g=>{switch(g){case"delivery":return dm;case"takeout":return tn;case"dine_in":return ic;default:return tn}},m=g=>{switch(g){case"delivery":return"Delivery";case"takeout":return"Retirada";case"dine_in":return"Mesa";default:return"Mesa"}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("header",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Pedidos"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerenciar pedidos desta mesa"})]}),o.jsxs(xe,{onClick:()=>e("/orders/new"),className:"bg-primary hover:bg-primary/90 text-primary-foreground font-bold py-2 px-6 rounded-lg flex items-center shadow-sm",children:[o.jsx("span",{className:"text-2xl font-light mr-2",children:"+"}),"Novo Pedido"]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:o.jsx(Xw,{className:"w-5 h-5 text-muted-foreground"})}),o.jsx(Ee,{className:"w-full pl-10 pr-4 py-3 border border-input rounded-lg focus:ring-primary focus:border-primary transition",placeholder:"Buscar por nome ou cdigo...",type:"text",value:n,onChange:g=>a(g.target.value)})]}),o.jsxs("div",{className:"flex justify-between items-center gap-2 border border-border rounded-lg p-2 bg-card",children:[o.jsx(xe,{variant:s==="all"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="all"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c("all"),children:"Todos"}),o.jsxs(xe,{variant:s==="delivery"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="delivery"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c(s==="delivery"?"all":"delivery"),children:[o.jsx(dm,{className:"w-4 h-4"}),"Delivery"]}),o.jsxs(xe,{variant:s==="pickup"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="pickup"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c(s==="pickup"?"all":"pickup"),children:[o.jsx(tn,{className:"w-4 h-4"}),"Retirada"]}),r&&o.jsxs(xe,{variant:s==="mesa"?"default":"ghost",className:`flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors ${s==="mesa"?"text-primary bg-primary/10 border border-primary/20":"text-muted-foreground hover:bg-accent"}`,onClick:()=>c(s==="mesa"?"all":"mesa"),children:[o.jsx(ic,{className:"w-4 h-4"}),"Mesa"]})]})]}),o.jsx("main",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.length===0?o.jsx("div",{className:"col-span-full text-center text-muted-foreground py-8",children:"Nenhum pedido encontrado"}):u.map(g=>{const y=f(g.status),x=h(g.orderType||"dine_in"),S=y.icon;return o.jsxs("article",{className:"bg-card rounded-xl p-6 shadow-[0_4px_6px_-1px_rgb(0_0_0_/_0.1),_0_2px_4px_-2px_rgb(0_0_0_/_0.1)] cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e(`/orders/${g.id}`),children:[o.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-primary",children:"ID do Pedido"}),o.jsxs("div",{className:"flex items-center gap-2",children:[g.source==="ifood"&&o.jsx(_b,{ifoodStatus:g.ifood_status}),o.jsx("div",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full",children:o.jsx("span",{className:"font-mono font-bold text-sm tracking-wider",children:g.id})})]})]})}),o.jsx("div",{className:"space-y-4 my-2.5",children:o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground truncate",children:g.customer}),o.jsxs("span",{className:`flex items-center gap-2 text-sm font-medium px-3 py-1 rounded-full border w-fit ${y.className}`,children:[o.jsx(S,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"whitespace-nowrap",children:y.label})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Tipo:"}),o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(x,{className:"w-5 h-5"}),m(g.orderType||"dine_in")]})]}),g.table&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Mesa:"}),o.jsx("span",{className:"font-medium",children:g.table})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Itens:"}),o.jsx("span",{children:g.items.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Hora:"}),o.jsx("span",{className:"font-mono",children:g.time.split(" ")[1]})]}),g.status==="Cancelled"&&g.cancellation_reason&&o.jsxs("div",{className:"flex flex-col gap-1 pt-2 border-t border-border",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Justificativa:"}),o.jsx("span",{className:"text-sm font-medium text-red-600",children:g.cancellation_reason})]})]})}),o.jsxs("div",{className:"border-t border-border pt-4 flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-bold text-foreground",children:"Total:"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:ge(g.total)})]})]},g.id)})})]})}function jO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cj(...e){return t=>{let r=!1;const n=e.map(a=>{const s=jO(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():jO(e[a],null)}}}}function Ct(...e){return v.useCallback(cj(...e),e)}var vV=Symbol.for("react.lazy"),vm=bp[" use ".trim().toString()];function yV(e){return typeof e=="object"&&e!==null&&"then"in e}function QR(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===vV&&"_payload"in e&&yV(e._payload)}function xV(e){const t=bV(e),r=v.forwardRef((n,a)=>{let{children:s,...c}=n;QR(s)&&typeof vm=="function"&&(s=vm(s._payload));const u=v.Children.toArray(s),f=u.find(jV);if(f){const h=f.props.children,m=u.map(g=>g===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return o.jsx(t,{...c,ref:a,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return o.jsx(t,{...c,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function bV(e){const t=v.forwardRef((r,n)=>{let{children:a,...s}=r;if(QR(a)&&typeof vm=="function"&&(a=vm(a._payload)),v.isValidElement(a)){const c=SV(a),u=_V(s,a.props);return a.type!==v.Fragment&&(u.ref=n?cj(n,c):c),v.cloneElement(a,u)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wV=Symbol("radix.slottable");function jV(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wV}function _V(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...u)=>{const f=s(...u);return a(...u),f}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function SV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],NV=EV.reduce((e,t)=>{const r=xV(`Primitive.${t}`),n=v.forwardRef((a,s)=>{const{asChild:c,...u}=a,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(f,{...u,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),CV="Label",JR=v.forwardRef((e,t)=>o.jsx(NV.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));JR.displayName=CV;var eD=JR;const OV=lj("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=v.forwardRef(({className:e,...t},r)=>o.jsx(eD,{ref:r,className:He(OV(),e),...t}));se.displayName=eD.displayName;function _O(e,[t,r]){return Math.min(r,Math.max(t,e))}function tt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function AV(e,t){const r=v.createContext(t),n=s=>{const{children:c,...u}=s,f=v.useMemo(()=>u,Object.values(u));return o.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function a(s){const c=v.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Di(e,t=[]){let r=[];function n(s,c){const u=v.createContext(c),f=r.length;r=[...r,c];const h=g=>{const{scope:y,children:x,...S}=g,w=y?.[e]?.[f]||u,_=v.useMemo(()=>S,Object.values(S));return o.jsx(w.Provider,{value:_,children:x})};h.displayName=s+"Provider";function m(g,y){const x=y?.[e]?.[f]||u,S=v.useContext(x);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[h,m]}const a=()=>{const s=r.map(c=>v.createContext(c));return function(u){const f=u?.[e]||s;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return a.scopeName=e,[n,TV(a,...t)]}function TV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const g=f(s)[`__scope${h}`];return{...u,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function ed(e){const t=kV(e),r=v.forwardRef((n,a)=>{const{children:s,...c}=n,u=v.Children.toArray(s),f=u.find(RV);if(f){const h=f.props.children,m=u.map(g=>g===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return o.jsx(t,{...c,ref:a,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return o.jsx(t,{...c,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function kV(e){const t=v.forwardRef((r,n)=>{const{children:a,...s}=r;if(v.isValidElement(a)){const c=MV(a),u=DV(s,a.props);return a.type!==v.Fragment&&(u.ref=n?cj(n,c):c),v.cloneElement(a,u)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PV=Symbol("radix.slottable");function RV(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PV}function DV(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...u)=>{const f=s(...u);return a(...u),f}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function MV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tD(e){const t=e+"CollectionProvider",[r,n]=Di(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:E}=w,A=vs.useRef(null),C=vs.useRef(new Map).current;return o.jsx(a,{scope:_,itemMap:C,collectionRef:A,children:E})};c.displayName=t;const u=e+"CollectionSlot",f=ed(u),h=vs.forwardRef((w,_)=>{const{scope:E,children:A}=w,C=s(u,E),R=Ct(_,C.collectionRef);return o.jsx(f,{ref:R,children:A})});h.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",y=ed(m),x=vs.forwardRef((w,_)=>{const{scope:E,children:A,...C}=w,R=vs.useRef(null),O=Ct(_,R),I=s(m,E);return vs.useEffect(()=>(I.itemMap.set(R,{ref:R,...C}),()=>void I.itemMap.delete(R))),o.jsx(y,{[g]:"",ref:O,children:A})});x.displayName=m;function S(w){const _=s(e+"CollectionConsumer",w);return vs.useCallback(()=>{const A=_.collectionRef.current;if(!A)return[];const C=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((I,N)=>C.indexOf(I.ref.current)-C.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:x},S,n]}var IV=v.createContext(void 0);function Op(e){const t=v.useContext(IV);return e||t||"ltr"}var LV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=LV.reduce((e,t)=>{const r=ed(`Primitive.${t}`),n=v.forwardRef((a,s)=>{const{asChild:c,...u}=a,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(f,{...u,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function zV(e,t){e&&Bo.flushSync(()=>e.dispatchEvent(t))}function Ns(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>t.current?.(...r),[])}function $V(e,t=globalThis?.document){const r=Ns(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var UV="DismissableLayer",Sb="dismissableLayer.update",BV="dismissableLayer.pointerDownOutside",qV="dismissableLayer.focusOutside",SO,rD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uj=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:u,...f}=e,h=v.useContext(rD),[m,g]=v.useState(null),y=m?.ownerDocument??globalThis?.document,[,x]=v.useState({}),S=Ct(t,N=>g(N)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(_),A=m?w.indexOf(m):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,R=A>=E,O=VV(N=>{const T=N.target,U=[...h.branches].some(G=>G.contains(T));!R||U||(a?.(N),c?.(N),N.defaultPrevented||u?.())},y),I=KV(N=>{const T=N.target;[...h.branches].some(G=>G.contains(T))||(s?.(N),c?.(N),N.defaultPrevented||u?.())},y);return $V(N=>{A===h.layers.size-1&&(n?.(N),!N.defaultPrevented&&u&&(N.preventDefault(),u()))},y),v.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(SO=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),EO(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=SO)}},[m,y,r,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),EO())},[m,h]),v.useEffect(()=>{const N=()=>x({});return document.addEventListener(Sb,N),()=>document.removeEventListener(Sb,N)},[]),o.jsx(rt.div,{...f,ref:S,style:{pointerEvents:C?R?"auto":"none":void 0,...e.style},onFocusCapture:tt(e.onFocusCapture,I.onFocusCapture),onBlurCapture:tt(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:tt(e.onPointerDownCapture,O.onPointerDownCapture)})});uj.displayName=UV;var FV="DismissableLayerBranch",HV=v.forwardRef((e,t)=>{const r=v.useContext(rD),n=v.useRef(null),a=Ct(t,n);return v.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(rt.div,{...e,ref:a})});HV.displayName=FV;function VV(e,t=globalThis?.document){const r=Ns(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let f=function(){nD(BV,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function KV(e,t=globalThis?.document){const r=Ns(e),n=v.useRef(!1);return v.useEffect(()=>{const a=s=>{s.target&&!n.current&&nD(qV,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function EO(){const e=new CustomEvent(Sb);document.dispatchEvent(e)}function nD(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?zV(a,s):a.dispatchEvent(s)}var px=0;function aD(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??NO()),document.body.insertAdjacentElement("beforeend",e[1]??NO()),px++,()=>{px===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),px--}},[])}function NO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gx="focusScope.autoFocusOnMount",vx="focusScope.autoFocusOnUnmount",CO={bubbles:!1,cancelable:!0},GV="FocusScope",dj=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...c}=e,[u,f]=v.useState(null),h=Ns(a),m=Ns(s),g=v.useRef(null),y=Ct(t,w=>f(w)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(C){if(x.paused||!u)return;const R=C.target;u.contains(R)?g.current=R:ys(g.current,{select:!0})},_=function(C){if(x.paused||!u)return;const R=C.relatedTarget;R!==null&&(u.contains(R)||ys(g.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&ys(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const A=new MutationObserver(E);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),A.disconnect()}}},[n,u,x.paused]),v.useEffect(()=>{if(u){AO.add(x);const w=document.activeElement;if(!u.contains(w)){const E=new CustomEvent(gx,CO);u.addEventListener(gx,h),u.dispatchEvent(E),E.defaultPrevented||(WV(JV(iD(u)),{select:!0}),document.activeElement===w&&ys(u))}return()=>{u.removeEventListener(gx,h),setTimeout(()=>{const E=new CustomEvent(vx,CO);u.addEventListener(vx,m),u.dispatchEvent(E),E.defaultPrevented||ys(w??document.body,{select:!0}),u.removeEventListener(vx,m),AO.remove(x)},0)}}},[u,h,m,x]);const S=v.useCallback(w=>{if(!r&&!n||x.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(_&&E){const A=w.currentTarget,[C,R]=YV(A);C&&R?!w.shiftKey&&E===R?(w.preventDefault(),r&&ys(C,{select:!0})):w.shiftKey&&E===C&&(w.preventDefault(),r&&ys(R,{select:!0})):E===A&&w.preventDefault()}},[r,n,x.paused]);return o.jsx(rt.div,{tabIndex:-1,...c,ref:y,onKeyDown:S})});dj.displayName=GV;function WV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ys(n,{select:t}),document.activeElement!==r)return}function YV(e){const t=iD(e),r=OO(t,e),n=OO(t.reverse(),e);return[r,n]}function iD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function OO(e,t){for(const r of e)if(!XV(r,{upTo:t}))return r}function XV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZV(e){return e instanceof HTMLInputElement&&"select"in e}function ys(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ZV(e)&&t&&e.select()}}var AO=QV();function QV(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=TO(e,t),e.unshift(t)},remove(t){e=TO(e,t),e[0]?.resume()}}}function TO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function JV(e){return e.filter(t=>t.tagName!=="A")}var Hr=globalThis?.document?v.useLayoutEffect:()=>{},e9=bp[" useId ".trim().toString()]||(()=>{}),t9=0;function Ss(e){const[t,r]=v.useState(e9());return Hr(()=>{r(n=>n??String(t9++))},[e]),t?`radix-${t}`:""}const r9=["top","right","bottom","left"],Cs=Math.min,An=Math.max,ym=Math.round,Sh=Math.floor,La=e=>({x:e,y:e}),n9={left:"right",right:"left",bottom:"top",top:"bottom"},a9={start:"end",end:"start"};function Eb(e,t,r){return An(e,Cs(t,r))}function Ei(e,t){return typeof e=="function"?e(t):e}function Ni(e){return e.split("-")[0]}function Sc(e){return e.split("-")[1]}function fj(e){return e==="x"?"y":"x"}function hj(e){return e==="y"?"height":"width"}const i9=new Set(["top","bottom"]);function Ma(e){return i9.has(Ni(e))?"y":"x"}function mj(e){return fj(Ma(e))}function s9(e,t,r){r===void 0&&(r=!1);const n=Sc(e),a=mj(e),s=hj(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=xm(c)),[c,xm(c)]}function o9(e){const t=xm(e);return[Nb(e),t,Nb(t)]}function Nb(e){return e.replace(/start|end/g,t=>a9[t])}const kO=["left","right"],PO=["right","left"],l9=["top","bottom"],c9=["bottom","top"];function u9(e,t,r){switch(e){case"top":case"bottom":return r?t?PO:kO:t?kO:PO;case"left":case"right":return t?l9:c9;default:return[]}}function d9(e,t,r,n){const a=Sc(e);let s=u9(Ni(e),r==="start",n);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(Nb)))),s}function xm(e){return e.replace(/left|right|bottom|top/g,t=>n9[t])}function f9(e){return{top:0,right:0,bottom:0,left:0,...e}}function sD(e){return typeof e!="number"?f9(e):{top:e,right:e,bottom:e,left:e}}function bm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function RO(e,t,r){let{reference:n,floating:a}=e;const s=Ma(t),c=mj(t),u=hj(c),f=Ni(t),h=s==="y",m=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,y=n[u]/2-a[u]/2;let x;switch(f){case"top":x={x:m,y:n.y-a.height};break;case"bottom":x={x:m,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:g};break;case"left":x={x:n.x-a.width,y:g};break;default:x={x:n.x,y:n.y}}switch(Sc(t)){case"start":x[c]-=y*(r&&h?-1:1);break;case"end":x[c]+=y*(r&&h?-1:1);break}return x}const h9=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:c}=r,u=s.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:g}=RO(h,n,f),y=n,x={},S=0;for(let w=0;w<u.length;w++){const{name:_,fn:E}=u[w],{x:A,y:C,data:R,reset:O}=await E({x:m,y:g,initialPlacement:n,placement:y,strategy:a,middlewareData:x,rects:h,platform:c,elements:{reference:e,floating:t}});m=A??m,g=C??g,x={...x,[_]:{...x[_],...R}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(h=O.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:m,y:g}=RO(h,y,f)),w=-1)}return{x:m,y:g,placement:y,strategy:a,middlewareData:x}};async function td(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:c,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:x=0}=Ei(t,e),S=sD(x),_=u[y?g==="floating"?"reference":"floating":g],E=bm(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),A=g==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),R=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},O=bm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:C,strategy:f}):A);return{top:(E.top-O.top+S.top)/R.y,bottom:(O.bottom-E.bottom+S.bottom)/R.y,left:(E.left-O.left+S.left)/R.x,right:(O.right-E.right+S.right)/R.x}}const m9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:c,elements:u,middlewareData:f}=t,{element:h,padding:m=0}=Ei(e,t)||{};if(h==null)return{};const g=sD(m),y={x:r,y:n},x=mj(a),S=hj(x),w=await c.getDimensions(h),_=x==="y",E=_?"top":"left",A=_?"bottom":"right",C=_?"clientHeight":"clientWidth",R=s.reference[S]+s.reference[x]-y[x]-s.floating[S],O=y[x]-s.reference[x],I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let N=I?I[C]:0;(!N||!await(c.isElement==null?void 0:c.isElement(I)))&&(N=u.floating[C]||s.floating[S]);const T=R/2-O/2,U=N/2-w[S]/2-1,G=Cs(g[E],U),B=Cs(g[A],U),K=G,F=N-w[S]-B,oe=N/2-w[S]/2+T,J=Eb(K,oe,F),L=!f.arrow&&Sc(a)!=null&&oe!==J&&s.reference[S]/2-(oe<K?G:B)-w[S]/2<0,D=L?oe<K?oe-K:oe-F:0;return{[x]:y[x]+D,data:{[x]:J,centerOffset:oe-J-D,...L&&{alignmentOffset:D}},reset:L}}}),p9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,..._}=Ei(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=Ni(a),A=Ma(u),C=Ni(u)===u,R=await(f.isRTL==null?void 0:f.isRTL(h.floating)),O=y||(C||!w?[xm(u)]:o9(u)),I=S!=="none";!y&&I&&O.push(...d9(u,w,S,R));const N=[u,...O],T=await td(t,_),U=[];let G=((n=s.flip)==null?void 0:n.overflows)||[];if(m&&U.push(T[E]),g){const oe=s9(a,c,R);U.push(T[oe[0]],T[oe[1]])}if(G=[...G,{placement:a,overflows:U}],!U.every(oe=>oe<=0)){var B,K;const oe=(((B=s.flip)==null?void 0:B.index)||0)+1,J=N[oe];if(J&&(!(g==="alignment"?A!==Ma(J):!1)||G.every(q=>Ma(q.placement)===A?q.overflows[0]>0:!0)))return{data:{index:oe,overflows:G},reset:{placement:J}};let L=(K=G.filter(D=>D.overflows[0]<=0).sort((D,q)=>D.overflows[1]-q.overflows[1])[0])==null?void 0:K.placement;if(!L)switch(x){case"bestFit":{var F;const D=(F=G.filter(q=>{if(I){const re=Ma(q.placement);return re===A||re==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(re=>re>0).reduce((re,X)=>re+X,0)]).sort((q,re)=>q[1]-re[1])[0])==null?void 0:F[0];D&&(L=D);break}case"initialPlacement":L=u;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function DO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function MO(e){return r9.some(t=>e[t]>=0)}const g9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Ei(e,t);switch(n){case"referenceHidden":{const s=await td(t,{...a,elementContext:"reference"}),c=DO(s,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:MO(c)}}}case"escaped":{const s=await td(t,{...a,altBoundary:!0}),c=DO(s,r.floating);return{data:{escapedOffsets:c,escaped:MO(c)}}}default:return{}}}}},oD=new Set(["left","top"]);async function v9(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=Ni(r),u=Sc(r),f=Ma(r)==="y",h=oD.has(c)?-1:1,m=s&&f?-1:1,g=Ei(t,e);let{mainAxis:y,crossAxis:x,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(x=u==="end"?S*-1:S),f?{x:x*m,y:y*h}:{x:y*h,y:x*m}}const y9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:c,middlewareData:u}=t,f=await v9(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:c}}}}},x9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:E,y:A}=_;return{x:E,y:A}}},...f}=Ei(e,t),h={x:r,y:n},m=await td(t,f),g=Ma(Ni(a)),y=fj(g);let x=h[y],S=h[g];if(s){const _=y==="y"?"top":"left",E=y==="y"?"bottom":"right",A=x+m[_],C=x-m[E];x=Eb(A,x,C)}if(c){const _=g==="y"?"top":"left",E=g==="y"?"bottom":"right",A=S+m[_],C=S-m[E];S=Eb(A,S,C)}const w=u.fn({...t,[y]:x,[g]:S});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:s,[g]:c}}}}}},b9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Ei(e,t),m={x:r,y:n},g=Ma(a),y=fj(g);let x=m[y],S=m[g];const w=Ei(u,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const C=y==="y"?"height":"width",R=s.reference[y]-s.floating[C]+_.mainAxis,O=s.reference[y]+s.reference[C]-_.mainAxis;x<R?x=R:x>O&&(x=O)}if(h){var E,A;const C=y==="y"?"width":"height",R=oD.has(Ni(a)),O=s.reference[g]-s.floating[C]+(R&&((E=c.offset)==null?void 0:E[g])||0)+(R?0:_.crossAxis),I=s.reference[g]+s.reference[C]+(R?0:((A=c.offset)==null?void 0:A[g])||0)-(R?_.crossAxis:0);S<O?S=O:S>I&&(S=I)}return{[y]:x,[g]:S}}}},w9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:c,elements:u}=t,{apply:f=()=>{},...h}=Ei(e,t),m=await td(t,h),g=Ni(a),y=Sc(a),x=Ma(a)==="y",{width:S,height:w}=s.floating;let _,E;g==="top"||g==="bottom"?(_=g,E=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,_=y==="end"?"top":"bottom");const A=w-m.top-m.bottom,C=S-m.left-m.right,R=Cs(w-m[_],A),O=Cs(S-m[E],C),I=!t.middlewareData.shift;let N=R,T=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=A),I&&!y){const G=An(m.left,0),B=An(m.right,0),K=An(m.top,0),F=An(m.bottom,0);x?T=S-2*(G!==0||B!==0?G+B:An(m.left,m.right)):N=w-2*(K!==0||F!==0?K+F:An(m.top,m.bottom))}await f({...t,availableWidth:T,availableHeight:N});const U=await c.getDimensions(u.floating);return S!==U.width||w!==U.height?{reset:{rects:!0}}:{}}}};function Ap(){return typeof window<"u"}function Ec(e){return lD(e)?(e.nodeName||"").toLowerCase():"#document"}function Dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Va(e){var t;return(t=(lD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lD(e){return Ap()?e instanceof Node||e instanceof Dn(e).Node:!1}function ya(e){return Ap()?e instanceof Element||e instanceof Dn(e).Element:!1}function Ua(e){return Ap()?e instanceof HTMLElement||e instanceof Dn(e).HTMLElement:!1}function IO(e){return!Ap()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dn(e).ShadowRoot}const j9=new Set(["inline","contents"]);function _d(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=xa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!j9.has(a)}const _9=new Set(["table","td","th"]);function S9(e){return _9.has(Ec(e))}const E9=[":popover-open",":modal"];function Tp(e){return E9.some(t=>{try{return e.matches(t)}catch{return!1}})}const N9=["transform","translate","scale","rotate","perspective"],C9=["transform","translate","scale","rotate","perspective","filter"],O9=["paint","layout","strict","content"];function pj(e){const t=gj(),r=ya(e)?xa(e):e;return N9.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||C9.some(n=>(r.willChange||"").includes(n))||O9.some(n=>(r.contain||"").includes(n))}function A9(e){let t=Os(e);for(;Ua(t)&&!lc(t);){if(pj(t))return t;if(Tp(t))return null;t=Os(t)}return null}function gj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const T9=new Set(["html","body","#document"]);function lc(e){return T9.has(Ec(e))}function xa(e){return Dn(e).getComputedStyle(e)}function kp(e){return ya(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Os(e){if(Ec(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IO(e)&&e.host||Va(e);return IO(t)?t.host:t}function cD(e){const t=Os(e);return lc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ua(t)&&_d(t)?t:cD(t)}function rd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=cD(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),c=Dn(a);if(s){const u=Cb(c);return t.concat(c,c.visualViewport||[],_d(a)?a:[],u&&r?rd(u):[])}return t.concat(a,rd(a,[],r))}function Cb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uD(e){const t=xa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ua(e),s=a?e.offsetWidth:r,c=a?e.offsetHeight:n,u=ym(r)!==s||ym(n)!==c;return u&&(r=s,n=c),{width:r,height:n,$:u}}function vj(e){return ya(e)?e:e.contextElement}function Jl(e){const t=vj(e);if(!Ua(t))return La(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=uD(t);let c=(s?ym(r.width):r.width)/n,u=(s?ym(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const k9=La(0);function dD(e){const t=Dn(e);return!gj()||!t.visualViewport?k9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function P9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Dn(e)?!1:t}function No(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=vj(e);let c=La(1);t&&(n?ya(n)&&(c=Jl(n)):c=Jl(e));const u=P9(s,r,n)?dD(s):La(0);let f=(a.left+u.x)/c.x,h=(a.top+u.y)/c.y,m=a.width/c.x,g=a.height/c.y;if(s){const y=Dn(s),x=n&&ya(n)?Dn(n):n;let S=y,w=Cb(S);for(;w&&n&&x!==S;){const _=Jl(w),E=w.getBoundingClientRect(),A=xa(w),C=E.left+(w.clientLeft+parseFloat(A.paddingLeft))*_.x,R=E.top+(w.clientTop+parseFloat(A.paddingTop))*_.y;f*=_.x,h*=_.y,m*=_.x,g*=_.y,f+=C,h+=R,S=Dn(w),w=Cb(S)}}return bm({width:m,height:g,x:f,y:h})}function Pp(e,t){const r=kp(e).scrollLeft;return t?t.left+r:No(Va(e)).left+r}function fD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Pp(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function R9(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",c=Va(n),u=t?Tp(t.floating):!1;if(n===c||u&&s)return r;let f={scrollLeft:0,scrollTop:0},h=La(1);const m=La(0),g=Ua(n);if((g||!g&&!s)&&((Ec(n)!=="body"||_d(c))&&(f=kp(n)),Ua(n))){const x=No(n);h=Jl(n),m.x=x.x+n.clientLeft,m.y=x.y+n.clientTop}const y=c&&!g&&!s?fD(c,f):La(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+y.x,y:r.y*h.y-f.scrollTop*h.y+m.y+y.y}}function D9(e){return Array.from(e.getClientRects())}function M9(e){const t=Va(e),r=kp(e),n=e.ownerDocument.body,a=An(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=An(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Pp(e);const u=-r.scrollTop;return xa(n).direction==="rtl"&&(c+=An(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:c,y:u}}const LO=25;function I9(e,t){const r=Dn(e),n=Va(e),a=r.visualViewport;let s=n.clientWidth,c=n.clientHeight,u=0,f=0;if(a){s=a.width,c=a.height;const m=gj();(!m||m&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const h=Pp(n);if(h<=0){const m=n.ownerDocument,g=m.body,y=getComputedStyle(g),x=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(n.clientWidth-g.clientWidth-x);S<=LO&&(s-=S)}else h<=LO&&(s+=h);return{width:s,height:c,x:u,y:f}}const L9=new Set(["absolute","fixed"]);function z9(e,t){const r=No(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Ua(e)?Jl(e):La(1),c=e.clientWidth*s.x,u=e.clientHeight*s.y,f=a*s.x,h=n*s.y;return{width:c,height:u,x:f,y:h}}function zO(e,t,r){let n;if(t==="viewport")n=I9(e,r);else if(t==="document")n=M9(Va(e));else if(ya(t))n=z9(t,r);else{const a=dD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return bm(n)}function hD(e,t){const r=Os(e);return r===t||!ya(r)||lc(r)?!1:xa(r).position==="fixed"||hD(r,t)}function $9(e,t){const r=t.get(e);if(r)return r;let n=rd(e,[],!1).filter(u=>ya(u)&&Ec(u)!=="body"),a=null;const s=xa(e).position==="fixed";let c=s?Os(e):e;for(;ya(c)&&!lc(c);){const u=xa(c),f=pj(c);!f&&u.position==="fixed"&&(a=null),(s?!f&&!a:!f&&u.position==="static"&&!!a&&L9.has(a.position)||_d(c)&&!f&&hD(e,c))?n=n.filter(m=>m!==c):a=u,c=Os(c)}return t.set(e,n),n}function U9(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?Tp(t)?[]:$9(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,m)=>{const g=zO(t,m,a);return h.top=An(g.top,h.top),h.right=Cs(g.right,h.right),h.bottom=Cs(g.bottom,h.bottom),h.left=An(g.left,h.left),h},zO(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function B9(e){const{width:t,height:r}=uD(e);return{width:t,height:r}}function q9(e,t,r){const n=Ua(t),a=Va(t),s=r==="fixed",c=No(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const f=La(0);function h(){f.x=Pp(a)}if(n||!n&&!s)if((Ec(t)!=="body"||_d(a))&&(u=kp(t)),n){const x=No(t,!0,s,t);f.x=x.x+t.clientLeft,f.y=x.y+t.clientTop}else a&&h();s&&!n&&a&&h();const m=a&&!n&&!s?fD(a,u):La(0),g=c.left+u.scrollLeft-f.x-m.x,y=c.top+u.scrollTop-f.y-m.y;return{x:g,y,width:c.width,height:c.height}}function yx(e){return xa(e).position==="static"}function $O(e,t){if(!Ua(e)||xa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Va(e)===r&&(r=r.ownerDocument.body),r}function mD(e,t){const r=Dn(e);if(Tp(e))return r;if(!Ua(e)){let a=Os(e);for(;a&&!lc(a);){if(ya(a)&&!yx(a))return a;a=Os(a)}return r}let n=$O(e,t);for(;n&&S9(n)&&yx(n);)n=$O(n,t);return n&&lc(n)&&yx(n)&&!pj(n)?r:n||A9(e)||r}const F9=async function(e){const t=this.getOffsetParent||mD,r=this.getDimensions,n=await r(e.floating);return{reference:q9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function H9(e){return xa(e).direction==="rtl"}const V9={convertOffsetParentRelativeRectToViewportRelativeRect:R9,getDocumentElement:Va,getClippingRect:U9,getOffsetParent:mD,getElementRects:F9,getClientRects:D9,getDimensions:B9,getScale:Jl,isElement:ya,isRTL:H9};function pD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function K9(e,t){let r=null,n;const a=Va(e);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const h=e.getBoundingClientRect(),{left:m,top:g,width:y,height:x}=h;if(u||t(),!y||!x)return;const S=Sh(g),w=Sh(a.clientWidth-(m+y)),_=Sh(a.clientHeight-(g+x)),E=Sh(m),C={rootMargin:-S+"px "+-w+"px "+-_+"px "+-E+"px",threshold:An(0,Cs(1,f))||1};let R=!0;function O(I){const N=I[0].intersectionRatio;if(N!==f){if(!R)return c();N?c(!1,N):n=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!pD(h,e.getBoundingClientRect())&&c(),R=!1}try{r=new IntersectionObserver(O,{...C,root:a.ownerDocument})}catch{r=new IntersectionObserver(O,C)}r.observe(e)}return c(!0),s}function G9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=vj(e),m=a||s?[...h?rd(h):[],...rd(t)]:[];m.forEach(E=>{a&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const g=h&&u?K9(h,r):null;let y=-1,x=null;c&&(x=new ResizeObserver(E=>{let[A]=E;A&&A.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),r()}),h&&!f&&x.observe(h),x.observe(t));let S,w=f?No(e):null;f&&_();function _(){const E=No(e);w&&!pD(w,E)&&r(),w=E,S=requestAnimationFrame(_)}return r(),()=>{var E;m.forEach(A=>{a&&A.removeEventListener("scroll",r),s&&A.removeEventListener("resize",r)}),g?.(),(E=x)==null||E.disconnect(),x=null,f&&cancelAnimationFrame(S)}}const W9=y9,Y9=x9,X9=p9,Z9=w9,Q9=g9,UO=m9,J9=b9,e7=(e,t,r)=>{const n=new Map,a={platform:V9,...r},s={...a.platform,_c:n};return h9(e,t,{...a,platform:s})};var t7=typeof document<"u",r7=function(){},Qh=t7?v.useLayoutEffect:r7;function wm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!wm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function gD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function BO(e,t){const r=gD(e);return Math.round(t*r)/r}function xx(e){const t=v.useRef(e);return Qh(()=>{t.current=e}),t}function n7(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[m,g]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,x]=v.useState(n);wm(y,n)||x(n);const[S,w]=v.useState(null),[_,E]=v.useState(null),A=v.useCallback(q=>{q!==I.current&&(I.current=q,w(q))},[]),C=v.useCallback(q=>{q!==N.current&&(N.current=q,E(q))},[]),R=s||S,O=c||_,I=v.useRef(null),N=v.useRef(null),T=v.useRef(m),U=f!=null,G=xx(f),B=xx(a),K=xx(h),F=v.useCallback(()=>{if(!I.current||!N.current)return;const q={placement:t,strategy:r,middleware:y};B.current&&(q.platform=B.current),e7(I.current,N.current,q).then(re=>{const X={...re,isPositioned:K.current!==!1};oe.current&&!wm(T.current,X)&&(T.current=X,Bo.flushSync(()=>{g(X)}))})},[y,t,r,B,K]);Qh(()=>{h===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[h]);const oe=v.useRef(!1);Qh(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Qh(()=>{if(R&&(I.current=R),O&&(N.current=O),R&&O){if(G.current)return G.current(R,O,F);F()}},[R,O,F,G,U]);const J=v.useMemo(()=>({reference:I,floating:N,setReference:A,setFloating:C}),[A,C]),L=v.useMemo(()=>({reference:R,floating:O}),[R,O]),D=v.useMemo(()=>{const q={position:r,left:0,top:0};if(!L.floating)return q;const re=BO(L.floating,m.x),X=BO(L.floating,m.y);return u?{...q,transform:"translate("+re+"px, "+X+"px)",...gD(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:X}},[r,u,L.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:F,refs:J,elements:L,floatingStyles:D}),[m,F,J,L,D])}const a7=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?UO({element:n.current,padding:a}).fn(r):{}:n?UO({element:n,padding:a}).fn(r):{}}}},i7=(e,t)=>({...W9(e),options:[e,t]}),s7=(e,t)=>({...Y9(e),options:[e,t]}),o7=(e,t)=>({...J9(e),options:[e,t]}),l7=(e,t)=>({...X9(e),options:[e,t]}),c7=(e,t)=>({...Z9(e),options:[e,t]}),u7=(e,t)=>({...Q9(e),options:[e,t]}),d7=(e,t)=>({...a7(e),options:[e,t]});var f7="Arrow",vD=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(rt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});vD.displayName=f7;var h7=vD;function yj(e){const[t,r]=v.useState(void 0);return Hr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let c,u;if("borderBoxSize"in s){const f=s.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var xj="Popper",[yD,xD]=Di(xj),[m7,bD]=yD(xj),wD=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return o.jsx(m7,{scope:t,anchor:n,onAnchorChange:a,children:r})};wD.displayName=xj;var jD="PopperAnchor",_D=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=bD(jD,r),c=v.useRef(null),u=Ct(t,c),f=v.useRef(null);return v.useEffect(()=>{const h=f.current;f.current=n?.current||c.current,h!==f.current&&s.onAnchorChange(f.current)}),n?null:o.jsx(rt.div,{...a,ref:u})});_D.displayName=jD;var bj="PopperContent",[p7,g7]=yD(bj),SD=v.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:S,...w}=e,_=bD(bj,r),[E,A]=v.useState(null),C=Ct(t,W=>A(W)),[R,O]=v.useState(null),I=yj(R),N=I?.width??0,T=I?.height??0,U=n+(s!=="center"?"-"+s:""),G=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(h)?h:[h],K=B.length>0,F={padding:G,boundary:B.filter(y7),altBoundary:K},{refs:oe,floatingStyles:J,placement:L,isPositioned:D,middlewareData:q}=n7({strategy:"fixed",placement:U,whileElementsMounted:(...W)=>G9(...W,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[i7({mainAxis:a+T,alignmentAxis:c}),f&&s7({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?o7():void 0,...F}),f&&l7({...F}),c7({...F,apply:({elements:W,rects:je,availableWidth:z,availableHeight:ee})=>{const{width:ce,height:Y}=je.reference,ae=W.floating.style;ae.setProperty("--radix-popper-available-width",`${z}px`),ae.setProperty("--radix-popper-available-height",`${ee}px`),ae.setProperty("--radix-popper-anchor-width",`${ce}px`),ae.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),R&&d7({element:R,padding:u}),x7({arrowWidth:N,arrowHeight:T}),y&&u7({strategy:"referenceHidden",...F})]}),[re,X]=CD(L),M=Ns(S);Hr(()=>{D&&M?.()},[D,M]);const H=q.arrow?.x,Q=q.arrow?.y,P=q.arrow?.centerOffset!==0,[V,ie]=v.useState();return Hr(()=>{E&&ie(window.getComputedStyle(E).zIndex)},[E]),o.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:D?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(p7,{scope:r,placedSide:re,onArrowChange:O,arrowX:H,arrowY:Q,shouldHideArrow:P,children:o.jsx(rt.div,{"data-side":re,"data-align":X,...w,ref:C,style:{...w.style,animation:D?void 0:"none"}})})})});SD.displayName=bj;var ED="PopperArrow",v7={top:"bottom",right:"left",bottom:"top",left:"right"},ND=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=g7(ED,n),c=v7[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(h7,{...a,ref:r,style:{...a.style,display:"block"}})})});ND.displayName=ED;function y7(e){return e!==null}var x7=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,c=a.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=CD(r),g={start:"0%",center:"50%",end:"100%"}[m],y=(a.arrow?.x??0)+u/2,x=(a.arrow?.y??0)+f/2;let S="",w="";return h==="bottom"?(S=c?g:`${y}px`,w=`${-f}px`):h==="top"?(S=c?g:`${y}px`,w=`${n.floating.height+f}px`):h==="right"?(S=`${-f}px`,w=c?g:`${x}px`):h==="left"&&(S=`${n.floating.width+f}px`,w=c?g:`${x}px`),{data:{x:S,y:w}}}});function CD(e){const[t,r="center"]=e.split("-");return[t,r]}var b7=wD,w7=_D,j7=SD,_7=ND,S7="Portal",wj=v.forwardRef((e,t)=>{const{container:r,...n}=e,[a,s]=v.useState(!1);Hr(()=>s(!0),[]);const c=r||a&&globalThis?.document?.body;return c?vB.createPortal(o.jsx(rt.div,{...n,ref:t}),c):null});wj.displayName=S7;var E7=bp[" useInsertionEffect ".trim().toString()]||Hr;function Co({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,c]=N7({defaultProp:t,onChange:r}),u=e!==void 0,f=u?e:a;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=v.useCallback(m=>{if(u){const g=C7(m)?m(e):m;g!==e&&c.current?.(g)}else s(m)},[u,e,s,c]);return[f,h]}function N7({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),s=v.useRef(t);return E7(()=>{s.current=t},[t]),v.useEffect(()=>{a.current!==r&&(s.current?.(r),a.current=r)},[r,a]),[r,n,s]}function C7(e){return typeof e=="function"}function jj(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var OD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),O7="VisuallyHidden",A7=v.forwardRef((e,t)=>o.jsx(rt.span,{...e,ref:t,style:{...OD,...e.style}}));A7.displayName=O7;var T7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Il=new WeakMap,Eh=new WeakMap,Nh={},bx=0,AD=function(e){return e&&(e.host||AD(e.parentNode))},k7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=AD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},P7=function(e,t,r,n){var a=k7(t,Array.isArray(e)?e:[e]);Nh[r]||(Nh[r]=new WeakMap);var s=Nh[r],c=[],u=new Set,f=new Set(a),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};a.forEach(h);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(u.has(y))m(y);else try{var x=y.getAttribute(n),S=x!==null&&x!=="false",w=(Il.get(y)||0)+1,_=(s.get(y)||0)+1;Il.set(y,w),s.set(y,_),c.push(y),w===1&&S&&Eh.set(y,!0),_===1&&y.setAttribute(r,"true"),S||y.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return m(t),u.clear(),bx++,function(){c.forEach(function(g){var y=Il.get(g)-1,x=s.get(g)-1;Il.set(g,y),s.set(g,x),y||(Eh.has(g)||g.removeAttribute(n),Eh.delete(g)),x||g.removeAttribute(r)}),bx--,bx||(Il=new WeakMap,Il=new WeakMap,Eh=new WeakMap,Nh={})}},TD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=T7(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),P7(n,a,r,"aria-hidden")):function(){return null}},Jh="right-scroll-bar-position",em="width-before-scroll-bar",R7="with-scroll-bars-hidden",D7="--removed-body-scroll-bar-size";function wx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function M7(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var I7=typeof window<"u"?v.useLayoutEffect:v.useEffect,qO=new WeakMap;function L7(e,t){var r=M7(null,function(n){return e.forEach(function(a){return wx(a,n)})});return I7(function(){var n=qO.get(r);if(n){var a=new Set(n),s=new Set(e),c=r.current;a.forEach(function(u){s.has(u)||wx(u,null)}),s.forEach(function(u){a.has(u)||wx(u,c)})}qO.set(r,e)},[e]),r}function z7(e){return e}function $7(e,t){t===void 0&&(t=z7);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(s){for(n=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(s),c=r}var f=function(){var m=c;c=[],m.forEach(s)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return a}function U7(e){e===void 0&&(e={});var t=$7(null);return t.options=Jn({async:!0,ssr:!1},e),t}var kD=function(e){var t=e.sideCar,r=ks(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Jn({},r))};kD.isSideCarExport=!0;function B7(e,t){return e.useMedium(t),kD}var PD=U7(),jx=function(){},Rp=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:jx,onWheelCapture:jx,onTouchMoveCapture:jx}),a=n[0],s=n[1],c=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,x=e.noRelative,S=e.noIsolation,w=e.inert,_=e.allowPinchZoom,E=e.as,A=E===void 0?"div":E,C=e.gapMode,R=ks(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=y,I=L7([r,t]),N=Jn(Jn({},R),a);return v.createElement(v.Fragment,null,m&&v.createElement(O,{sideCar:PD,removeScrollBar:h,shards:g,noRelative:x,noIsolation:S,inert:w,setCallbacks:s,allowPinchZoom:!!_,lockRef:r,gapMode:C}),c?v.cloneElement(v.Children.only(u),Jn(Jn({},N),{ref:I})):v.createElement(A,Jn({},N,{className:f,ref:I}),u))});Rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rp.classNames={fullWidth:em,zeroRight:Jh};var q7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=q7();return t&&e.setAttribute("nonce",t),e}function H7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function V7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var K7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=F7())&&(H7(t,r),V7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},G7=function(){var e=K7();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},RD=function(){var e=G7(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},W7={left:0,top:0,right:0,gap:0},_x=function(e){return parseInt(e||"",10)||0},Y7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[_x(r),_x(n),_x(a)]},X7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W7;var t=Y7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Z7=RD(),ec="data-scroll-locked",Q7=function(e,t,r,n){var a=e.left,s=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(R7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ec,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jh,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(em,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Jh," .").concat(Jh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(em," .").concat(em,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ec,`] {
    `).concat(D7,": ").concat(u,`px;
  }
`)},FO=function(){var e=parseInt(document.body.getAttribute(ec)||"0",10);return isFinite(e)?e:0},J7=function(){v.useEffect(function(){return document.body.setAttribute(ec,(FO()+1).toString()),function(){var e=FO()-1;e<=0?document.body.removeAttribute(ec):document.body.setAttribute(ec,e.toString())}},[])},eK=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;J7();var s=v.useMemo(function(){return X7(a)},[a]);return v.createElement(Z7,{styles:Q7(s,!t,a,r?"":"!important")})},Ob=!1;if(typeof window<"u")try{var Ch=Object.defineProperty({},"passive",{get:function(){return Ob=!0,!0}});window.addEventListener("test",Ch,Ch),window.removeEventListener("test",Ch,Ch)}catch{Ob=!1}var Ll=Ob?{passive:!1}:!1,tK=function(e){return e.tagName==="TEXTAREA"},DD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tK(e)&&r[t]==="visible")},rK=function(e){return DD(e,"overflowY")},nK=function(e){return DD(e,"overflowX")},HO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=MD(e,n);if(a){var s=ID(e,n),c=s[1],u=s[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},aK=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},iK=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},MD=function(e,t){return e==="v"?rK(t):nK(t)},ID=function(e,t){return e==="v"?aK(t):iK(t)},sK=function(e,t){return e==="h"&&t==="rtl"?-1:1},oK=function(e,t,r,n,a){var s=sK(e,window.getComputedStyle(t).direction),c=s*n,u=r.target,f=t.contains(u),h=!1,m=c>0,g=0,y=0;do{if(!u)break;var x=ID(e,u),S=x[0],w=x[1],_=x[2],E=w-_-s*S;(S||E)&&MD(e,u)&&(g+=E,y+=S);var A=u.parentNode;u=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(h=!0),h},Oh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VO=function(e){return[e.deltaX,e.deltaY]},KO=function(e){return e&&"current"in e?e.current:e},lK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uK=0,zl=[];function dK(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(uK++)[0],s=v.useState(RD)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=ej([e.lockRef.current],(e.shards||[]).map(KO),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var E=Oh(w),A=r.current,C="deltaX"in w?w.deltaX:A[0]-E[0],R="deltaY"in w?w.deltaY:A[1]-E[1],O,I=w.target,N=Math.abs(C)>Math.abs(R)?"h":"v";if("touches"in w&&N==="h"&&I.type==="range")return!1;var T=window.getSelection(),U=T&&T.anchorNode,G=U?U===I||U.contains(I):!1;if(G)return!1;var B=HO(N,I);if(!B)return!0;if(B?O=N:(O=N==="v"?"h":"v",B=HO(N,I)),!B)return!1;if(!n.current&&"changedTouches"in w&&(C||R)&&(n.current=O),!O)return!0;var K=n.current||O;return oK(K,_,w,K==="h"?C:R)},[]),f=v.useCallback(function(w){var _=w;if(!(!zl.length||zl[zl.length-1]!==s)){var E="deltaY"in _?VO(_):Oh(_),A=t.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&lK(O.delta,E)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var C=(c.current.shards||[]).map(KO).filter(Boolean).filter(function(O){return O.contains(_.target)}),R=C.length>0?u(_,C[0]):!c.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),h=v.useCallback(function(w,_,E,A){var C={name:w,delta:_,target:E,should:A,shadowParent:fK(E)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(R){return R!==C})},1)},[]),m=v.useCallback(function(w){r.current=Oh(w),n.current=void 0},[]),g=v.useCallback(function(w){h(w.type,VO(w),w.target,u(w,e.lockRef.current))},[]),y=v.useCallback(function(w){h(w.type,Oh(w),w.target,u(w,e.lockRef.current))},[]);v.useEffect(function(){return zl.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Ll),document.addEventListener("touchmove",f,Ll),document.addEventListener("touchstart",m,Ll),function(){zl=zl.filter(function(w){return w!==s}),document.removeEventListener("wheel",f,Ll),document.removeEventListener("touchmove",f,Ll),document.removeEventListener("touchstart",m,Ll)}},[]);var x=e.removeScrollBar,S=e.inert;return v.createElement(v.Fragment,null,S?v.createElement(s,{styles:cK(a)}):null,x?v.createElement(eK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hK=B7(PD,dK);var _j=v.forwardRef(function(e,t){return v.createElement(Rp,Jn({},e,{ref:t,sideCar:hK}))});_j.classNames=Rp.classNames;var mK=[" ","Enter","ArrowUp","ArrowDown"],pK=[" ","Enter"],Oo="Select",[Dp,Mp,gK]=tD(Oo),[Nc]=Di(Oo,[gK,xD]),Ip=xD(),[vK,Rs]=Nc(Oo),[yK,xK]=Nc(Oo),LD=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:c,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:g,disabled:y,required:x,form:S}=e,w=Ip(t),[_,E]=v.useState(null),[A,C]=v.useState(null),[R,O]=v.useState(!1),I=Op(h),[N,T]=Co({prop:n,defaultProp:a??!1,onChange:s,caller:Oo}),[U,G]=Co({prop:c,defaultProp:u,onChange:f,caller:Oo}),B=v.useRef(null),K=_?S||!!_.closest("form"):!0,[F,oe]=v.useState(new Set),J=Array.from(F).map(L=>L.props.value).join(";");return o.jsx(b7,{...w,children:o.jsxs(vK,{required:x,scope:t,trigger:_,onTriggerChange:E,valueNode:A,onValueNodeChange:C,valueNodeHasChildren:R,onValueNodeHasChildrenChange:O,contentId:Ss(),value:U,onValueChange:G,open:N,onOpenChange:T,dir:I,triggerPointerDownPosRef:B,disabled:y,children:[o.jsx(Dp.Provider,{scope:t,children:o.jsx(yK,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(L=>{oe(D=>new Set(D).add(L))},[]),onNativeOptionRemove:v.useCallback(L=>{oe(D=>{const q=new Set(D);return q.delete(L),q})},[]),children:r})}),K?o.jsxs(oM,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:g,value:U,onChange:L=>G(L.target.value),disabled:y,form:S,children:[U===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},J):null]})})};LD.displayName=Oo;var zD="SelectTrigger",$D=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Ip(r),c=Rs(zD,r),u=c.disabled||n,f=Ct(t,c.onTriggerChange),h=Mp(r),m=v.useRef("touch"),[g,y,x]=cM(w=>{const _=h().filter(C=>!C.disabled),E=_.find(C=>C.value===c.value),A=uM(_,w,E);A!==void 0&&c.onValueChange(A.value)}),S=w=>{u||(c.onOpenChange(!0),x()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return o.jsx(w7,{asChild:!0,...s,children:o.jsx(rt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":lM(c.value)?"":void 0,...a,ref:f,onClick:tt(a.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&S(w)}),onPointerDown:tt(a.onPointerDown,w=>{m.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(S(w),w.preventDefault())}),onKeyDown:tt(a.onKeyDown,w=>{const _=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(_&&w.key===" ")&&mK.includes(w.key)&&(S(),w.preventDefault())})})})});$D.displayName=zD;var UD="SelectValue",BD=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:c="",...u}=e,f=Rs(UD,r),{onValueNodeHasChildrenChange:h}=f,m=s!==void 0,g=Ct(t,f.onValueNodeChange);return Hr(()=>{h(m)},[h,m]),o.jsx(rt.span,{...u,ref:g,style:{pointerEvents:"none"},children:lM(f.value)?o.jsx(o.Fragment,{children:c}):s})});BD.displayName=UD;var bK="SelectIcon",qD=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(rt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});qD.displayName=bK;var wK="SelectPortal",FD=e=>o.jsx(wj,{asChild:!0,...e});FD.displayName=wK;var Ao="SelectContent",HD=v.forwardRef((e,t)=>{const r=Rs(Ao,e.__scopeSelect),[n,a]=v.useState();if(Hr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Bo.createPortal(o.jsx(VD,{scope:e.__scopeSelect,children:o.jsx(Dp.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(KD,{...e,ref:t})});HD.displayName=Ao;var ua=10,[VD,Ds]=Nc(Ao),jK="SelectContentImpl",_K=ed("SelectContent.RemoveScroll"),KD=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:w,avoidCollisions:_,...E}=e,A=Rs(Ao,r),[C,R]=v.useState(null),[O,I]=v.useState(null),N=Ct(t,W=>R(W)),[T,U]=v.useState(null),[G,B]=v.useState(null),K=Mp(r),[F,oe]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(C)return TD(C)},[C]),aD();const L=v.useCallback(W=>{const[je,...z]=K().map(Y=>Y.ref.current),[ee]=z.slice(-1),ce=document.activeElement;for(const Y of W)if(Y===ce||(Y?.scrollIntoView({block:"nearest"}),Y===je&&O&&(O.scrollTop=0),Y===ee&&O&&(O.scrollTop=O.scrollHeight),Y?.focus(),document.activeElement!==ce))return},[K,O]),D=v.useCallback(()=>L([T,C]),[L,T,C]);v.useEffect(()=>{F&&D()},[F,D]);const{onOpenChange:q,triggerPointerDownPosRef:re}=A;v.useEffect(()=>{if(C){let W={x:0,y:0};const je=ee=>{W={x:Math.abs(Math.round(ee.pageX)-(re.current?.x??0)),y:Math.abs(Math.round(ee.pageY)-(re.current?.y??0))}},z=ee=>{W.x<=10&&W.y<=10?ee.preventDefault():C.contains(ee.target)||q(!1),document.removeEventListener("pointermove",je),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",z,{capture:!0})}}},[C,q,re]),v.useEffect(()=>{const W=()=>q(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[q]);const[X,M]=cM(W=>{const je=K().filter(ce=>!ce.disabled),z=je.find(ce=>ce.ref.current===document.activeElement),ee=uM(je,W,z);ee&&setTimeout(()=>ee.ref.current.focus())}),H=v.useCallback((W,je,z)=>{const ee=!J.current&&!z;(A.value!==void 0&&A.value===je||ee)&&(U(W),ee&&(J.current=!0))},[A.value]),Q=v.useCallback(()=>C?.focus(),[C]),P=v.useCallback((W,je,z)=>{const ee=!J.current&&!z;(A.value!==void 0&&A.value===je||ee)&&B(W)},[A.value]),V=n==="popper"?Ab:GD,ie=V===Ab?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:w,avoidCollisions:_}:{};return o.jsx(VD,{scope:r,content:C,viewport:O,onViewportChange:I,itemRefCallback:H,selectedItem:T,onItemLeave:Q,itemTextRefCallback:P,focusSelectedItem:D,selectedItemText:G,position:n,isPositioned:F,searchRef:X,children:o.jsx(_j,{as:_K,allowPinchZoom:!0,children:o.jsx(dj,{asChild:!0,trapped:A.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:tt(a,W=>{A.trigger?.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(uj,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:o.jsx(V,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:W=>W.preventDefault(),...E,...ie,onPlaced:()=>oe(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:tt(E.onKeyDown,W=>{const je=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!je&&W.key.length===1&&M(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ee=K().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ce=W.target,Y=ee.indexOf(ce);ee=ee.slice(Y+1)}setTimeout(()=>L(ee)),W.preventDefault()}})})})})})})});KD.displayName=jK;var SK="SelectItemAlignedPosition",GD=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Rs(Ao,r),c=Ds(Ao,r),[u,f]=v.useState(null),[h,m]=v.useState(null),g=Ct(t,N=>m(N)),y=Mp(r),x=v.useRef(!1),S=v.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:E,focusSelectedItem:A}=c,C=v.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&h&&w&&_&&E){const N=s.trigger.getBoundingClientRect(),T=h.getBoundingClientRect(),U=s.valueNode.getBoundingClientRect(),G=E.getBoundingClientRect();if(s.dir!=="rtl"){const ce=G.left-T.left,Y=U.left-ce,ae=N.left-Y,he=N.width+ae,Se=Math.max(he,T.width),Oe=window.innerWidth-ua,Ke=_O(Y,[ua,Math.max(ua,Oe-Se)]);u.style.minWidth=he+"px",u.style.left=Ke+"px"}else{const ce=T.right-G.right,Y=window.innerWidth-U.right-ce,ae=window.innerWidth-N.right-Y,he=N.width+ae,Se=Math.max(he,T.width),Oe=window.innerWidth-ua,Ke=_O(Y,[ua,Math.max(ua,Oe-Se)]);u.style.minWidth=he+"px",u.style.right=Ke+"px"}const B=y(),K=window.innerHeight-ua*2,F=w.scrollHeight,oe=window.getComputedStyle(h),J=parseInt(oe.borderTopWidth,10),L=parseInt(oe.paddingTop,10),D=parseInt(oe.borderBottomWidth,10),q=parseInt(oe.paddingBottom,10),re=J+L+F+q+D,X=Math.min(_.offsetHeight*5,re),M=window.getComputedStyle(w),H=parseInt(M.paddingTop,10),Q=parseInt(M.paddingBottom,10),P=N.top+N.height/2-ua,V=K-P,ie=_.offsetHeight/2,W=_.offsetTop+ie,je=J+L+W,z=re-je;if(je<=P){const ce=B.length>0&&_===B[B.length-1].ref.current;u.style.bottom="0px";const Y=h.clientHeight-w.offsetTop-w.offsetHeight,ae=Math.max(V,ie+(ce?Q:0)+Y+D),he=je+ae;u.style.height=he+"px"}else{const ce=B.length>0&&_===B[0].ref.current;u.style.top="0px";const ae=Math.max(P,J+w.offsetTop+(ce?H:0)+ie)+z;u.style.height=ae+"px",w.scrollTop=je-P+w.offsetTop}u.style.margin=`${ua}px 0`,u.style.minHeight=X+"px",u.style.maxHeight=K+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[y,s.trigger,s.valueNode,u,h,w,_,E,s.dir,n]);Hr(()=>C(),[C]);const[R,O]=v.useState();Hr(()=>{h&&O(window.getComputedStyle(h).zIndex)},[h]);const I=v.useCallback(N=>{N&&S.current===!0&&(C(),A?.(),S.current=!1)},[C,A]);return o.jsx(NK,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:I,children:o.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:o.jsx(rt.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});GD.displayName=SK;var EK="SelectPopperPosition",Ab=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ua,...s}=e,c=Ip(r);return o.jsx(j7,{...c,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ab.displayName=EK;var[NK,Sj]=Nc(Ao,{}),Tb="SelectViewport",WD=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Ds(Tb,r),c=Sj(Tb,r),u=Ct(t,s.onViewportChange),f=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Dp.Slot,{scope:r,children:o.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:tt(a.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=c;if(y?.current&&g){const x=Math.abs(f.current-m.scrollTop);if(x>0){const S=window.innerHeight-ua*2,w=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),E=Math.max(w,_);if(E<S){const A=E+x,C=Math.min(S,A),R=A-C;g.style.height=C+"px",g.style.bottom==="0px"&&(m.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});WD.displayName=Tb;var YD="SelectGroup",[CK,OK]=Nc(YD),AK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ss();return o.jsx(CK,{scope:r,id:a,children:o.jsx(rt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});AK.displayName=YD;var XD="SelectLabel",ZD=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=OK(XD,r);return o.jsx(rt.div,{id:a.id,...n,ref:t})});ZD.displayName=XD;var jm="SelectItem",[TK,QD]=Nc(jm),JD=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...c}=e,u=Rs(jm,r),f=Ds(jm,r),h=u.value===n,[m,g]=v.useState(s??""),[y,x]=v.useState(!1),S=Ct(t,A=>f.itemRefCallback?.(A,n,a)),w=Ss(),_=v.useRef("touch"),E=()=>{a||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(TK,{scope:r,value:n,disabled:a,textId:w,isSelected:h,onItemTextChange:v.useCallback(A=>{g(C=>C||(A?.textContent??"").trim())},[]),children:o.jsx(Dp.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:o.jsx(rt.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:S,onFocus:tt(c.onFocus,()=>x(!0)),onBlur:tt(c.onBlur,()=>x(!1)),onClick:tt(c.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:tt(c.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:tt(c.onPointerDown,A=>{_.current=A.pointerType}),onPointerMove:tt(c.onPointerMove,A=>{_.current=A.pointerType,a?f.onItemLeave?.():_.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(c.onPointerLeave,A=>{A.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:tt(c.onKeyDown,A=>{f.searchRef?.current!==""&&A.key===" "||(pK.includes(A.key)&&E(),A.key===" "&&A.preventDefault())})})})})});JD.displayName=jm;var qu="SelectItemText",eM=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,c=Rs(qu,r),u=Ds(qu,r),f=QD(qu,r),h=xK(qu,r),[m,g]=v.useState(null),y=Ct(t,E=>g(E),f.onItemTextChange,E=>u.itemTextRefCallback?.(E,f.value,f.disabled)),x=m?.textContent,S=v.useMemo(()=>o.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Hr(()=>(w(S),()=>_(S)),[w,_,S]),o.jsxs(o.Fragment,{children:[o.jsx(rt.span,{id:f.textId,...s,ref:y}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Bo.createPortal(s.children,c.valueNode):null]})});eM.displayName=qu;var tM="SelectItemIndicator",rM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return QD(tM,r).isSelected?o.jsx(rt.span,{"aria-hidden":!0,...n,ref:t}):null});rM.displayName=tM;var kb="SelectScrollUpButton",nM=v.forwardRef((e,t)=>{const r=Ds(kb,e.__scopeSelect),n=Sj(kb,e.__scopeSelect),[a,s]=v.useState(!1),c=Ct(t,n.onScrollButtonChange);return Hr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;s(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?o.jsx(iM,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});nM.displayName=kb;var Pb="SelectScrollDownButton",aM=v.forwardRef((e,t)=>{const r=Ds(Pb,e.__scopeSelect),n=Sj(Pb,e.__scopeSelect),[a,s]=v.useState(!1),c=Ct(t,n.onScrollButtonChange);return Hr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;s(m)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?o.jsx(iM,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});aM.displayName=Pb;var iM=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Ds("SelectScrollButton",r),c=v.useRef(null),u=Mp(r),f=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),Hr(()=>{u().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),o.jsx(rt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:tt(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:tt(a.onPointerMove,()=>{s.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:tt(a.onPointerLeave,()=>{f()})})}),kK="SelectSeparator",sM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(rt.div,{"aria-hidden":!0,...n,ref:t})});sM.displayName=kK;var Rb="SelectArrow",PK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ip(r),s=Rs(Rb,r),c=Ds(Rb,r);return s.open&&c.position==="popper"?o.jsx(_7,{...a,...n,ref:t}):null});PK.displayName=Rb;var RK="SelectBubbleInput",oM=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=v.useRef(null),s=Ct(n,a),c=jj(t);return v.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[c,t]),o.jsx(rt.select,{...r,style:{...OD,...r.style},ref:s,defaultValue:t})});oM.displayName=RK;function lM(e){return e===""||e===void 0}function cM(e){const t=Ns(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(c=>{const u=r.current+c;t(u),(function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))})(u)},[t]),s=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function uM(e,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let c=DK(e,Math.max(s,0));a.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function DK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var MK=LD,dM=$D,IK=BD,LK=qD,zK=FD,fM=HD,$K=WD,hM=ZD,mM=JD,UK=eM,BK=rM,pM=nM,gM=aM,vM=sM;const Qe=MK,Je=IK,Ye=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(dM,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(LK,{asChild:!0,children:o.jsx(AP,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=dM.displayName;const yM=v.forwardRef(({className:e,...t},r)=>o.jsx(pM,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(DB,{className:"h-4 w-4"})}));yM.displayName=pM.displayName;const xM=v.forwardRef(({className:e,...t},r)=>o.jsx(gM,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(AP,{className:"h-4 w-4"})}));xM.displayName=gM.displayName;const Xe=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(zK,{children:o.jsxs(fM,{ref:a,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(yM,{}),o.jsx($K,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(xM,{})]})}));Xe.displayName=fM.displayName;const qK=v.forwardRef(({className:e,...t},r)=>o.jsx(hM,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));qK.displayName=hM.displayName;const _e=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(mM,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(BK,{children:o.jsx(AB,{className:"h-4 w-4"})})}),o.jsx(UK,{children:t})]}));_e.displayName=mM.displayName;const FK=v.forwardRef(({className:e,...t},r)=>o.jsx(vM,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",e),...t}));FK.displayName=vM.displayName;var Sx="rovingFocusGroup.onEntryFocus",HK={bubbles:!1,cancelable:!0},Sd="RovingFocusGroup",[Db,bM,VK]=tD(Sd),[KK,Lp]=Di(Sd,[VK]),[GK,WK]=KK(Sd),wM=v.forwardRef((e,t)=>o.jsx(Db.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Db.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(YK,{...e,ref:t})})}));wM.displayName=Sd;var YK=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=e,y=v.useRef(null),x=Ct(t,y),S=Op(s),[w,_]=Co({prop:c,defaultProp:u??null,onChange:f,caller:Sd}),[E,A]=v.useState(!1),C=Ns(h),R=bM(r),O=v.useRef(!1),[I,N]=v.useState(0);return v.useEffect(()=>{const T=y.current;if(T)return T.addEventListener(Sx,C),()=>T.removeEventListener(Sx,C)},[C]),o.jsx(GK,{scope:r,orientation:n,dir:S,loop:a,currentTabStopId:w,onItemFocus:v.useCallback(T=>_(T),[_]),onItemShiftTab:v.useCallback(()=>A(!0),[]),onFocusableItemAdd:v.useCallback(()=>N(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>N(T=>T-1),[]),children:o.jsx(rt.div,{tabIndex:E||I===0?-1:0,"data-orientation":n,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:tt(e.onMouseDown,()=>{O.current=!0}),onFocus:tt(e.onFocus,T=>{const U=!O.current;if(T.target===T.currentTarget&&U&&!E){const G=new CustomEvent(Sx,HK);if(T.currentTarget.dispatchEvent(G),!G.defaultPrevented){const B=R().filter(L=>L.focusable),K=B.find(L=>L.active),F=B.find(L=>L.id===w),J=[K,F,...B].filter(Boolean).map(L=>L.ref.current);SM(J,m)}}O.current=!1}),onBlur:tt(e.onBlur,()=>A(!1))})})}),jM="RovingFocusGroupItem",_M=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:c,...u}=e,f=Ss(),h=s||f,m=WK(jM,r),g=m.currentTabStopId===h,y=bM(r),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:w}=m;return v.useEffect(()=>{if(n)return x(),()=>S()},[n,x,S]),o.jsx(Db.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:o.jsx(rt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:tt(e.onMouseDown,_=>{n?m.onItemFocus(h):_.preventDefault()}),onFocus:tt(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:tt(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=QK(_,m.orientation,m.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=y().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const R=C.indexOf(_.currentTarget);C=m.loop?JK(C,R+1):C.slice(R+1)}setTimeout(()=>SM(C))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:w!=null}):c})})});_M.displayName=jM;var XK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZK(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function QK(e,t,r){const n=ZK(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return XK[n]}function SM(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function JK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var EM=wM,NM=_M;function eG(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Cc=e=>{const{present:t,children:r}=e,n=tG(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),s=Ct(n.ref,rG(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:s}):null};Cc.displayName="Presence";function tG(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),s=v.useRef("none"),c=e?"mounted":"unmounted",[u,f]=eG(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Ah(n.current);s.current=u==="mounted"?h:"none"},[u]),Hr(()=>{const h=n.current,m=a.current;if(m!==e){const y=s.current,x=Ah(h);e?f("MOUNT"):x==="none"||h?.display==="none"?f("UNMOUNT"):f(m&&y!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Hr(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=x=>{const w=Ah(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&w&&(f("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},y=x=>{x.target===t&&(s.current=Ah(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Ah(e){return e?.animationName||"none"}function rG(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ej="Radio",[nG,CM]=Di(Ej),[aG,iG]=nG(Ej),OM=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:c,value:u="on",onCheck:f,form:h,...m}=e,[g,y]=v.useState(null),x=Ct(t,_=>y(_)),S=v.useRef(!1),w=g?h||!!g.closest("form"):!0;return o.jsxs(aG,{scope:r,checked:a,disabled:c,children:[o.jsx(rt.button,{type:"button",role:"radio","aria-checked":a,"data-state":PM(a),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:x,onClick:tt(e.onClick,_=>{a||f?.(),w&&(S.current=_.isPropagationStopped(),S.current||_.stopPropagation())})}),w&&o.jsx(kM,{control:g,bubbles:!S.current,name:n,value:u,checked:a,required:s,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});OM.displayName=Ej;var AM="RadioIndicator",TM=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,s=iG(AM,r);return o.jsx(Cc,{present:n||s.checked,children:o.jsx(rt.span,{"data-state":PM(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})})});TM.displayName=AM;var sG="RadioBubbleInput",kM=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const c=v.useRef(null),u=Ct(c,s),f=jj(r),h=yj(t);return v.useEffect(()=>{const m=c.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&x){const S=new Event("click",{bubbles:n});x.call(m,r),m.dispatchEvent(S)}},[f,r,n]),o.jsx(rt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kM.displayName=sG;function PM(e){return e?"checked":"unchecked"}var oG=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zp="RadioGroup",[lG]=Di(zp,[Lp,CM]),RM=Lp(),DM=CM(),[cG,uG]=lG(zp),MM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:m=!0,onValueChange:g,...y}=e,x=RM(r),S=Op(h),[w,_]=Co({prop:s,defaultProp:a??null,onChange:g,caller:zp});return o.jsx(cG,{scope:r,name:n,required:c,disabled:u,value:w,onValueChange:_,children:o.jsx(EM,{asChild:!0,...x,orientation:f,dir:S,loop:m,children:o.jsx(rt.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:S,...y,ref:t})})})});MM.displayName=zp;var IM="RadioGroupItem",LM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,s=uG(IM,r),c=s.disabled||n,u=RM(r),f=DM(r),h=v.useRef(null),m=Ct(t,h),g=s.value===a.value,y=v.useRef(!1);return v.useEffect(()=>{const x=w=>{oG.includes(w.key)&&(y.current=!0)},S=()=>y.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",S)}},[]),o.jsx(NM,{asChild:!0,...u,focusable:!c,active:g,children:o.jsx(OM,{disabled:c,required:s.required,checked:g,...f,...a,name:s.name,ref:m,onCheck:()=>s.onValueChange(a.value),onKeyDown:tt(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:tt(a.onFocus,()=>{y.current&&h.current?.click()})})})});LM.displayName=IM;var dG="RadioGroupIndicator",zM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=DM(r);return o.jsx(TM,{...a,...n,ref:t})});zM.displayName=dG;var $M=MM,UM=LM,fG=zM;const To=v.forwardRef(({className:e,...t},r)=>o.jsx($M,{className:He("grid gap-2",e),...t,ref:r}));To.displayName=$M.displayName;const qt=v.forwardRef(({className:e,...t},r)=>o.jsx(UM,{ref:r,className:He("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(fG,{className:"flex items-center justify-center",children:o.jsx($B,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qt.displayName=UM.displayName;var $p="Dialog",[BM]=Di($p),[hG,Ca]=BM($p),qM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,u=v.useRef(null),f=v.useRef(null),[h,m]=Co({prop:n,defaultProp:a??!1,onChange:s,caller:$p});return o.jsx(hG,{scope:t,triggerRef:u,contentRef:f,contentId:Ss(),titleId:Ss(),descriptionId:Ss(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:c,children:r})};qM.displayName=$p;var FM="DialogTrigger",HM=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ca(FM,r),s=Ct(t,a.triggerRef);return o.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Oj(a.open),...n,ref:s,onClick:tt(e.onClick,a.onOpenToggle)})});HM.displayName=FM;var Nj="DialogPortal",[mG,VM]=BM(Nj,{forceMount:void 0}),KM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Ca(Nj,t);return o.jsx(mG,{scope:t,forceMount:r,children:v.Children.map(n,c=>o.jsx(Cc,{present:r||s.open,children:o.jsx(wj,{asChild:!0,container:a,children:c})}))})};KM.displayName=Nj;var _m="DialogOverlay",GM=v.forwardRef((e,t)=>{const r=VM(_m,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ca(_m,e.__scopeDialog);return s.modal?o.jsx(Cc,{present:n||s.open,children:o.jsx(gG,{...a,ref:t})}):null});GM.displayName=_m;var pG=ed("DialogOverlay.RemoveScroll"),gG=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ca(_m,r);return o.jsx(_j,{as:pG,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(rt.div,{"data-state":Oj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ko="DialogContent",WM=v.forwardRef((e,t)=>{const r=VM(ko,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ca(ko,e.__scopeDialog);return o.jsx(Cc,{present:n||s.open,children:s.modal?o.jsx(vG,{...a,ref:t}):o.jsx(yG,{...a,ref:t})})});WM.displayName=ko;var vG=v.forwardRef((e,t)=>{const r=Ca(ko,e.__scopeDialog),n=v.useRef(null),a=Ct(t,r.contentRef,n);return v.useEffect(()=>{const s=n.current;if(s)return TD(s)},[]),o.jsx(YM,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tt(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&s.preventDefault()}),onFocusOutside:tt(e.onFocusOutside,s=>s.preventDefault())})}),yG=v.forwardRef((e,t)=>{const r=Ca(ko,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return o.jsx(YM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),YM=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...c}=e,u=Ca(ko,r),f=v.useRef(null),h=Ct(t,f);return aD(),o.jsxs(o.Fragment,{children:[o.jsx(dj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(uj,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Oj(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(xG,{titleId:u.titleId}),o.jsx(wG,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Cj="DialogTitle",XM=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ca(Cj,r);return o.jsx(rt.h2,{id:a.titleId,...n,ref:t})});XM.displayName=Cj;var ZM="DialogDescription",QM=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ca(ZM,r);return o.jsx(rt.p,{id:a.descriptionId,...n,ref:t})});QM.displayName=ZM;var JM="DialogClose",eI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ca(JM,r);return o.jsx(rt.button,{type:"button",...n,ref:t,onClick:tt(e.onClick,()=>a.onOpenChange(!1))})});eI.displayName=JM;function Oj(e){return e?"open":"closed"}var tI="DialogTitleWarning",[jfe,rI]=AV(tI,{contentName:ko,titleName:Cj,docsSlug:"dialog"}),xG=({titleId:e})=>{const t=rI(tI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},bG="DialogDescriptionWarning",wG=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rI(bG).contentName}}.`;return v.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},jG=qM,_G=HM,SG=KM,nI=GM,aI=WM,iI=XM,sI=QM,EG=eI;const rn=jG,wo=_G,NG=SG,oI=v.forwardRef(({className:e,...t},r)=>o.jsx(nI,{ref:r,className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));oI.displayName=nI.displayName;const Ur=v.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(NG,{children:[o.jsx(oI,{}),o.jsxs(aI,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(EG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(wd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ur.displayName=aI.displayName;const Br=({className:e,...t})=>o.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Br.displayName="DialogHeader";const pn=({className:e,...t})=>o.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pn.displayName="DialogFooter";const qr=v.forwardRef(({className:e,...t},r)=>o.jsx(iI,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",e),...t}));qr.displayName=iI.displayName;const Mn=v.forwardRef(({className:e,...t},r)=>o.jsx(sI,{ref:r,className:He("text-sm text-muted-foreground",e),...t}));Mn.displayName=sI.displayName;function CG({isOpen:e,onClose:t,selectedItems:r,menuItems:n,orderType:a,selectedTable:s,customerName:c,isTablesEnabled:u,tables:f,handleAddItem:h,handleRemoveItem:m,setOrderType:g,setSelectedTable:y,setCustomerName:x,handleCreateOrder:S,calculateTotal:w,orderDiscountType:_,orderDiscountValue:E,setOrderDiscountType:A,setOrderDiscountValue:C,calculateSubtotal:R}){const{t:O}=lr(),I=async()=>{await S(),t()};return o.jsx(rn,{open:e,onOpenChange:t,children:o.jsxs(Ur,{className:He("fixed bottom-0 left-0 right-0 top-auto translate-y-0 translate-x-0 max-w-none w-full rounded-t-2xl rounded-b-none max-h-[90vh] flex flex-col p-0","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom"),children:[o.jsx(Br,{className:"px-6 pt-6 pb-4 border-b shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(qr,{className:"text-xl font-bold",children:O("orderSummary")}),o.jsx(xe,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:o.jsx(wd,{className:"h-5 w-5"})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:O("orderType")}),o.jsxs(To,{value:a,onValueChange:N=>g(N),className:"flex gap-4",children:[u&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qt,{value:"dine_in",id:"drawer_dine_in"}),o.jsx(se,{htmlFor:"drawer_dine_in",className:"cursor-pointer",children:O("dineIn")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qt,{value:"takeout",id:"drawer_takeout"}),o.jsx(se,{htmlFor:"drawer_takeout",className:"cursor-pointer",children:O("takeout")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qt,{value:"delivery",id:"drawer_delivery"}),o.jsx(se,{htmlFor:"drawer_delivery",className:"cursor-pointer",children:O("delivery")})]})]})]}),a==="dine_in"&&u&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:O("table")}),o.jsxs(Qe,{value:s,onValueChange:y,children:[o.jsx(Ye,{children:o.jsx(Je,{placeholder:O("selectTable")})}),o.jsx(Xe,{children:f.map(N=>o.jsxs(_e,{value:N.number,children:[N.number," ",N.status==="Occupied"&&`(${O("occupiedAbbr")})`]},N.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:O("customer")}),o.jsx(Ee,{placeholder:O("customerNamePlaceholder"),value:c,onChange:N=>x(N.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"text-sm font-medium",children:"Desconto do Pedido"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Qe,{value:_||"none",onValueChange:N=>{N==="none"?(A(null),C(null)):(A(N),E===null&&C(0))},children:[o.jsx(Ye,{className:"flex-1",children:o.jsx(Je,{placeholder:"Tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem desconto"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),_&&o.jsx(Ee,{type:"number",step:_==="fixed"?"0.01":"0.1",min:"0",max:_==="percentage"?"100":void 0,value:E||"",onChange:N=>C(N.target.value?parseFloat(N.target.value):null),placeholder:_==="fixed"?"0.00":"0",className:"flex-1"})]}),_&&E!==null&&E>0&&o.jsx("p",{className:"text-xs text-muted-foreground",children:_==="fixed"?`Desconto de ${ge(E)}`:`Desconto de ${E}%`})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:O("items")}),r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground space-y-2",children:[o.jsx(tn,{className:"h-8 w-8"}),o.jsx("p",{children:O("noItemsSelected")})]}):o.jsx("div",{className:"space-y-4",children:r.map(N=>{const T=n.find(U=>U.id.toString()===N.id);return o.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg space-y-2",children:[o.jsx("p",{className:"font-medium whitespace-nowrap overflow-hidden text-ellipsis",children:T?.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:ge(T?.price||0)}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>m(N.id),children:o.jsx(Ww,{className:"h-3 w-3"})}),o.jsx("span",{className:"w-8 text-center font-medium",children:N.quantity}),o.jsx(xe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>h(N.id),children:o.jsx(gn,{className:"h-3 w-3"})})]}),o.jsx("div",{className:"font-medium text-right",children:ge((T?.price||0)*N.quantity)})]})]},N.id)})})]})]}),o.jsxs("div",{className:"px-6 py-4 border-t bg-background shrink-0 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsx("span",{children:ge(R())})]}),_&&E!==null&&E>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Desconto:"}),o.jsx("span",{children:_==="fixed"?`-${ge(E)}`:`-${ge(R()*E/100)}`})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[o.jsx("span",{className:"text-lg font-semibold",children:O("total")}),(()=>{const N=R(),T=w();return T<N?o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"line-through text-muted-foreground text-base",children:ge(N)}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:ge(T)})]}):o.jsx("span",{className:"text-2xl font-bold",children:ge(T)})})()]}),o.jsx(xe,{className:"w-full",size:"lg",onClick:I,disabled:a==="dine_in"&&u&&!s||r.length===0,children:O("createOrder")}),(a==="dine_in"&&u&&!s||r.length===0)&&o.jsx("p",{className:"text-sm text-center text-muted-foreground",children:a==="dine_in"&&u&&!s?O("selectATable"):r.length===0?O("addItemsToOrder"):""})]})]})})}function OG({selectedItems:e,menuItems:t,orderType:r,selectedTable:n,customerName:a,isTablesEnabled:s,tables:c,handleAddItem:u,handleRemoveItem:f,setOrderType:h,setSelectedTable:m,setCustomerName:g,handleCreateOrder:y,calculateTotal:x,orderDiscountType:S,orderDiscountValue:w,setOrderDiscountType:_,setOrderDiscountValue:E,calculateSubtotal:A}){const{t:C}=lr(),[R,O]=v.useState(!1);if(e.length===0)return null;const I=e.reduce((N,T)=>N+T.quantity,0);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed bottom-20 left-0 right-0 z-40 md:hidden",children:o.jsx("div",{className:"bg-card border-t border-border shadow-lg mx-4 mb-4 rounded-lg",children:o.jsxs(xe,{onClick:()=>O(!0),className:"w-full h-auto py-4 px-4 flex items-center justify-between rounded-lg",variant:"default",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(tn,{className:"h-5 w-5"}),I>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-primary-foreground text-primary text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:I})]}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsxs("span",{className:"text-sm font-medium",children:[I," ",I===1?C("item"):C("items")||"itens"]}),o.jsx("span",{className:"text-lg font-bold",children:ge(x())})]})]}),o.jsx("span",{className:"text-sm font-medium",children:C("viewDetails")})]})})}),o.jsx(CG,{isOpen:R,onClose:()=>O(!1),selectedItems:e,menuItems:t,orderType:r,selectedTable:n,customerName:a,isTablesEnabled:s,tables:c,handleAddItem:u,handleRemoveItem:f,setOrderType:h,setSelectedTable:m,setCustomerName:g,handleCreateOrder:y,calculateTotal:x,orderDiscountType:S,orderDiscountValue:w,setOrderDiscountType:_,setOrderDiscountValue:E,calculateSubtotal:A})]})}function AG(){const e=pr(),{menuItems:t,tables:r,addOrder:n,generateOrderId:a}=Vr(),{t:s}=lr(),{isTablesEnabled:c}=Na(),[u,f]=v.useState([]),[h,m]=v.useState(""),[g,y]=v.useState(c?"dine_in":"takeout"),[x,S]=v.useState(""),[w,_]=v.useState(""),[E,A]=v.useState("all"),[C,R]=v.useState(null),[O,I]=v.useState(null),N=t.filter(L=>L.price!=null&&L.price>0&&L.status==="Available"),U=["all",...Array.from(new Set(N.map(L=>L.category).filter(L=>L!=null&&L!=="")))],G=N.filter(L=>{const D=L.name.toLowerCase().includes(w.toLowerCase()),q=E==="all"||L.category===E;return D&&q}),B=L=>{f(D=>D.find(re=>re.id===L)?D.map(re=>re.id===L?{...re,quantity:re.quantity+1}:re):[...D,{id:L,quantity:1}])},K=L=>{f(D=>{const q=D.find(re=>re.id===L);return q&&q.quantity>1?D.map(re=>re.id===L?{...re,quantity:re.quantity-1}:re):D.filter(re=>re.id!==L)})},F=()=>u.reduce((L,D)=>{const q=t.find(re=>re.id===D.id);return L+(q?.price||0)*D.quantity},0),oe=()=>{const L=F();if(C&&O!==null&&O>0){if(C==="fixed")return Math.max(0,L-O);if(C==="percentage"){const D=L*O/100;return Math.max(0,L-D)}}return L},J=async()=>{if(g==="dine_in"&&c&&!h||u.length===0)return;const L=new Date,D=String(L.getDate()).padStart(2,"0"),q=String(L.getMonth()+1).padStart(2,"0"),re=L.getFullYear(),X=String(L.getHours()).padStart(2,"0"),M=String(L.getMinutes()).padStart(2,"0"),H=`${D}/${q}/${re} ${X}:${M}`,P={id:await a(),table:g==="dine_in"&&c?h:void 0,orderType:g,customer:x||s("guest"),status:"Pending",items:u.map(V=>{const ie=t.find(W=>W.id===V.id);return{id:ie.id,name:ie.name,price:ie.price,quantity:V.quantity}}),total:oe(),time:H,order_discount_type:C,order_discount_value:O};try{const V=await n(P);V.success?e("/orders"):alert(`Failed to create order: ${V.error}`)}catch{alert("An unexpected error occurred while creating the order.")}};return o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"md:hidden sticky top-0 bg-background/80 backdrop-blur-sm z-10 px-4 py-3 border-b border-border",children:o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(xe,{variant:"ghost",size:"icon",className:"absolute left-0",onClick:()=>e(-1),children:o.jsx($a,{className:"h-5 w-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:s("newOrder")})]})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",style:{maxHeight:"calc(100vh - 2rem)"},children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-6 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s("newOrder")}),o.jsx("p",{className:"text-muted-foreground",children:s("selectItems")})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"relative w-64",children:[o.jsx(Xw,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ee,{placeholder:s("searchPlaceholder"),className:"pl-8",value:w,onChange:L=>_(L.target.value)})]})})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 shrink-0",children:U.map(L=>o.jsx(xe,{variant:E===L?"default":"outline",onClick:()=>A(L),className:"capitalize whitespace-nowrap",children:L},L))}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 overflow-y-auto pr-2 pb-24 md:pb-2",children:G.length===0?o.jsx("div",{className:"col-span-full text-center py-8 text-muted-foreground",children:o.jsx("p",{children:s("noItemsFound")||"Nenhum item encontrado"})}):G.map(L=>o.jsxs(Ne,{className:"cursor-pointer hover:border-primary transition-colors flex flex-col",onClick:()=>B(L.id),children:[o.jsx("div",{className:"h-32 w-full relative shrink-0 bg-muted",children:L.image?o.jsx("img",{src:L.image,alt:L.name,className:"object-cover w-full h-full rounded-t-lg",onError:D=>{D.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&auto=format&fit=crop&q=60"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted rounded-t-lg",children:o.jsx(tn,{className:"h-12 w-12 text-muted-foreground"})})}),o.jsxs("div",{className:"p-3 flex flex-col flex-1",children:[o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsx("h3",{className:"font-semibold line-clamp-1",children:L.name})}),L.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4 flex-1",children:L.description}),L.category&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:L.category}),o.jsxs("div",{className:"mt-auto pt-2 border-t space-y-2",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"font-bold text-base",children:ge(L.price)})}),o.jsxs(xe,{size:"sm",variant:"secondary",className:"w-full",children:[o.jsx(gn,{className:"h-4 w-4 mr-1"})," ",s("addItem")]})]})]})]},L.id))})]}),o.jsx("div",{className:"hidden md:flex w-full md:w-[320px] lg:w-[400px] flex-col gap-6 shrink-0",style:{maxHeight:"calc(100vh - 2rem)"},children:o.jsxs(Ne,{className:"flex-1 flex flex-col overflow-hidden",style:{maxHeight:"100%"},children:[o.jsx(Ae,{className:"shrink-0",children:o.jsx(Te,{children:s("orderSummary")})}),o.jsxs(Ce,{className:"flex-1 flex flex-col overflow-hidden",style:{minHeight:0},children:[o.jsxs("div",{className:"space-y-4 mb-6 shrink-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:s("orderType")}),o.jsxs(To,{defaultValue:c?"dine_in":"takeout",value:g,onValueChange:L=>y(L),className:"flex gap-4",children:[c&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qt,{value:"dine_in",id:"dine_in"}),o.jsx(se,{htmlFor:"dine_in",children:s("dineIn")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qt,{value:"takeout",id:"takeout"}),o.jsx(se,{htmlFor:"takeout",children:s("takeout")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qt,{value:"delivery",id:"delivery"}),o.jsx(se,{htmlFor:"delivery",children:s("delivery")})]})]})]}),g==="dine_in"&&c&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:s("table")}),o.jsxs(Qe,{value:h,onValueChange:m,children:[o.jsx(Ye,{children:o.jsx(Je,{placeholder:s("selectTable")})}),o.jsx(Xe,{children:r.map(L=>o.jsxs(_e,{value:L.number,children:[L.number," ",L.status==="Occupied"&&`(${s("occupiedAbbr")})`]},L.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:s("customer")}),o.jsx(Ee,{placeholder:s("customerNamePlaceholder"),value:x,onChange:L=>S(L.target.value)})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto -mx-4 px-4",children:u.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground space-y-2",children:[o.jsx(tn,{className:"h-8 w-8"}),o.jsx("p",{children:s("noItemsSelected")})]}):o.jsx("div",{className:"space-y-4",children:u.map(L=>{const D=t.find(q=>q.id===L.id);return o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:D?.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:ge(D?.price||0)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>K(L.id),children:o.jsx(Ww,{className:"h-3 w-3"})}),o.jsx("span",{className:"w-4 text-center",children:L.quantity}),o.jsx(xe,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>B(L.id),children:o.jsx(gn,{className:"h-3 w-3"})})]}),o.jsx("div",{className:"font-medium w-16 text-right",children:ge((D?.price||0)*L.quantity)})]},L.id)})})}),o.jsxs("div",{className:"pt-6 mt-6 border-t shrink-0",children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsx(se,{className:"text-sm font-medium",children:"Desconto do Pedido"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Qe,{value:C||"none",onValueChange:L=>{L==="none"?(R(null),I(null)):(R(L),O===null&&I(0))},children:[o.jsx(Ye,{className:"flex-1",children:o.jsx(Je,{placeholder:"Tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem desconto"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),C&&o.jsx(Ee,{type:"number",step:C==="fixed"?"0.01":"0.1",min:"0",max:C==="percentage"?"100":void 0,value:O||"",onChange:L=>I(L.target.value?parseFloat(L.target.value):null),placeholder:C==="fixed"?"0.00":"0",className:"flex-1"})]}),C&&O!==null&&O>0&&o.jsx("p",{className:"text-xs text-muted-foreground",children:C==="fixed"?`Desconto de ${ge(O)}`:`Desconto de ${O}%`})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsx("span",{children:ge(F())})]}),C&&O!==null&&O>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Desconto:"}),o.jsx("span",{children:C==="fixed"?`-${ge(O)}`:`-${ge(F()*O/100)}`})]})]}),o.jsxs("div",{className:"flex justify-between items-center mb-6 pt-2 border-t",children:[o.jsx("span",{className:"text-lg font-semibold",children:s("total")}),(()=>{const L=F(),D=oe();return D<L?o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"line-through text-muted-foreground text-base",children:ge(L)}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:ge(D)})]}):o.jsx("span",{className:"text-2xl font-bold",children:ge(D)})})()]}),o.jsx(xe,{className:"w-full",size:"lg",onClick:J,disabled:g==="dine_in"&&c&&!h||u.length===0,children:s("createOrder")}),(g==="dine_in"&&c&&!h||u.length===0)&&o.jsx("p",{className:"text-sm text-center text-muted-foreground mt-2",children:g==="dine_in"&&c&&!h?s("selectATable"):u.length===0?s("addItemsToOrder"):""})]})]})]})})]}),o.jsx(OG,{selectedItems:u.map(L=>({id:L.id.toString(),quantity:L.quantity})),menuItems:t,orderType:g,selectedTable:h,customerName:x,isTablesEnabled:c,tables:r,handleAddItem:L=>B(parseInt(L)),handleRemoveItem:L=>K(parseInt(L)),setOrderType:y,setSelectedTable:m,setCustomerName:S,handleCreateOrder:J,calculateTotal:oe,orderDiscountType:C,orderDiscountValue:O,setOrderDiscountType:R,setOrderDiscountValue:I,calculateSubtotal:F})]})}function TG(e,t){const r=t==="A4"?"100%":t==="80mm"?"80mm":"58mm",n=t==="A4"?"12px":t==="80mm"?"10px":"9px",a=e.items.map(s=>`
    <tr>
      <td style="padding: 4px 0;">${s.quantity}x ${s.name}</td>
      <td style="text-align: right; padding: 4px 0;">R$ ${(s.price*s.quantity).toFixed(2)}</td>
    </tr>
  `).join("");return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Recibo - ${e.orderId}</title>
      <style>
        @media print {
          @page {
            size: ${t==="A4"?"A4":"auto"};
            margin: ${t==="A4"?"10mm":"5mm"};
          }
          body {
            margin: 0;
            padding: 0;
          }
          .no-print {
            display: none;
          }
        }
        body {
          font-family: 'Courier New', monospace;
          width: ${r};
          max-width: ${r};
          margin: 0 auto;
          padding: 10px;
          font-size: ${n};
          line-height: 1.4;
        }
        .header {
          text-align: center;
          border-bottom: 1px dashed #000;
          padding-bottom: 10px;
          margin-bottom: 10px;
        }
        .header h1 {
          margin: 0;
          font-size: ${t==="A4"?"18px":"14px"};
          font-weight: bold;
        }
        .info {
          margin: 10px 0;
        }
        .info-row {
          display: flex;
          justify-content: space-between;
          margin: 4px 0;
        }
        table {
          width: 100%;
          border-collapse: collapse;
          margin: 10px 0;
        }
        .total {
          border-top: 2px solid #000;
          padding-top: 10px;
          margin-top: 10px;
          font-weight: bold;
          font-size: ${t==="A4"?"14px":"12px"};
        }
        .footer {
          text-align: center;
          border-top: 1px dashed #000;
          padding-top: 10px;
          margin-top: 20px;
          font-size: ${t==="A4"?"10px":"8px"};
        }
        .notes {
          margin-top: 10px;
          padding: 8px;
          background: #f5f5f5;
          border-radius: 4px;
        }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>RECIBO</h1>
        <p>Pedido #${e.orderId}</p>
      </div>
      
      <div class="info">
        <div class="info-row">
          <span>Cliente:</span>
          <span>${e.customer}</span>
        </div>
        ${e.table?`
        <div class="info-row">
          <span>Mesa:</span>
          <span>${e.table}</span>
        </div>
        `:""}
        ${e.orderType?`
        <div class="info-row">
          <span>Tipo:</span>
          <span>${e.orderType==="dine_in"?"Mesa":e.orderType==="takeout"?"Retirada":"Delivery"}</span>
        </div>
        `:""}
        <div class="info-row">
          <span>Data:</span>
          <span>${e.date} ${e.time}</span>
        </div>
      </div>

      <table>
        <thead>
          <tr>
            <th style="text-align: left; border-bottom: 1px solid #000; padding-bottom: 5px;">Item</th>
            <th style="text-align: right; border-bottom: 1px solid #000; padding-bottom: 5px;">Total</th>
          </tr>
        </thead>
        <tbody>
          ${a}
        </tbody>
      </table>

      <div class="total">
        <div class="info-row">
          <span>Subtotal:</span>
          <span>R$ ${e.subtotal.toFixed(2)}</span>
        </div>
        <div class="info-row" style="font-size: ${t==="A4"?"16px":"14px"};">
          <span>TOTAL:</span>
          <span>R$ ${e.total.toFixed(2)}</span>
        </div>
        ${e.paymentMethod?`
        <div class="info-row" style="margin-top: 8px;">
          <span>Pagamento:</span>
          <span>${e.paymentMethod}</span>
        </div>
        `:""}
      </div>

      ${e.notes?`
      <div class="notes">
        <strong>Observaes:</strong><br>
        ${e.notes}
      </div>
      `:""}

      <div class="footer">
        <p>Obrigado pela preferncia!</p>
        <p>${new Date().toLocaleString("pt-BR")}</p>
      </div>
    </body>
    </html>
  `}async function kG(e,t){if(!t.enabled)return console.warn("Printer is disabled in settings"),!1;try{switch(t.type){case"browser":return Ex(e,t);case"network":return await PG(e,t);case"usb":return console.warn("USB printing not yet implemented, falling back to browser print"),Ex(e,t);default:return Ex(e,t)}}catch(r){return console.error("Error printing receipt:",r),!1}}function Ex(e,t){try{const r=TG(e,t.paperSize),n=window.open("","_blank","width=800,height=600");return n?(n.document.write(r),n.document.close(),n.onload=()=>{setTimeout(()=>{n.print()},250)},!0):(alert("Por favor, permita pop-ups para imprimir o recibo"),!1)}catch(r){return console.error("Error in browser print:",r),!1}}async function PG(e,t){try{if(!t.ipAddress||!t.port)return console.error("IP e porta da impressora no configurados"),alert("Por favor, configure o IP e porta da impressora nas configuraes"),!1;let r="raw";t.port===631||t.port===80||t.port===443?r="ipp":t.port===515&&(r="lpr");const s=await(await fetch("http://localhost:3000/api/printer/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printerConfig:{ipAddress:t.ipAddress,port:t.port,protocol:r,paperSize:t.paperSize},printData:e})})).json();return s.success?!0:(console.error("Erro ao imprimir:",s.message),alert(`Erro ao imprimir: ${s.message}`),!1)}catch(r){return console.error("Error in network print:",r),alert("Erro de conexo com o servidor de impresso. Verifique se o backend est rodando."),!1}}async function RG(e,t,r="raw"){try{return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)?t<1||t>65535?{success:!1,message:"Porta invlida (deve estar entre 1 e 65535)"}:await(await fetch("http://localhost:3000/api/printer/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ipAddress:e,port:t,protocol:r})})).json():{success:!1,message:"Endereo IP invlido"}}catch(n){return console.error("Error testing network printer:",n),{success:!1,message:`Erro de conexo: ${n instanceof Error?n.message:"No foi possvel conectar ao servidor de impresso. Verifique se o backend est rodando."}`}}}function DG(){const{id:e}=jp(),t=pr(),{orders:r,updateOrderStatus:n,processPayment:a,menuItems:s,cancelUnpaidOrder:c}=Vr(),{t:u}=lr(),{printerSettings:f,settings:h}=Na(),{hasPermission:m}=Ea(),[g,y]=v.useState(""),[x,S]=v.useState(!1),[w,_]=v.useState(!1),[E,A]=v.useState(""),[C,R]=v.useState(""),[O,I]=v.useState(null),[N,T]=v.useState("Cash"),[U,G]=v.useState([]),[B,K]=v.useState(null),[F,oe]=v.useState(null),[J,L]=v.useState(null),D=r.find(z=>z.id===e);v.useEffect(()=>{if(!D)return;(async()=>{const ee=D.items.map(ae=>ae.id).filter(ae=>ae!=null);if(ee.length===0)return;const{data:ce,error:Y}=await we.from("products").select("*").in("id",ee);!Y&&ce&&G(ce)})()},[D,Jr]);const q=v.useMemo(()=>{if(!D)return 0;let z=0;for(const ee of D.items){const ce=U.find(ct=>ct.id===ee.id),Y=s.find(ct=>ct.id===ee.id),ae=ee.price,he=ce?.discount_type||Y?.discount_type,Se=ce?.discount_value||Y?.discount_value,Oe=ce?.discount_applies_to||Y?.discount_applies_to,Ke=Xh(ae,he,Se,Oe,N);z+=Ke*ee.quantity}return z},[D,U,s,N]),re=v.useMemo(()=>{if(!D)return 0;let z=q;if(D.order_discount_type&&D.order_discount_value!==null&&D.order_discount_value!==void 0&&D.order_discount_value>0){if(D.order_discount_type==="fixed")z=Math.max(0,z-D.order_discount_value);else if(D.order_discount_type==="percentage"){const ee=z*D.order_discount_value/100;z=Math.max(0,z-ee)}}return z},[D,q]),X=v.useMemo(()=>{if(!D)return 0;let z=re;if(B&&F!==null&&F>0){if(B==="fixed")z=Math.max(0,z-F);else if(B==="percentage"){const ee=z*F/100;z=Math.max(0,z-ee)}}return z},[D,re,B,F]);if(v.useEffect(()=>{if(B&&F!==null&&F>0&&D){const z=Da(B,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);z.isValid?L(null):L(z.errorMessage||null)}else L(null)},[B,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re,D]),!D)return o.jsx("div",{className:"p-8 text-center",children:u("orderNotFound")});const M=z=>{const ee=["Pending","Preparing","Ready","Delivered","Closed"],ce=ee.indexOf(z);return ee[ce+1]},H=async()=>{const z=M(D.status);if(z){const ee=await n(D.id,z);ee.success||alert(`Failed to update status: ${ee.error}`)}},Q=async()=>{if(B&&F!==null&&F>0&&D){const ee=Da(B,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);if(!ee.isValid){alert(ee.errorMessage||"Limite de desconto maior do que o permitido.");return}}const z=await a(D.id,N);z.success?S(!1):alert(`Failed to process payment: ${z.error}`)},P=async()=>{if(!D)return;if(!E){I("Por favor, insira a senha de admin/gerente");return}if(!C){I("Por favor, selecione uma justificativa para o cancelamento");return}I(null);const z=await c(D.id,E,C);z.success?(_(!1),A(""),R(""),t("/orders")):I(z.error||"Erro ao cancelar pedido")},V=async()=>{if(f.enabled){const z={orderId:D.id,customer:D.customer,table:D.table,orderType:D.orderType,items:D.items.map(ce=>({name:ce.name,quantity:ce.quantity,price:ce.price})),subtotal:D.total,total:D.total,paymentMethod:D.paymentMethod,notes:g||void 0,date:new Date().toLocaleDateString("pt-BR"),time:D.time||new Date().toLocaleTimeString("pt-BR")};await kG(z,f)||alert("Erro ao imprimir recibo. Verifique as configuraes da impressora.")}else window.print()},ie=z=>{switch(z){case"Pending":return"bg-yellow-500";case"Preparing":return"bg-yellow-500";case"Ready":return"bg-green-500";case"Delivered":return"bg-blue-500";case"Closed":return"bg-gray-500";default:return"bg-gray-500"}},W=z=>{switch(z){case"Ready":case"Delivered":case"Closed":return o.jsx(ga,{className:"h-6 w-6 text-white"});default:return o.jsx(Qr,{className:"h-6 w-6 text-white"})}},je=(z,ee="h-4 w-4")=>{switch(z){case"Cash":return o.jsx(Zl,{className:ee});case"Card":return o.jsx(po,{className:ee});case"Voucher":return o.jsx(Xl,{className:ee});case"PIX":return o.jsx(Yl,{className:ee})}};return o.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"text-gray-500 hover:text-gray-800 text-2xl",onClick:()=>t("/orders"),children:""}),o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 font-extrabold",children:[u("orderId"),": ",D.id]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-2 ml-10",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Qr,{className:"h-4 w-4"}),o.jsx("span",{children:D.time})]}),o.jsx("span",{children:""}),o.jsx("span",{children:D.table?`${u("table")} ${D.table}`:D.orderType?u(D.orderType==="dine_in"?"dineIn":D.orderType):u("dineIn")}),o.jsx("span",{children:""}),o.jsxs("span",{children:[u("customer"),": ",D.customer]}),D.source==="ifood"&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx(_b,{ifoodStatus:D.ifood_status})]}),D.status==="Closed"&&D.paymentMethod&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[je(D.paymentMethod),o.jsxs("span",{children:[u("paymentMethod"),": ",u(D.paymentMethod.toLowerCase())]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-4 md:mt-0 w-full md:w-auto",children:[o.jsxs(xe,{variant:"outline",onClick:V,className:"flex-1 md:flex-none flex items-center justify-center gap-2 hover:bg-gray-200 text-gray-700 border-gray-200 bg-gray-100",children:[o.jsx(RP,{className:"h-5 w-5"}),u("printReceipt")]}),D.status!=="Closed"&&D.status!=="Cancelled"&&o.jsxs(o.Fragment,{children:[D.status!=="Delivered"&&o.jsxs(xe,{onClick:H,className:"flex-1 md:flex-none bg-orange-500 hover:bg-opacity-90 text-white",children:[u("updateStatus")," (",u(M(D.status)?.toLowerCase())||M(D.status),")"]}),m(["admin","gerente"])&&o.jsxs(rn,{open:w,onOpenChange:_,children:[o.jsx(wo,{asChild:!0,children:o.jsxs(xe,{className:"flex-1 md:flex-none bg-red-600 hover:bg-red-700 text-white",children:[o.jsx(wd,{className:"h-4 w-4 mr-2"}),u("cancelOrder")]})}),o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:u("cancelOrderConfirmation")}),o.jsx(Mn,{children:u("cancelOrderDescription")||"Esta ao no pode ser desfeita. O estoque ser devolvido automaticamente."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:u("enterManagerPassword")}),o.jsx(Ee,{type:"password",value:E,onChange:z=>{A(z.target.value),I(null)},placeholder:u("enterManagerPassword"),className:O?"border-red-500":""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:u("cancellationReason")}),o.jsxs(Qe,{value:C,onValueChange:z=>{R(z),I(null)},children:[o.jsx(Ye,{className:O&&!C?"border-red-500":"",children:o.jsx(Je,{placeholder:u("selectCancellationReason")||"Selecione uma justificativa"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"cliente desistiu",children:"Cliente desistiu"}),o.jsx(_e,{value:"problema no pagamento do cliente",children:"Problema no pagamento do cliente"}),o.jsx(_e,{value:"mercadoria danificada",children:"Mercadoria danificada"}),o.jsx(_e,{value:"sem estoque",children:"Sem estoque"})]})]})]}),O&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:O})]}),o.jsxs(pn,{children:[o.jsx(xe,{variant:"outline",onClick:()=>{_(!1),A(""),R(""),I(null)},children:u("cancel")||"Cancelar"}),o.jsx(xe,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:u("confirmCancel")||"Confirmar Cancelamento"})]})]})]}),o.jsxs(rn,{open:x,onOpenChange:S,children:[o.jsx(wo,{asChild:!0,children:o.jsx(xe,{className:"flex-1 md:flex-none bg-orange-600 hover:bg-orange-700 text-white",children:u("payNow")})}),o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:u("confirmPayment")}),o.jsxs(Mn,{children:[u("selectPaymentMethod")," ",ge(X),"."]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:u("paymentMethod")}),o.jsxs(To,{value:N,onValueChange:z=>T(z),className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Zl,{className:"mb-3 h-6 w-6"}),u("cash")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(po,{className:"mb-3 h-6 w-6"}),u("card")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Xl,{className:"mb-3 h-6 w-6"}),u("voucher")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Yl,{className:"mb-3 h-6 w-6"}),u("pix")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Desconto no Pagamento"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Qe,{value:B||"none",onValueChange:z=>{if(z==="none")K(null),oe(null),L(null);else if(K(z),F===null&&oe(0),F!==null&&F>0&&D){const ee=Da(z,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(ee.isValid?null:ee.errorMessage||null)}},children:[o.jsx(Ye,{className:"flex-1",children:o.jsx(Je,{placeholder:"Tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem desconto"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),B&&o.jsx(Ee,{type:"number",step:B==="fixed"?"0.01":"0.1",min:"0",max:B==="percentage"?"100":void 0,value:F||"",onChange:z=>{const ee=z.target.value,ce=ee?parseFloat(ee):null;if(oe(ce),ce!==null&&ce>0&&D){const Y=Da(B,ce,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(Y.isValid?null:Y.errorMessage||null)}else L(null)},placeholder:B==="fixed"?"0.00":"0",className:`flex-1 ${J?"border-red-500":""}`})]}),J&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:J})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsx("span",{children:ge(q)})]}),D.order_discount_type&&D.order_discount_value!==null&&D.order_discount_value!==void 0&&D.order_discount_value>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Desconto do Pedido:"}),o.jsx("span",{children:D.order_discount_type==="fixed"?`-${ge(D.order_discount_value)}`:`-${ge(q*D.order_discount_value/100)}`})]}),B&&F!==null&&F>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Desconto no Pagamento:"}),o.jsx("span",{children:B==="fixed"?`-${ge(F)}`:`-${ge(re*F/100)}`})]}),o.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[o.jsx("span",{children:"Total:"}),X<re?o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(re)}),o.jsx("span",{className:"text-green-600 text-lg",children:ge(X)})]}):o.jsx("span",{children:ge(X)})]})]})]}),o.jsx(pn,{children:o.jsx(xe,{onClick:Q,children:u("confirmPayment")})})]})]})]})]})]}),o.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 flex flex-col space-y-6",children:[o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[o.jsx("h2",{className:"text-base font-medium text-gray-700 mb-1",children:u("total")}),X<D.total?o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"line-through text-muted-foreground text-xl",children:ge(D.total)}),o.jsx("span",{className:"text-4xl font-bold text-green-600",children:ge(X)})]}):o.jsx("p",{className:"text-4xl font-bold text-gray-900",children:ge(D.total)})]}),o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[o.jsxs("h3",{className:"text-base font-medium text-gray-700 mb-3",children:[u("status")," ",u("orderType")]}),o.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-lg font-semibold text-base text-white ${ie(D.status)}`,children:[W(D.status),o.jsx("span",{children:u(D.status.toLowerCase())||D.status})]}),D.status==="Closed"&&D.paymentMethod&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[u("paymentMethod"),":"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[je(D.paymentMethod,"h-4 w-4 text-gray-600"),o.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u(D.paymentMethod.toLowerCase())})]})]})})]}),o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-4",children:u("orderSummary")}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:u("subtotal")}),o.jsx("span",{children:ge(D.items.reduce((z,ee)=>z+ee.price*ee.quantity,0))})]}),D.order_discount_type&&D.order_discount_value!==null&&D.order_discount_value!==void 0&&D.order_discount_value>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:"Desconto do Pedido:"}),o.jsx("span",{children:D.order_discount_type==="fixed"?`-${ge(D.order_discount_value||0)}`:`-${ge(D.items.reduce((z,ee)=>z+ee.price*ee.quantity,0)*(D.order_discount_value||0)/100)}`})]}),(()=>{const z=D.items.reduce((ae,he)=>ae+he.price*he.quantity,0),ee=D.order_discount_type&&D.order_discount_value!==null&&D.order_discount_value!==void 0&&D.order_discount_value>0?D.order_discount_type==="fixed"?D.order_discount_value:z*D.order_discount_value/100:0,ce=z-ee;return X<ce?o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:"Desconto por Pagamento:"}),o.jsxs("span",{children:["-",ge(ce-X)]})]}):null})(),o.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[o.jsxs("span",{children:[u("total"),":"]}),X<D.total?o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(D.total)}),o.jsx("span",{className:"text-green-600",children:ge(X)})]}):o.jsx("span",{children:ge(D.total)})]})]}),D.status==="Closed"&&D.paymentMethod&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[u("paymentMethod"),":"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[je(D.paymentMethod,"h-4 w-4 text-gray-600"),o.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u(D.paymentMethod.toLowerCase())})]})]})}),D.status!=="Closed"&&o.jsxs(rn,{open:x,onOpenChange:S,children:[o.jsx(wo,{asChild:!0,children:o.jsxs(xe,{className:"w-full bg-orange-600 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center space-x-2 text-base hover:bg-orange-700 transition-colors",children:[o.jsx(po,{className:"h-5 w-5"}),o.jsx("span",{children:u("payNow")})]})}),o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:u("confirmPayment")}),o.jsxs(Mn,{children:[u("selectPaymentMethod")," ",ge(X),"."]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:u("paymentMethod")}),o.jsxs(To,{value:N,onValueChange:z=>T(z),className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Zl,{className:"mb-3 h-6 w-6"}),u("cash")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(po,{className:"mb-3 h-6 w-6"}),u("card")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Xl,{className:"mb-3 h-6 w-6"}),u("voucher")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Yl,{className:"mb-3 h-6 w-6"}),u("pix")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Desconto no Pagamento"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Qe,{value:B||"none",onValueChange:z=>{if(z==="none")K(null),oe(null),L(null);else if(K(z),F===null&&oe(0),F!==null&&F>0&&D){const ee=Da(z,F,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(ee.isValid?null:ee.errorMessage||null)}},children:[o.jsx(Ye,{className:"flex-1",children:o.jsx(Je,{placeholder:"Tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem desconto"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),B&&o.jsx(Ee,{type:"number",step:B==="fixed"?"0.01":"0.1",min:"0",max:B==="percentage"?"100":void 0,value:F||"",onChange:z=>{const ee=z.target.value,ce=ee?parseFloat(ee):null;if(oe(ce),ce!==null&&ce>0&&D){const Y=Da(B,ce,h.paymentDiscountLimitType,h.paymentDiscountLimitValue,re);L(Y.isValid?null:Y.errorMessage||null)}else L(null)},placeholder:B==="fixed"?"0.00":"0",className:`flex-1 ${J?"border-red-500":""}`})]}),J&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:J})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsx("span",{children:ge(q)})]}),D.order_discount_type&&D.order_discount_value!==null&&D.order_discount_value!==void 0&&D.order_discount_value>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Desconto do Pedido:"}),o.jsx("span",{children:D.order_discount_type==="fixed"?`-${ge(D.order_discount_value)}`:`-${ge(q*D.order_discount_value/100)}`})]}),B&&F!==null&&F>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Desconto no Pagamento:"}),o.jsx("span",{children:B==="fixed"?`-${ge(F)}`:`-${ge(re*F/100)}`})]}),o.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[o.jsx("span",{children:"Total:"}),X<re?o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(re)}),o.jsx("span",{className:"text-green-600 text-lg",children:ge(X)})]}):o.jsx("span",{children:ge(X)})]})]})]}),o.jsx(pn,{children:o.jsx(xe,{onClick:Q,children:u("confirmPayment")})})]})]})]}),D.source==="ifood"&&D.ifood_order_id&&o.jsxs("section",{className:"bg-blue-50 p-6 rounded-xl shadow-md border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(tn,{className:"h-5 w-5 text-blue-600"}),o.jsx("h3",{className:"text-base font-medium text-blue-900",children:"Informaes do iFood"})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-blue-700 font-medium",children:"ID do Pedido iFood:"}),o.jsx("span",{className:"text-blue-900 font-mono",children:D.ifood_order_id})]}),D.ifood_status&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-blue-700 font-medium",children:"Status no iFood:"}),o.jsx(_b,{ifoodStatus:D.ifood_status})]})]})]}),o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[o.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:u("notes")}),o.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition text-sm",placeholder:u("typeNote"),rows:4,value:g,onChange:z=>y(z.target.value)}),o.jsx(xe,{className:"w-full mt-3 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-100 transition-colors bg-white text-gray-700",disabled:!g.trim(),children:u("addNote")})]})]}),o.jsx("section",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md h-full border border-gray-100",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5",children:u("items")}),o.jsx("ul",{className:"space-y-6",children:D.items.map((z,ee)=>o.jsxs("li",{className:"flex items-center pb-4 border-b border-gray-200 last:border-b-0",children:[o.jsx("div",{className:"flex items-center justify-center h-8 w-8 bg-gray-100 rounded-full text-sm font-semibold text-gray-600 mr-4",children:ee+1}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-medium text-gray-900",children:z.name}),o.jsx("p",{className:"text-sm text-gray-600",children:ge(z.price)})]}),o.jsxs("p",{className:"text-gray-900 text-sm font-medium",children:[z.quantity,"x ",ge(z.price*z.quantity)]})]},z.id))})]})})]})]})}function MG(){const e=pr(),{tables:t,orders:r,addTable:n,isLoading:a,error:s}=Vr(),{t:c}=lr(),[u,f]=v.useState(!1),[h,m]=v.useState(""),[g,y]=v.useState(!1),[x,S]=v.useState(""),w=async()=>{if(S(""),h.trim()){y(!0);try{const E=await n(h);E.success?(m(""),f(!1)):S(E.error||"Failed to add table")}catch{S("An unexpected error occurred")}finally{y(!1)}}},_=E=>{const A=r.filter(R=>R.table===E&&R.status!=="Closed"),C=A.reduce((R,O)=>R+O.total,0);return{count:A.length,total:C}};return a?o.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading tables..."}):s?o.jsxs("div",{className:"text-destructive text-center p-8",children:["Error loading tables: ",s]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:c("tables")}),o.jsx("p",{className:"text-muted-foreground",children:c("manageTables")})]}),o.jsxs(rn,{open:u,onOpenChange:f,children:[o.jsx(wo,{asChild:!0,children:o.jsxs(xe,{children:[o.jsx(gn,{className:"mr-2 h-4 w-4"})," ",c("addTable")]})}),o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:c("addNewTable")}),o.jsx(Mn,{children:c("enterTableNumber")})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[x&&o.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:x}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(se,{htmlFor:"number",className:"text-right",children:c("number")}),o.jsx(Ee,{id:"number",value:h,onChange:E=>m(E.target.value),className:"col-span-3",placeholder:"e.g. T10"})]})]}),o.jsx(pn,{children:o.jsx(xe,{onClick:w,disabled:g,children:g?"Adding...":c("addTable")})})]})]})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(E=>{const A=_(E.number);return o.jsxs(Ne,{className:`cursor-pointer hover:border-primary transition-colors ${E.status==="Occupied"?"border-orange-500/50 bg-orange-500/5":""}`,onClick:()=>e(`/tables/${E.id}`),children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-xl font-bold",children:E.number}),o.jsx(Qt,{variant:E.status==="Available"?"success":E.status==="Occupied"?"destructive":"secondary",children:c(E.status.toLowerCase())||E.status})]}),o.jsx(Ce,{children:o.jsx("div",{className:"mt-4 space-y-2",children:E.status==="Occupied"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:c("activeOrders")}),o.jsx("span",{className:"font-medium",children:A.count})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:c("currentBill")}),o.jsx("span",{className:"font-bold text-lg",children:ge(A.total)})]})]}):o.jsx("div",{className:"text-sm text-muted-foreground py-2",children:c("readyForCustomers")})})})]},E.id)})})]})}function IG(){const{id:e}=jp(),t=pr(),{tables:r,orders:n}=Vr(),{t:a}=lr(),s=r.find(u=>u.id===Number(e)),c=n.filter(u=>u.table===s?.number);return s?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:[a("tableDetails")," - ",s.number]}),o.jsx("p",{className:"text-muted-foreground",children:a("manageOrders")})]}),o.jsxs(xe,{variant:"outline",onClick:()=>t("/tables"),children:[o.jsx($a,{className:"mr-2 h-4 w-4"}),a("back")]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:a("tableInfo")})}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium",children:a("status")}),o.jsx(Qt,{variant:s.status==="Available"?"success":s.status==="Occupied"?"destructive":"secondary",children:a(s.status.toLowerCase())||s.status})]}),s.status==="Occupied"&&o.jsx("div",{className:"pt-4",children:o.jsxs(xe,{className:"w-full",onClick:()=>t(`/tables/${s.id}/bill`),children:[o.jsx(lq,{className:"mr-2 h-4 w-4"}),a("viewBill")]})})]})]}),o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:a("activeOrders")})}),o.jsx(Ce,{children:c.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("noOrdersFound")}):o.jsx("div",{className:"space-y-4",children:c.map(u=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>t(`/orders/${u.id}`),children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:u.id}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.items.length," ",a("items"),"  ",u.time.split(" ")[1]]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Qt,{variant:"outline",children:a(u.status.toLowerCase())||u.status}),o.jsx("div",{className:"font-bold w-20 text-right",children:ge(u.total)})]})]},u.id))})})]})]})]}):o.jsx("div",{className:"p-8 text-center",children:a("tableNotFound")})}function LG({promotions:e,onPromotionClick:t}){const[r,n]=v.useState(0);if(v.useEffect(()=>{if(e.length<=1)return;const m=setInterval(()=>{n(g=>(g+1)%e.length)},5e3);return()=>clearInterval(m)},[e.length]),!e||e.length===0)return null;const a=e[r],s=()=>{n(m=>(m-1+e.length)%e.length)},c=()=>{n(m=>(m+1)%e.length)},u=m=>{n(m)},h=a.discount_percentage?`${a.discount_percentage}% OFF`:a.discount_amount?`${ge(a.discount_amount)} OFF`:null;return o.jsxs("section",{"aria-label":"Carrossel de Promoes",className:"relative group",children:[e.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{"aria-label":"Slide Anterior",onClick:s,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center shadow-md hover:bg-white transition-colors cursor-pointer",children:o.jsx(Gw,{className:"w-5 h-5 text-gray-700"})}),o.jsx("button",{"aria-label":"Prximo Slide",onClick:c,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center shadow-md hover:bg-white transition-colors cursor-pointer",children:o.jsx(Kw,{className:"w-5 h-5 text-gray-700"})})]}),o.jsxs("div",{className:"bg-black rounded-2xl overflow-hidden flex flex-col md:flex-row h-auto md:h-[340px]",children:[o.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center w-full md:w-1/2 relative z-0",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white leading-tight mb-2",children:a.name}),a.description&&o.jsx("p",{className:"text-gray-400 text-sm md:text-base mb-4",children:a.description}),o.jsxs("div",{className:"flex flex-col gap-3",children:[a.price&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:ge(a.price)}),h&&o.jsx("span",{className:"bg-blue-600 text-white text-xs font-semibold px-2 py-1 rounded",children:h})]}),h&&!a.price&&o.jsx("span",{className:"bg-blue-600 text-white text-sm font-semibold px-3 py-1 rounded w-fit",children:h}),o.jsx(xe,{onClick:()=>t?.(a),className:"bg-blue-600 text-white rounded px-6 py-2 font-medium transition-colors hover:bg-blue-700 w-fit",children:"Ver Promoo"})]})]}),o.jsxs("div",{className:"w-full md:w-1/2 relative h-64 md:h-full",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-transparent to-transparent z-10 pointer-events-none"}),a.image?o.jsx("img",{alt:a.name,className:"w-full h-full object-cover object-center",src:a.image,onError:m=>{const g=m.currentTarget;g.src="materialApoio/imagem-nao-disponivel.gif"}}):o.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"Sem imagem"})})]})]}),e.length>1&&o.jsx("div",{className:"flex justify-center gap-2 mt-4",role:"tablist",children:e.map((m,g)=>o.jsx("button",{"aria-current":g===r,"aria-label":`Slide ${g+1}`,onClick:()=>u(g),className:`transition-all ${g===r?"w-8 h-2 bg-gray-800 rounded-full":"w-2 h-2 bg-gray-300 rounded-full hover:bg-gray-400"}`},g))})]})}function zG(){const e=pr(),{menuItems:t,isLoading:r,error:n,categories:a,addCategory:s,updateCategory:c,deleteCategory:u,addOrder:f,generateOrderId:h}=Vr(),{t:m}=lr(),[g,y]=v.useState([]),[x,S]=v.useState(!1),[w,_]=v.useState(""),[E,A]=v.useState(!1),[C,R]=v.useState(!1),[O,I]=v.useState(!1),[N,T]=v.useState(""),[U,G]=v.useState(""),[B,K]=v.useState(null),[F,oe]=v.useState("all"),[J,L]=v.useState([]);v.useEffect(()=>{(async()=>{try{const{data:he,error:Se}=await we.from("promotions").select("*").eq("enabled",!0).order("created_at",{ascending:!1});if(Se)throw Se;if(he){const Oe=await Promise.all(he.map(async Ke=>{if(Ke.type==="kit"){const{data:ct}=await we.from("promotion_items").select(`
                                        *,
                                        products:product_id (
                                            id,
                                            name,
                                            price,
                                            image
                                        )
                                    `).eq("promotion_id",Ke.id),pe=(ct||[]).map(Pe=>({id:Pe.id,promotion_id:Pe.promotion_id,product_id:Pe.product_id,quantity:Pe.quantity,created_at:Pe.created_at,product:Pe.products?{id:Pe.products.id,name:Pe.products.name,price:Pe.products.price,image:Pe.products.image}:void 0}));return{...Ke,items:pe}}return{...Ke,items:[]}}));L(Oe)}}catch(he){console.error("Error fetching promotions:",he)}})()},[]);const D=async()=>{if(!U.trim())return;const ae=await s(U);ae.success?G(""):alert("Failed to add category: "+ae.error)},q=async()=>{if(!B||!B.name.trim())return;const ae=await c(B.id,B.name);ae.success?K(null):alert("Failed to update category: "+ae.error)},re=async ae=>{if(confirm("Are you sure? This will not delete items in this category, but they may become uncategorized.")){const he=await u(ae);he.success||alert("Failed to delete category: "+he.error)}},X=t.filter(ae=>ae.price>0&&ae.status==="Available"),Q=(F==="all"?X:X.filter(ae=>ae.category?.toLowerCase().includes(F.toLowerCase()))).reduce((ae,he)=>{const Se=he.category||"Sem categoria";return ae[Se]||(ae[Se]=[]),ae[Se].push(he),ae},{}),P=ae=>{y(he=>he.find(Oe=>Oe.id===ae)?he.map(Oe=>Oe.id===ae?{...Oe,quantity:Oe.quantity+1}:Oe):[...he,{id:ae,quantity:1}])},V=ae=>{y(he=>{const Se=he.find(Oe=>Oe.id===ae);return Se&&Se.quantity>1?he.map(Oe=>Oe.id===ae?{...Oe,quantity:Oe.quantity-1}:Oe):he.filter(Oe=>Oe.id!==ae)})},ie=ae=>g.find(Se=>Se.id===ae)?.quantity||0,W=()=>g.reduce((ae,he)=>{const Se=t.find(Oe=>Oe.id===he.id);return ae+(Se?.price||0)*he.quantity},0),je=()=>{if(g.length===0){T("Adicione pelo menos um item ao pedido");return}S(!0)},z=async()=>{if(!w.trim()){T("Por favor, informe o nome do cliente");return}const ae=new Date,he=String(ae.getDate()).padStart(2,"0"),Se=String(ae.getMonth()+1).padStart(2,"0"),Oe=ae.getFullYear(),Ke=String(ae.getHours()).padStart(2,"0"),ct=String(ae.getMinutes()).padStart(2,"0"),pe=`${he}/${Se}/${Oe} ${Ke}:${ct}`;I(!0);try{const Pe=await h(),it=g.map(vt=>{const zs=t.find(Bi=>Bi.id===vt.id);return{id:zs.id,name:zs.name,price:zs.price,quantity:vt.quantity}}),Ht={id:Pe,table:void 0,orderType:"takeout",customer:w.trim()||m("guest"),status:"Pending",items:it,total:W(),time:pe},Ot=await f(Ht);Ot.success?(S(!1),A(!0),_(""),y([]),setTimeout(()=>{A(!1),e("/orders")},2e3)):T(Ot.error||"Erro ao criar pedido")}catch(Pe){T(Pe.message||"Erro ao criar pedido")}finally{I(!1)}};v.useEffect(()=>(g.length>0?document.body.classList.add("hide-mobile-nav"):document.body.classList.remove("hide-mobile-nav"),()=>{document.body.classList.remove("hide-mobile-nav")}),[g.length]);const ee=ae=>{ae.type==="product"&&ae.price?g.find(Se=>Se.id===ae.id)?y(g.map(Se=>Se.id===ae.id?{...Se,quantity:Se.quantity+1}:Se)):alert(`Promoo: ${ae.name}`):alert(`Kit: ${ae.name}
Produtos includos: ${ae.items?.map(he=>he.product?.name).join(", ")||"N/A"}`)},ce=(ae,he)=>ie(ae)*he,Y=a.map(ae=>ae.name);return r?o.jsx("div",{className:"flex justify-center items-center h-64",children:"Carregando bebidas..."}):n?o.jsxs("div",{className:"text-destructive text-center p-8",children:["Erro ao carregar: ",n]}):o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",style:{paddingBottom:g.length>0?"120px":"0"},children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:m("menu")}),o.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Gerencie os itens de bebidas."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(rn,{open:C,onOpenChange:R,children:[o.jsx(wo,{asChild:!0,children:o.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Manage Categories"})}),o.jsxs(Ur,{children:[o.jsx(Br,{children:o.jsx(qr,{children:"Manage Categories"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ee,{placeholder:"New Category Name",value:U,onChange:ae=>G(ae.target.value)}),o.jsx(xe,{onClick:D,children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:a.map(ae=>o.jsx("div",{className:"flex items-center justify-between p-2 border rounded-md",children:B?.id===ae.id?o.jsxs("div",{className:"flex gap-2 flex-1 mr-2",children:[o.jsx(Ee,{value:B.name,onChange:he=>K({...B,name:he.target.value})}),o.jsx(xe,{size:"sm",onClick:q,children:"Save"}),o.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>K(null),children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:ae.name}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>K(ae),children:o.jsx(lb,{className:"h-4 w-4"})}),o.jsx(xe,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>re(ae.id),children:o.jsx(sc,{className:"h-4 w-4"})})]})]})},ae.id))})]})]})]}),o.jsxs("button",{onClick:()=>e("/products/new"),className:"px-4 py-2 bg-blue-600 rounded-lg text-sm font-medium text-white hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o.jsx("span",{children:"+"}),o.jsx("span",{children:"Adicionar Item"})]})]})]}),J.length>0&&o.jsx(LG,{promotions:J,onPromotionClick:ee}),Y.length>0&&o.jsxs("nav",{"aria-label":"Category Filters",className:"flex flex-wrap gap-3",children:[o.jsx("button",{onClick:()=>oe("all"),className:`px-5 py-2 rounded-lg border font-medium text-sm transition-colors ${F==="all"?"bg-gray-200 text-gray-800 border-transparent":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:"Todos"}),Y.map(ae=>o.jsx("button",{onClick:()=>oe(ae),className:`px-5 py-2 rounded-lg border font-medium text-sm transition-colors ${F===ae?"bg-gray-200 text-gray-800 border-transparent":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:ae},ae))]}),o.jsxs("main",{children:[Object.keys(Q).length===0&&o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{children:'Nenhum produto encontrado. Clique em "Adicionar Item" para criar um novo.'})}),Object.entries(Q).map(([ae,he])=>o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:ae}),o.jsxs("span",{className:"bg-gray-100 text-gray-600 rounded-full px-2 py-0.5 text-xs font-medium",children:[he.length," items"]})]}),o.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 justify-items-center",children:he.map(Se=>{const Oe=ie(Se.id),Ke=ce(Se.id,Se.price),ct=Se.status==="Available";return o.jsxs("article",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden flex flex-col hover:shadow-md transition-shadow w-full max-w-[169px] sm:max-w-[169px]",style:{minHeight:"380px"},children:[o.jsxs("div",{className:"relative bg-orange-50/30 flex items-center justify-center aspect-square w-full",style:{paddingTop:"0px",paddingBottom:"0px",marginTop:"7px",marginBottom:"7px"},children:[Se.is_cold&&o.jsx("div",{className:"absolute top-3 left-3 bg-blue-100 text-blue-700 rounded-full p-1.5 shadow-sm",children:o.jsx(yq,{className:"h-4 w-4"})}),ct&&o.jsx("span",{className:"absolute top-3 right-3 bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded",style:{left:"90px",paddingLeft:"5px",paddingRight:"5px",width:"80px",marginLeft:"0px",marginRight:"0px"},children:"Disponvel"}),Se.image?o.jsx("img",{alt:Se.name,className:"object-cover",src:Se.image,style:{marginTop:"7px",marginBottom:"7px",height:"120px"},onError:pe=>{pe.currentTarget.src="materialApoio/imagem-nao-disponivel.gif"}}):o.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400 text-sm",children:"Sem imagem"})})]}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900",style:{fontSize:"14px",minHeight:"36px",lineHeight:"18px",marginBottom:"4px"},children:Se.name}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",style:{marginTop:"4px",marginBottom:"8px",minHeight:"36px",lineHeight:"18px",height:"18px"},children:Se.description||"Sem descrio"}),o.jsxs("div",{className:"mt-auto",style:{paddingTop:"5px",marginTop:"auto"},children:[o.jsx("p",{className:"text-sm font-bold text-gray-900 mb-3",style:{marginBottom:"10px"},children:ge(Se.price)}),o.jsx("div",{className:"flex justify-center items-center",children:o.jsxs("div",{className:"flex justify-center items-center border border-gray-200 rounded-lg bg-gray-50 flex-shrink-0 overflow-hidden",style:{width:"115px",height:"35px",marginTop:"5px",marginBottom:"5px",textAlign:"center",justifyContent:"center"},children:[o.jsx("button",{onClick:()=>V(Se.id),disabled:Oe===0,className:"px-1 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed flex-shrink-0 flex items-center justify-center",style:{minWidth:"24px",paddingLeft:"6px",paddingRight:"6px"},children:o.jsx(Ww,{className:"h-3 w-3"})}),o.jsx("span",{className:`text-sm flex-1 text-center min-w-0 ${Oe>0?"text-gray-800 font-medium":"hidden"}`,style:{lineHeight:"35px"},children:Oe}),o.jsx("input",{className:`flex-1 text-center bg-transparent border-none p-0 text-xs text-gray-500 focus:ring-0 min-w-0 ${Oe>0?"hidden":""}`,readOnly:!0,type:"number",value:Oe,style:{WebkitAppearance:"none",MozAppearance:"textfield",lineHeight:"35px"}}),o.jsx("button",{onClick:()=>P(Se.id),className:"px-1 text-gray-400 hover:text-gray-600 flex-shrink-0 flex items-center justify-center",style:{minWidth:"24px",paddingLeft:"6px",paddingRight:"6px"},children:o.jsx(gn,{className:"h-3 w-3"})})]})}),o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-xs text-gray-500 leading-tight",style:{marginTop:"0px",marginBottom:"0px"},children:"TOTAL:"}),o.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-900 leading-tight",children:Oe>0?ge(Ke):"-"})]})]})]})]},Se.id)})})]},ae))]}),g.length>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 lg:left-64 bg-card border-t shadow-lg z-50 p-3 md:p-4 print:hidden overflow-hidden",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:o.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-3 md:gap-4 w-full min-w-0",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 md:gap-4 w-full md:w-auto min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx($C,{className:"h-4 w-4 md:h-5 md:w-5 text-primary shrink-0"}),o.jsxs("span",{className:"text-sm md:text-base font-semibold truncate",children:[g.reduce((ae,he)=>ae+he.quantity,0)," ",g.reduce((ae,he)=>ae+he.quantity,0)===1?"item":"itens"]})]}),o.jsxs("div",{className:"text-base md:text-lg font-bold text-primary truncate",children:["Total: ",ge(W())]})]}),o.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[o.jsx(xe,{variant:"outline",onClick:()=>y([]),disabled:O,className:"flex-1 md:flex-none h-11 md:h-10 touch-manipulation min-w-0",children:"Limpar"}),o.jsxs(xe,{onClick:je,disabled:O||g.length===0,className:"min-w-[140px] md:min-w-[150px] flex-1 md:flex-none h-11 md:h-10 touch-manipulation",children:[o.jsx($C,{className:"mr-2 h-4 w-4 shrink-0"}),o.jsx("span",{className:"truncate",children:"Criar Pedido"})]})]})]})}),o.jsx(rn,{open:x,onOpenChange:S,children:o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:"Criar Pedido"}),o.jsx(Mn,{children:"Informe o nome do cliente para finalizar o pedido"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[N&&o.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:N}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"customer-name",children:"Nome do Cliente *"}),o.jsx(Ee,{id:"customer-name",value:w,onChange:ae=>{_(ae.target.value),T("")},placeholder:"Digite o nome do cliente",onKeyDown:ae=>{ae.key==="Enter"&&w.trim()&&z()},autoFocus:!0})]}),o.jsxs("div",{className:"bg-muted p-3 rounded-md overflow-hidden",children:[o.jsx("div",{className:"text-sm font-semibold mb-2",children:"Resumo do Pedido:"}),o.jsxs("div",{className:"space-y-1 text-sm min-w-0",children:[g.map(ae=>{const he=t.find(Se=>Se.id===ae.id);return o.jsxs("div",{className:"flex justify-between gap-2 min-w-0",children:[o.jsxs("span",{className:"truncate min-w-0",children:[he.name," x ",ae.quantity]}),o.jsx("span",{className:"shrink-0",children:ge(he.price*ae.quantity)})]},ae.id)}),o.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t mt-2 gap-2 min-w-0",children:[o.jsx("span",{className:"shrink-0",children:"Total:"}),o.jsx("span",{className:"shrink-0",children:ge(W())})]})]})]})]}),o.jsxs(pn,{children:[o.jsx(xe,{variant:"outline",onClick:()=>{S(!1),_(""),T("")},disabled:O,children:"Cancelar"}),o.jsx(xe,{onClick:z,disabled:O||!w.trim(),children:O?"Criando pedido...":"Confirmar Pedido"})]})]})}),E&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:o.jsx(Ne,{className:"max-w-md mx-4",children:o.jsxs(Ce,{className:"p-6 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Pedido Criado com Sucesso!"}),o.jsx("p",{className:"text-muted-foreground",children:"Redirecionando para a pgina de pedidos..."})]})})})]})}var Up="Switch",[$G]=Di(Up),[UG,BG]=$G(Up),lI=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:c,disabled:u,value:f="on",onCheckedChange:h,form:m,...g}=e,[y,x]=v.useState(null),S=Ct(t,C=>x(C)),w=v.useRef(!1),_=y?m||!!y.closest("form"):!0,[E,A]=Co({prop:a,defaultProp:s??!1,onChange:h,caller:Up});return o.jsxs(UG,{scope:r,checked:E,disabled:u,children:[o.jsx(rt.button,{type:"button",role:"switch","aria-checked":E,"aria-required":c,"data-state":fI(E),"data-disabled":u?"":void 0,disabled:u,value:f,...g,ref:S,onClick:tt(e.onClick,C=>{A(R=>!R),_&&(w.current=C.isPropagationStopped(),w.current||C.stopPropagation())})}),_&&o.jsx(dI,{control:y,bubbles:!w.current,name:n,value:f,checked:E,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});lI.displayName=Up;var cI="SwitchThumb",uI=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=BG(cI,r);return o.jsx(rt.span,{"data-state":fI(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});uI.displayName=cI;var qG="SwitchBubbleInput",dI=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const c=v.useRef(null),u=Ct(c,s),f=jj(r),h=yj(t);return v.useEffect(()=>{const m=c.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&x){const S=new Event("click",{bubbles:n});x.call(m,r),m.dispatchEvent(S)}},[f,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dI.displayName=qG;function fI(e){return e?"checked":"unchecked"}var hI=lI,FG=uI;const yi=v.forwardRef(({className:e,...t},r)=>o.jsx(hI,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(FG,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yi.displayName=hI.displayName;function HG({className:e}){const{profile:t}=Ea(),[r,n]=v.useState([]),[a,s]=v.useState(!1),[c,u]=v.useState(null),[f,h]=v.useState(!1),[m,g]=v.useState(null),[y,x]=v.useState({email:"",username:"",full_name:"",role:"usuario",password:""}),S=t?.role==="admin";v.useEffect(()=>{S&&w()},[S]);const w=async()=>{if(S){s(!0),u(null);try{const{data:I,error:N}=await we.from("user_profiles").select("*").order("created_at",{ascending:!1});if(N)throw N;n(I||[])}catch(I){console.error("Error fetching users:",I),u(I.message||"Erro ao carregar usurios")}finally{s(!1)}}},_=I=>{I?(g(I),x({email:I.email,username:I.username||"",full_name:I.full_name||"",role:I.role,password:""})):(g(null),x({email:"",username:"",full_name:"",role:"usuario",password:""})),h(!0)},E=()=>{h(!1),g(null),x({email:"",username:"",full_name:"",role:"usuario",password:""}),u(null)},A=async()=>{if(S){if(u(null),!y.email||!y.password){u("Email e senha so obrigatrios");return}try{const{data:I,error:N}=await we.auth.signUp({email:y.email,password:y.password,options:{data:{username:y.username||null,full_name:y.full_name||null}}});if(N)throw N;if(!I?.user)throw new Error("Usurio no foi criado");const T=I.user.id,{error:U}=await we.rpc("admin_confirm_user_email",{target_user_id:T});U&&console.warn("No foi possvel confirmar email automaticamente:",U);const{error:G}=await we.rpc("admin_insert_user_profile",{target_user_id:T,target_email:y.email,target_username:y.username||null,target_full_name:y.full_name||null,target_role:y.role});if(G){console.warn("Function admin_insert_user_profile not found, trying direct update:",G);const{error:B}=await we.from("user_profiles").update({username:y.username||null,full_name:y.full_name||null,role:y.role}).eq("id",T);if(B){u(`Erro ao criar perfil: ${B.message}. Execute o SQL fix_admin_create_user_profile.sql no Supabase.`);return}}await new Promise(B=>setTimeout(B,500)),await w(),E()}catch(I){console.error("Error creating user:",I),u(I.message||"Erro ao criar usurio")}}},C=async()=>{if(!(!S||!m)){u(null);try{const I={username:y.username||null,full_name:y.full_name||null,role:y.role},{error:N}=await we.rpc("admin_update_user_profile",{target_user_id:m.id,target_email:y.email,target_username:y.username||null,target_full_name:y.full_name||null,target_role:y.role});if(N){console.warn("Function not found, trying direct update:",N);const{error:T}=await we.from("user_profiles").update(I).eq("id",m.id);if(T)throw T}if(y.password){const T=await rV(m.id,y.password);if(!T.success)throw new Error(T.error||"Erro ao alterar senha")}await w(),E()}catch(I){console.error("Error updating user:",I),u(I.message||"Erro ao atualizar usurio")}}},R=async(I,N)=>{if(S)try{const{error:T}=await we.from("user_profiles").update({enabled:N}).eq("id",I.id);if(T){if(T.message.includes("column")&&T.message.includes("does not exist")){u('Campo "enabled" no encontrado. Execute o SQL: ALTER TABLE user_profiles ADD COLUMN enabled BOOLEAN DEFAULT true;');return}throw T}await w()}catch(T){console.error("Error toggling user status:",T),u(T.message||"Erro ao alterar status do usurio")}},O=async I=>{if(S&&window.confirm(`Tem certeza que deseja excluir o usurio ${I.email}? Esta ao no pode ser desfeita.`))try{const{error:N}=await we.auth.admin?.deleteUser(I.id);if(N){if(N.message.includes("admin")){u("No  possvel excluir usurios sem acesso de administrador do Supabase.");return}throw N}await w()}catch(N){console.error("Error deleting user:",N),u(N.message||"Erro ao excluir usurio")}};return S?o.jsxs(Ne,{className:e,children:[o.jsx(Ae,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(LP,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"break-words",children:"Gerenciamento de Usurios"})]}),o.jsx(pt,{className:"break-words",children:"Cadastre, edite e gerencie usurios do sistema"})]}),o.jsxs(xe,{onClick:()=>_(),className:"w-full sm:w-auto flex-shrink-0",children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"Novo Usurio"]})]})}),o.jsxs(Ce,{children:[c&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:c}),a?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando usurios..."}):r.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum usurio encontrado"}):o.jsx("div",{className:"space-y-2",children:r.map(I=>{const N=I.enabled!==!1;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 p-4 border border-[#0066CC] rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("p",{className:"font-medium break-words",children:I.full_name||I.email}),o.jsx("span",{className:"text-xs px-2 py-1 bg-[#0066CC] text-white rounded flex-shrink-0",children:I.role}),!N&&o.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded flex-shrink-0",children:"Desabilitado"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-1 break-words",children:[o.jsx("p",{children:I.email}),I.username&&o.jsxs("p",{children:["@",I.username]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-2 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(se,{htmlFor:`enabled-${I.id}`,className:"text-sm whitespace-nowrap",children:N?"Ativo":"Inativo"}),o.jsx(yi,{id:`enabled-${I.id}`,checked:N,onCheckedChange:T=>R(I,T),disabled:I.id===t?.id,className:"flex-shrink-0"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(xe,{variant:"outline",size:"sm",onClick:()=>_(I),className:"flex-shrink-0",children:o.jsx(MP,{className:"w-4 h-4"})}),I.id!==t?.id&&o.jsx(xe,{variant:"outline",size:"sm",onClick:()=>O(I),className:"flex-shrink-0",children:o.jsx(sc,{className:"w-4 h-4"})})]})]})]},I.id)})}),o.jsx(rn,{open:f,onOpenChange:h,children:o.jsxs(Ur,{className:"max-w-md w-[calc(100vw-2rem)] sm:w-full",children:[o.jsxs(Br,{children:[o.jsx(qr,{children:m?"Editar Usurio":"Novo Usurio"}),o.jsx(Mn,{children:m?"Atualize as informaes do usurio":"Preencha os dados para criar um novo usurio"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"email",children:"Email *"}),o.jsx(Ee,{id:"email",type:"email",value:y.email,onChange:I=>x({...y,email:I.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"username",children:"Nome de Usurio"}),o.jsx(Ee,{id:"username",value:y.username,onChange:I=>x({...y,username:I.target.value}),placeholder:"opcional"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"full_name",children:"Nome Completo"}),o.jsx(Ee,{id:"full_name",value:y.full_name,onChange:I=>x({...y,full_name:I.target.value}),placeholder:"opcional"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"role",children:"Funo"}),o.jsxs(Qe,{value:y.role,onValueChange:I=>x({...y,role:I}),children:[o.jsx(Ye,{id:"role",children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"usuario",children:"Usurio"}),o.jsx(_e,{value:"gerente",children:"Gerente"}),o.jsx(_e,{value:"admin",children:"Administrador"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"password",children:m?"Nova Senha (deixe em branco para no alterar)":"Senha *"}),o.jsx(Ee,{id:"password",type:"password",value:y.password,onChange:I=>x({...y,password:I.target.value}),required:!m})]})]}),o.jsxs(pn,{children:[o.jsx(xe,{variant:"outline",onClick:E,children:"Cancelar"}),o.jsx(xe,{onClick:m?C:A,children:m?"Salvar":"Criar"})]})]})})]})]}):o.jsxs(Ne,{className:e,children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Gerenciamento de Usurios"}),o.jsx(pt,{children:"Acesso restrito a administradores"})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(ob,{className:"w-4 h-4"}),o.jsx("p",{children:"Voc no tem permisso para acessar esta funcionalidade."})]})})]})}function VG(){const{language:e,setLanguage:t,t:r}=lr(),{isAdmin:n}=Ea(),{settings:a,updateSettings:s,updatePrinterSettings:c,isTablesEnabled:u,isOrderDisplayEnabled:f,printerSettings:h,saveSettings:m,resetSettings:g,isLoading:y}=Na(),[x,S]=v.useState(null),[w,_]=v.useState(null),[E,A]=v.useState(!1),C=()=>{m(),S("Configuraes salvas com sucesso!"),setTimeout(()=>S(null),3e3)},R=()=>{window.confirm("Tem certeza que deseja resetar todas as configuraes para os valores padro?")&&(g(),S("Configuraes resetadas para o padro!"),setTimeout(()=>S(null),3e3))},O=()=>{const U=`${window.location.href.split("#")[0]}#/order-display-standalone`;window.open(U,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")},I=async()=>{if(!h.ipAddress||!h.port){_({success:!1,message:"Por favor, preencha o IP e porta da impressora"});return}A(!0),_(null);let N="raw";h.port===631||h.port===80||h.port===443?N="ipp":h.port===515&&(N="lpr");const T=await RG(h.ipAddress,h.port,N);_(T),A(!1),setTimeout(()=>{_(null)},5e3)};return o.jsxs("div",{className:"space-y-6 w-full min-w-0",children:[o.jsxs("div",{className:"w-full min-w-0",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight break-words",children:r("settingsTitle")}),o.jsx("p",{className:"text-muted-foreground break-words mt-1",children:r("settingsDescription")})]}),n&&o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Aes de Configurao"}),o.jsx(pt,{children:"Salve as configuraes globais ou reset para os valores padro. Apenas administradores podem salvar configuraes."})]}),o.jsxs(Ce,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(xe,{onClick:C,className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[o.jsx(bd,{className:"w-4 h-4"}),"Salvar Configuraes"]}),o.jsxs(xe,{variant:"outline",onClick:R,className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[o.jsx(dq,{className:"w-4 h-4"}),"Reset para Padro"]})]}),x&&o.jsx("div",{className:"mt-4 p-3 bg-green-100 text-green-700 rounded-md",children:x})]})]}),!n&&o.jsx(Ne,{children:o.jsxs(Ae,{children:[o.jsx(Te,{children:"Configuraes do Sistema"}),o.jsx(pt,{children:"Voc est visualizando as configuraes globais do sistema. Apenas administradores podem modificar essas configuraes."})]})}),f&&o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Tela de Pedidos"}),o.jsx(pt,{children:"Acesso rpido para a tela dedicada de monitoramento de pedidos"})]}),o.jsxs(Ce,{children:[o.jsxs(xe,{onClick:O,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",children:[o.jsx(kP,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"break-words text-center sm:text-left",children:"Abrir Tela de Pedidos em Nova Janela"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2 break-words",children:"A tela ser aberta em uma nova janela sem menus, otimizada para monitoramento de cozinha"})]})]}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:r("language")}),o.jsx(pt,{children:r("selectLanguage")})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"language",children:r("language")}),o.jsxs(Qe,{value:e,onValueChange:N=>t(N),children:[o.jsx(Ye,{id:"language",className:"w-full sm:w-[200px]",children:o.jsx(Je,{placeholder:"Select language"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"en",children:r("english")}),o.jsx(_e,{value:"pt",children:r("portuguese")})]})]})]})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:r("tableManagement")}),o.jsx(pt,{children:r("enableTablesDescription")})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[o.jsx(se,{htmlFor:"enable-tables",children:r("enableTables")}),o.jsxs("p",{className:"text-sm text-muted-foreground break-words",children:["Status atual: ",u?"Ativado":"Desativado"]})]}),o.jsx(yi,{id:"enable-tables",checked:u,onCheckedChange:N=>s({enableTables:N}),className:"flex-shrink-0"})]})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Tela de Pedidos"}),o.jsx(pt,{children:"Ative para usar a tela dedicada de monitoramento de pedidos. Esta tela  otimizada para cozinhas e permite visualizar e atualizar status dos pedidos em tempo real."})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[o.jsx(se,{htmlFor:"enable-order-display",children:"Habilitar Tela de Pedidos"}),o.jsxs("p",{className:"text-sm text-muted-foreground break-words",children:["Disponvel em: /order-display  Status atual: ",f?"Ativado":"Desativado"]})]}),o.jsx(yi,{id:"enable-order-display",checked:f,onCheckedChange:N=>s({enableOrderDisplay:N}),className:"flex-shrink-0"})]})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(RP,{className:"w-5 h-5"}),o.jsx(Te,{children:r("printerSettings")})]}),o.jsx(pt,{children:r("printerSettingsDescription")})]}),o.jsxs(Ce,{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[o.jsx(se,{htmlFor:"enable-printer",children:r("enablePrinter")}),o.jsxs("p",{className:"text-sm text-muted-foreground break-words",children:["Status atual: ",h.enabled?"Ativado":"Desativado"]})]}),o.jsx(yi,{id:"enable-printer",checked:h.enabled,onCheckedChange:N=>c({enabled:N}),className:"flex-shrink-0"})]}),h.enabled&&o.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"printer-type",children:r("printerType")}),o.jsxs(Qe,{value:h.type,onValueChange:N=>c({type:N}),children:[o.jsx(Ye,{id:"printer-type",children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"browser",children:r("browser")}),o.jsx(_e,{value:"network",children:r("network")}),o.jsx(_e,{value:"usb",children:r("usb")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"printer-name",children:r("printerName")}),o.jsx(Ee,{id:"printer-name",value:h.name,onChange:N=>c({name:N.target.value}),placeholder:"Ex: Impressora Trmica 01"})]}),o.jsxs("div",{className:"space-y-4 pt-2 border-t",children:[o.jsx("h4",{className:"text-sm font-medium",children:"Endereo da Impressora de Rede"}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"printer-ip",children:r("printerIpAddress")}),o.jsx(Ee,{id:"printer-ip",type:"text",value:h.ipAddress,onChange:N=>c({ipAddress:N.target.value}),placeholder:"192.168.1.100",disabled:h.type==="browser"}),h.type==="browser"&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure apenas quando usar impressora de rede"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"printer-port",children:r("printerPort")}),o.jsx(Ee,{id:"printer-port",type:"number",value:h.port,onChange:N=>c({port:parseInt(N.target.value)||9100}),placeholder:"9100",min:"1",max:"65535",disabled:h.type==="browser"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Porta padro: 9100 (RAW), 631 (IPP), 515 (LPR)"})]}),h.type==="network"&&o.jsxs("div",{className:"pt-2",children:[o.jsxs(xe,{onClick:I,disabled:E||!h.ipAddress||!h.port,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[o.jsx(jq,{className:"w-4 h-4"}),E?"Testando...":"Testar Conexo"]}),w&&o.jsx("div",{className:`mt-2 p-3 rounded-md text-sm ${w.success?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:w.message})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"paper-size",children:r("paperSize")}),o.jsxs(Qe,{value:h.paperSize,onValueChange:N=>c({paperSize:N}),children:[o.jsx(Ye,{id:"paper-size",children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"80mm",children:r("printer80mm")}),o.jsx(_e,{value:"58mm",children:r("printer58mm")}),o.jsx(_e,{value:"A4",children:r("printerA4")})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"space-y-0.5 flex-1 min-w-0",children:[o.jsx(se,{htmlFor:"auto-print",children:r("autoPrint")}),o.jsx("p",{className:"text-sm text-muted-foreground break-words",children:"Imprimir automaticamente ao criar pedidos"})]}),o.jsx(yi,{id:"auto-print",checked:h.autoPrint,onCheckedChange:N=>c({autoPrint:N}),className:"flex-shrink-0"})]})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Limite de Desconto no Pagamento"}),o.jsx(pt,{children:"Defina o valor mximo ou percentual mximo de desconto que pode ser aplicado no momento do pagamento. Os usurios no podero aplicar descontos maiores que o limite configurado."})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"discount-limit-type",children:"Tipo de Limite"}),o.jsxs(Qe,{value:a.paymentDiscountLimitType||"none",onValueChange:N=>{s(N==="none"?{paymentDiscountLimitType:null,paymentDiscountLimitValue:null}:{paymentDiscountLimitType:N,paymentDiscountLimitValue:a.paymentDiscountLimitValue||0})},children:[o.jsx(Ye,{id:"discount-limit-type",children:o.jsx(Je,{placeholder:"Selecione o tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem limite"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]})]}),a.paymentDiscountLimitType&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"discount-limit-value",children:a.paymentDiscountLimitType==="fixed"?"Valor Mximo de Desconto (R$)":"Percentual Mximo de Desconto (%)"}),o.jsx(Ee,{id:"discount-limit-value",type:"number",step:a.paymentDiscountLimitType==="fixed"?"0.01":"0.1",min:"0",max:a.paymentDiscountLimitType==="percentage"?"100":void 0,value:a.paymentDiscountLimitValue||"",onChange:N=>{const T=N.target.value?parseFloat(N.target.value):null;s({paymentDiscountLimitValue:T})},placeholder:a.paymentDiscountLimitType==="fixed"?"0.00":"0"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:a.paymentDiscountLimitType==="fixed"?"O desconto aplicado no poder ultrapassar este valor em reais":"O desconto aplicado no poder ultrapassar este percentual"})]})]})]}),o.jsx(HG,{})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Configuraes Atuais"}),o.jsx(pt,{children:"Resumo das configuraes salvas"})]}),o.jsx(Ce,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Idioma:"}),o.jsx("span",{className:"font-medium text-right",children:e==="pt"?"Portugus":"English"}),o.jsx("span",{className:"text-muted-foreground",children:"Gesto de Mesas:"}),o.jsx("span",{className:"font-medium text-right",children:u?"Ativado":"Desativado"}),o.jsx("span",{className:"text-muted-foreground",children:"Tela de Pedidos:"}),o.jsx("span",{className:"font-medium text-right",children:f?"Ativado":"Desativado"}),o.jsx("span",{className:"text-muted-foreground",children:"Impressora:"}),o.jsx("span",{className:"font-medium text-right break-words",children:h.enabled?`${h.name||"Sem nome"} (${h.type})`:"Desativado"}),y&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-muted-foreground",children:"Estado:"}),o.jsx("span",{className:"font-medium text-orange-600 text-right",children:"Carregando..."})]})]})})]})]})}var Bp="Tabs",[KG]=Di(Bp,[Lp]),mI=Lp(),[GG,Aj]=KG(Bp),pI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=Op(u),[g,y]=Co({prop:n,onChange:a,defaultProp:s??"",caller:Bp});return o.jsx(GG,{scope:r,baseId:Ss(),value:g,onValueChange:y,orientation:c,dir:m,activationMode:f,children:o.jsx(rt.div,{dir:m,"data-orientation":c,...h,ref:t})})});pI.displayName=Bp;var gI="TabsList",vI=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=Aj(gI,r),c=mI(r);return o.jsx(EM,{asChild:!0,...c,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(rt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});vI.displayName=gI;var yI="TabsTrigger",xI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,c=Aj(yI,r),u=mI(r),f=jI(c.baseId,n),h=_I(c.baseId,n),m=n===c.value;return o.jsx(NM,{asChild:!0,...u,focusable:!a,active:m,children:o.jsx(rt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:f,...s,ref:t,onMouseDown:tt(e.onMouseDown,g=>{!a&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:tt(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:tt(e.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!a&&g&&c.onValueChange(n)})})})});xI.displayName=yI;var bI="TabsContent",wI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...c}=e,u=Aj(bI,r),f=jI(u.baseId,n),h=_I(u.baseId,n),m=n===u.value,g=v.useRef(m);return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),o.jsx(Cc,{present:a||m,children:({present:y})=>o.jsx(rt.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!y,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:y&&s})})});wI.displayName=bI;function jI(e,t){return`${e}-trigger-${t}`}function _I(e,t){return`${e}-content-${t}`}var WG=pI,SI=vI,EI=xI,NI=wI;const YG=WG,CI=v.forwardRef(({className:e,...t},r)=>o.jsx(SI,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));CI.displayName=SI.displayName;const tm=v.forwardRef(({className:e,...t},r)=>o.jsx(EI,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));tm.displayName=EI.displayName;const rm=v.forwardRef(({className:e,...t},r)=>o.jsx(NI,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));rm.displayName=NI.displayName;var XG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tj(e){if(typeof e!="string")return!1;var t=XG;return t.includes(e)}var ZG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QG=new Set(ZG);function OI(e){return typeof e!="string"?!1:QG.has(e)}function AI(e){return typeof e=="string"&&e.startsWith("data-")}function ba(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(OI(r)||AI(r))&&(t[r]=e[r]);return t}function nd(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ba(t)}return typeof e=="object"&&!Array.isArray(e)?ba(e):null}function ta(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(OI(r)||AI(r)||Tj(r))&&(t[r]=e[r]);return t}var JG=["children","width","height","viewBox","className","style","title","desc"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}function eW(e,t){if(e==null)return{};var r,n,a=tW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TI=v.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:c,style:u,title:f,desc:h}=e,m=eW(e,JG),g=s||{width:n,height:a,x:0,y:0},y=gt("recharts-surface",c);return v.createElement("svg",Mb({},ta(m),{className:y,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),v.createElement("title",null,f),v.createElement("desc",null,h),r)}),rW=["children","className"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}function nW(e,t){if(e==null)return{};var r,n,a=aW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nn=v.forwardRef((e,t)=>{var{children:r,className:n}=e,a=nW(e,rW),s=gt("recharts-layer",n);return v.createElement("g",Ib({className:s},ta(a),{ref:t}),r)}),iW=v.createContext(null);function Tt(e){return function(){return e}}const kI=Math.cos,Sm=Math.sin,Oa=Math.sqrt,Em=Math.PI,qp=2*Em,Lb=Math.PI,zb=2*Lb,oo=1e-6,sW=zb-oo;function PI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PI;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class lW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PI:oW(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=n-t,h=a-r,m=c-t,g=u-r,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>oo)if(!(Math.abs(g*f-h*m)>oo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-c,S=a-u,w=f*f+h*h,_=x*x+S*S,E=Math.sqrt(w),A=Math.sqrt(y),C=s*Math.tan((Lb-Math.acos((w+y-_)/(2*E*A)))/2),R=C/A,O=C/E;Math.abs(R-1)>oo&&this._append`L${t+R*m},${r+R*g}`,this._append`A${s},${s},0,0,${+(g*x>m*S)},${this._x1=t+O*f},${this._y1=r+O*h}`}}arc(t,r,n,a,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),h=t+u,m=r+f,g=1^c,y=c?a-s:s-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>oo||Math.abs(this._y1-m)>oo)&&this._append`L${h},${m}`,n&&(y<0&&(y=y%zb+zb),y>sW?this._append`A${n},${n},0,1,${g},${t-u},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=m}`:y>oo&&this._append`A${n},${n},0,${+(y>=Lb)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function kj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lW(t)}function Pj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RI(e){this._context=e}RI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fp(e){return new RI(e)}function DI(e){return e[0]}function MI(e){return e[1]}function II(e,t){var r=Tt(!0),n=null,a=Fp,s=null,c=kj(u);e=typeof e=="function"?e:e===void 0?DI:Tt(e),t=typeof t=="function"?t:t===void 0?MI:Tt(t);function u(f){var h,m=(f=Pj(f)).length,g,y=!1,x;for(n==null&&(s=a(x=c())),h=0;h<=m;++h)!(h<m&&r(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,h,f),+t(g,h,f));if(x)return s=null,x+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Tt(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),u):n},u}function Th(e,t,r){var n=null,a=Tt(!0),s=null,c=Fp,u=null,f=kj(h);e=typeof e=="function"?e:e===void 0?DI:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MI:Tt(+r);function h(g){var y,x,S,w=(g=Pj(g)).length,_,E=!1,A,C=new Array(w),R=new Array(w);for(s==null&&(u=c(A=f())),y=0;y<=w;++y){if(!(y<w&&a(_=g[y],y,g))===E)if(E=!E)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(C[S],R[S]);u.lineEnd(),u.areaEnd()}E&&(C[y]=+e(_,y,g),R[y]=+t(_,y,g),u.point(n?+n(_,y,g):C[y],r?+r(_,y,g):R[y]))}if(A)return u=null,A+""||null}function m(){return II().defined(a).curve(c).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),h):r},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(r)},h.lineX1=function(){return m().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Tt(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,s!=null&&(u=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=u=null:u=c(s=g),h):s},h}class LI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cW(e){return new LI(e,!0)}function uW(e){return new LI(e,!1)}const Rj={draw(e,t){const r=Oa(t/Em);e.moveTo(r,0),e.arc(0,0,r,0,qp)}},dW={draw(e,t){const r=Oa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zI=Oa(1/3),fW=zI*2,hW={draw(e,t){const r=Oa(t/fW),n=r*zI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},mW={draw(e,t){const r=Oa(t),n=-r/2;e.rect(n,n,r,r)}},pW=.8908130915292852,$I=Sm(Em/10)/Sm(7*Em/10),gW=Sm(qp/10)*$I,vW=-kI(qp/10)*$I,yW={draw(e,t){const r=Oa(t*pW),n=gW*r,a=vW*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const c=qp*s/5,u=kI(c),f=Sm(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},Nx=Oa(3),xW={draw(e,t){const r=-Oa(t/(Nx*3));e.moveTo(0,r*2),e.lineTo(-Nx*r,-r),e.lineTo(Nx*r,-r),e.closePath()}},Xn=-.5,Zn=Oa(3)/2,$b=1/Oa(12),bW=($b/2+1)*3,wW={draw(e,t){const r=Oa(t/bW),n=r/2,a=r*$b,s=n,c=r*$b+r,u=-s,f=c;e.moveTo(n,a),e.lineTo(s,c),e.lineTo(u,f),e.lineTo(Xn*n-Zn*a,Zn*n+Xn*a),e.lineTo(Xn*s-Zn*c,Zn*s+Xn*c),e.lineTo(Xn*u-Zn*f,Zn*u+Xn*f),e.lineTo(Xn*n+Zn*a,Xn*a-Zn*n),e.lineTo(Xn*s+Zn*c,Xn*c-Zn*s),e.lineTo(Xn*u+Zn*f,Xn*f-Zn*u),e.closePath()}};function jW(e,t){let r=null,n=kj(a);e=typeof e=="function"?e:Tt(e||Rj),t=typeof t=="function"?t:Tt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Nm(){}function Cm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UI(e){this._context=e}UI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _W(e){return new UI(e)}function BI(e){this._context=e}BI.prototype={areaStart:Nm,areaEnd:Nm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SW(e){return new BI(e)}function qI(e){this._context=e}qI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EW(e){return new qI(e)}function FI(e){this._context=e}FI.prototype={areaStart:Nm,areaEnd:Nm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NW(e){return new FI(e)}function GO(e){return e<0?-1:1}function WO(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(s*a+c*n)/(n+a);return(GO(s)+GO(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function YO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Cx(e,t,r){var n=e._x0,a=e._y0,s=e._x1,c=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,c-u*r,s,c)}function Om(e){this._context=e}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cx(this,this._t0,YO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cx(this,YO(this,r=WO(this,e,t)),r);break;default:Cx(this,this._t0,r=WO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HI(e){this._context=new VI(e)}(HI.prototype=Object.create(Om.prototype)).point=function(e,t){Om.prototype.point.call(this,t,e)};function VI(e){this._context=e}VI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function CW(e){return new Om(e)}function OW(e){return new HI(e)}function KI(e){this._context=e}KI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=XO(e),a=XO(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function XO(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function AW(e){return new KI(e)}function Hp(e,t){this._context=e,this._t=t}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function TW(e){return new Hp(e,.5)}function kW(e){return new Hp(e,0)}function PW(e){return new Hp(e,1)}function cc(e,t){if((c=e.length)>1)for(var r=1,n,a,s=e[t[0]],c,u=s.length;r<c;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ub(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function RW(e,t){return e[t]}function DW(e){const t=[];return t.key=e,t}function MW(){var e=Tt([]),t=Ub,r=cc,n=RW;function a(s){var c=Array.from(e.apply(this,arguments),DW),u,f=c.length,h=-1,m;for(const g of s)for(u=0,++h;u<f;++u)(c[u][h]=[0,+n(g,c[u].key,h,s)]).data=g;for(u=0,m=Pj(t(c));u<f;++u)c[m[u]].index=u;return r(c,m),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Tt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Ub:typeof s=="function"?s:Tt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??cc,a):r},a}function IW(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}cc(e,t)}}function LW(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var c=0,u=0;c<a;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}cc(e,t)}}function zW(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var u=0,f=0,h=0;u<c;++u){for(var m=e[t[u]],g=m[n][1]||0,y=m[n-1][1]||0,x=(g-y)/2,S=0;S<u;++S){var w=e[t[S]],_=w[n][1]||0,E=w[n-1][1]||0;x+=_-E}f+=g,h+=x*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,cc(e,t)}}var Ox={},Ax={},ZO;function $W(){return ZO||(ZO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Ax)),Ax}var Tx={},QO;function GI(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Tx)),Tx}var kx={},JO;function Dj(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(kx)),kx}var Px={},Rx={},eA;function UW(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Rx)),Rx}var tA;function Mj(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UW(),r=Dj();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],c=a.length;if(c===0)return s;let u=0,f="",h="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const g=a[u];h?g==="\\"&&u+1<c?(u++,f+=a[u]):g===h?h="":f+=g:m?g==='"'||g==="'"?h=g:g==="]"?(m=!1,s.push(f),f=""):f+=g:g==="["?(m=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}e.toPath=n})(Px)),Px}var rA;function Ij(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$W(),r=GI(),n=Dj(),a=Mj();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?r.isDeepKey(f)?s(u,a.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const m=u[f];return m===void 0?h:m}default:{if(Array.isArray(f))return c(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?h:m}}}function c(u,f,h){if(f.length===0)return h;let m=u;for(let g=0;g<f.length;g++){if(m==null||t.isUnsafeProperty(f[g]))return h;m=m[f[g]]}return m===void 0?h:m}e.get=s})(Ox)),Ox}var Dx,nA;function BW(){return nA||(nA=1,Dx=Ij().get),Dx}var qW=BW();const Po=_a(qW);var Er=e=>e===0?0:e>0?1:-1,wa=e=>typeof e=="number"&&e!=+e,Ci=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,$e=e=>(typeof e=="number"||e instanceof Number)&&!wa(e),Ba=e=>$e(e)||typeof e=="string",FW=0,ad=e=>{var t=++FW;return"".concat(e||"").concat(t)},Fr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&typeof t!="string")return n;var s;if(Ci(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return wa(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},WI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function hr(e,t,r){return $e(e)&&$e(t)?e+r*(t-e):t}function HW(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Po(n,t))===r)}var Nr=e=>e===null||typeof e>"u",Ed=e=>Nr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function VW(e){return e!=null}function Nd(){}var KW=["type","size","sizeType"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return(t=WW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XW(e,t){if(e==null)return{};var r,n,a=ZW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YI={symbolCircle:Rj,symbolCross:dW,symbolDiamond:hW,symbolSquare:mW,symbolStar:yW,symbolTriangle:xW,symbolWye:wW},QW=Math.PI/180,JW=e=>{var t="symbol".concat(Ed(e));return YI[t]||Rj},eY=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*QW;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tY=(e,t)=>{YI["symbol".concat(Ed(e))]=t},XI=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=XW(e,KW),s=iA(iA({},a),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var y=JW(c),x=jW().type(y).size(eY(r,n,c)),S=x();if(S!==null)return S},{className:f,cx:h,cy:m}=s,g=ta(s);return $e(h)&&$e(m)&&$e(r)?v.createElement("path",Bb({},g,{className:gt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};XI.registerSymbol=tY;var ZI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,rY=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Tj(a)&&(n[a]=(s=>r[a](r,s)))}),n},nY=(e,t,r)=>n=>(e(t,r,n),null),Vp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Tj(a)&&typeof s=="function"&&(n||(n={}),n[a]=nY(s,t,r))}),n};function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){iY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iY(e,t,r){return(t=sY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var r=aY({},e),n=t,a=Object.keys(t),s=a.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return s}var Mx={},Ix={},oA;function lY(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const c=r[s],u=n(c);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(Ix)),Ix}var Lx={},lA;function QI(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Lx)),Lx}var zx={},$x={},Ux={},cA;function cY(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Ux)),Ux}var uA;function Lj(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cY();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})($x)),$x}var Bx={},dA;function uY(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Bx)),Bx}var fA;function dY(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lj(),r=uY();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(zx)),zx}var qx={},Fx={},hA;function fY(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ij();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Fx)),Fx}var Hx={},Vx={},Kx={},Gx={},mA;function JI(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Gx)),Gx}var Wx={},pA;function e4(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Wx)),Wx}var Yx={},gA;function t4(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Yx)),Yx}var vA;function hY(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI(),r=e4(),n=t4();function a(m,g,y){return typeof y!="function"?a(m,g,()=>{}):s(m,g,function x(S,w,_,E,A,C){const R=y(S,w,_,E,A,C);return R!==void 0?!!R:s(S,w,x,C)},new Map)}function s(m,g,y,x){if(g===m)return!0;switch(typeof g){case"object":return c(m,g,y,x);case"function":return Object.keys(g).length>0?s(m,{...g},y,x):n.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.eq(m,g)}}function c(m,g,y,x){if(g==null)return!0;if(Array.isArray(g))return f(m,g,y,x);if(g instanceof Map)return u(m,g,y,x);if(g instanceof Set)return h(m,g,y,x);const S=Object.keys(g);if(m==null)return S.length===0;if(S.length===0)return!0;if(x?.has(g))return x.get(g)===m;x?.set(g,m);try{for(let w=0;w<S.length;w++){const _=S[w];if(!r.isPrimitive(m)&&!(_ in m)||g[_]===void 0&&m[_]!==void 0||g[_]===null&&m[_]!==null||!y(m[_],g[_],_,m,g,x))return!1}return!0}finally{x?.delete(g)}}function u(m,g,y,x){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,w]of g.entries()){const _=m.get(S);if(y(_,w,S,m,g,x)===!1)return!1}return!0}function f(m,g,y,x){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let w=0;w<g.length;w++){const _=g[w];let E=!1;for(let A=0;A<m.length;A++){if(S.has(A))continue;const C=m[A];let R=!1;if(y(C,_,w,m,g,x)&&(R=!0),R){S.add(A),E=!0;break}}if(!E)return!1}return!0}function h(m,g,y,x){return g.size===0?!0:m instanceof Set?f([...m],[...g],y,x):!1}e.isMatchWith=a,e.isSetMatch=h})(Kx)),Kx}var yA;function r4(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hY();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Vx)),Vx}var Xx={},Zx={},Qx={},xA;function mY(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Qx)),Qx}var Jx={},bA;function n4(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Jx)),Jx}var e0={},wA;function a4(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",x="[object Object]",S="[object Error]",w="[object DataView]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",C="[object Uint32Array]",R="[object BigUint64Array]",O="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",T="[object BigInt64Array]",U="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=R,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=U,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=I,e.int32ArrayTag=N,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=A,e.uint32ArrayTag=C,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=E})(e0)),e0}var t0={},jA;function pY(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(t0)),t0}var _A;function i4(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mY(),r=n4(),n=a4(),a=e4(),s=pY();function c(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,y,x=new Map,S=void 0){const w=S?.(m,g,y,x);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const _=new Array(m.length);x.set(m,_);for(let E=0;E<m.length;E++)_[E]=u(m[E],E,y,x,S);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;x.set(m,_);for(const[E,A]of m)_.set(E,u(A,E,y,x,S));return _}if(m instanceof Set){const _=new Set;x.set(m,_);for(const E of m)_.add(u(E,void 0,y,x,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,_);for(let E=0;E<m.length;E++)_[E]=u(m[E],E,y,x,S);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,_),f(_,m,y,x,S),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return x.set(m,_),f(_,m,y,x,S),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return x.set(m,_),f(_,m,y,x,S),_}if(m instanceof Error){const _=new m.constructor;return x.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,f(_,m,y,x,S),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return x.set(m,_),f(_,m,y,x,S),_}if(m instanceof Number){const _=new Number(m.valueOf());return x.set(m,_),f(_,m,y,x,S),_}if(m instanceof String){const _=new String(m.valueOf());return x.set(m,_),f(_,m,y,x,S),_}if(typeof m=="object"&&h(m)){const _=Object.create(Object.getPrototypeOf(m));return x.set(m,_),f(_,m,y,x,S),_}return m}function f(m,g,y=m,x,S){const w=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<w.length;_++){const E=w[_],A=Object.getOwnPropertyDescriptor(m,E);(A==null||A.writable)&&(m[E]=u(g[E],E,y,x,S))}}function h(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(Zx)),Zx}var SA;function gY(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Xx)),Xx}var EA;function vY(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4(),r=gY();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(Hx)),Hx}var r0={},n0={},a0={},NA;function yY(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4(),r=a4();function n(a,s){return t.cloneDeepWith(a,(c,u,f,h)=>{const m=s?.(c,u,f,h);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(a0)),a0}var CA;function xY(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yY();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(n0)),n0}var i0={},s0={},OA;function s4(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(s0)),s0}var o0={},AA;function bY(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n4();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(o0)),o0}var TA;function wY(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI(),r=s4(),n=bY(),a=Mj();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let h=c;for(let m=0;m<f.length;m++){const g=f[m];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(i0)),i0}var kA;function jY(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4(),r=Dj(),n=xY(),a=Ij(),s=wY();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(h){const m=a.get(h,u);return m===void 0?s.has(h,u):f===void 0?m===void 0:t.isMatch(m,f)}}e.matchesProperty=c})(r0)),r0}var PA;function _Y(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QI(),r=fY(),n=vY(),a=jY();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(qx)),qx}var RA;function SY(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lY(),r=QI(),n=dY(),a=_Y();function s(c,u=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),a.iteratee(u)):[]}e.uniqBy=s})(Mx)),Mx}var l0,DA;function EY(){return DA||(DA=1,l0=SY().uniqBy),l0}var NY=EY();const MA=_a(NY);function CY(e,t,r){return t===!0?MA(e,r):typeof t=="function"?MA(e,t):e}var c0={exports:{}},u0={},d0={exports:{}},f0={};var IA;function OY(){if(IA)return f0;IA=1;var e=yc();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function u(g,y){var x=y(),S=n({inst:{value:x,getSnapshot:y}}),w=S[0].inst,_=S[1];return s(function(){w.value=x,w.getSnapshot=y,f(w)&&_({inst:w})},[g,x,y]),a(function(){return f(w)&&_({inst:w}),g(function(){f(w)&&_({inst:w})})},[g]),c(x),x}function f(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!r(g,x)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return f0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,f0}var LA;function AY(){return LA||(LA=1,d0.exports=OY()),d0.exports}var zA;function TY(){if(zA)return u0;zA=1;var e=yc(),t=AY();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return u0.useSyncExternalStoreWithSelector=function(h,m,g,y,x){var S=s(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function E(I){if(!A){if(A=!0,C=I,I=y(I),x!==void 0&&w.hasValue){var N=w.value;if(x(N,I))return R=N}return R=I}if(N=R,n(C,I))return N;var T=y(I);return x!==void 0&&x(N,T)?(C=I,N):(C=I,R=T)}var A=!1,C,R,O=g===void 0?null:g;return[function(){return E(m())},O===null?void 0:function(){return E(O())}]},[m,g,y,x]);var _=a(h,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=_},[_]),f(_),_},u0}var $A;function kY(){return $A||($A=1,c0.exports=TY()),c0.exports}var PY=kY(),zj=v.createContext(null),RY=e=>e,$t=()=>{var e=v.useContext(zj);return e?e.store.dispatch:RY},nm=()=>{},DY=()=>nm,MY=(e,t)=>e===t;function ze(e){var t=v.useContext(zj);return PY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:DY,t?t.store.getState:nm,t?t.store.getState:nm,t?e:nm,MY)}function IY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function LY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var UA=e=>Array.isArray(e)?e:[e];function $Y(e){const t=Array.isArray(e[0])?e[0]:e;return zY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UY(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var BY=class{constructor(e){this.value=e}deref(){return this.value}},qY=typeof WeakRef<"u"?WeakRef:BY,FY=0,BA=1;function kh(){return{s:FY,v:void 0,o:null,p:null}}function o4(e,t={}){let r=kh();const{resultEqualityCheck:n}=t;let a,s=0;function c(){let u=r;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(x);w===void 0?(u=kh(),S.set(x,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(x);w===void 0?(u=kh(),S.set(x,u)):u=w}}const h=u;let m;if(u.s===BA)m=u.v;else if(m=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new qY(m):m}return h.s=BA,h.v=m,m}return c.clearCache=()=>{r=kh(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function HY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,c=0,u,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),IY(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:x=o4,argsMemoizeOptions:S=[]}=m,w=UA(y),_=UA(S),E=$Y(a),A=g(function(){return s++,h.apply(null,arguments)},...w),C=x(function(){c++;const O=UY(E,arguments);return u=A.apply(null,O),u},..._);return Object.assign(C,{resultFunc:h,memoizedResultFunc:A,dependencies:E,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var de=HY(o4),VY=Object.assign((e,t=de)=>{LY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>VY}),h0={},m0={},p0={},qA;function KY(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const c=t(n),u=t(a);if(c===u&&c===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};e.compareValues=r})(p0)),p0}var g0={},v0={},FA;function l4(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(v0)),v0}var HA;function GY(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l4(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=a})(g0)),g0}var VA;function WY(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KY(),r=GY(),n=Mj();function a(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,S)=>{let w=x;for(let _=0;_<S.length&&w!=null;++_)w=w[S[_]];return w},m=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:h(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?h(S,x):typeof S=="object"?S[x]:S,g=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(S=>m(S,x))})).slice().sort((x,S)=>{for(let w=0;w<g.length;w++){const _=t.compareValues(x.criteria[w],S.criteria[w],u[w]);if(_!==0)return _}return 0}).map(x=>x.original)}e.orderBy=a})(m0)),m0}var y0={},KA;function YY(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),c=(u,f)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&f<s?c(m,f+1):a.push(m)}};return c(r,0),a}e.flatten=t})(y0)),y0}var x0={},GA;function c4(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s4(),r=Lj(),n=JI(),a=t4();function s(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.eq(f[u],c):!1}e.isIterateeCall=s})(x0)),x0}var WA;function XY(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WY(),r=YY(),n=c4();function a(s,...c){const u=c.length;return u>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=a})(h0)),h0}var b0,YA;function ZY(){return YA||(YA=1,b0=XY().sortBy),b0}var QY=ZY();const Kp=_a(QY);var u4=e=>e.legend.settings,JY=e=>e.legend.size,eX=e=>e.legend.payload;de([eX,u4],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Kp(n,r):n});var Ph=1;function tX(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>Ph||Math.abs(c.left-t.left)>Ph||Math.abs(c.top-t.top)>Ph||Math.abs(c.width-t.width)>Ph)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Dr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rX=typeof Symbol=="function"&&Symbol.observable||"@@observable",XA=rX,w0=()=>Math.random().toString(36).substring(7).split("").join("."),nX={INIT:`@@redux/INIT${w0()}`,REPLACE:`@@redux/REPLACE${w0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${w0()}`},Am=nX;function $j(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function d4(e,t,r){if(typeof e!="function")throw new Error(Dr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Dr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Dr(1));return r(d4)(e,t)}let n=e,a=t,s=new Map,c=s,u=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((_,E)=>{c.set(E,_)}))}function m(){if(f)throw new Error(Dr(3));return a}function g(_){if(typeof _!="function")throw new Error(Dr(4));if(f)throw new Error(Dr(5));let E=!0;h();const A=u++;return c.set(A,_),function(){if(E){if(f)throw new Error(Dr(6));E=!1,h(),c.delete(A),s=null}}}function y(_){if(!$j(_))throw new Error(Dr(7));if(typeof _.type>"u")throw new Error(Dr(8));if(typeof _.type!="string")throw new Error(Dr(17));if(f)throw new Error(Dr(9));try{f=!0,a=n(a,_)}finally{f=!1}return(s=c).forEach(A=>{A()}),_}function x(_){if(typeof _!="function")throw new Error(Dr(10));n=_,y({type:Am.REPLACE})}function S(){const _=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Dr(11));function A(){const R=E;R.next&&R.next(m())}return A(),{unsubscribe:_(A)}},[XA](){return this}}}return y({type:Am.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:x,[XA]:S}}function aX(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Am.INIT})>"u")throw new Error(Dr(12));if(typeof r(void 0,{type:Am.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dr(13))})}function f4(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{aX(r)}catch(s){a=s}return function(c={},u){if(a)throw a;let f=!1;const h={};for(let m=0;m<n.length;m++){const g=n[m],y=r[g],x=c[g],S=y(x,u);if(typeof S>"u")throw u&&u.type,new Error(Dr(14));h[g]=S,f=f||S!==x}return f=f||n.length!==Object.keys(c).length,f?h:c}}function Tm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function iX(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Dr(15))};const c={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},u=e.map(f=>f(c));return s=Tm(...u)(a.dispatch),{...a,dispatch:s}}}function h4(e){return $j(e)&&"type"in e&&typeof e.type=="string"}var m4=Symbol.for("immer-nothing"),ZA=Symbol.for("immer-draftable"),an=Symbol.for("immer-state");function ha(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object,uc=Rn.getPrototypeOf,km="constructor",Gp="prototype",qb="configurable",Pm="enumerable",am="writable",id="value",Oi=e=>!!e&&!!e[an];function ja(e){return e?p4(e)||Wp(e)||!!e[ZA]||!!e[km]?.[ZA]||Yp(e)||Xp(e):!1}var sX=Rn[Gp][km].toString(),QA=new WeakMap;function p4(e){if(!e||!Uj(e))return!1;const t=uc(e);if(t===null||t===Rn[Gp])return!0;const r=Rn.hasOwnProperty.call(t,km)&&t[km];if(r===Object)return!0;if(!Hl(r))return!1;let n=QA.get(r);return n===void 0&&(n=Function.toString.call(r),QA.set(r,n)),n===sX}function Cd(e,t,r=!0){Od(e)===0?(r?Reflect.ownKeys(e):Rn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Od(e){const t=e[an];return t?t.type_:Wp(e)?1:Yp(e)?2:Xp(e)?3:0}var JA=(e,t,r=Od(e))=>r===2?e.has(t):Rn[Gp].hasOwnProperty.call(e,t),Fb=(e,t,r=Od(e))=>r===2?e.get(t):e[t],Rm=(e,t,r,n=Od(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function oX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Wp=Array.isArray,Yp=e=>e instanceof Map,Xp=e=>e instanceof Set,Uj=e=>typeof e=="object",Hl=e=>typeof e=="function",j0=e=>typeof e=="boolean",pi=e=>e.copy_||e.base_,Bj=e=>e.modified_?e.copy_:e.base_;function Hb(e,t){if(Yp(e))return new Map(e);if(Xp(e))return new Set(e);if(Wp(e))return Array[Gp].slice.call(e);const r=p4(e);if(t===!0||t==="class_only"&&!r){const n=Rn.getOwnPropertyDescriptors(e);delete n[an];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],u=n[c];u[am]===!1&&(u[am]=!0,u[qb]=!0),(u.get||u.set)&&(n[c]={[qb]:!0,[am]:!0,[Pm]:u[Pm],[id]:e[c]})}return Rn.create(uc(e),n)}else{const n=uc(e);if(n!==null&&r)return{...e};const a=Rn.create(n);return Rn.assign(a,e)}}function qj(e,t=!1){return Zp(e)||Oi(e)||!ja(e)||(Od(e)>1&&Rn.defineProperties(e,{set:Rh,add:Rh,clear:Rh,delete:Rh}),Rn.freeze(e),t&&Cd(e,(r,n)=>{qj(n,!0)},!1)),e}function lX(){ha(2)}var Rh={[id]:lX};function Zp(e){return e===null||!Uj(e)?!0:Rn.isFrozen(e)}var Dm="MapSet",Vb="Patches",g4={};function dc(e){const t=g4[e];return t||ha(0,e),t}var cX=e=>!!g4[e],sd,v4=()=>sd,uX=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:cX(Dm)?dc(Dm):void 0});function eT(e,t){t&&(e.patchPlugin_=dc(Vb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kb(e){Gb(e),e.drafts_.forEach(dX),e.drafts_=null}function Gb(e){e===sd&&(sd=e.parent_)}var tT=e=>sd=uX(sd,e);function dX(e){const t=e[an];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[an].modified_&&(Kb(t),ha(4)),ja(e)&&(e=nT(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[an].base_,e,t)}else e=nT(t,r);return fX(t,e,!0),Kb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==m4?e:void 0}function nT(e,t){if(Zp(t))return t;const r=t[an];if(!r)return Fj(t,e.handledSet_,e);if(!Qp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);b4(r,e)}return r.copy_}function fX(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qj(t,r)}function y4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Qp=(e,t)=>e.scope_===t,hX=[];function x4(e,t,r,n){const a=pi(e),s=e.type_;if(n!==void 0&&Fb(a,n,s)===t){Rm(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Cd(a,(f,h)=>{if(Oi(h)){const m=u.get(h)||[];m.push(f),u.set(h,m)}})}const c=e.draftLocations_.get(t)??hX;for(const u of c)Rm(a,u,r,s)}function mX(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!Qp(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const c=Bj(s);x4(e,s.draft_??s,c,r),b4(s,a)})}function b4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}y4(e)}}function pX(e,t,r){const{scope_:n}=e;if(Oi(r)){const a=r[an];Qp(a,n)&&a.callbacks_.push(function(){im(e);const c=Bj(a);x4(e,r,c,t)})}else ja(r)&&e.callbacks_.push(function(){const s=pi(e);Fb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Fj(Fb(e.copy_,t,e.type_),n.handledSet_,n)})}function Fj(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Oi(e)||t.has(e)||!ja(e)||Zp(e)||(t.add(e),Cd(e,(n,a)=>{if(Oi(a)){const s=a[an];if(Qp(s,r)){const c=Bj(s);Rm(e,n,c,e.type_),y4(s)}}else ja(a)&&Fj(a,t,r)})),e}function gX(e,t){const r=Wp(e),n={type_:r?1:0,scope_:t?t.scope_:v4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Hj;r&&(a=[n],s=od);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=c,[u,n]}var Hj={get(e,t){if(t===an)return e;const r=pi(e);if(!JA(r,t,e.type_))return vX(e,r,t);const n=r[t];if(e.finalized_||!ja(n))return n;if(n===_0(e.base_,t)){im(e);const a=e.type_===1?+t:t,s=Yb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in pi(e)},ownKeys(e){return Reflect.ownKeys(pi(e))},set(e,t,r){const n=w4(pi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=_0(pi(e),t),s=a?.[an];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(oX(r,a)&&(r!==void 0||JA(e.base_,t,e.type_)))return!0;im(e),Wb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),pX(e,t,r)),!0},deleteProperty(e,t){return im(e),_0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Wb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=pi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[am]:!0,[qb]:e.type_!==1||t!=="length",[Pm]:n[Pm],[id]:r[t]}},defineProperty(){ha(11)},getPrototypeOf(e){return uc(e.base_)},setPrototypeOf(){ha(12)}},od={};Cd(Hj,(e,t)=>{od[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,r){return Hj.set.call(this,e[0],t,r,e[0])};function _0(e,t){const r=e[an];return(r?pi(r):e)[t]}function vX(e,t,r){const n=w4(t,r);return n?id in n?n[id]:n.get?.call(e.draft_):void 0}function w4(e,t){if(!(t in e))return;let r=uc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=uc(r)}}function Wb(e){e.modified_||(e.modified_=!0,e.parent_&&Wb(e.parent_))}function im(e){e.copy_||(e.assigned_=new Map,e.copy_=Hb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Hl(r)&&!Hl(n)){const c=n;n=r;const u=this;return function(h=c,...m){return u.produce(h,g=>n.call(this,g,...m))}}Hl(n)||ha(6),a!==void 0&&!Hl(a)&&ha(7);let s;if(ja(r)){const c=tT(this),u=Yb(c,r,void 0);let f=!0;try{s=n(u),f=!1}finally{f?Kb(c):Gb(c)}return eT(c,a),rT(s,c)}else if(!r||!Uj(r)){if(s=n(r),s===void 0&&(s=r),s===m4&&(s=void 0),this.autoFreeze_&&qj(s,!0),a){const c=[],u=[];dc(Vb).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:u}),a(c,u)}return s}else ha(1,r)},this.produceWithPatches=(r,n)=>{if(Hl(r))return(u,...f)=>this.produceWithPatches(u,h=>r(h,...f));let a,s;return[this.produce(r,n,(u,f)=>{a=u,s=f}),a,s]},j0(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),j0(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),j0(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ja(t)||ha(8),Oi(t)&&(t=va(t));const r=tT(this),n=Yb(r,t,void 0);return n[an].isManual_=!0,Gb(r),n}finishDraft(t,r){const n=t&&t[an];(!n||!n.isManual_)&&ha(9);const{scope_:a}=n;return eT(a,r),rT(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=dc(Vb).applyPatches_;return Oi(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Yb(e,t,r,n){const[a,s]=Yp(t)?dc(Dm).proxyMap_(t,r):Xp(t)?dc(Dm).proxySet_(t,r):gX(t,r);return(r?.scope_??v4()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?mX(r,s,n):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function va(e){return Oi(e)||ha(10,e),j4(e)}function j4(e){if(!ja(e)||Zp(e))return e;const t=e[an];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Hb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Hb(e,!0);return Cd(r,(a,s)=>{Rm(r,a,j4(s))},n),t&&(t.finalized_=!1),r}var xX=new yX,_4=xX.produce;function S4(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var bX=S4(),wX=S4,jX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tm:Tm.apply(null,arguments)};function ra(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(In(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>h4(n)&&n.type===e,r}var E4=class Fu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fu.prototype)}static get[Symbol.species](){return Fu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fu(...t[0].concat(this)):new Fu(...t.concat(this))}};function aT(e){return ja(e)?_4(e,()=>{}):e}function Dh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function _X(e){return typeof e=="boolean"}var SX=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let c=new E4;return r&&(_X(r)?c.push(bX):c.push(wX(r.extraArgument))),c},N4="RTK_autoBatch",Mt=()=>e=>({payload:e,meta:{[N4]:!0}}),iT=e=>t=>{setTimeout(t,e)},C4=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iT(10):e.type==="callback"?e.queueNotification:iT(e.timeout),h=()=>{c=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),y=n.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[N4],s=!a,s&&(c||(c=!0,f(h))),n.dispatch(m)}finally{a=!0}}})},EX=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new E4(e);return n&&a.push(C4(typeof n=="object"?n:void 0)),a};function NX(e){const t=SX(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if($j(r))u=f4(r);else throw new Error(In(1));let f;typeof n=="function"?f=n(t):f=t();let h=Tm;a&&(h=jX({trace:!1,...typeof a=="object"&&a}));const m=iX(...f),g=EX(m);let y=typeof c=="function"?c(g):g();const x=h(...y);return d4(u,s,x)}function O4(e){const t={},r=[];let n;const a={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(In(28));if(u in t)throw new Error(In(29));return t[u]=c,a},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return r.push({matcher:s,reducer:c}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function CX(e){return typeof e=="function"}function OX(e,t){let[r,n,a]=O4(t),s;if(CX(e))s=()=>aT(e());else{const u=aT(e);s=()=>u}function c(u=s(),f){let h=[r[f.type],...n.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,g)=>{if(g)if(Oi(m)){const x=g(m,f);return x===void 0?m:x}else{if(ja(m))return _4(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return c.getInitialState=s,c}var AX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TX=(e=21)=>{let t="",r=e;for(;r--;)t+=AX[Math.random()*64|0];return t},kX=Symbol.for("rtk-slice-createasyncthunk");function PX(e,t){return`${e}/${t}`}function RX({creators:e}={}){const t=e?.asyncThunk?.[kX];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(In(11));const c=(typeof n.reducers=="function"?n.reducers(MX()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,R){const O=typeof C=="string"?C:C.type;if(!O)throw new Error(In(12));if(O in f.sliceCaseReducersByType)throw new Error(In(13));return f.sliceCaseReducersByType[O]=R,h},addMatcher(C,R){return f.sliceMatchers.push({matcher:C,reducer:R}),h},exposeAction(C,R){return f.actionCreators[C]=R,h},exposeCaseReducer(C,R){return f.sliceCaseReducersByName[C]=R,h}};u.forEach(C=>{const R=c[C],O={reducerName:C,type:PX(a,C),createNotation:typeof n.reducers=="function"};LX(R)?$X(O,R,h,t):IX(O,R,h)});function m(){const[C={},R=[],O=void 0]=typeof n.extraReducers=="function"?O4(n.extraReducers):[n.extraReducers],I={...C,...f.sliceCaseReducersByType};return OX(n.initialState,N=>{for(let T in I)N.addCase(T,I[T]);for(let T of f.sliceMatchers)N.addMatcher(T.matcher,T.reducer);for(let T of R)N.addMatcher(T.matcher,T.reducer);O&&N.addDefaultCase(O)})}const g=C=>C,y=new Map,x=new WeakMap;let S;function w(C,R){return S||(S=m()),S(C,R)}function _(){return S||(S=m()),S.getInitialState()}function E(C,R=!1){function O(N){let T=N[C];return typeof T>"u"&&R&&(T=Dh(x,O,_)),T}function I(N=g){const T=Dh(y,R,()=>new WeakMap);return Dh(T,N,()=>{const U={};for(const[G,B]of Object.entries(n.selectors??{}))U[G]=DX(B,N,()=>Dh(x,N,_),R);return U})}return{reducerPath:C,getSelectors:I,get selectors(){return I(O)},selectSlice:O}}const A={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:_,...E(s),injectInto(C,{reducerPath:R,...O}={}){const I=R??s;return C.inject({reducerPath:I,reducer:w},O),{...A,...E(I,!0)}}};return A}}function DX(e,t,r,n){function a(s,...c){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return a.unwrapped=e,a}var vn=RX();function MX(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function IX({type:e,reducerName:t,createNotation:r},n,a){let s,c;if("reducer"in n){if(r&&!zX(n))throw new Error(In(17));s=n.reducer,c=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?ra(e,c):ra(e))}function LX(e){return e._reducerDefinitionType==="asyncThunk"}function zX(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $X({type:e,reducerName:t},r,n,a){if(!a)throw new Error(In(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:h,options:m}=r,g=a(e,s,m);n.exposeAction(t,g),c&&n.addCase(g.fulfilled,c),u&&n.addCase(g.pending,u),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:c||Mh,pending:u||Mh,rejected:f||Mh,settled:h||Mh})}function Mh(){}var UX="task",A4="listener",T4="completed",Vj="cancelled",BX=`task-${Vj}`,qX=`task-${T4}`,Xb=`${A4}-${Vj}`,FX=`${A4}-${T4}`,Jp=class{constructor(e){this.code=e,this.message=`${UX} ${Vj} (reason: ${e})`}name="TaskAbortError";message},Kj=(e,t)=>{if(typeof e!="function")throw new TypeError(In(32))},Mm=()=>{},k4=(e,t=Mm)=>(e.catch(t),e),P4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),jo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},_o=e=>{if(e.aborted){const{reason:t}=e;throw new Jp(t)}};function R4(e,t){let r=Mm;return new Promise((n,a)=>{const s=()=>a(new Jp(e.reason));if(e.aborted){s();return}r=P4(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Mm})}var HX=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Jp?"cancelled":"rejected",error:r}}finally{t?.()}},Im=e=>t=>k4(R4(e,t).then(r=>(_o(e),r))),D4=e=>{const t=Im(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:tc}=Object,sT={},eg="listenerMiddleware",VX=(e,t)=>{const r=n=>P4(e,()=>jo(n,e.reason));return(n,a)=>{Kj(n);const s=new AbortController;r(s);const c=HX(async()=>{_o(e),_o(s.signal);const u=await n({pause:Im(s.signal),delay:D4(s.signal),signal:s.signal});return _o(s.signal),u},()=>jo(s,qX));return a?.autoJoin&&t.push(c.catch(Mm)),{result:Im(e)(c),cancel(){jo(s,BX)}}}},KX=(e,t)=>{const r=async(n,a)=>{_o(t);let s=()=>{};const u=[new Promise((f,h)=>{let m=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{m(),h()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await R4(t,Promise.race(u));return _o(t),f}finally{s()}};return(n,a)=>k4(r(n,a))},M4=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=ra(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(In(21));return Kj(s),{predicate:a,type:t,effect:s}},I4=tc(e=>{const{type:t,predicate:r,effect:n}=M4(e);return{id:TX(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(In(22))}}},{withTypes:()=>I4}),oT=(e,t)=>{const{type:r,effect:n,predicate:a}=M4(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Zb=e=>{e.pending.forEach(t=>{jo(t,Xb)})},GX=(e,t)=>()=>{for(const r of t.keys())Zb(r);e.clear()},lT=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},L4=tc(ra(`${eg}/add`),{withTypes:()=>L4}),WX=ra(`${eg}/removeAll`),z4=tc(ra(`${eg}/remove`),{withTypes:()=>z4}),YX=(...e)=>{console.error(`${eg}/error`,...e)},Ad=(e={})=>{const t=new Map,r=new Map,n=x=>{const S=r.get(x)??0;r.set(x,S+1)},a=x=>{const S=r.get(x)??1;S===1?r.delete(x):r.set(x,S-1)},{extra:s,onError:c=YX}=e;Kj(c);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S?.cancelActive&&Zb(x)}),f=x=>{const S=oT(t,x)??I4(x);return u(S)};tc(f,{withTypes:()=>f});const h=x=>{const S=oT(t,x);return S&&(S.unsubscribe(),x.cancelActive&&Zb(S)),!!S};tc(h,{withTypes:()=>h});const m=async(x,S,w,_)=>{const E=new AbortController,A=KX(f,E.signal),C=[];try{x.pending.add(E),n(x),await Promise.resolve(x.effect(S,tc({},w,{getOriginalState:_,condition:(R,O)=>A(R,O).then(Boolean),take:A,delay:D4(E.signal),pause:Im(E.signal),extra:s,signal:E.signal,fork:VX(E.signal,C),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((R,O,I)=>{R!==E&&(jo(R,Xb),I.delete(R))})},cancel:()=>{jo(E,Xb),x.pending.delete(E)},throwIfCancelled:()=>{_o(E.signal)}})))}catch(R){R instanceof Jp||lT(c,R,{raisedBy:"effect"})}finally{await Promise.all(C),jo(E,FX),a(x),x.pending.delete(E)}},g=GX(t,r);return{middleware:x=>S=>w=>{if(!h4(w))return S(w);if(L4.match(w))return f(w.payload);if(WX.match(w)){g();return}if(z4.match(w))return h(w.payload);let _=x.getState();const E=()=>{if(_===sT)throw new Error(In(23));return _};let A;try{if(A=S(w),t.size>0){const C=x.getState(),R=Array.from(t.values());for(const O of R){let I=!1;try{I=O.predicate(w,C,_)}catch(N){I=!1,lT(c,N,{raisedBy:"predicate"})}I&&m(O,w,x,E)}}}finally{_=sT}return A},startListening:f,stopListening:h,clearListeners:g}};function In(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$4=vn({name:"chartLayout",initialState:XX,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ZX,setLayout:QX,setChartSize:JX,setScale:eZ}=$4.actions,tZ=$4.reducer;function U4(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){rZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rZ(e,t,r){return(t=nZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t,r){return Nr(e)||Nr(t)?r:Ba(t)?Po(e,t,r):typeof t=="function"?t(e):r}var iZ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&$e(e[s]))return Kl(Kl({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&$e(e[c]))return Kl(Kl({},e),{},{[c]:e[c]+(a||0)})}return e},qo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",B4=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,c=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||c.push(t),s||c.push(r),c},q4=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:m,ticks:g,niceTicks:y,axisType:x}=e;if(!c)return null;var S=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=a==="category"&&c.bandwidth?c.bandwidth()/S:0;if(w=x==="angleAxis"&&s&&s.length>=2?Er(s[0]-s[1])*2*w:w,g||y){var _=(g||y||[]).map((E,A)=>{var C=n?n.indexOf(E):E;return{coordinate:c(C)+w,value:E,offset:w,index:A}});return _.filter(E=>!wa(E.coordinate))}return f&&h?h.map((E,A)=>({coordinate:c(E)+w,value:E,index:A,offset:w})):c.ticks&&m!=null?c.ticks(m).map((E,A)=>({coordinate:c(E)+w,value:E,offset:w,index:A})):c.domain().map((E,A)=>({coordinate:c(E)+w,value:n?n[E]:E,index:A,offset:w}))},uT=1e-4,sZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-uT,s=Math.max(n[0],n[1])+uT,c=e(t[0]),u=e(t[r-1]);(c<a||c>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},oZ=(e,t)=>{if(!t||t.length!==2||!$e(t[0])||!$e(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!$e(e[0])||e[0]<r)&&(a[0]=r),(!$e(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},lZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,c=0;c<t;++c){var u=wa(e[c][r][1])?e[c][r][0]:e[c][r][1];u>=0?(e[c][r][0]=a,e[c][r][1]=a+u,a=e[c][r][1]):(e[c][r][0]=s,e[c][r][1]=s+u,s=e[c][r][1])}},cZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var c=wa(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=a,e[s][r][1]=a+c,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},uZ={sign:lZ,expand:IW,none:cc,silhouette:LW,wiggle:zW,positive:cZ},dZ=(e,t,r)=>{var n=uZ[r],a=MW().keys(t).value((s,c)=>Number(It(s,c,0))).order(Ub).offset(n);return a(e)};function fZ(e){return e==null?void 0:String(e)}var dT=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var u=It(s,t.dataKey,t.scale.domain()[c]);return Nr(u)?null:t.scale(u)-a/2+n},hZ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},mZ=e=>{var t=e.flat(2).filter($e);return[Math.min(...t),Math.max(...t)]},pZ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],gZ=(e,t,r)=>{if(e!=null)return pZ(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:c}=s,u=c.reduce((f,h)=>{var m=U4(h,t,r),g=mZ(m);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},fT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lm=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Kp(t,m=>m.coordinate),s=1/0,c=1,u=a.length;c<u;c++){var f=a[c],h=a[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function mT(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Kl(Kl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function tg(e,t){if(e)return String(e);if(typeof t=="string")return t}var vZ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yZ=(e,t)=>t==="centric"?e.angle:e.radius,Mi=e=>e.layout.width,Ii=e=>e.layout.height,xZ=e=>e.layout.scale,F4=e=>e.layout.margin,rg=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ng=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),H4="data-recharts-item-index",V4="data-recharts-item-data-key",Td=60;function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){bZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Z=e=>e.brush.height;function SZ(e){var t=ng(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Td;return r+a}return r},0)}function EZ(e){var t=ng(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Td;return r+a}return r},0)}function NZ(e){var t=rg(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function CZ(e){var t=rg(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var gr=de([Mi,Ii,F4,_Z,SZ,EZ,NZ,CZ,u4,JY],(e,t,r,n,a,s,c,u,f,h)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+c,bottom:(r.bottom||0)+u},y=Ih(Ih({},g),m),x=y.bottom;y.bottom+=n,y=iZ(y,f,h);var S=e-y.left-y.right,w=t-y.top-y.bottom;return Ih(Ih({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(w,0)})}),OZ=de(gr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Gj=de(Mi,Ii,(e,t)=>({x:0,y:0,width:e,height:t})),AZ=v.createContext(null),yn=()=>v.useContext(AZ)!=null,ag=e=>e.brush,ig=de([ag,gr,F4],(e,t,r)=>({height:e.height,x:$e(e.x)?e.x:t.left,y:$e(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:$e(e.width)?e.width:t.width})),S0={},E0={},N0={},gT;function TZ(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},g=()=>{h&&m(),w()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},S=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{S(),c=void 0,u=null},_=()=>{m()},E=function(...A){if(a?.aborted)return;c=this,u=A;const C=y==null;x(),f&&C&&m()};return E.schedule=x,E.cancel=w,E.flush=_,a?.addEventListener("abort",w,{once:!0}),E}e.debounce=t})(N0)),N0}var vT;function kZ(){return vT||(vT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TZ();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let m,g=null;const y=t.debounce(function(...w){m=n.apply(this,w),g=null},a,{edges:h}),x=function(...w){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=n.apply(this,w),g=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,w),m)},S=()=>(y.flush(),m);return x.cancel=y.cancel,x.flush=S,x}e.debounce=r})(E0)),E0}var yT;function PZ(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kZ();function r(n,a=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:c,maxWait:a,trailing:u})}e.throttle=r})(S0)),S0}var C0,xT;function RZ(){return xT||(xT=1,C0=PZ().throttle),C0}var DZ=RZ();const MZ=_a(DZ);var zm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},K4=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:c}=r,u=Ci(n)?e:Number(n),f=Ci(a)?t:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},IZ={width:0,height:0,overflow:"visible"},LZ={width:0,overflowX:"visible"},zZ={height:0,overflowY:"visible"},$Z={},UZ=e=>{var{width:t,height:r}=e,n=Ci(t),a=Ci(r);return n&&a?IZ:n?LZ:a?zZ:$Z};function BZ(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function Jt(e){return Number.isFinite(e)}function qa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(null,arguments)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G4=v.createContext({width:-1,height:-1});function VZ(e){return qa(e.width)&&qa(e.height)}function W4(e){var{children:t,width:r,height:n}=e,a=v.useMemo(()=>({width:r,height:n}),[r,n]);return VZ(a)?v.createElement(G4.Provider,{value:a},t):null}var Wj=()=>v.useContext(G4),KZ=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:c=0,minHeight:u,maxHeight:f,children:h,debounce:m=0,id:g,className:y,onResize:x,style:S={}}=e,w=v.useRef(null),_=v.useRef();_.current=x,v.useImperativeHandle(t,()=>w.current);var[E,A]=v.useState({containerWidth:n.width,containerHeight:n.height}),C=v.useCallback((T,U)=>{A(G=>{var B=Math.round(T),K=Math.round(U);return G.containerWidth===B&&G.containerHeight===K?G:{containerWidth:B,containerHeight:K}})},[]);v.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Nd;var T=K=>{var F,{width:oe,height:J}=K[0].contentRect;C(oe,J),(F=_.current)===null||F===void 0||F.call(_,oe,J)};m>0&&(T=MZ(T,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(T),{width:G,height:B}=w.current.getBoundingClientRect();return C(G,B),U.observe(w.current),()=>{U.disconnect()}},[C,m]);var{containerWidth:R,containerHeight:O}=E;zm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:I,calculatedHeight:N}=K4(R,O,{width:a,height:s,aspect:r,maxHeight:f});return zm(I!=null&&I>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,N,a,s,c,u,r),v.createElement("div",{id:g?"".concat(g):void 0,className:gt("recharts-responsive-container",y),style:wT(wT({},S),{},{width:a,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:w},v.createElement("div",{style:UZ({width:a,height:s})},v.createElement(W4,{width:I,height:N},h)))}),rc=v.forwardRef((e,t)=>{var r=Wj();if(qa(r.width)&&qa(r.height))return e.children;var{width:n,height:a}=BZ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=K4(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return $e(s)&&$e(c)?v.createElement(W4,{width:s,height:c},e.children):v.createElement(KZ,Qb({},e,{width:n,height:a,ref:t}))});function Y4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sg=()=>{var e,t=yn(),r=ze(OZ),n=ze(ig),a=(e=ze(ag))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},GZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},X4=()=>{var e;return(e=ze(gr))!==null&&e!==void 0?e:GZ},Z4=()=>ze(Mi),Q4=()=>ze(Ii),ht=e=>e.layout.layoutType,og=()=>ze(ht),WZ=()=>{var e=og();return e!==void 0},lg=e=>{var t=$t(),r=yn(),{width:n,height:a}=e,s=Wj(),c=n,u=a;return s&&(c=s.width>0?s.width:n,u=s.height>0?s.height:a),v.useEffect(()=>{!r&&qa(c)&&qa(u)&&t(JX({width:c,height:u}))},[t,r,c,u]),null},J4=Symbol.for("immer-nothing"),jT=Symbol.for("immer-draftable"),zn=Symbol.for("immer-state");function ma(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ld=Object.getPrototypeOf;function fc(e){return!!e&&!!e[zn]}function Ro(e){return e?eL(e)||Array.isArray(e)||!!e[jT]||!!e.constructor?.[jT]||kd(e)||ug(e):!1}var YZ=Object.prototype.constructor.toString(),_T=new WeakMap;function eL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=_T.get(r);return n===void 0&&(n=Function.toString.call(r),_T.set(r,n)),n===YZ}function $m(e,t,r=!0){cg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cg(e){const t=e[zn];return t?t.type_:Array.isArray(e)?1:kd(e)?2:ug(e)?3:0}function Jb(e,t){return cg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tL(e,t,r){const n=cg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function XZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kd(e){return e instanceof Map}function ug(e){return e instanceof Set}function lo(e){return e.copy_||e.base_}function ew(e,t){if(kd(e))return new Map(e);if(ug(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=eL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[zn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(ld(e),n)}else{const n=ld(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Yj(e,t=!1){return dg(e)||fc(e)||!Ro(e)||(cg(e)>1&&Object.defineProperties(e,{set:Lh,add:Lh,clear:Lh,delete:Lh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Yj(r,!0))),e}function ZZ(){ma(2)}var Lh={value:ZZ};function dg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var QZ={};function Do(e){const t=QZ[e];return t||ma(0,e),t}var cd;function rL(){return cd}function JZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ST(e,t){t&&(Do("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tw(e){rw(e),e.drafts_.forEach(eQ),e.drafts_=null}function rw(e){e===cd&&(cd=e.parent_)}function ET(e){return cd=JZ(cd,e)}function eQ(e){const t=e[zn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[zn].modified_&&(tw(t),ma(4)),Ro(e)&&(e=Um(t,e),t.parent_||Bm(t,e)),t.patches_&&Do("Patches").generateReplacementPatches_(r[zn].base_,e,t.patches_,t.inversePatches_)):e=Um(t,r,[]),tw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==J4?e:void 0}function Um(e,t,r){if(dg(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[zn];if(!a)return $m(t,(s,c)=>CT(e,a,t,s,c,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Bm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,u=!1;a.type_===3&&(c=new Set(s),s.clear(),u=!0),$m(c,(f,h)=>CT(e,a,s,f,h,r,u),n),Bm(e,s,!1),r&&e.patches_&&Do("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function CT(e,t,r,n,a,s,c){if(a==null||typeof a!="object"&&!c)return;const u=dg(a);if(!(u&&!c)){if(fc(a)){const f=s&&t&&t.type_!==3&&!Jb(t.assigned_,n)?s.concat(n):void 0,h=Um(e,a,f);if(tL(r,n,h),fc(h))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(Ro(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Um(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(kd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bm(e,a)}}}function Bm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Yj(t,r)}function tQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:rL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Xj;r&&(a=[n],s=ud);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=c,u}var Xj={get(e,t){if(t===zn)return e;const r=lo(e);if(!Jb(r,t))return rQ(e,r,t);const n=r[t];return e.finalized_||!Ro(n)?n:n===O0(e.base_,t)?(A0(e),e.copy_[t]=aw(n,e)):n},has(e,t){return t in lo(e)},ownKeys(e){return Reflect.ownKeys(lo(e))},set(e,t,r){const n=nL(lo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=O0(lo(e),t),s=a?.[zn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(XZ(r,a)&&(r!==void 0||Jb(e.base_,t)))return!0;A0(e),nw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return O0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,A0(e),nw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ma(11)},getPrototypeOf(e){return ld(e.base_)},setPrototypeOf(){ma(12)}},ud={};$m(Xj,(e,t)=>{ud[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ud.deleteProperty=function(e,t){return ud.set.call(this,e,t,void 0)};ud.set=function(e,t,r){return Xj.set.call(this,e[0],t,r,e[0])};function O0(e,t){const r=e[zn];return(r?lo(r):e)[t]}function rQ(e,t,r){const n=nL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function nL(e,t){if(!(t in e))return;let r=ld(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ld(r)}}function nw(e){e.modified_||(e.modified_=!0,e.parent_&&nw(e.parent_))}function A0(e){e.copy_||(e.copy_=ew(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(f=s,...h){return c.produce(f,m=>r.call(this,m,...h))}}typeof r!="function"&&ma(6),n!==void 0&&typeof n!="function"&&ma(7);let a;if(Ro(t)){const s=ET(this),c=aw(t,void 0);let u=!0;try{a=r(c),u=!1}finally{u?tw(s):rw(s)}return ST(s,n),NT(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===J4&&(a=void 0),this.autoFreeze_&&Yj(a,!0),n){const s=[],c=[];Do("Patches").generateReplacementPatches_(t,a,s,c),n(s,c)}return a}else ma(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,a;return[this.produce(t,r,(c,u)=>{n=c,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ro(e)||ma(8),fc(e)&&(e=aQ(e));const t=ET(this),r=aw(e,void 0);return r[zn].isManual_=!0,rw(t),r}finishDraft(e,t){const r=e&&e[zn];(!r||!r.isManual_)&&ma(9);const{scope_:n}=r;return ST(n,t),NT(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Do("Patches").applyPatches_;return fc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function aw(e,t){const r=kd(e)?Do("MapSet").proxyMap_(e,t):ug(e)?Do("MapSet").proxySet_(e,t):tQ(e,t);return(t?t.scope_:rL()).drafts_.push(r),r}function aQ(e){return fc(e)||ma(10,e),aL(e)}function aL(e){if(!Ro(e)||dg(e))return e;const t=e[zn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ew(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ew(e,!0);return $m(r,(a,s)=>{tL(r,a,aL(s))},n),t&&(t.finalized_=!1),r}var iQ=new nQ;iQ.produce;var sQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iL=vn({name:"legend",initialState:sQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Mt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=va(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Mt()},removeLegendPayload:{reducer(e,t){var r=va(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Mt()}}}),{setLegendSize:Sfe,setLegendSettings:Efe,addLegendPayload:sL,replaceLegendPayload:oL,removeLegendPayload:lL}=iL.actions,oQ=iL.reducer;function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){lQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lQ(e,t,r){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dQ(e){return Array.isArray(e)&&Ba(e[0])&&Ba(e[1])?e.join(" ~ "):e}var fQ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:g,accessibilityLayer:y=!1}=e,x=()=>{if(s&&s.length){var O={padding:0,margin:0},I=(u?Kp(s,u):s).map((N,T)=>{if(N.type==="none")return null;var U=N.formatter||c||dQ,{value:G,name:B}=N,K=G,F=B;if(U){var oe=U(G,B,N,T,s);if(Array.isArray(oe))[K,F]=oe;else if(oe!=null)K=oe;else return null}var J=T0({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:J},Ba(F)?v.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Ba(F)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},K),v.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},S=T0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=T0({margin:0},a),_=!Nr(m),E=_?m:"",A=gt("recharts-default-tooltip",f),C=gt("recharts-tooltip-label",h);_&&g&&s!==void 0&&s!==null&&(E=g(m,s));var R=y?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",iw({className:A,style:S},R),v.createElement("p",{className:C,style:w},v.isValidElement(E)?E:"".concat(E)),x())},Ru="recharts-tooltip-wrapper",hQ={visibility:"hidden"};function mQ(e){var{coordinate:t,translateX:r,translateY:n}=e;return gt(Ru,{["".concat(Ru,"-right")]:$e(r)&&t&&$e(t.x)&&r>=t.x,["".concat(Ru,"-left")]:$e(r)&&t&&$e(t.x)&&r<t.x,["".concat(Ru,"-bottom")]:$e(n)&&t&&$e(t.y)&&n>=t.y,["".concat(Ru,"-top")]:$e(n)&&t&&$e(t.y)&&n<t.y})}function AT(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=e;if(s&&$e(s[n]))return s[n];var m=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return c[n]?m:g;var y=f[n];if(y==null)return 0;if(c[n]){var x=m,S=y;return x<S?Math.max(g,y):Math.max(m,y)}if(h==null)return 0;var w=g+u,_=y+h;return w>_?Math.max(m,y):Math.max(g,y)}function pQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function gQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:u,viewBox:f}=e,h,m,g;return c.height>0&&c.width>0&&r?(m=AT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=AT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=pQ({translateX:m,translateY:g,useTranslate3d:u})):h=hQ,{cssProperties:h,cssClasses:mQ({translateX:m,translateY:g,coordinate:r})}}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sw(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xQ extends v.PureComponent{constructor(){super(...arguments),sw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:h,position:m,reverseDirection:g,useTranslate3d:y,viewBox:x,wrapperStyle:S,lastBoundingBox:w,innerRef:_,hasPortalFromProps:E}=this.props,{cssClasses:A,cssProperties:C}=gQ({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:x}),R=E?{}:zh(zh({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=zh(zh({},R),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:O,ref:_},s)}}var cL=()=>{var e;return(e=ze(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){bQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RT={curveBasisClosed:SW,curveBasisOpen:EW,curveBasis:_W,curveBumpX:cW,curveBumpY:uW,curveLinearClosed:NW,curveLinear:Fp,curveMonotoneX:CW,curveMonotoneY:OW,curveNatural:AW,curveStep:TW,curveStepAfter:PW,curveStepBefore:kW},qm=e=>Jt(e.x)&&Jt(e.y),DT=e=>e.base!=null&&qm(e.base)&&qm(e),Du=e=>e.x,Mu=e=>e.y,_Q=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ed(e));return(r==="curveMonotone"||r==="curveBump")&&t?RT["".concat(r).concat(t==="vertical"?"Y":"X")]:RT[r]||Fp},SQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,c=_Q(t,a),u=s?r.filter(qm):r,f;if(Array.isArray(n)){var h=r.map((x,S)=>PT(PT({},x),{},{base:n[S]}));a==="vertical"?f=Th().y(Mu).x1(Du).x0(x=>x.base.x):f=Th().x(Du).y1(Mu).y0(x=>x.base.y);var m=f.defined(DT).curve(c),g=s?h.filter(DT):h;return m(g)}a==="vertical"&&$e(n)?f=Th().y(Mu).x1(Du).x0(n):$e(n)?f=Th().x(Du).y1(Mu).y0(n):f=II().x(Du).y(Mu);var y=f.defined(qm).curve(c);return y(u)},Zj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?SQ(e):n;return v.createElement("path",ow({},ba(e),rY(e),{className:gt("recharts-curve",t),d:s===null?void 0:s,ref:a}))},EQ=["x","y","top","left","width","height","className"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){CQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t,r){return(t=OQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TQ(e,t){if(e==null)return{};var r,n,a=kQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),RQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:c=0,className:u}=e,f=TQ(e,EQ),h=NQ({x:t,y:r,top:n,left:a,width:s,height:c},f);return!$e(t)||!$e(r)||!$e(s)||!$e(c)||!$e(n)||!$e(a)?null:v.createElement("path",lw({},ta(h),{className:gt("recharts-cross",u),d:PQ(t,r,s,c,n,a)}))};function DQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){MQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MQ(e,t,r){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),uL=(e,t,r)=>e.map(n=>"".concat(zQ(n)," ").concat(t,"ms ").concat(r)).join(","),$Q=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),dd=(e,t)=>Object.keys(t).reduce((r,n)=>LT(LT({},r),{},{[n]:e(n,t[n])}),{});function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fm=(e,t,r)=>e+(t-e)*r,cw=e=>{var{from:t,to:r}=e;return t!==r},dL=(e,t,r)=>{var n=dd((a,s)=>{if(cw(s)){var[c,u]=e(s.from,s.to,s.velocity);return mr(mr({},s),{},{from:c,velocity:u})}return s},t);return r<1?dd((a,s)=>cw(s)?mr(mr({},s),{},{velocity:Fm(s.velocity,n[a].velocity,r),from:Fm(s.from,n[a].from,r)}):s,t):dL(e,n,r-1)};function FQ(e,t,r,n,a,s){var c,u=n.reduce((y,x)=>mr(mr({},y),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>dd((y,x)=>x.from,u),h=()=>!Object.values(u).filter(cw).length,m=null,g=y=>{c||(c=y);var x=y-c,S=x/r.dt;u=dL(r,u,S),a(mr(mr(mr({},e),t),f())),c=y,h()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var y;(y=m)===null||y===void 0||y()})}function HQ(e,t,r,n,a,s,c){var u=null,f=a.reduce((g,y)=>mr(mr({},g),{},{[y]:[e[y],t[y]]}),{}),h,m=g=>{h||(h=g);var y=(g-h)/n,x=dd((w,_)=>Fm(..._,r(y)),f);if(s(mr(mr(mr({},e),t),x)),y<1)u=c.setTimeout(m);else{var S=dd((w,_)=>Fm(..._,r(1)),f);s(mr(mr(mr({},e),t),S))}};return()=>(u=c.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const VQ=(e,t,r,n,a,s)=>{var c=$Q(e,t);return r==null?()=>(a(mr(mr({},e),t)),()=>{}):r.isStepper===!0?FQ(e,t,r,c,a,s):HQ(e,t,r,n,c,a,s)};var Hm=1e-4,fL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],hL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),$T=(e,t)=>r=>{var n=fL(e,t);return hL(n,r)},KQ=(e,t)=>r=>{var n=fL(e,t),a=[...n.map((s,c)=>s*c).slice(1),0];return hL(a,r)},GQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},WQ=(e,t,r,n)=>{var a=$T(e,r),s=$T(t,n),c=KQ(e,r),u=h=>h>1?1:h<0?0:h,f=h=>{for(var m=h>1?1:h,g=m,y=0;y<8;++y){var x=a(g)-m,S=c(g);if(Math.abs(x-m)<Hm||S<Hm)return s(g);g=u(g-x/S)}return s(g)};return f.isStepper=!1,f},UT=function(){return WQ(...GQ(...arguments))},YQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(c,u,f)=>{var h=-(c-u)*r,m=f*n,g=f+(h-m)*a/1e3,y=f*a/1e3+c;return Math.abs(y-u)<Hm&&Math.abs(g)<Hm?[u,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},XQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UT(e);case"spring":return YQ();default:if(e.split("(")[0]==="cubic-bezier")return UT(e)}return typeof e=="function"?e:null};function ZQ(e){var t,r=()=>null,n=!1,a=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...h]=u;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class QQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function JQ(){return ZQ(new QQ)}var eJ=v.createContext(JQ);function tJ(e,t){var r=v.useContext(eJ);return v.useMemo(()=>t??r(e),[e,t,r])}var rJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pd={devToolsEnabled:!1,isSsr:rJ()},nJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BT={t:0},k0={t:1};function fg(e){var t=Kr(e,nJ),{isActive:r,canBegin:n,duration:a,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:h}=t,m=r==="auto"?!Pd.isSsr:r,g=tJ(t.animationId,t.animationManager),[y,x]=v.useState(m?BT:k0),S=v.useRef(null);return v.useEffect(()=>{m||x(k0)},[m]),v.useEffect(()=>{if(!m||!n)return Nd;var w=VQ(BT,k0,XQ(s),a,x,g.getTimeoutController()),_=()=>{S.current=w()};return g.start([f,c,_,a,u]),()=>{g.stop(),S.current&&S.current(),u()}},[m,n,a,s,c,f,u,g]),h(y.t)}function hg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(ad(t)),n=v.useRef(e);return n.current!==e&&(r.current=ad(t),n.current=e),r.current}var aJ=["radius"],iJ=["radius"];function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){sJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(null,arguments)}function HT(e,t){if(e==null)return{};var r,n,a=cJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VT=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),c=n>=0?1:-1,u=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];h="M".concat(e,",").concat(t+c*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+u*m[0],",").concat(t)),h+="L ".concat(e+r-u*m[1],",").concat(t),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*m[1])),h+="L ".concat(e+r,",").concat(t+n-c*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-u*m[2],",").concat(t+n)),h+="L ".concat(e+u*m[3],",").concat(t+n),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-c*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(t+c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+r-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*x,`
            L `).concat(e+r,",").concat(t+n-c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-u*x,",").concat(t+n,`
            L `).concat(e+u*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(t+n-c*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},KT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mL=e=>{var t=Kr(e,KT),r=v.useRef(null),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:h,className:m}=t,{animationEasing:g,animationDuration:y,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:w}=t,_=v.useRef(u),E=v.useRef(f),A=v.useRef(s),C=v.useRef(c),R=v.useMemo(()=>({x:s,y:c,width:u,height:f,radius:h}),[s,c,u,f,h]),O=hg(R,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var I=gt("recharts-rectangle",m);if(!w){var N=ta(t),{radius:T}=N,U=HT(N,aJ);return v.createElement("path",Vm({},U,{radius:typeof h=="number"?h:void 0,className:I,d:VT(s,c,u,f,h)}))}var G=_.current,B=E.current,K=A.current,F=C.current,oe="0px ".concat(n===-1?1:n,"px"),J="".concat(n,"px 0px"),L=uL(["strokeDasharray"],y,typeof g=="string"?g:KT.animationEasing);return v.createElement(fg,{animationId:O,key:O,canBegin:n>0,duration:y,easing:g,isActive:w,begin:x},D=>{var q=hr(G,u,D),re=hr(B,f,D),X=hr(K,s,D),M=hr(F,c,D);r.current&&(_.current=q,E.current=re,A.current=X,C.current=M);var H;S?D>0?H={transition:L,strokeDasharray:J}:H={strokeDasharray:oe}:H={strokeDasharray:J};var Q=ta(t),{radius:P}=Q,V=HT(Q,iJ);return v.createElement("path",Vm({},V,{radius:typeof h=="number"?h:void 0,className:I,d:VT(X,M,q,re,h),ref:r,style:FT(FT({},H),t.style)}))})};function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){uJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uJ(e,t,r){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Km=Math.PI/180,hJ=e=>e*180/Math.PI,sr=(e,t,r,n)=>({x:e+Math.cos(-Km*n)*r,y:t+Math.sin(-Km*n)*r}),pL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},mJ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},pJ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,c=mJ({x:r,y:n},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var u=(r-a)/c,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:c,angle:hJ(f),angleInRadian:f}},gJ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},vJ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return e+c*360},yJ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=pJ({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:h}=gJ(t),m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?WT(WT({},t),{},{radius:a,angle:vJ(m,t)}):null};function gL(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,c=sr(t,r,n,a),u=sr(t,r,n,s);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}var xJ=(e,t)=>{var r=Er(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},$h=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,h=u*(c?1:-1)+n,m=Math.asin(u/h)/Km,g=f?a:a+s*m,y=sr(t,r,h,g),x=sr(t,r,n,g),S=f?a-s*m:a,w=sr(t,r,h*Math.cos(m*Km),S);return{center:y,circleTangency:x,lineTangency:w,theta:m}},vL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:c}=e,u=xJ(s,c),f=s+u,h=sr(t,r,a,s),m=sr(t,r,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var y=sr(t,r,n,s),x=sr(t,r,n,f);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},bJ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}=e,m=Er(h-f),{circleTangency:g,lineTangency:y,theta:x}=$h({cx:t,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:w,theta:_}=$h({cx:t,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:u}),E=u?Math.abs(f-h):Math.abs(f-h)-x-_;if(E<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vL({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:R,theta:O}=$h({cx:t,cy:r,radius:n,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:I,lineTangency:N,theta:T}=$h({cx:t,cy:r,radius:n,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),U=u?Math.abs(f-h):Math.abs(f-h)-O-T;if(U<0&&s===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(U>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},wJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yL=e=>{var t=Kr(e,wJ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m,className:g}=t;if(s<a||h===m)return null;var y=gt("recharts-sector",g),x=s-a,S=Fr(c,x,0,!0),w;return S>0&&Math.abs(h-m)<360?w=bJ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}):w=vL({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),v.createElement("path",uw({},ta(t),{className:y,d:w}))};function jJ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ZI(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:c,angle:u}=t,f=sr(n,a,s,u),h=sr(n,a,c,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return gL(t)}}var P0={},R0={},D0={},YT;function _J(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l4();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(D0)),D0}var XT;function SJ(){return XT||(XT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_J();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(R0)),R0}var ZT;function EJ(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c4(),r=SJ();function n(a,s,c){c&&typeof c!="number"&&t.isIterateeCall(a,s,c)&&(s=c=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),c=c===void 0?a<s?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=a,a+=c;return f}e.range=n})(P0)),P0}var M0,QT;function NJ(){return QT||(QT=1,M0=EJ().range),M0}var CJ=NJ();const xL=_a(CJ);function Es(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qj(e){let t,r,n;e.length!==2?(t=Es,r=(u,f)=>Es(e(u),f),n=(u,f)=>e(u)-f):(t=e===Es||e===OJ?e:AJ,r=e,n=e);function a(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;r(u[g],f)<0?h=g+1:m=g}while(h<m)}return h}function s(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;r(u[g],f)<=0?h=g+1:m=g}while(h<m)}return h}function c(u,f,h=0,m=u.length){const g=a(u,f,h,m-1);return g>h&&n(u[g-1],f)>-n(u[g],f)?g-1:g}return{left:a,center:c,right:s}}function AJ(){return 0}function bL(e){return e===null?NaN:+e}function*TJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const kJ=Qj(Es),Rd=kJ.right;Qj(bL).center;class JT extends Map{constructor(t,r=DJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(ek(this,t))}has(t){return super.has(ek(this,t))}set(t,r){return super.set(PJ(this,t),r)}delete(t){return super.delete(RJ(this,t))}}function ek({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function PJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function RJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function DJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MJ(e=Es){if(e===Es)return wL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const IJ=Math.sqrt(50),LJ=Math.sqrt(10),zJ=Math.sqrt(2);function Gm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=IJ?10:s>=LJ?5:s>=zJ?2:1;let u,f,h;return a<0?(h=Math.pow(10,-a)/c,u=Math.round(e*h),f=Math.round(t*h),u/h<e&&++u,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*c,u=Math.round(e/h),f=Math.round(t/h),u*h<e&&++u,f*h>t&&--f),f<u&&.5<=r&&r<2?Gm(e,t,r*2):[u,f,h]}function dw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,c]=n?Gm(t,e,r):Gm(e,t,r);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(n)if(c<0)for(let h=0;h<u;++h)f[h]=(s-h)/-c;else for(let h=0;h<u;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)f[h]=(a+h)/-c;else for(let h=0;h<u;++h)f[h]=(a+h)*c;return f}function fw(e,t,r){return t=+t,e=+e,r=+r,Gm(e,t,r)[2]}function hw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?fw(t,e,r):fw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?wL:MJ(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,m=Math.log(f),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(f-g)/f)*(h-f/2<0?-1:1),x=Math.max(r,Math.floor(t-h*g/f+y)),S=Math.min(n,Math.floor(t+(f-h)*g/f+y));jL(e,t,x,S,a)}const s=e[t];let c=r,u=n;for(Iu(e,r,t),a(e[n],s)>0&&Iu(e,r,n);c<u;){for(Iu(e,c,u),++c,--u;a(e[c],s)<0;)++c;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Iu(e,r,u):(++u,Iu(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Iu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $J(e,t,r){if(e=Float64Array.from(TJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rk(e);if(t>=1)return tk(e);var n,a=(n-1)*t,s=Math.floor(a),c=tk(jL(e,s).subarray(0,s+1)),u=rk(e.subarray(s+1));return c+(u-c)*(a-s)}}function UJ(e,t,r=bL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),c=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return c+(u-c)*(a-s)}}function BJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Li(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mw=Symbol("implicit");function Jj(){var e=new JT,t=[],r=[],n=mw;function a(s){let c=e.get(s);if(c===void 0){if(n!==mw)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new JT;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Jj(t,r).unknown(n)},ia.apply(a,arguments),a}function e_(){var e=Jj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,c,u=!1,f=0,h=0,m=.5;delete e.unknown;function g(){var y=t().length,x=a<n,S=x?a:n,w=x?n:a;s=(w-S)/Math.max(1,y-f+h*2),u&&(s=Math.floor(s)),S+=(w-S-s*(y-f))*m,c=s*(1-f),u&&(S=Math.round(S),c=Math.round(c));var _=BJ(y).map(function(E){return S+s*E});return r(x?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},e.copy=function(){return e_(t(),[n,a]).round(u).paddingInner(f).paddingOuter(h).align(m)},ia.apply(g(),arguments)}function _L(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _L(t())},e}function qJ(){return _L(e_.apply(null,arguments).paddingInner(1))}function t_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dd(){}var fd=.7,Wm=1/fd,nc="\\s*([+-]?\\d+)\\s*",hd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FJ=/^#([0-9a-f]{3,8})$/,HJ=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),VJ=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),KJ=new RegExp(`^rgba\\(${nc},${nc},${nc},${hd}\\)$`),GJ=new RegExp(`^rgba\\(${za},${za},${za},${hd}\\)$`),WJ=new RegExp(`^hsl\\(${hd},${za},${za}\\)$`),YJ=new RegExp(`^hsla\\(${hd},${za},${za},${hd}\\)$`),nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t_(Dd,md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ak,formatHex:ak,formatHex8:XJ,formatHsl:ZJ,formatRgb:ik,toString:ik});function ak(){return this.rgb().formatHex()}function XJ(){return this.rgb().formatHex8()}function ZJ(){return EL(this).formatHsl()}function ik(){return this.rgb().formatRgb()}function md(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=FJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sk(t):r===3?new mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HJ.exec(e))?new mn(t[1],t[2],t[3],1):(t=VJ.exec(e))?new mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KJ.exec(e))?Uh(t[1],t[2],t[3],t[4]):(t=GJ.exec(e))?Uh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WJ.exec(e))?ck(t[1],t[2]/100,t[3]/100,1):(t=YJ.exec(e))?ck(t[1],t[2]/100,t[3]/100,t[4]):nk.hasOwnProperty(e)?sk(nk[e]):e==="transparent"?new mn(NaN,NaN,NaN,0):null}function sk(e){return new mn(e>>16&255,e>>8&255,e&255,1)}function Uh(e,t,r,n){return n<=0&&(e=t=r=NaN),new mn(e,t,r,n)}function QJ(e){return e instanceof Dd||(e=md(e)),e?(e=e.rgb(),new mn(e.r,e.g,e.b,e.opacity)):new mn}function pw(e,t,r,n){return arguments.length===1?QJ(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}t_(mn,pw,SL(Dd,{brighter(e){return e=e==null?Wm:Math.pow(Wm,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mn(So(this.r),So(this.g),So(this.b),Ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ok,formatHex:ok,formatHex8:JJ,formatRgb:lk,toString:lk}));function ok(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}`}function JJ(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function lk(){const e=Ym(this.opacity);return`${e===1?"rgb(":"rgba("}${So(this.r)}, ${So(this.g)}, ${So(this.b)}${e===1?")":`, ${e})`}`}function Ym(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function So(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vo(e){return e=So(e),(e<16?"0":"")+e.toString(16)}function ck(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pa(e,t,r,n)}function EL(e){if(e instanceof pa)return new pa(e.h,e.s,e.l,e.opacity);if(e instanceof Dd||(e=md(e)),!e)return new pa;if(e instanceof pa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,u=s-a,f=(s+a)/2;return u?(t===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?s+a:2-s-a,c*=60):u=f>0&&f<1?0:c,new pa(c,u,f,e.opacity)}function eee(e,t,r,n){return arguments.length===1?EL(e):new pa(e,t,r,n??1)}function pa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}t_(pa,eee,SL(Dd,{brighter(e){return e=e==null?Wm:Math.pow(Wm,e),new pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new mn(I0(e>=240?e-240:e+120,a,n),I0(e,a,n),I0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new pa(uk(this.h),Bh(this.s),Bh(this.l),Ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ym(this.opacity);return`${e===1?"hsl(":"hsla("}${uk(this.h)}, ${Bh(this.s)*100}%, ${Bh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uk(e){return e=(e||0)%360,e<0?e+360:e}function Bh(e){return Math.max(0,Math.min(1,e||0))}function I0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const r_=e=>()=>e;function tee(e,t){return function(r){return e+r*t}}function ree(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nee(e){return(e=+e)==1?NL:function(t,r){return r-t?ree(t,r,e):r_(isNaN(t)?r:t)}}function NL(e,t){var r=t-e;return r?tee(e,r):r_(isNaN(e)?t:e)}const dk=(function e(t){var r=nee(t);function n(a,s){var c=r((a=pw(a)).r,(s=pw(s)).r),u=r(a.g,s.g),f=r(a.b,s.b),h=NL(a.opacity,s.opacity);return function(m){return a.r=c(m),a.g=u(m),a.b=f(m),a.opacity=h(m),a+""}}return n.gamma=e,n})(1);function aee(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function iee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function see(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=Oc(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(u){for(c=0;c<n;++c)s[c]=a[c](u);return s}}function oee(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lee(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Oc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var gw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L0=new RegExp(gw.source,"g");function cee(e){return function(){return e}}function uee(e){return function(t){return e(t)+""}}function dee(e,t){var r=gw.lastIndex=L0.lastIndex=0,n,a,s,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=gw.exec(e))&&(a=L0.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Xm(n,a)})),r=L0.lastIndex;return r<t.length&&(s=t.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?uee(f[0].x):cee(t):(t=f.length,function(h){for(var m=0,g;m<t;++m)u[(g=f[m]).i]=g.x(h);return u.join("")})}function Oc(e,t){var r=typeof t,n;return t==null||r==="boolean"?r_(t):(r==="number"?Xm:r==="string"?(n=md(t))?(t=n,dk):dee:t instanceof md?dk:t instanceof Date?oee:iee(t)?aee:Array.isArray(t)?see:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lee:Xm)(e,t)}function n_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fee(e,t){t===void 0&&(t=e,e=Oc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function hee(e){return function(){return e}}function Zm(e){return+e}var fk=[0,1];function en(e){return e}function vw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hee(isNaN(t)?NaN:.5)}function mee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pee(e,t,r){var n=e[0],a=e[1],s=t[0],c=t[1];return a<n?(n=vw(a,n),s=r(c,s)):(n=vw(n,a),s=r(s,c)),function(u){return s(n(u))}}function gee(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=vw(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(u){var f=Rd(e,u,1,n)-1;return s[f](a[f](u))}}function Md(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mg(){var e=fk,t=fk,r=Oc,n,a,s,c=en,u,f,h;function m(){var y=Math.min(e.length,t.length);return c!==en&&(c=mee(e[0],e[y-1])),u=y>2?gee:pee,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=u(e.map(n),t,r)))(n(c(y)))}return g.invert=function(y){return c(a((h||(h=u(t,e.map(n),Xm)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Zm),m()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=n_,m()},g.clamp=function(y){return arguments.length?(c=y?!0:en,m()):c!==en},g.interpolate=function(y){return arguments.length?(r=y,m()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,x){return n=y,a=x,m()}}function a_(){return mg()(en,en)}function vee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hc(e){return e=Qm(Math.abs(e)),e?e[1]:NaN}function yee(e,t){return function(r,n){for(var a=r.length,s=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function xee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pd(e){if(!(t=bee.exec(e)))throw new Error("invalid format: "+e);var t;return new i_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pd.prototype=i_.prototype;function i_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}i_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wee(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var CL;function jee(e,t){var r=Qm(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(CL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qm(e,Math.max(0,t+s-1))[0]}function hk(e,t){var r=Qm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hk(e*100,t),r:hk,s:jee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pk(e){return e}var gk=Array.prototype.map,vk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _ee(e){var t=e.grouping===void 0||e.thousands===void 0?pk:yee(gk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?pk:xee(gk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=pd(g);var y=g.fill,x=g.align,S=g.sign,w=g.symbol,_=g.zero,E=g.width,A=g.comma,C=g.precision,R=g.trim,O=g.type;O==="n"?(A=!0,O="g"):mk[O]||(C===void 0&&(C=12),R=!0,O="g"),(_||y==="0"&&x==="=")&&(_=!0,y="0",x="=");var I=w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",N=w==="$"?n:/[%p]/.test(O)?c:"",T=mk[O],U=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(B){var K=I,F=N,oe,J,L;if(O==="c")F=T(B)+F,B="";else{B=+B;var D=B<0||1/B<0;if(B=isNaN(B)?f:T(Math.abs(B),C),R&&(B=wee(B)),D&&+B==0&&S!=="+"&&(D=!1),K=(D?S==="("?S:u:S==="-"||S==="("?"":S)+K,F=(O==="s"?vk[8+CL/3]:"")+F+(D&&S==="("?")":""),U){for(oe=-1,J=B.length;++oe<J;)if(L=B.charCodeAt(oe),48>L||L>57){F=(L===46?a+B.slice(oe+1):B.slice(oe))+F,B=B.slice(0,oe);break}}}A&&!_&&(B=t(B,1/0));var q=K.length+B.length+F.length,re=q<E?new Array(E-q+1).join(y):"";switch(A&&_&&(B=t(re+B,re.length?E-F.length:1/0),re=""),x){case"<":B=K+B+F+re;break;case"=":B=K+re+B+F;break;case"^":B=re.slice(0,q=re.length>>1)+K+B+F+re.slice(q);break;default:B=re+K+B+F;break}return s(B)}return G.toString=function(){return g+""},G}function m(g,y){var x=h((g=pd(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(hc(y)/3)))*3,w=Math.pow(10,-S),_=vk[8+S/3];return function(E){return x(w*E)+_}}return{format:h,formatPrefix:m}}var qh,s_,OL;See({thousands:",",grouping:[3],currency:["$",""]});function See(e){return qh=_ee(e),s_=qh.format,OL=qh.formatPrefix,qh}function Eee(e){return Math.max(0,-hc(Math.abs(e)))}function Nee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hc(t)/3)))*3-hc(Math.abs(e)))}function Cee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hc(t)-hc(e))+1}function AL(e,t,r,n){var a=hw(e,t,r),s;switch(n=pd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Nee(a,c))&&(n.precision=s),OL(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Cee(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Eee(a))&&(n.precision=s-(n.type==="%")*2);break}}return s_(n)}function Ms(e){var t=e.domain;return e.ticks=function(r){var n=t();return dw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return AL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,c=n[a],u=n[s],f,h,m=10;for(u<c&&(h=c,c=u,u=h,h=a,a=s,s=h);m-- >0;){if(h=fw(c,u,r),h===f)return n[a]=c,n[s]=u,t(n);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;f=h}return e},e}function TL(){var e=a_();return e.copy=function(){return Md(e,TL())},ia.apply(e,arguments),Ms(e)}function kL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kL(e).unknown(t)},e=arguments.length?Array.from(e,Zm):[0,1],Ms(r)}function PL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),e[r]=t.floor(a),e[n]=t.ceil(s),e}function yk(e){return Math.log(e)}function xk(e){return Math.exp(e)}function Oee(e){return-Math.log(-e)}function Aee(e){return-Math.exp(-e)}function Tee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kee(e){return e===10?Tee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bk(e){return(t,r)=>-e(-t,r)}function o_(e){const t=e(yk,xk),r=t.domain;let n=10,a,s;function c(){return a=Pee(n),s=kee(n),r()[0]<0?(a=bk(a),s=bk(s),e(Oee,Aee)):e(yk,xk),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let h=f[0],m=f[f.length-1];const g=m<h;g&&([h,m]=[m,h]);let y=a(h),x=a(m),S,w;const _=u==null?10:+u;let E=[];if(!(n%1)&&x-y<_){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(S=1;S<n;++S)if(w=y<0?S/s(-y):S*s(y),!(w<h)){if(w>m)break;E.push(w)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(w=y>0?S/s(-y):S*s(y),!(w<h)){if(w>m)break;E.push(w)}E.length*2<_&&(E=dw(h,m,_))}else E=dw(y,x,Math.min(x-y,_)).map(s);return g?E.reverse():E},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=pd(f)).precision==null&&(f.trim=!0),f=s_(f)),u===1/0)return f;const h=Math.max(1,n*u/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=h?f(m):""}},t.nice=()=>r(PL(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function RL(){const e=o_(mg()).domain([1,10]);return e.copy=()=>Md(e,RL()).base(e.base()),ia.apply(e,arguments),e}function wk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l_(e){var t=1,r=e(wk(t),jk(t));return r.constant=function(n){return arguments.length?e(wk(t=+n),jk(t)):t},Ms(r)}function DL(){var e=l_(mg());return e.copy=function(){return Md(e,DL()).constant(e.constant())},ia.apply(e,arguments)}function _k(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ree(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dee(e){return e<0?-e*e:e*e}function c_(e){var t=e(en,en),r=1;function n(){return r===1?e(en,en):r===.5?e(Ree,Dee):e(_k(r),_k(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ms(t)}function u_(){var e=c_(mg());return e.copy=function(){return Md(e,u_()).exponent(e.exponent())},ia.apply(e,arguments),e}function Mee(){return u_.apply(null,arguments).exponent(.5)}function Sk(e){return Math.sign(e)*e*e}function Iee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ML(){var e=a_(),t=[0,1],r=!1,n;function a(s){var c=Iee(e(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return e.invert(Sk(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Zm)).map(Sk)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return ML(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ia.apply(a,arguments),Ms(a)}function IL(){var e=[],t=[],r=[],n;function a(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=UJ(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Rd(r,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Es),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return IL().domain(e).range(t).unknown(n)},ia.apply(s,arguments)}function LL(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Rd(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return LL().domain([e,t]).range(a).unknown(s)},ia.apply(Ms(c),arguments)}function zL(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Rd(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return zL().domain(e).range(t).unknown(r)},ia.apply(a,arguments)}const z0=new Date,$0=new Date;function vr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let h;do f.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<c);return f},a.filter=s=>vr(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),r&&(a.count=(s,c)=>(z0.setTime(+s),$0.setTime(+c),e(z0),e($0),Math.floor(r(z0,$0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Jm=vr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jm);Jm.range;const xi=1e3,ea=xi*60,bi=ea*60,Ai=bi*24,d_=Ai*7,Ek=Ai*30,U0=Ai*365,yo=vr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCSeconds());yo.range;const f_=vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xi)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getMinutes());f_.range;const h_=vr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCMinutes());h_.range;const m_=vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xi-e.getMinutes()*ea)},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getHours());m_.range;const p_=vr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCHours());p_.range;const Id=vr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ea)/Ai,e=>e.getDate()-1);Id.range;const pg=vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ai,e=>e.getUTCDate()-1);pg.range;const $L=vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ai,e=>Math.floor(e/Ai));$L.range;function Fo(e){return vr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ea)/d_)}const gg=Fo(0),ep=Fo(1),Lee=Fo(2),zee=Fo(3),mc=Fo(4),$ee=Fo(5),Uee=Fo(6);gg.range;ep.range;Lee.range;zee.range;mc.range;$ee.range;Uee.range;function Ho(e){return vr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/d_)}const vg=Ho(0),tp=Ho(1),Bee=Ho(2),qee=Ho(3),pc=Ho(4),Fee=Ho(5),Hee=Ho(6);vg.range;tp.range;Bee.range;qee.range;pc.range;Fee.range;Hee.range;const g_=vr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());g_.range;const v_=vr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());v_.range;const Ti=vr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ti.range;const ki=vr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ki.range;function UL(e,t,r,n,a,s){const c=[[yo,1,xi],[yo,5,5*xi],[yo,15,15*xi],[yo,30,30*xi],[s,1,ea],[s,5,5*ea],[s,15,15*ea],[s,30,30*ea],[a,1,bi],[a,3,3*bi],[a,6,6*bi],[a,12,12*bi],[n,1,Ai],[n,2,2*Ai],[r,1,d_],[t,1,Ek],[t,3,3*Ek],[e,1,U0]];function u(h,m,g){const y=m<h;y&&([h,m]=[m,h]);const x=g&&typeof g.range=="function"?g:f(h,m,g),S=x?x.range(h,+m+1):[];return y?S.reverse():S}function f(h,m,g){const y=Math.abs(m-h)/g,x=Qj(([,,_])=>_).right(c,y);if(x===c.length)return e.every(hw(h/U0,m/U0,g));if(x===0)return Jm.every(Math.max(hw(h,m,g),1));const[S,w]=c[y/c[x-1][2]<c[x][2]/y?x-1:x];return S.every(w)}return[u,f]}const[Vee,Kee]=UL(ki,v_,vg,$L,p_,h_),[Gee,Wee]=UL(Ti,g_,gg,Id,m_,f_);function B0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function q0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Yee(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,h=zu(a),m=$u(a),g=zu(s),y=$u(s),x=zu(c),S=$u(c),w=zu(u),_=$u(u),E=zu(f),A=$u(f),C={a:D,A:q,b:re,B:X,c:null,d:kk,e:kk,f:yte,g:Ote,G:Tte,H:pte,I:gte,j:vte,L:BL,m:xte,M:bte,p:M,q:H,Q:Dk,s:Mk,S:wte,u:jte,U:_te,V:Ste,w:Ete,W:Nte,x:null,X:null,y:Cte,Y:Ate,Z:kte,"%":Rk},R={a:Q,A:P,b:V,B:ie,c:null,d:Pk,e:Pk,f:Mte,g:Vte,G:Gte,H:Pte,I:Rte,j:Dte,L:FL,m:Ite,M:Lte,p:W,q:je,Q:Dk,s:Mk,S:zte,u:$te,U:Ute,V:Bte,w:qte,W:Fte,x:null,X:null,y:Hte,Y:Kte,Z:Wte,"%":Rk},O={a:G,A:B,b:K,B:F,c:oe,d:Ak,e:Ak,f:dte,g:Ok,G:Ck,H:Tk,I:Tk,j:ote,L:ute,m:ste,M:lte,p:U,q:ite,Q:hte,s:mte,S:cte,u:ete,U:tte,V:rte,w:Jee,W:nte,x:J,X:L,y:Ok,Y:Ck,Z:ate,"%":fte};C.x=I(r,C),C.X=I(n,C),C.c=I(t,C),R.x=I(r,R),R.X=I(n,R),R.c=I(t,R);function I(z,ee){return function(ce){var Y=[],ae=-1,he=0,Se=z.length,Oe,Ke,ct;for(ce instanceof Date||(ce=new Date(+ce));++ae<Se;)z.charCodeAt(ae)===37&&(Y.push(z.slice(he,ae)),(Ke=Nk[Oe=z.charAt(++ae)])!=null?Oe=z.charAt(++ae):Ke=Oe==="e"?" ":"0",(ct=ee[Oe])&&(Oe=ct(ce,Ke)),Y.push(Oe),he=ae+1);return Y.push(z.slice(he,ae)),Y.join("")}}function N(z,ee){return function(ce){var Y=Lu(1900,void 0,1),ae=T(Y,z,ce+="",0),he,Se;if(ae!=ce.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ee&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(he=q0(Lu(Y.y,0,1)),Se=he.getUTCDay(),he=Se>4||Se===0?tp.ceil(he):tp(he),he=pg.offset(he,(Y.V-1)*7),Y.y=he.getUTCFullYear(),Y.m=he.getUTCMonth(),Y.d=he.getUTCDate()+(Y.w+6)%7):(he=B0(Lu(Y.y,0,1)),Se=he.getDay(),he=Se>4||Se===0?ep.ceil(he):ep(he),he=Id.offset(he,(Y.V-1)*7),Y.y=he.getFullYear(),Y.m=he.getMonth(),Y.d=he.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Se="Z"in Y?q0(Lu(Y.y,0,1)).getUTCDay():B0(Lu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Se+5)%7:Y.w+Y.U*7-(Se+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,q0(Y)):B0(Y)}}function T(z,ee,ce,Y){for(var ae=0,he=ee.length,Se=ce.length,Oe,Ke;ae<he;){if(Y>=Se)return-1;if(Oe=ee.charCodeAt(ae++),Oe===37){if(Oe=ee.charAt(ae++),Ke=O[Oe in Nk?ee.charAt(ae++):Oe],!Ke||(Y=Ke(z,ce,Y))<0)return-1}else if(Oe!=ce.charCodeAt(Y++))return-1}return Y}function U(z,ee,ce){var Y=h.exec(ee.slice(ce));return Y?(z.p=m.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function G(z,ee,ce){var Y=x.exec(ee.slice(ce));return Y?(z.w=S.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function B(z,ee,ce){var Y=g.exec(ee.slice(ce));return Y?(z.w=y.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function K(z,ee,ce){var Y=E.exec(ee.slice(ce));return Y?(z.m=A.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function F(z,ee,ce){var Y=w.exec(ee.slice(ce));return Y?(z.m=_.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function oe(z,ee,ce){return T(z,t,ee,ce)}function J(z,ee,ce){return T(z,r,ee,ce)}function L(z,ee,ce){return T(z,n,ee,ce)}function D(z){return c[z.getDay()]}function q(z){return s[z.getDay()]}function re(z){return f[z.getMonth()]}function X(z){return u[z.getMonth()]}function M(z){return a[+(z.getHours()>=12)]}function H(z){return 1+~~(z.getMonth()/3)}function Q(z){return c[z.getUTCDay()]}function P(z){return s[z.getUTCDay()]}function V(z){return f[z.getUTCMonth()]}function ie(z){return u[z.getUTCMonth()]}function W(z){return a[+(z.getUTCHours()>=12)]}function je(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var ee=I(z+="",C);return ee.toString=function(){return z},ee},parse:function(z){var ee=N(z+="",!1);return ee.toString=function(){return z},ee},utcFormat:function(z){var ee=I(z+="",R);return ee.toString=function(){return z},ee},utcParse:function(z){var ee=N(z+="",!0);return ee.toString=function(){return z},ee}}}var Nk={"-":"",_:" ",0:"0"},Cr=/^\s*\d+/,Xee=/^%/,Zee=/[\\^$*+?|[\]().{}]/g;function ft(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Qee(e){return e.replace(Zee,"\\$&")}function zu(e){return new RegExp("^(?:"+e.map(Qee).join("|")+")","i")}function $u(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Jee(e,t,r){var n=Cr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ete(e,t,r){var n=Cr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tte(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rte(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nte(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ck(e,t,r){var n=Cr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ok(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ate(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ite(e,t,r){var n=Cr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ste(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ak(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ote(e,t,r){var n=Cr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Tk(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lte(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cte(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ute(e,t,r){var n=Cr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dte(e,t,r){var n=Cr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fte(e,t,r){var n=Xee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hte(e,t,r){var n=Cr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mte(e,t,r){var n=Cr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kk(e,t){return ft(e.getDate(),t,2)}function pte(e,t){return ft(e.getHours(),t,2)}function gte(e,t){return ft(e.getHours()%12||12,t,2)}function vte(e,t){return ft(1+Id.count(Ti(e),e),t,3)}function BL(e,t){return ft(e.getMilliseconds(),t,3)}function yte(e,t){return BL(e,t)+"000"}function xte(e,t){return ft(e.getMonth()+1,t,2)}function bte(e,t){return ft(e.getMinutes(),t,2)}function wte(e,t){return ft(e.getSeconds(),t,2)}function jte(e){var t=e.getDay();return t===0?7:t}function _te(e,t){return ft(gg.count(Ti(e)-1,e),t,2)}function qL(e){var t=e.getDay();return t>=4||t===0?mc(e):mc.ceil(e)}function Ste(e,t){return e=qL(e),ft(mc.count(Ti(e),e)+(Ti(e).getDay()===4),t,2)}function Ete(e){return e.getDay()}function Nte(e,t){return ft(ep.count(Ti(e)-1,e),t,2)}function Cte(e,t){return ft(e.getFullYear()%100,t,2)}function Ote(e,t){return e=qL(e),ft(e.getFullYear()%100,t,2)}function Ate(e,t){return ft(e.getFullYear()%1e4,t,4)}function Tte(e,t){var r=e.getDay();return e=r>=4||r===0?mc(e):mc.ceil(e),ft(e.getFullYear()%1e4,t,4)}function kte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ft(t/60|0,"0",2)+ft(t%60,"0",2)}function Pk(e,t){return ft(e.getUTCDate(),t,2)}function Pte(e,t){return ft(e.getUTCHours(),t,2)}function Rte(e,t){return ft(e.getUTCHours()%12||12,t,2)}function Dte(e,t){return ft(1+pg.count(ki(e),e),t,3)}function FL(e,t){return ft(e.getUTCMilliseconds(),t,3)}function Mte(e,t){return FL(e,t)+"000"}function Ite(e,t){return ft(e.getUTCMonth()+1,t,2)}function Lte(e,t){return ft(e.getUTCMinutes(),t,2)}function zte(e,t){return ft(e.getUTCSeconds(),t,2)}function $te(e){var t=e.getUTCDay();return t===0?7:t}function Ute(e,t){return ft(vg.count(ki(e)-1,e),t,2)}function HL(e){var t=e.getUTCDay();return t>=4||t===0?pc(e):pc.ceil(e)}function Bte(e,t){return e=HL(e),ft(pc.count(ki(e),e)+(ki(e).getUTCDay()===4),t,2)}function qte(e){return e.getUTCDay()}function Fte(e,t){return ft(tp.count(ki(e)-1,e),t,2)}function Hte(e,t){return ft(e.getUTCFullYear()%100,t,2)}function Vte(e,t){return e=HL(e),ft(e.getUTCFullYear()%100,t,2)}function Kte(e,t){return ft(e.getUTCFullYear()%1e4,t,4)}function Gte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?pc(e):pc.ceil(e),ft(e.getUTCFullYear()%1e4,t,4)}function Wte(){return"+0000"}function Rk(){return"%"}function Dk(e){return+e}function Mk(e){return Math.floor(+e/1e3)}var $l,VL,KL;Yte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yte(e){return $l=Yee(e),VL=$l.format,$l.parse,KL=$l.utcFormat,$l.utcParse,$l}function Xte(e){return new Date(e)}function Zte(e){return e instanceof Date?+e:+new Date(+e)}function y_(e,t,r,n,a,s,c,u,f,h){var m=a_(),g=m.invert,y=m.domain,x=h(".%L"),S=h(":%S"),w=h("%I:%M"),_=h("%I %p"),E=h("%a %d"),A=h("%b %d"),C=h("%B"),R=h("%Y");function O(I){return(f(I)<I?x:u(I)<I?S:c(I)<I?w:s(I)<I?_:n(I)<I?a(I)<I?E:A:r(I)<I?C:R)(I)}return m.invert=function(I){return new Date(g(I))},m.domain=function(I){return arguments.length?y(Array.from(I,Zte)):y().map(Xte)},m.ticks=function(I){var N=y();return e(N[0],N[N.length-1],I??10)},m.tickFormat=function(I,N){return N==null?O:h(N)},m.nice=function(I){var N=y();return(!I||typeof I.range!="function")&&(I=t(N[0],N[N.length-1],I??10)),I?y(PL(N,I)):m},m.copy=function(){return Md(m,y_(e,t,r,n,a,s,c,u,f,h))},m}function Qte(){return ia.apply(y_(Gee,Wee,Ti,g_,gg,Id,m_,f_,yo,VL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jte(){return ia.apply(y_(Vee,Kee,ki,v_,vg,pg,p_,h_,yo,KL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yg(){var e=0,t=1,r,n,a,s,c=en,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(y){var x,S;return arguments.length?([x,S]=y,c=g(x,S),h):[c(0),c(1)]}}return h.range=m(Oc),h.rangeRound=m(n_),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Is(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GL(){var e=Ms(yg()(en));return e.copy=function(){return Is(e,GL())},Li.apply(e,arguments)}function WL(){var e=o_(yg()).domain([1,10]);return e.copy=function(){return Is(e,WL()).base(e.base())},Li.apply(e,arguments)}function YL(){var e=l_(yg());return e.copy=function(){return Is(e,YL()).constant(e.constant())},Li.apply(e,arguments)}function x_(){var e=c_(yg());return e.copy=function(){return Is(e,x_()).exponent(e.exponent())},Li.apply(e,arguments)}function ere(){return x_.apply(null,arguments).exponent(.5)}function XL(){var e=[],t=en;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Es),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>$J(e,s/n))},r.copy=function(){return XL(t).domain(e)},Li.apply(r,arguments)}function xg(){var e=0,t=.5,r=1,n=1,a,s,c,u,f,h=en,m,g=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+m(w))-s)*(n*w<n*s?u:f),h(g?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([e,t,r]=w,a=m(e=+e),s=m(t=+t),c=m(r=+r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,x):[e,t,r]},x.clamp=function(w){return arguments.length?(g=!!w,x):g},x.interpolator=function(w){return arguments.length?(h=w,x):h};function S(w){return function(_){var E,A,C;return arguments.length?([E,A,C]=_,h=fee(w,[E,A,C]),x):[h(0),h(.5),h(1)]}}return x.range=S(Oc),x.rangeRound=S(n_),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return m=w,a=w(e),s=w(t),c=w(r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,x}}function ZL(){var e=Ms(xg()(en));return e.copy=function(){return Is(e,ZL())},Li.apply(e,arguments)}function QL(){var e=o_(xg()).domain([.1,1,10]);return e.copy=function(){return Is(e,QL()).base(e.base())},Li.apply(e,arguments)}function JL(){var e=l_(xg());return e.copy=function(){return Is(e,JL()).constant(e.constant())},Li.apply(e,arguments)}function b_(){var e=c_(xg());return e.copy=function(){return Is(e,b_()).exponent(e.exponent())},Li.apply(e,arguments)}function tre(){return b_.apply(null,arguments).exponent(.5)}const Hu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:e_,scaleDiverging:ZL,scaleDivergingLog:QL,scaleDivergingPow:b_,scaleDivergingSqrt:tre,scaleDivergingSymlog:JL,scaleIdentity:kL,scaleImplicit:mw,scaleLinear:TL,scaleLog:RL,scaleOrdinal:Jj,scalePoint:qJ,scalePow:u_,scaleQuantile:IL,scaleQuantize:LL,scaleRadial:ML,scaleSequential:GL,scaleSequentialLog:WL,scaleSequentialPow:x_,scaleSequentialQuantile:XL,scaleSequentialSqrt:ere,scaleSequentialSymlog:YL,scaleSqrt:Mee,scaleSymlog:DL,scaleThreshold:zL,scaleTime:Qte,scaleUtc:Jte,tickFormat:AL},Symbol.toStringTag,{value:"Module"}));var Ls=e=>e.chartData,w_=de([Ls],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),j_=(e,t,r,n)=>n?w_(e):Ls(e);function As(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Jt(t)&&Jt(r))return!0}return!1}function Ik(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function e3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Jt(r))a=r;else if(typeof r=="function")return;if(Jt(n))s=n;else if(typeof n=="function")return;var c=[a,s];if(As(c))return c}}function rre(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(As(n))return Ik(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if($e(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&fT.test(a)){var f=fT.exec(a);if(f==null||t==null)c=void 0;else{var h=+f[1];c=t[0]-h}}else c=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if($e(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&hT.test(s)){var m=hT.exec(s);if(m==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var y=[c,u];if(As(y))return t==null?y:Ik(y,t,r)}}}var Ac=1e9,nre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S_,Lt=!0,na="[DecimalError] ",Eo=na+"Invalid argument: ",__=na+"Exponent out of range: ",Tc=Math.floor,co=Math.pow,are=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,Sr=1e7,Rt=7,t3=9007199254740991,rp=Tc(t3/Rt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return ji(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return Nt(ji(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return or(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pn))throw Error(na+"NaN");if(r.s<1)throw Error(na+(r.s?"NaN":"-Infinity"));return r.eq(Pn)?new n(0):(Lt=!1,t=ji(gd(r,s),gd(e,s),s),Lt=!0,Nt(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a3(t,e):r3(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(na+"NaN");return r.s?(Lt=!1,t=ji(r,e,0,1).times(e),Lt=!0,r.minus(t)):Nt(new n(r),a)};ke.naturalExponential=ke.exp=function(){return n3(this)};ke.naturalLogarithm=ke.ln=function(){return gd(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?r3(t,e):a3(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Eo+e);if(t=or(a)+1,n=a.d.length-1,r=n*Rt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,a,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(na+"NaN")}for(e=or(u),Lt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Ia(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(s=n,n=s.plus(ji(u,s,c+2)).times(.5),Ia(s.d).slice(0,c)===(t=Ia(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Nt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;c+=4}return Lt=!0,Nt(n,r)};ke.times=ke.mul=function(e){var t,r,n,a,s,c,u,f,h,m=this,g=m.constructor,y=m.d,x=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,f=y.length,h=x.length,f<h&&(s=y,y=x,x=s,c=f,f=h,h=c),s=[],c=f+h,n=c;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)u=s[a]+x[n]*y[a-n-1]+t,s[a--]=u%Sr|0,t=u/Sr|0;s[a]=(s[a]+t)%Sr|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Lt?Nt(e,g.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fa(e,0,Ac),t===void 0?t=n.rounding:Fa(t,0,8),Nt(r,e+or(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Mo(n,!0):(Fa(e,0,Ac),t===void 0?t=a.rounding:Fa(t,0,8),n=Nt(new a(n),e+1,t),r=Mo(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Mo(a):(Fa(e,0,Ac),t===void 0?t=s.rounding:Fa(t,0,8),n=Nt(new s(a),e+or(a)+1,t),r=Mo(n.abs(),!1,e+or(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return Nt(new t(e),or(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,a,s,c,u=this,f=u.constructor,h=12,m=+(e=new f(e));if(!e.s)return new f(Pn);if(u=new f(u),!u.s){if(e.s<1)throw Error(na+"Infinity");return u}if(u.eq(Pn))return u;if(n=f.precision,e.eq(Pn))return Nt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=u.s,c){if((r=m<0?-m:m)<=t3){for(a=new f(Pn),t=Math.ceil(n/Rt+4),Lt=!1;r%2&&(a=a.times(u),zk(a.d,t)),r=Tc(r/2),r!==0;)u=u.times(u),zk(u.d,t);return Lt=!0,e.s<0?new f(Pn).div(a):Nt(a,n)}}else if(s<0)throw Error(na+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Lt=!1,a=e.times(gd(u,n+h)),Lt=!0,a=n3(a),a.s=s,a};ke.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=or(a),n=Mo(a,r<=s.toExpNeg||r>=s.toExpPos)):(Fa(e,1,Ac),t===void 0?t=s.rounding:Fa(t,0,8),a=Nt(new s(a),e,t),r=or(a),n=Mo(a,e<=r||r<=s.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fa(e,1,Ac),t===void 0?t=n.rounding:Fa(t,0,8)),Nt(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=or(e),r=e.constructor;return Mo(e,t<=r.toExpNeg||t>=r.toExpPos)};function r3(e,t){var r,n,a,s,c,u,f,h,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Lt?Nt(t,g):t;if(f=e.d,h=t.d,c=e.e,a=t.e,f=f.slice(),s=c-a,s){for(s<0?(n=f,s=-s,u=h.length):(n=h,a=c,u=f.length),c=Math.ceil(g/Rt),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/Sr|0,f[s]%=Sr;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Lt?Nt(t,g):t}function Fa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Eo+e)}function Ia(e){var t,r,n,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)n=e[t]+"",r=Rt-n.length,r&&(s+=xs(r)),s+=n;c=e[t],n=c+"",r=Rt-n.length,r&&(s+=xs(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var ji=(function(){function e(n,a){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+c,n[u]=s%Sr|0,c=s/Sr|0;return c&&n.unshift(c),n}function t(n,a,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*Sr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var u,f,h,m,g,y,x,S,w,_,E,A,C,R,O,I,N,T,U=n.constructor,G=n.s==a.s?1:-1,B=n.d,K=a.d;if(!n.s)return new U(n);if(!a.s)throw Error(na+"Division by zero");for(f=n.e-a.e,N=K.length,O=B.length,x=new U(G),S=x.d=[],h=0;K[h]==(B[h]||0);)++h;if(K[h]>(B[h]||0)&&--f,s==null?A=s=U.precision:c?A=s+(or(n)-or(a))+1:A=s,A<0)return new U(0);if(A=A/Rt+2|0,h=0,N==1)for(m=0,K=K[0],A++;(h<O||m)&&A--;h++)C=m*Sr+(B[h]||0),S[h]=C/K|0,m=C%K|0;else{for(m=Sr/(K[0]+1)|0,m>1&&(K=e(K,m),B=e(B,m),N=K.length,O=B.length),R=N,w=B.slice(0,N),_=w.length;_<N;)w[_++]=0;T=K.slice(),T.unshift(0),I=K[0],K[1]>=Sr/2&&++I;do m=0,u=t(K,w,N,_),u<0?(E=w[0],N!=_&&(E=E*Sr+(w[1]||0)),m=E/I|0,m>1?(m>=Sr&&(m=Sr-1),g=e(K,m),y=g.length,_=w.length,u=t(g,w,y,_),u==1&&(m--,r(g,N<y?T:K,y))):(m==0&&(u=m=1),g=K.slice()),y=g.length,y<_&&g.unshift(0),r(w,g,_),u==-1&&(_=w.length,u=t(K,w,N,_),u<1&&(m++,r(w,N<_?T:K,_))),_=w.length):u===0&&(m++,w=[0]),S[h++]=m,u&&w[0]?w[_++]=B[R]||0:(w=[B[R]],_=1);while((R++<O||w[0]!==void 0)&&A--)}return S[0]||S.shift(),x.e=f,Nt(x,c?s+or(x)+1:s)}})();function n3(e,t){var r,n,a,s,c,u,f=0,h=0,m=e.constructor,g=m.precision;if(or(e)>16)throw Error(__+or(e));if(!e.s)return new m(Pn);for(Lt=!1,u=g,c=new m(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(n=Math.log(co(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new m(Pn),m.precision=u;;){if(a=Nt(a.times(e),u),r=r.times(++f),c=s.plus(ji(a,r,u)),Ia(c.d).slice(0,u)===Ia(s.d).slice(0,u)){for(;h--;)s=Nt(s.times(s),u);return m.precision=g,t==null?(Lt=!0,Nt(s,g)):s}s=c}}function or(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function F0(e,t,r){if(t>e.LN10.sd())throw Lt=!0,r&&(e.precision=r),Error(na+"LN10 precision limit exceeded");return Nt(new e(e.LN10),t)}function xs(e){for(var t="";e--;)t+="0";return t}function gd(e,t){var r,n,a,s,c,u,f,h,m,g=1,y=10,x=e,S=x.d,w=x.constructor,_=w.precision;if(x.s<1)throw Error(na+(x.s?"NaN":"-Infinity"));if(x.eq(Pn))return new w(0);if(t==null?(Lt=!1,h=_):h=t,x.eq(10))return t==null&&(Lt=!0),F0(w,h);if(h+=y,w.precision=h,r=Ia(S),n=r.charAt(0),s=or(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Ia(x.d),n=r.charAt(0),g++;s=or(x),n>1?(x=new w("0."+r),s++):x=new w(n+"."+r.slice(1))}else return f=F0(w,h+2,_).times(s+""),x=gd(new w(n+"."+r.slice(1)),h-y).plus(f),w.precision=_,t==null?(Lt=!0,Nt(x,_)):x;for(u=c=x=ji(x.minus(Pn),x.plus(Pn),h),m=Nt(x.times(x),h),a=3;;){if(c=Nt(c.times(m),h),f=u.plus(ji(c,new w(a),h)),Ia(f.d).slice(0,h)===Ia(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(F0(w,h+2,_).times(s+""))),u=ji(u,new w(g),h),w.precision=_,t==null?(Lt=!0,Nt(u,_)):u;u=f,a+=2}}function Lk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Tc(r/Rt),e.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Rt;n<a;)e.d.push(+t.slice(n,n+=Rt));t=t.slice(n),n=Rt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Lt&&(e.e>rp||e.e<-rp))throw Error(__+r)}else e.s=0,e.e=0,e.d=[0];return e}function Nt(e,t,r){var n,a,s,c,u,f,h,m,g=e.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=Rt,a=t,h=g[m=0];else{if(m=Math.ceil((n+1)/Rt),s=g.length,m>=s)return e;for(h=s=g[m],c=1;s>=10;s/=10)c++;n%=Rt,a=n-Rt+c}if(r!==void 0&&(s=co(10,c-a-1),u=h/s%10|0,f=t<0||g[m+1]!==void 0||h%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?h/co(10,c-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=or(e),g.length=1,t=t-s-1,g[0]=co(10,(Rt-t%Rt)%Rt),e.e=Tc(-t/Rt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,s=1,m--):(g.length=m+1,s=co(10,Rt-n),g[m]=a>0?(h/co(10,c-a)%co(10,a)|0)*s:0),f)for(;;)if(m==0){(g[0]+=s)==Sr&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=Sr)break;g[m--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(Lt&&(e.e>rp||e.e<-rp))throw Error(__+or(e));return e}function a3(e,t){var r,n,a,s,c,u,f,h,m,g,y=e.constructor,x=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Lt?Nt(t,x):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),c=h-n,c){for(m=c<0,m?(r=f,c=-c,u=g.length):(r=g,n=h,u=f.length),a=Math.max(Math.ceil(x/Rt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(f[a]!=g[a]){m=f[a]<g[a];break}c=0}for(m&&(r=f,f=g,g=r,t.s=-t.s),u=f.length,a=g.length-u;a>0;--a)f[u++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Sr-1;--f[s],f[a]+=Sr}f[a]-=g[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Lt?Nt(t,x):t):new y(0)}function Mo(e,t,r){var n,a=or(e),s=Ia(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+xs(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+xs(-a-1)+s,r&&(n=r-c)>0&&(s+=xs(n))):a>=c?(s+=xs(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+xs(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=xs(n))),e.s<0?"-"+s:s}function zk(e,t){if(e.length>t)return e.length=t,!0}function i3(e){var t,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Eo+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return Lk(c,s.toString())}else if(typeof s!="string")throw Error(Eo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,are.test(s))Lk(c,s);else throw Error(Eo+s)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=i3,a.config=a.set=ire,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ire(e){if(!e||typeof e!="object")throw Error(na+"Object expected");var t,r,n,a=["precision",1,Ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Tc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Eo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Eo+r+": "+n);return this}var S_=i3(nre);Pn=new S_(1);const bt=S_;var sre=e=>e,s3={},o3=e=>e===s3,$k=e=>function t(){return arguments.length===0||arguments.length===1&&o3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},l3=(e,t)=>e===1?t:$k(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(c=>c!==s3).length;return s>=e?t(...n):l3(e-s,$k(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var h=n.map(m=>o3(m)?u.shift():m);return t(...h,...u)}))}),ore=e=>l3(e.length,e),yw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},lre=ore((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),cre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return sre;var a=r.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((u,f)=>f(u),s(...arguments))}},xw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function c3(e){var t;return e===0?t=1:t=Math.floor(new bt(e).abs().log(10).toNumber())+1,t}function u3(e,t,r){for(var n=new bt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var d3=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},f3=(e,t,r)=>{if(e.lte(0))return new bt(0);var n=c3(e.toNumber()),a=new bt(10).pow(n),s=e.div(a),c=n!==1?.05:.1,u=new bt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=u.mul(a);return t?new bt(f.toNumber()):new bt(Math.ceil(f.toNumber()))},ure=(e,t,r)=>{var n=new bt(1),a=new bt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new bt(10).pow(c3(e)-1),a=new bt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new bt(Math.floor(e)))}else e===0?a=new bt(Math.floor((t-1)/2)):r||(a=new bt(Math.floor(e)));var c=Math.floor((t-1)/2),u=cre(lre(f=>a.add(new bt(f-c).mul(n)).toNumber()),yw);return u(0,t)},h3=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var c=f3(new bt(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new bt(0):(u=new bt(t).add(r).div(2),u=u.sub(new bt(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),h=Math.ceil(new bt(r).sub(u).div(c).toNumber()),m=f+h+1;return m>n?h3(t,r,n,a,s+1):(m<n&&(h=r>0?h+(n-m):h,f=r>0?f:f+(n-m)),{step:c,tickMin:u.sub(new bt(f).mul(c)),tickMax:u.add(new bt(h).mul(c))})},dre=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=d3([r,n]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...yw(0,a-1).map(()=>1/0)]:[...yw(0,a-1).map(()=>-1/0),f];return r>n?xw(h):h}if(u===f)return ure(u,a,s);var{step:m,tickMin:g,tickMax:y}=h3(u,f,c,s,0),x=u3(g,y.add(new bt(.1).mul(m)),m);return r>n?xw(x):x},fre=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=d3([n,a]);if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(r,2),h=f3(new bt(u).sub(c).div(f-1),s,0),m=[...u3(new bt(c),new bt(u),h),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>a?xw(m):m},m3=e=>e.rootProps.maxBarSize,hre=e=>e.rootProps.barGap,p3=e=>e.rootProps.barCategoryGap,mre=e=>e.rootProps.barSize,Ld=e=>e.rootProps.stackOffset,g3=e=>e.rootProps.reverseStackOrder,E_=e=>e.options.chartName,N_=e=>e.rootProps.syncId,v3=e=>e.rootProps.syncMethod,C_=e=>e.options.eventEmitter,Mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},On={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},pre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gi.angleAxisId,includeHidden:!1,name:void 0,reversed:gi.reversed,scale:gi.scale,tick:gi.tick,tickCount:void 0,ticks:void 0,type:gi.type,unit:void 0},gre={allowDataOverflow:On.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:On.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:On.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:On.scale,tick:On.tick,tickCount:On.tickCount,ticks:void 0,type:On.type,unit:void 0},vre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gi.scale,tick:gi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yre={allowDataOverflow:On.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:On.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:On.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:On.scale,tick:On.tick,tickCount:On.tickCount,ticks:void 0,type:"category",unit:void 0},O_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vre:pre,A_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yre:gre,wg=e=>e.polarOptions,T_=de([Mi,Ii,gr],pL),y3=de([wg,T_],(e,t)=>{if(e!=null)return Fr(e.innerRadius,t,0)}),x3=de([wg,T_],(e,t)=>{if(e!=null)return Fr(e.outerRadius,t,t*.8)}),xre=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},b3=de([wg],xre);de([O_,b3],bg);var w3=de([T_,y3,x3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});de([A_,w3],bg);var j3=de([ht,wg,y3,x3,Mi,Ii],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:h}=t;return{cx:Fr(c,a,a/2),cy:Fr(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Ut=(e,t)=>t,zd=(e,t,r)=>r;function k_(e){return e?.id}function _3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,c=new Map;return e.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var m=k_(u);h.forEach((g,y)=>{var x=s==null||a?y:String(It(g,s,null)),S=It(g,u.dataKey,0),w;c.has(x)?w=c.get(x):w={},Object.assign(w,{[m]:S}),c.set(x,w)})}}),Array.from(c.values())}function jg(e){return e.stackId!=null&&e.dataKey!=null}var _g=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Sg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function bre(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var yr=e=>{var t=ht(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},kc=e=>e.tooltip.settings.axisId;function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return(t=jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jre(e){var t=_re(e,"string");return typeof t=="symbol"?t:t+""}function _re(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bw=[0,"auto"],jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},S3=(e,t)=>e.cartesianAxis.xAxis[t],zi=(e,t)=>{var r=S3(e,t);return r??jr},_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:bw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Td},E3=(e,t)=>e.cartesianAxis.yAxis[t],$i=(e,t)=>{var r=E3(e,t);return r??_r},Sre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},P_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Sre},Ft=(e,t,r)=>{switch(t){case"xAxis":return zi(e,r);case"yAxis":return $i(e,r);case"zAxis":return P_(e,r);case"angleAxis":return O_(e,r);case"radiusAxis":return A_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ere=(e,t,r)=>{switch(t){case"xAxis":return zi(e,r);case"yAxis":return $i(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$d=(e,t,r)=>{switch(t){case"xAxis":return zi(e,r);case"yAxis":return $i(e,r);case"angleAxis":return O_(e,r);case"radiusAxis":return A_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},N3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function R_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var D_=e=>e.graphicalItems.cartesianItems,Nre=de([Ut,zd],R_),M_=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Ud=de([D_,Ft,Nre],M_,{memoizeOptions:{resultEqualityCheck:Sg}}),C3=de([Ud],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jg)),O3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Cre=de([Ud],O3),I_=e=>e.map(t=>t.data).filter(Boolean).flat(1),Ore=de([Ud],I_,{memoizeOptions:{resultEqualityCheck:Sg}}),L_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},z_=de([Ore,j_],L_),$_=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:It(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:It(a,n)}))):e.map(n=>({value:n})),Eg=de([z_,Ft,Ud],$_);function A3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function sm(e){if(Ba(e)||e instanceof Date){var t=Number(e);if(Jt(t))return t}}function Bk(e){if(Array.isArray(e)){var t=[sm(e[0]),sm(e[1])];return As(t)?t:void 0}var r=sm(e);if(r!=null)return[r,r]}function Pi(e){return e.map(sm).filter(VW)}function Are(e,t,r){return!r||typeof t!="number"||wa(t)?[]:r.length?Pi(r.flatMap(n=>{var a=It(e,n.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!Jt(s)||!Jt(c)))return[t-s,t+c]})):[]}var xr=e=>{var t=yr(e),r=kc(e);return $d(e,t,r)},Bd=de([xr],e=>e?.dataKey),Tre=de([C3,j_,xr],_3),T3=(e,t,r,n)=>{var a={},s=t.reduce((c,u)=>(u.stackId==null||(c[u.stackId]==null&&(c[u.stackId]=[]),c[u.stackId].push(u)),c),a);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,h=n?[...f].reverse():f,m=h.map(k_);return[u,{stackedData:dZ(e,m,r),graphicalItems:h}]}))},ww=de([Tre,C3,Ld,g3],T3),k3=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=gZ(e,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},kre=de([Ft],e=>e.allowDataOverflow),U_=e=>{var t;if(e==null||!("domain"in e))return bw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Pi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:bw},B_=de([Ft],U_),q_=de([B_,kre],e3),Pre=de([ww,Ls,Ut,q_],k3,{memoizeOptions:{resultEqualityCheck:_g}}),Ng=e=>e.errorBars,Rre=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>A3(r,n)),ap=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},F_=(e,t,r,n,a)=>{var s,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var h,m,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(E=>A3(a,E)),y=It(u,(m=t.dataKey)!==null&&m!==void 0?m:f.dataKey),x=Are(u,y,g);if(x.length>=2){var S=Math.min(...x),w=Math.max(...x);(s==null||S<s)&&(s=S),(c==null||w>c)&&(c=w)}var _=Bk(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),c=c==null?_[1]:Math.max(c,_[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=Bk(It(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Jt(s)&&Jt(c))return[s,c]},Dre=de([z_,Ft,Cre,Ng,Ut],F_,{memoizeOptions:{resultEqualityCheck:_g}});function Mre(e){var{value:t}=e;if(Ba(t)||t instanceof Date)return t}var Ire=(e,t,r)=>{var n=e.map(Mre).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&WI(n))?xL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},P3=e=>e.referenceElements.dots,Pc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Lre=de([P3,Ut,zd],Pc),R3=e=>e.referenceElements.areas,zre=de([R3,Ut,zd],Pc),D3=e=>e.referenceElements.lines,$re=de([D3,Ut,zd],Pc),M3=(e,t)=>{var r=Pi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ure=de(Lre,Ut,M3),I3=(e,t)=>{var r=Pi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Bre=de([zre,Ut],I3);function qre(e){var t;if(e.x!=null)return Pi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Pi(r)}function Fre(e){var t;if(e.y!=null)return Pi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Pi(r)}var L3=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?qre(n):Fre(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hre=de([$re,Ut],L3),Vre=de(Ure,Hre,Bre,(e,t,r)=>ap(e,r,t)),H_=(e,t,r,n,a,s,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=f?ap(n,s,a):ap(s,a);return rre(t,h,e.allowDataOverflow)},Kre=de([Ft,B_,q_,Pre,Dre,Vre,ht,Ut],H_,{memoizeOptions:{resultEqualityCheck:_g}}),Gre=[0,1],V_=(e,t,r,n,a,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,h=qo(t,s);if(h&&u==null){var m;return xL(0,(m=r?.length)!==null&&m!==void 0?m:0)}return f==="category"?Ire(n,e,h):a==="expand"?Gre:c}},K_=de([Ft,ht,z_,Eg,Ld,Ut,Kre],V_),z3=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Ed(s));return u in Hu?u:"point"}}},Rc=de([Ft,ht,N3,E_,Ut],z3);function Wre(e){if(e!=null){if(e in Hu)return Hu[e]();var t="scale".concat(Ed(e));if(t in Hu)return Hu[t]()}}function G_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Wre(t);if(a!=null){var s=a.domain(r).range(n);return sZ(s),s}}}var W_=(e,t,r)=>{var n=U_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&As(e))return dre(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&As(e))return fre(e,t.tickCount,t.allowDecimals)}},Y_=de([K_,$d,Rc],W_),X_=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&As(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],c=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(c,u)]}return t},Yre=de([Ft,K_,Y_,Ut],X_),Xre=de(Eg,Ft,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Pi(e.map(u=>u.value))).sort((u,f)=>u-f);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s+1]-n[s];r=Math.min(r,c)}return r/a}}),$3=de(Xre,ht,p3,gr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Jt(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var c=Fr(r,e*s),u=e*s/2;return u-c-(u-c)/s*c}return 0}),Zre=(e,t)=>{var r=zi(e,t);return r==null||typeof r.padding!="string"?0:$3(e,"xAxis",t,r.padding)},Qre=(e,t)=>{var r=$i(e,t);return r==null||typeof r.padding!="string"?0:$3(e,"yAxis",t,r.padding)},Jre=de(zi,Zre,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),ene=de($i,Qre,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),tne=de([gr,Jre,ig,ag,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),rne=de([gr,ht,ene,ig,ag,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:c}=a;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),qd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return tne(e,r,n);case"yAxis":return rne(e,r,n);case"zAxis":return(a=P_(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return b3(e);case"radiusAxis":return w3(e,r);default:return}},U3=de([Ft,qd],bg),Dc=de([Ft,Rc,Yre,U3],G_);de([Ud,Ng,Ut],Rre);function B3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cg=(e,t)=>t,Og=(e,t,r)=>r,nne=de(rg,Cg,Og,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(B3)),ane=de(ng,Cg,Og,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(B3)),q3=(e,t)=>({width:e.width,height:t.height}),ine=(e,t)=>{var r=typeof t.width=="number"?t.width:Td;return{width:r,height:e.height}},F3=de(gr,zi,q3),sne=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},one=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},lne=de(Ii,gr,nne,Cg,Og,(e,t,r,n,a)=>{var s={},c;return r.forEach(u=>{var f=q3(t,u);c==null&&(c=sne(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[u.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),cne=de(Mi,gr,ane,Cg,Og,(e,t,r,n,a)=>{var s={},c;return r.forEach(u=>{var f=ine(t,u);c==null&&(c=one(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[u.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),une=(e,t)=>{var r=zi(e,t);if(r!=null)return lne(e,r.orientation,r.mirror)},dne=de([gr,zi,une,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),fne=(e,t)=>{var r=$i(e,t);if(r!=null)return cne(e,r.orientation,r.mirror)},hne=de([gr,$i,fne,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),H3=de(gr,$i,(e,t)=>{var r=typeof t.width=="number"?t.width:Td;return{width:r,height:e.height}}),qk=(e,t,r)=>{switch(t){case"xAxis":return F3(e,r).width;case"yAxis":return H3(e,r).height;default:return}},V3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=r,u=qo(e,n),f=t.map(h=>h.value);if(c&&u&&s==="category"&&a&&WI(f))return f}},Z_=de([ht,Eg,Ft,Ut],V3),K3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,c=qo(e,n);if(c&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Q_=de([ht,Eg,$d,Ut],K3),Fk=de([ht,Ere,Rc,Dc,Z_,Q_,qd,Y_,Ut],(e,t,r,n,a,s,c,u,f)=>{if(t!=null){var h=qo(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:u,range:c,realScaleType:r,scale:n}}}),mne=(e,t,r,n,a,s,c,u,f)=>{if(!(t==null||n==null)){var h=qo(e,f),{type:m,ticks:g,tickCount:y}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=m==="category"&&n.bandwidth?n.bandwidth()/x:0;S=f==="angleAxis"&&s!=null&&s.length>=2?Er(s[0]-s[1])*2*S:S;var w=g||a;if(w){var _=w.map((E,A)=>{var C=c?c.indexOf(E):E;return{index:A,coordinate:n(C)+S,value:E,offset:S}});return _.filter(E=>Jt(E.coordinate))}return h&&u?u.map((E,A)=>({coordinate:n(E)+S,value:E,index:A,offset:S})).filter(E=>Jt(E.coordinate)):n.ticks?n.ticks(y).map(E=>({coordinate:n(E)+S,value:E,offset:S})):n.domain().map((E,A)=>({coordinate:n(E)+S,value:c?c[E]:E,index:A,offset:S}))}},G3=de([ht,$d,Rc,Dc,Y_,qd,Z_,Q_,Ut],mne),pne=(e,t,r,n,a,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=qo(e,c),{tickCount:f}=t,h=0;return h=c==="angleAxis"&&n?.length>=2?Er(n[0]-n[1])*2*h:h,u&&s?s.map((m,g)=>({coordinate:r(m)+h,value:m,index:g,offset:h})):r.ticks?r.ticks(f).map(m=>({coordinate:r(m)+h,value:m,offset:h})):r.domain().map((m,g)=>({coordinate:r(m)+h,value:a?a[m]:m,index:g,offset:h}))}},gc=de([ht,$d,Dc,qd,Z_,Q_,Ut],pne),vc=de(Ft,Dc,(e,t)=>{if(!(e==null||t==null))return np(np({},e),{},{scale:t})}),gne=de([Ft,Rc,K_,U3],G_);de((e,t,r)=>P_(e,r),gne,(e,t)=>{if(!(e==null||t==null))return np(np({},e),{},{scale:t})});var vne=de([ht,rg,ng],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),W3=e=>e.options.defaultTooltipEventType,Y3=e=>e.options.validateTooltipEventTypes;function X3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function J_(e,t){var r=W3(e),n=Y3(e);return X3(t,r,n)}function yne(e){return ze(t=>J_(t,e))}var Z3=(e,t)=>{var r,n=Number(t);if(!(wa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},xne=e=>e.tooltip.settings,_s={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},bne={itemInteraction:{click:_s,hover:_s},axisInteraction:{click:_s,hover:_s},keyboardInteraction:_s,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Q3=vn({name:"tooltip",initialState:bne,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Mt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=va(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Mt()},removeTooltipEntrySettings:{reducer(e,t){var r=va(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Mt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:wne,replaceTooltipEntrySettings:jne,removeTooltipEntrySettings:_ne,setTooltipSettingsState:Sne,setActiveMouseOverItemIndex:J3,mouseLeaveItem:Ene,mouseLeaveChart:ez,setActiveClickItemIndex:Nne,setMouseOverAxisIndex:tz,setMouseClickAxisIndex:Cne,setSyncInteraction:jw,setKeyboardInteraction:_w}=Q3.actions,One=Q3.reducer;function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pne(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Rne(e){return e.index!=null}var rz=(e,t,r,n)=>{if(t==null)return _s;var a=Pne(e,t,r);if(a==null)return _s;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Rne(a)){if(s)return Fh(Fh({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Fh(Fh({},_s),{},{coordinate:a.coordinate})};function Dne(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Mne(e,t){var r=Dne(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),c=Math.max(n,a);return r>=s&&r<=c}function Ine(e,t,r){if(r==null||t==null)return!0;var n=It(e,t);return n==null||!As(r)?!0:Mne(n,r)}var e1=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!Jt(s))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(s,u)),h=t[f];return h==null||Ine(h,r,n)?String(f):null},nz=(e,t,r,n,a,s,c,u)=>{if(!(s==null||u==null)){var f=c[0],h=f==null?void 0:u(f.positions,s);if(h!=null)return h;var m=a?.[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},az=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},Fd=e=>e.options.tooltipPayloadSearcher,Mc=e=>e.tooltip;function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){Lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lne(e,t,r){return(t=zne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Une(e,t){return e??t}var iz=(e,t,r,n,a,s,c)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:m}=r,g=[];return e.reduce((y,x)=>{var S,{dataDefinedOnItem:w,settings:_}=x,E=Une(w,u),A=Array.isArray(E)?U4(E,h,m):E,C=(S=_?.dataKey)!==null&&S!==void 0?S:n,R=_?.nameKey,O;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&c==="axis"?O=HW(A,n,a):O=s(A,t,f,R),Array.isArray(O))O.forEach(N=>{var T=Kk(Kk({},_),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});y.push(mT({tooltipEntrySettings:T,dataKey:N.dataKey,payload:N.payload,value:It(N.payload,N.dataKey),name:N.name}))});else{var I;y.push(mT({tooltipEntrySettings:_,dataKey:C,payload:O,value:It(O,C),name:(I=It(O,R))!==null&&I!==void 0?I:_?.name}))}return y},g)}},t1=de([xr,ht,N3,E_,yr],z3),Bne=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qne=de([yr,kc],R_),Hd=de([Bne,xr,qne],M_,{memoizeOptions:{resultEqualityCheck:Sg}}),Fne=de([Hd],e=>e.filter(jg)),Hne=de([Hd],I_,{memoizeOptions:{resultEqualityCheck:Sg}}),Ic=de([Hne,Ls],L_),Vne=de([Fne,Ls,xr],_3),r1=de([Ic,xr,Hd],$_),sz=de([xr],U_),Kne=de([xr],e=>e.allowDataOverflow),oz=de([sz,Kne],e3),Gne=de([Hd],e=>e.filter(jg)),Wne=de([Vne,Gne,Ld,g3],T3),Yne=de([Wne,Ls,yr,oz],k3),Xne=de([Hd],O3),Zne=de([Ic,xr,Xne,Ng,yr],F_,{memoizeOptions:{resultEqualityCheck:_g}}),Qne=de([P3,yr,kc],Pc),Jne=de([Qne,yr],M3),eae=de([R3,yr,kc],Pc),tae=de([eae,yr],I3),rae=de([D3,yr,kc],Pc),nae=de([rae,yr],L3),aae=de([Jne,nae,tae],ap),iae=de([xr,sz,oz,Yne,Zne,aae,ht,yr],H_),Vd=de([xr,ht,Ic,r1,Ld,yr,iae],V_),sae=de([Vd,xr,t1],W_),oae=de([xr,Vd,sae,yr],X_),lz=e=>{var t=yr(e),r=kc(e),n=!1;return qd(e,t,r,n)},cz=de([xr,lz],bg),uz=de([xr,t1,oae,cz],G_),lae=de([ht,r1,xr,yr],V3),cae=de([ht,r1,xr,yr],K3),uae=(e,t,r,n,a,s,c,u)=>{if(t){var{type:f}=t,h=qo(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Er(a[0]-a[1])*2*g:g,h&&c?c.map((y,x)=>({coordinate:n(y)+g,value:y,index:x,offset:g})):n.domain().map((y,x)=>({coordinate:n(y)+g,value:s?s[y]:y,index:x,offset:g}))}}},Ui=de([ht,xr,t1,uz,lz,lae,cae,yr],uae),n1=de([W3,Y3,xne],(e,t,r)=>X3(r.shared,e,t)),dz=e=>e.tooltip.settings.trigger,a1=e=>e.tooltip.settings.defaultIndex,Kd=de([Mc,n1,dz,a1],rz),Io=de([Kd,Ic,Bd,Vd],e1),fz=de([Ui,Io],Z3),i1=de([Kd],e=>{if(e)return e.dataKey}),dae=de([Kd],e=>{if(e)return e.graphicalItemId}),hz=de([Mc,n1,dz,a1],az),fae=de([Mi,Ii,ht,gr,Ui,a1,hz,Fd],nz),hae=de([Kd,fae],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),mae=de([Kd],e=>e.active),pae=de([hz,Io,Ls,Bd,fz,Fd,n1],iz);de([pae],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gae(e,t,r){return(t=vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xae=()=>ze(xr),bae=()=>{var e=xae(),t=ze(Ui),r=ze(uz);return Lm(!e||!r?void 0:Wk(Wk({},e),{},{scale:r}),t)};function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){wae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wae(e,t,r){return(t=jae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jae(e){var t=_ae(e,"string");return typeof t=="symbol"?t:t+""}function _ae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sae=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Eae=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:c}=n;return Ul(Ul(Ul({},n),sr(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var u=a.coordinate,{angle:f}=n;return Ul(Ul(Ul({},n),sr(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Nae(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var mz=(e,t,r,n,a)=>{var s,c=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?r[f-1].coordinate:r[u-1].coordinate,m=r[f].coordinate,g=f>=u-1?r[0].coordinate:r[f+1].coordinate,y=void 0;if(Er(m-h)!==Er(g-m)){var x=[];if(Er(g-m)===Er(a[1]-a[0])){y=g;var S=m+a[1]-a[0];x[0]=Math.min(S,(S+h)/2),x[1]=Math.max(S,(S+h)/2)}else{y=h;var w=g+a[1]-a[0];x[0]=Math.min(m,(w+m)/2),x[1]=Math.max(m,(w+m)/2)}var _=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){({index:c}=r[f]);break}}else{var E=Math.min(h,g),A=Math.max(h,g);if(e>(E+m)/2&&e<=(A+m)/2){({index:c}=r[f]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},Cae=()=>ze(E_),s1=(e,t)=>t,pz=(e,t,r)=>r,o1=(e,t,r,n)=>n,Oae=de(Ui,e=>Kp(e,t=>t.coordinate)),l1=de([Mc,s1,pz,o1],rz),c1=de([l1,Ic,Bd,Vd],e1),Aae=(e,t,r)=>{if(t!=null){var n=Mc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},gz=de([Mc,s1,pz,o1],az),ip=de([Mi,Ii,ht,gr,Ui,o1,gz,Fd],nz),Tae=de([l1,ip],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),vz=de([Ui,c1],Z3),kae=de([gz,c1,Ls,Bd,vz,Fd,s1],iz),Pae=de([l1,c1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Rae=(e,t,r,n,a,s,c)=>{if(!(!e||!r||!n||!a)&&Nae(e,c)){var u=vZ(e,t),f=mz(u,s,a,r,n),h=Sae(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},Dae=(e,t,r,n,a,s,c)=>{if(!(!e||!n||!a||!s||!r)){var u=yJ(e,r);if(u){var f=yZ(u,t),h=mz(f,c,s,n,a),m=Eae(t,s,h,u);return{activeIndex:String(h),activeCoordinate:m}}}},Mae=(e,t,r,n,a,s,c,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Rae(e,t,n,a,s,c,u):Dae(e,t,r,n,a,s,c)},Iae=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Lae=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Mr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:bre}});function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return(t=$ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ae(e){var t=Uae(e,"string");return typeof t=="symbol"?t:t+""}function Uae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bae={},qae={zIndexMap:Object.values(Mr).reduce((e,t)=>Zk(Zk({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Bae)},Fae=new Set(Object.values(Mr));function Hae(e){return Fae.has(e)}var yz=vn({name:"zIndex",initialState:qae,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Mt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Hae(r)&&delete e.zIndexMap[r])},prepare:Mt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Mt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Mt()}}}),{registerZIndexPortal:Vae,unregisterZIndexPortal:Kae,registerZIndexPortalId:Gae,unregisterZIndexPortalId:Wae}=yz.actions,Yae=yz.reducer;function Aa(e){var{zIndex:t,children:r}=e,n=WZ(),a=n&&t!==void 0&&t!==0,s=yn(),c=$t();v.useLayoutEffect(()=>a?(c(Vae({zIndex:t})),()=>{c(Kae({zIndex:t}))}):Nd,[c,t,a]);var u=ze(h=>Iae(h,t,s));if(!a)return r;if(!u)return null;var f=document.getElementById(u);return f?Bo.createPortal(r,f):null}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(null,arguments)}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){Xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xae(e,t,r){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jae(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return v.isValidElement(t)?v.cloneElement(t,n):v.createElement(r,n)}function eie(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:h,chartName:m}=e,g=r,y=n,x=a;if(!f||!g||m!=="ScatterChart"&&h!=="axis")return null;var S,w,_;if(m==="ScatterChart")S=g,w=RQ,_=Mr.cursorLine;else if(m==="BarChart")S=DQ(u,g,s,c),w=mL,_=Mr.cursorRectangle;else if(u==="radial"&&ZI(g)){var{cx:E,cy:A,radius:C,startAngle:R,endAngle:O}=gL(g);S={cx:E,cy:A,startAngle:R,endAngle:O,innerRadius:C,outerRadius:C},w=yL,_=Mr.cursorLine}else S={points:jJ(u,g,s)},w=Zj,_=Mr.cursorLine;var I=typeof f=="object"&&"className"in f?f.className:void 0,N=Hh(Hh(Hh(Hh({stroke:"#ccc",pointerEvents:"none"},s),S),nd(f)),{},{payload:y,payloadIndex:x,className:gt("recharts-tooltip-cursor",I)});return v.createElement(Aa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},v.createElement(Jae,{cursor:f,cursorComp:w,cursorProps:N}))}function tie(e){var t=bae(),r=X4(),n=og(),a=Cae();return t==null||r==null||n==null||a==null?null:v.createElement(eie,Sw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var xz=v.createContext(null),rie=()=>v.useContext(xz),H0={exports:{}},Jk;function nie(){return Jk||(Jk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function s(f,h,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new a(m,g||f,y),S=r?r+h:h;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],x]:f._events[S].push(x):(f._events[S]=x,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)t.call(m,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,S=new Array(x);y<x;y++)S[y]=g[y].fn;return S},u.prototype.listenerCount=function(h){var m=r?r+h:h,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,m,g,y,x,S){var w=r?r+h:h;if(!this._events[w])return!1;var _=this._events[w],E=arguments.length,A,C;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,g),!0;case 4:return _.fn.call(_.context,m,g,y),!0;case 5:return _.fn.call(_.context,m,g,y,x),!0;case 6:return _.fn.call(_.context,m,g,y,x,S),!0}for(C=1,A=new Array(E-1);C<E;C++)A[C-1]=arguments[C];_.fn.apply(_.context,A)}else{var R=_.length,O;for(C=0;C<R;C++)switch(_[C].once&&this.removeListener(h,_[C].fn,void 0,!0),E){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,m);break;case 3:_[C].fn.call(_[C].context,m,g);break;case 4:_[C].fn.call(_[C].context,m,g,y);break;default:if(!A)for(O=1,A=new Array(E-1);O<E;O++)A[O-1]=arguments[O];_[C].fn.apply(_[C].context,A)}}return!0},u.prototype.on=function(h,m,g){return s(this,h,m,g,!1)},u.prototype.once=function(h,m,g){return s(this,h,m,g,!0)},u.prototype.removeListener=function(h,m,g,y){var x=r?r+h:h;if(!this._events[x])return this;if(!m)return c(this,x),this;var S=this._events[x];if(S.fn)S.fn===m&&(!y||S.once)&&(!g||S.context===g)&&c(this,x);else{for(var w=0,_=[],E=S.length;w<E;w++)(S[w].fn!==m||y&&!S[w].once||g&&S[w].context!==g)&&_.push(S[w]);_.length?this._events[x]=_.length===1?_[0]:_:c(this,x)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(H0)),H0.exports}var aie=nie();const iie=_a(aie);var vd=new iie,Ew="recharts.syncEvent.tooltip",e2="recharts.syncEvent.brush";function bz(e,t){if(t){var r=Number.parseInt(t,10);if(!wa(r))return e?.[r]}}var sie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wz=vn({name:"options",initialState:sie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oie=wz.reducer,{createEventEmitter:lie}=wz.actions;function cie(e){return e.tooltip.syncInteraction}var uie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jz=vn({name:"chartData",initialState:uie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:t2,setDataStartEndIndexes:die,setComputedData:Nfe}=jz.actions,fie=jz.reducer,hie=["x","y"];function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t,r){return(t=pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vie(e,t){if(e==null)return{};var r,n,a=yie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xie(){var e=ze(N_),t=ze(C_),r=$t(),n=ze(v3),a=ze(Ui),s=og(),c=sg(),u=ze(f=>f.rootProps.className);v.useEffect(()=>{if(e==null)return Nd;var f=(h,m,g)=>{if(t!==g&&e===h){if(n==="index"){var y;if(c&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:S,y:w}=x,_=vie(x,hie),{x:E,y:A,width:C,height:R}=m.payload.sourceViewBox,O=Bl(Bl({},_),{},{x:c.x+(C?(S-E)/C:0)*c.width,y:c.y+(R?(w-A)/R:0)*c.height});r(Bl(Bl({},m),{},{payload:Bl(Bl({},m.payload),{},{coordinate:O})}))}else r(m);return}if(a!=null){var I;if(typeof n=="function"){var N={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},T=n(a,N);I=a[T]}else n==="value"&&(I=a.find(L=>String(L.value)===m.payload.label));var{coordinate:U}=m.payload;if(I==null||m.payload.active===!1||U==null||c==null){r(jw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:B}=U,K=Math.min(G,c.x+c.width),F=Math.min(B,c.y+c.height),oe={x:s==="horizontal"?I.coordinate:K,y:s==="horizontal"?F:I.coordinate},J=jw({active:m.payload.active,coordinate:oe,dataKey:m.payload.dataKey,index:String(I.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(J)}}};return vd.on(Ew,f),()=>{vd.off(Ew,f)}},[u,r,t,e,n,a,s,c])}function bie(){var e=ze(N_),t=ze(C_),r=$t();v.useEffect(()=>{if(e==null)return Nd;var n=(a,s,c)=>{t!==c&&e===a&&r(die(s))};return vd.on(e2,n),()=>{vd.off(e2,n)}},[r,t,e])}function wie(){var e=$t();v.useEffect(()=>{e(lie())},[e]),xie(),bie()}function jie(e,t,r,n,a,s){var c=ze(x=>Aae(x,e,t)),u=ze(C_),f=ze(N_),h=ze(v3),m=ze(cie),g=m?.active,y=sg();v.useEffect(()=>{if(!g&&f!=null&&u!=null){var x=jw({active:s,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});vd.emit(Ew,f,x,u)}},[g,r,c,a,n,u,f,h,s,y])}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){_ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ie(e,t,r){return(t=Sie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nie(e){return e.dataKey}function Cie(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(fQ,t)}var i2=[],Oie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ac(e){var t,r,n=Kr(e,Oie),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:h,isAnimationActive:m,offset:g,payloadUniqBy:y,position:x,reverseDirection:S,useTranslate3d:w,wrapperStyle:_,cursor:E,shared:A,trigger:C,defaultIndex:R,portal:O,axisId:I}=n,N=$t(),T=typeof R=="number"?String(R):R;v.useEffect(()=>{N(Sne({shared:A,trigger:C,axisId:I,active:a,defaultIndex:T}))},[N,A,C,I,a,T]);var U=sg(),G=cL(),B=yne(A),{activeIndex:K,isActive:F}=(t=ze(W=>Pae(W,B,C,T)))!==null&&t!==void 0?t:{},oe=ze(W=>kae(W,B,C,T)),J=ze(W=>vz(W,B,C,T)),L=ze(W=>Tae(W,B,C,T)),D=oe,q=rie(),re=(r=a??F)!==null&&r!==void 0?r:!1,[X,M]=tX([D,re]),H=B==="axis"?J:void 0;jie(B,C,L,H,K,re);var Q=O??q;if(Q==null||U==null||B==null)return null;var P=D??i2;re||(P=i2),h&&P.length&&(P=CY(P.filter(W=>W.value!=null&&(W.hide!==!0||n.includeHidden)),y,Nie));var V=P.length>0,ie=v.createElement(xQ,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:m,active:re,coordinate:L,hasPayload:V,offset:g,position:x,reverseDirection:S,useTranslate3d:w,viewBox:U,wrapperStyle:_,lastBoundingBox:X,innerRef:M,hasPortalFromProps:!!O},Cie(f,a2(a2({},n),{},{payload:P,label:H,active:re,activeIndex:K,coordinate:L,accessibilityLayer:G})));return v.createElement(v.Fragment,null,Bo.createPortal(ie,Q),re&&v.createElement(tie,{cursor:E,tooltipEventType:B,coordinate:L,payload:P,index:K}))}var Lo=e=>null;Lo.displayName="Cell";function Aie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Pie{constructor(t){Aie(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){Die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Die(e,t,r){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lie={cacheSize:2e3,enableCache:!0},_z=Rie({},Lie),o2=new Pie(_z.cacheSize),zie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},l2="recharts_measurement_span";function $ie(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(u)}var c2=(e,t)=>{try{var r=document.getElementById(l2);r||(r=document.createElement("span"),r.setAttribute("id",l2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,zie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pd.isSsr)return{width:0,height:0};if(!_z.enableCache)return c2(t,r);var n=$ie(t,r),a=o2.get(n);if(a)return a;var s=c2(t,r);return o2.set(n,s),s},u2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qie=Object.keys(Sz),Gl="NaN";function Fie(e,t){return e*Sz[t]}class hn{static parse(t){var r,[,n,a]=(r=Bie.exec(t))!==null&&r!==void 0?r:[];return new hn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wa(t)&&(this.unit=""),r!==""&&!Uie.test(r)&&(this.num=NaN,this.unit=""),qie.includes(r)&&(this.num=Fie(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wa(this.num)}}function Ez(e){if(e.includes(Gl))return Gl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=u2.exec(t))!==null&&r!==void 0?r:[],c=hn.parse(n??""),u=hn.parse(s??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Gl;t=t.replace(u2,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,m,g,y]=(h=d2.exec(t))!==null&&h!==void 0?h:[],x=hn.parse(m??""),S=hn.parse(y??""),w=g==="+"?x.add(S):x.subtract(S);if(w.isNaN())return Gl;t=t.replace(d2,w.toString())}return t}var f2=/\(([^()]*)\)/;function Hie(e){for(var t=e,r;(r=f2.exec(t))!=null;){var[,n]=r;t=t.replace(f2,Ez(n))}return t}function Vie(e){var t=e.replace(/\s+/g,"");return t=Hie(t),t=Ez(t),t}function Kie(e){try{return Vie(e)}catch{return Gl}}function V0(e){var t=Kie(e.slice(5,-1));return t===Gl?"":t}var Gie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Wie=["dx","dy","angle","className","breakAll"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(null,arguments)}function h2(e,t){if(e==null)return{};var r,n,a=Yie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nz=/[ \f\n\r\t\v\u2028\u2029]+/,Cz=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Nr(t)||(r?a=t.toString().split(""):a=t.toString().split(Nz));var s=a.map(u=>({word:u,width:Wu(u,n).width})),c=r?0:Wu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function Xie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Oz=(e,t,r,n)=>e.reduce((a,s)=>{var{word:c,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var h={words:[c],width:u};a.push(h)}return a},[]),Az=e=>e.reduce((t,r)=>t.width>r.width?t:r),Zie="",m2=(e,t,r,n,a,s,c,u)=>{var f=e.slice(0,t),h=Cz({breakAll:r,style:n,children:f+Zie});if(!h)return[!1,[]];var m=Oz(h.wordsWithComputedWidth,s,c,u),g=m.length>a||Az(m).width>Number(s);return[g,m]},Qie=(e,t,r,n,a)=>{var{maxLines:s,children:c,style:u,breakAll:f}=e,h=$e(s),m=String(c),g=Oz(t,n,r,a);if(!h||a)return g;var y=g.length>s||Az(g).width>Number(n);if(!y)return g;for(var x=0,S=m.length-1,w=0,_;x<=S&&w<=m.length-1;){var E=Math.floor((x+S)/2),A=E-1,[C,R]=m2(m,A,f,u,s,n,r,a),[O]=m2(m,E,f,u,s,n,r,a);if(!C&&!O&&(x=E+1),C&&O&&(S=E-1),!C&&O){_=R;break}w++}return _||g},p2=e=>{var t=Nr(e)?[]:e.toString().split(Nz);return[{words:t,width:void 0}]},Jie=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:c}=e;if((t||r)&&!Pd.isSsr){var u,f,h=Cz({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:g}=h;u=m,f=g}else return p2(n);return Qie({breakAll:s,children:n,maxLines:c,style:a},u,f,t,!!r)}return p2(n)},Tz="#808080",ese={angle:0,breakAll:!1,capHeight:"0.71em",fill:Tz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ag=v.forwardRef((e,t)=>{var r=Kr(e,ese),{x:n,y:a,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:m}=r,g=h2(r,Gie),y=v.useMemo(()=>Jie({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:S,angle:w,className:_,breakAll:E}=g,A=h2(g,Wie);if(!Ba(n)||!Ba(a)||y.length===0)return null;var C=Number(n)+($e(x)?x:0),R=Number(a)+($e(S)?S:0);if(!Jt(C)||!Jt(R))return null;var O;switch(m){case"start":O=V0("calc(".concat(c,")"));break;case"middle":O=V0("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=V0("calc(".concat(y.length-1," * -").concat(s,")"));break}var I=[];if(f){var N=y[0].width,{width:T}=g;I.push("scale(".concat($e(T)&&$e(N)?T/N:1,")"))}return w&&I.push("rotate(".concat(w,", ").concat(C,", ").concat(R,")")),I.length&&(A.transform=I.join(" ")),v.createElement("text",Nw({},ta(A),{ref:t,x:C,y:R,className:gt("recharts-text",_),textAnchor:h,fill:u.includes("url")?Tz:u}),y.map((U,G)=>{var B=U.words.join(E?"":" ");return v.createElement("tspan",{x:C,dy:G===0?O:s,key:"".concat(B,"-").concat(G)},B)}))});Ag.displayName="Text";var tse=["labelRef"];function rse(e,t){if(e==null)return{};var r,n,a=nse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){ase(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ase(e,t,r){return(t=ise(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ise(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(null,arguments)}var kz=v.createContext(null),ose=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:c,children:u}=e,f=v.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:c}),[t,r,n,a,s,c]);return v.createElement(kz.Provider,{value:f},u)},Pz=()=>{var e=v.useContext(kz),t=sg();return e||Y4(t)},lse=v.createContext(null),cse=()=>{var e=v.useContext(lse),t=ze(j3);return e||t},use=e=>{var{value:t,formatter:r}=e,n=Nr(e.children)?t:e.children;return typeof r=="function"?r(n):n},u1=e=>e!=null&&typeof e=="function",dse=(e,t)=>{var r=Er(t-e),n=Math.min(Math.abs(t-e),360);return r*n},fse=(e,t,r,n,a)=>{var{offset:s,className:c}=e,{cx:u,cy:f,innerRadius:h,outerRadius:m,startAngle:g,endAngle:y,clockWise:x}=a,S=(h+m)/2,w=dse(g,y),_=w>=0?1:-1,E,A;switch(t){case"insideStart":E=g+_*s,A=x;break;case"insideEnd":E=y-_*s,A=!x;break;case"end":E=y+_*s,A=x;break;default:throw new Error("Unsupported position ".concat(t))}A=w<=0?A:!A;var C=sr(u,f,S,E),R=sr(u,f,S,E+(A?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(A?0:1,`,
    `).concat(R.x,",").concat(R.y),I=Nr(e.id)?ad("recharts-radial-line-"):e.id;return v.createElement("text",vi({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:I,d:O})),v.createElement("textPath",{xlinkHref:"#".concat(I)},r))},hse=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=e,h=(u+f)/2;if(r==="outside"){var{x:m,y:g}=sr(n,a,c+t,h);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+c)/2,{x,y:S}=sr(n,a,y,h);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Cw=e=>"cx"in e&&$e(e.cx),mse=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Cw(r)&&(s=r);var{x:c,y:u,upperWidth:f,lowerWidth:h,height:m}=t,g=c,y=c+(f-h)/2,x=(g+y)/2,S=(f+h)/2,w=g+f/2,_=m>=0?1:-1,E=_*n,A=_>0?"end":"start",C=_>0?"start":"end",R=f>=0?1:-1,O=R*n,I=R>0?"end":"start",N=R>0?"start":"end";if(a==="top"){var T={x:g+f/2,y:u-E,textAnchor:"middle",verticalAnchor:A};return Zt(Zt({},T),s?{height:Math.max(u-s.y,0),width:f}:{})}if(a==="bottom"){var U={x:y+h/2,y:u+m+E,textAnchor:"middle",verticalAnchor:C};return Zt(Zt({},U),s?{height:Math.max(s.y+s.height-(u+m),0),width:h}:{})}if(a==="left"){var G={x:x-O,y:u+m/2,textAnchor:I,verticalAnchor:"middle"};return Zt(Zt({},G),s?{width:Math.max(G.x-s.x,0),height:m}:{})}if(a==="right"){var B={x:x+S+O,y:u+m/2,textAnchor:N,verticalAnchor:"middle"};return Zt(Zt({},B),s?{width:Math.max(s.x+s.width-B.x,0),height:m}:{})}var K=s?{width:S,height:m}:{};return a==="insideLeft"?Zt({x:x+O,y:u+m/2,textAnchor:N,verticalAnchor:"middle"},K):a==="insideRight"?Zt({x:x+S-O,y:u+m/2,textAnchor:I,verticalAnchor:"middle"},K):a==="insideTop"?Zt({x:g+f/2,y:u+E,textAnchor:"middle",verticalAnchor:C},K):a==="insideBottom"?Zt({x:y+h/2,y:u+m-E,textAnchor:"middle",verticalAnchor:A},K):a==="insideTopLeft"?Zt({x:g+O,y:u+E,textAnchor:N,verticalAnchor:C},K):a==="insideTopRight"?Zt({x:g+f-O,y:u+E,textAnchor:I,verticalAnchor:C},K):a==="insideBottomLeft"?Zt({x:y+O,y:u+m-E,textAnchor:N,verticalAnchor:A},K):a==="insideBottomRight"?Zt({x:y+h-O,y:u+m-E,textAnchor:I,verticalAnchor:A},K):a&&typeof a=="object"&&($e(a.x)||Ci(a.x))&&($e(a.y)||Ci(a.y))?Zt({x:c+Fr(a.x,S),y:u+Fr(a.y,m),textAnchor:"end",verticalAnchor:"end"},K):Zt({x:w,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},K)},pse={angle:0,offset:5,zIndex:Mr.label,position:"middle",textBreakAll:!1};function bs(e){var t=Kr(e,pse),{viewBox:r,position:n,value:a,children:s,content:c,className:u="",textBreakAll:f,labelRef:h}=t,m=cse(),g=Pz(),y=n==="center"?g:m??g,x,S,w;if(r==null?x=y:Cw(r)?x=r:x=Y4(r),!x||Nr(a)&&Nr(s)&&!v.isValidElement(c)&&typeof c!="function")return null;var _=Zt(Zt({},t),{},{viewBox:x});if(v.isValidElement(c)){var{labelRef:E}=_,A=rse(_,tse);return v.cloneElement(c,A)}if(typeof c=="function"){if(S=v.createElement(c,_),v.isValidElement(S))return S}else S=use(t);var C=ta(t);if(Cw(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return fse(t,n,S,C,x);w=hse(x,t.offset,t.position)}else w=mse(t,x);return v.createElement(Aa,{zIndex:t.zIndex},v.createElement(Ag,vi({ref:h,className:gt("recharts-label",u)},C,w,{textAnchor:Xie(C.textAnchor)?C.textAnchor:w.textAnchor,breakAll:f}),S))}bs.displayName="Label";var gse=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(bs,vi({key:"label-implicit"},n)):Ba(e)?v.createElement(bs,vi({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===bs?v.cloneElement(e,Zt({key:"label-implicit"},n)):v.createElement(bs,vi({key:"label-implicit",content:e},n)):u1(e)?v.createElement(bs,vi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(bs,vi({},e,{key:"label-implicit"},n)):null};function vse(e){var{label:t,labelRef:r}=e,n=Pz();return gse(t,n,r)||null}var K0={},G0={},v2;function yse(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(G0)),G0}var W0={},y2;function xse(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(W0)),W0}var x2;function bse(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yse(),r=xse(),n=Lj();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(K0)),K0}var Y0,b2;function wse(){return b2||(b2=1,Y0=bse().last),Y0}var jse=wse();const _se=_a(jse);var Sse=["valueAccessor"],Ese=["dataKey","clockWise","id","textBreakAll","zIndex"];function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}function w2(e,t){if(e==null)return{};var r,n,a=Nse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cse=e=>Array.isArray(e.value)?_se(e.value):e.value,Rz=v.createContext(void 0),Ose=Rz.Provider,Dz=v.createContext(void 0),Ase=Dz.Provider;function Tse(){return v.useContext(Rz)}function kse(){return v.useContext(Dz)}function om(e){var{valueAccessor:t=Cse}=e,r=w2(e,Sse),{dataKey:n,clockWise:a,id:s,textBreakAll:c,zIndex:u}=r,f=w2(r,Ese),h=Tse(),m=kse(),g=h||m;return!g||!g.length?null:v.createElement(Aa,{zIndex:u??Mr.label},v.createElement(nn,{className:"recharts-label-list"},g.map((y,x)=>{var S,w=Nr(n)?t(y,x):It(y&&y.payload,n),_=Nr(s)?{}:{id:"".concat(s,"-").concat(x)};return v.createElement(bs,sp({key:"label-".concat(x)},ta(y),f,_,{fill:(S=r.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:c,viewBox:y.viewBox,index:x,zIndex:0}))})))}om.displayName="LabelList";function Mz(e){var{label:t}=e;return t?t===!0?v.createElement(om,{key:"labelList-implicit"}):v.isValidElement(t)||u1(t)?v.createElement(om,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(om,sp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var Iz=e=>e.graphicalItems.polarItems,Pse=de([Ut,zd],R_),Tg=de([Iz,Ft,Pse],M_),Rse=de([Tg],I_),kg=de([Rse,w_],L_),Dse=de([kg,Ft,Tg],$_);de([kg,Ft,Tg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,c=It(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:It(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var j2=()=>{},Mse=de([kg,Ft,Tg,Ng,Ut],F_),Ise=de([Ft,B_,q_,j2,Mse,j2,ht,Ut],H_),Lz=de([Ft,ht,kg,Dse,Ld,Ut,Ise],V_),Lse=de([Lz,Ft,Rc],W_);de([Ft,Lz,Lse,Ut],X_);var zse={radiusAxis:{},angleAxis:{}},zz=vn({name:"polarAxis",initialState:zse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Cfe,removeRadiusAxis:Ofe,addAngleAxis:Afe,removeAngleAxis:Tfe}=zz.actions,$se=zz.reducer;function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){Use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Use(e,t,r){return(t=Bse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bse(e){var t=qse(e,"string");return typeof t=="symbol"?t:t+""}function qse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fse=(e,t)=>t,d1=de([Iz,Fse],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Hse=[],f1=(e,t,r)=>r?.length===0?Hse:r,$z=de([w_,d1,f1],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>S2(S2({},t.presentationProps),s.props))),a!=null)return a}}),Vse=de([$z,d1,f1],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,c=It(n,t.nameKey,t.name),u;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:tg(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),Kse=de([$z,d1,f1,gr],(e,t,r,n)=>{if(!(t==null||e==null))return Yoe({offset:n,pieSettings:t,displayedData:e,cells:r})}),X0={exports:{}},St={};var E2;function Gse(){if(E2)return St;E2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var _=w.$$typeof;switch(_){case e:switch(w=w.type,w){case r:case a:case n:case f:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case g:case m:return w;case s:return w;default:return _}}case t:return _}}}return St.ContextConsumer=s,St.ContextProvider=c,St.Element=e,St.ForwardRef=u,St.Fragment=r,St.Lazy=g,St.Memo=m,St.Portal=t,St.Profiler=a,St.StrictMode=n,St.Suspense=f,St.SuspenseList=h,St.isContextConsumer=function(w){return S(w)===s},St.isContextProvider=function(w){return S(w)===c},St.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},St.isForwardRef=function(w){return S(w)===u},St.isFragment=function(w){return S(w)===r},St.isLazy=function(w){return S(w)===g},St.isMemo=function(w){return S(w)===m},St.isPortal=function(w){return S(w)===t},St.isProfiler=function(w){return S(w)===a},St.isStrictMode=function(w){return S(w)===n},St.isSuspense=function(w){return S(w)===f},St.isSuspenseList=function(w){return S(w)===h},St.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===f||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===m||w.$$typeof===c||w.$$typeof===s||w.$$typeof===u||w.$$typeof===x||w.getModuleId!==void 0)},St.typeOf=S,St}var N2;function Wse(){return N2||(N2=1,X0.exports=Gse()),X0.exports}var Yse=Wse(),C2=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",O2=null,Z0=null,Uz=e=>{if(e===O2&&Array.isArray(Z0))return Z0;var t=[];return v.Children.forEach(e,r=>{Nr(r)||(Yse.isFragment(r)?t=t.concat(Uz(r.props.children)):t.push(r))}),Z0=t,O2=e,t};function h1(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>C2(a)):n=[C2(t)],Uz(e).forEach(a=>{var s=Po(a,"type.displayName")||Po(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var Q0={},A2;function Xse(){return A2||(A2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Q0)),Q0}var J0,T2;function Zse(){return T2||(T2=1,J0=Xse().isPlainObject),J0}var Qse=Zse();const Jse=_a(Qse);function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){eoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eoe(e,t,r){return(t=toe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function toe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}var R2=(e,t,r,n,a)=>{var s=r-n,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-s/2,",").concat(t+a),c+="L ".concat(e+r-s/2-n,",").concat(t+a),c+="L ".concat(e,",").concat(t," Z"),c},noe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aoe=e=>{var t=Kr(e,noe),{x:r,y:n,upperWidth:a,lowerWidth:s,height:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=t,y=v.useRef(null),[x,S]=v.useState(-1),w=v.useRef(a),_=v.useRef(s),E=v.useRef(c),A=v.useRef(r),C=v.useRef(n),R=hg(e,"trapezoid-");if(v.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var oe=y.current.getTotalLength();oe&&S(oe)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var O=gt("recharts-trapezoid",u);if(!g)return v.createElement("g",null,v.createElement("path",op({},ta(t),{className:O,d:R2(r,n,a,s,c)})));var I=w.current,N=_.current,T=E.current,U=A.current,G=C.current,B="0px ".concat(x===-1?1:x,"px"),K="".concat(x,"px 0px"),F=uL(["strokeDasharray"],h,f);return v.createElement(fg,{animationId:R,key:R,canBegin:x>0,duration:h,easing:f,isActive:g,begin:m},oe=>{var J=hr(I,a,oe),L=hr(N,s,oe),D=hr(T,c,oe),q=hr(U,r,oe),re=hr(G,n,oe);y.current&&(w.current=J,_.current=L,E.current=D,A.current=q,C.current=re);var X=oe>0?{transition:F,strokeDasharray:K}:{strokeDasharray:B};return v.createElement("path",op({},ta(t),{className:O,d:R2(q,re,J,L,D),ref:y,style:P2(P2({},X),t.style)}))})},ioe=["option","shapeType","propTransformer","activeClassName"];function soe(e,t){if(e==null)return{};var r,n,a=ooe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ooe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function loe(e,t,r){return(t=coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=uoe(e,"string");return typeof t=="symbol"?t:t+""}function uoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function doe(e,t){return lp(lp({},t),e)}function foe(e,t){return e==="symbols"}function M2(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(mL,r);case"trapezoid":return v.createElement(aoe,r);case"sector":return v.createElement(yL,r);case"symbols":if(foe(t))return v.createElement(XI,r);break;case"curve":return v.createElement(Zj,r);default:return null}}function hoe(e){return v.isValidElement(e)?e.props:e}function Bz(e){var{option:t,shapeType:r,propTransformer:n=doe,activeClassName:a="recharts-active-shape"}=e,s=soe(e,ioe),c;if(v.isValidElement(t))c=v.cloneElement(t,lp(lp({},s),hoe(t)));else if(typeof t=="function")c=t(s,s.index);else if(Jse(t)&&typeof t!="boolean"){var u=n(t,s);c=v.createElement(M2,{shapeType:r,elementProps:u})}else{var f=s;c=v.createElement(M2,{shapeType:r,elementProps:f})}return s.isActive?v.createElement(nn,{className:a},c):c}var m1=(e,t,r)=>{var n=$t();return(a,s)=>c=>{e?.(a,s,c),n(J3({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},p1=e=>{var t=$t();return(r,n)=>a=>{e?.(r,n,a),t(Ene())}},g1=(e,t,r)=>{var n=$t();return(a,s)=>c=>{e?.(a,s,c),n(Nne({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function qz(e){var{tooltipEntrySettings:t}=e,r=$t(),n=yn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(wne(t)):a.current!==t&&r(jne({prev:a.current,next:t})),a.current=t)},[t,r,n]),v.useLayoutEffect(()=>()=>{a.current&&(r(_ne(a.current)),a.current=null)},[r]),null}function moe(e){var{legendPayload:t}=e,r=$t(),n=yn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(sL(t)):a.current!==t&&r(oL({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(lL(a.current)),a.current=null)},[r]),null}function poe(e){var{legendPayload:t}=e,r=$t(),n=ze(ht),a=v.useRef(null);return v.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(sL(t)):a.current!==t&&r(oL({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(lL(a.current)),a.current=null)},[r]),null}var eb,goe=()=>{var[e]=v.useState(()=>ad("uid-"));return e},voe=(eb=bp.useId)!==null&&eb!==void 0?eb:goe;function Fz(e,t){var r=voe();return t||(e?"".concat(e,"-").concat(r):r)}var yoe=v.createContext(void 0),Hz=e=>{var{id:t,type:r,children:n}=e,a=Fz("recharts-".concat(r),t);return v.createElement(yoe.Provider,{value:a},n(a))},xoe={cartesianItems:[],polarItems:[]},Vz=vn({name:"graphicalItems",initialState:xoe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Mt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=va(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Mt()},removeCartesianGraphicalItem:{reducer(e,t){var r=va(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Mt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Mt()},removePolarGraphicalItem:{reducer(e,t){var r=va(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Mt()}}}),{addCartesianGraphicalItem:boe,replaceCartesianGraphicalItem:woe,removeCartesianGraphicalItem:joe,addPolarGraphicalItem:_oe,removePolarGraphicalItem:Soe}=Vz.actions,Eoe=Vz.reducer,Noe=e=>{var t=$t(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(boe(e)):r.current!==e&&t(woe({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(joe(r.current)),r.current=null)},[t]),null},Coe=v.memo(Noe);function Ooe(e){var t=$t();return v.useLayoutEffect(()=>(t(_oe(e)),()=>{t(Soe(e))}),[t,e]),null}var Aoe=["key"],Toe=["onMouseEnter","onClick","onMouseLeave"],koe=["id"],Poe=["id"];function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){Roe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Roe(e,t,r){return(t=Doe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Doe(e){var t=Moe(e,"string");return typeof t=="symbol"?t:t+""}function Moe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}function Pg(e,t){if(e==null)return{};var r,n,a=Ioe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ioe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Loe(e){var t=v.useMemo(()=>h1(e.children,Lo),[e.children]),r=ze(n=>Vse(n,e.id,t));return r==null?null:v.createElement(poe,{legendPayload:r})}var zoe=v.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:c,name:u,hide:f,tooltipType:h}=e,m={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:tg(u,t),hide:f,type:h,color:c,unit:""}};return v.createElement(qz,{tooltipEntrySettings:m})}),$oe=(e,t)=>e>t?"start":e<t?"end":"middle",Uoe=(e,t,r)=>Fr(typeof t=="function"?t(e):t,r,r*.8),Boe=(e,t,r)=>{var{top:n,left:a,width:s,height:c}=t,u=pL(s,c),f=a+Fr(e.cx,s,s/2),h=n+Fr(e.cy,c,c/2),m=Fr(e.innerRadius,u,0),g=Uoe(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:m,outerRadius:g,maxRadius:y}},qoe=(e,t)=>{var r=Er(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Foe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Hoe=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=gt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Pg(t,Aoe);return v.createElement(Zj,Ts({},a,{type:"linear",className:r}))},Voe=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var a=gt("recharts-pie-label-text",Foe(e));return v.createElement(Ag,Ts({},t,{alignmentBaseline:"middle",className:a}),n)};function Koe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:c}=r;if(!n||!a||!t)return null;var u=ba(r),f=nd(a),h=nd(s),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,x)=>{var S=(y.startAngle+y.endAngle)/2,w=sr(y.cx,y.cy,y.outerRadius+m,S),_=Wt(Wt(Wt(Wt({},u),y),{},{stroke:"none"},f),{},{index:x,textAnchor:$oe(w.x,y.cx)},w),E=Wt(Wt(Wt(Wt({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[sr(y.cx,y.cy,y.outerRadius,S),w],key:"line"});return v.createElement(Aa,{zIndex:Mr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},v.createElement(nn,null,s&&Hoe(s,E),Voe(a,_,It(y,c))))});return v.createElement(nn,{className:"recharts-pie-labels"},g)}function Goe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(Mz,{label:a}):v.createElement(Koe,{sectors:t,props:r,showLabels:n})}function Woe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:c}=e,u=ze(Io),f=ze(i1),h=ze(dae),{onMouseEnter:m,onClick:g,onMouseLeave:y}=a,x=Pg(a,Toe),S=m1(m,a.dataKey,c),w=p1(y),_=g1(g,a.dataKey,c);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((E,A)=>{if(E?.startAngle===0&&E?.endAngle===0&&t.length!==1)return null;var C=h==null||h===c,R=String(A)===u&&(f==null||a.dataKey===f)&&C,O=u?n:null,I=r&&R?r:O,N=Wt(Wt({},E),{},{stroke:E.stroke,tabIndex:-1,[H4]:A,[V4]:a.dataKey});return v.createElement(nn,Ts({key:"sector-".concat(E?.startAngle,"-").concat(E?.endAngle,"-").concat(E.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},Vp(x,E,A),{onMouseEnter:S(E,A),onMouseLeave:w(E,A),onClick:_(E,A)}),v.createElement(Bz,Ts({option:s??I,index:A,shapeType:"sector",isActive:R},N)))}))}function Yoe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:h,nameKey:m,tooltipType:g}=r,y=Math.abs(r.minAngle),x=qoe(u,f),S=Math.abs(x),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(I=>It(I,h,0)!==0).length,E=(S>=360?_:_-1)*w,A=S-_*y-E,C=n.reduce((I,N)=>{var T=It(N,h,0);return I+($e(T)?T:0)},0),R;if(C>0){var O;R=n.map((I,N)=>{var T=It(I,h,0),U=It(I,m,N),G=Boe(r,s,I),B=($e(T)?T:0)/C,K,F=Wt(Wt({},I),a&&a[N]&&a[N].props);N?K=O.endAngle+Er(x)*w*(T!==0?1:0):K=u;var oe=K+Er(x)*((T!==0?y:0)+B*A),J=(K+oe)/2,L=(G.innerRadius+G.outerRadius)/2,D=[{name:U,value:T,payload:F,dataKey:h,type:g}],q=sr(G.cx,G.cy,L,J);return O=Wt(Wt(Wt(Wt({},r.presentationProps),{},{percent:B,cornerRadius:typeof c=="string"?parseFloat(c):c,name:U,tooltipPayload:D,midAngle:J,middleRadius:L,tooltipPosition:q},F),G),{},{value:T,dataKey:h,startAngle:K,endAngle:oe,payload:F,paddingAngle:Er(x)*w}),O})}return R}function Xoe(e){var{showLabels:t,sectors:r,children:n}=e,a=v.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return v.createElement(Ase,{value:t?a:void 0},n)}function Zoe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:m,onAnimationStart:g,onAnimationEnd:y}=t,x=hg(t,"recharts-pie-"),S=r.current,[w,_]=v.useState(!1),E=v.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),A=v.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return v.createElement(Xoe,{showLabels:!w,sectors:a},v.createElement(fg,{animationId:x,begin:c,duration:u,isActive:s,easing:f,onAnimationStart:A,onAnimationEnd:E,key:x},C=>{var R=[],O=a&&a[0],I=O?.startAngle;return a?.forEach((N,T)=>{var U=S&&S[T],G=T>0?Po(N,"paddingAngle",0):0;if(U){var B=hr(U.endAngle-U.startAngle,N.endAngle-N.startAngle,C),K=Wt(Wt({},N),{},{startAngle:I+G,endAngle:I+B+G});R.push(K),I=K.endAngle}else{var{endAngle:F,startAngle:oe}=N,J=hr(0,F-oe,C),L=Wt(Wt({},N),{},{startAngle:I+G,endAngle:I+J+G});R.push(L),I=L.endAngle}}),r.current=R,v.createElement(nn,null,v.createElement(Woe,{sectors:R,activeShape:h,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:n}))}),v.createElement(Goe,{showLabels:!w,sectors:a,props:t}),t.children)}var Qoe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Mr.area};function Joe(e){var{id:t}=e,r=Pg(e,koe),{hide:n,className:a,rootTabIndex:s}=e,c=v.useMemo(()=>h1(e.children,Lo),[e.children]),u=ze(m=>Kse(m,t,c)),f=v.useRef(null),h=gt("recharts-pie",a);return n||u==null?(f.current=null,v.createElement(nn,{tabIndex:s,className:h})):v.createElement(Aa,{zIndex:e.zIndex},v.createElement(zoe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),v.createElement(nn,{tabIndex:s,className:h},v.createElement(Zoe,{props:Wt(Wt({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function cp(e){var t=Kr(e,Qoe),{id:r}=t,n=Pg(t,Poe),a=ba(n);return v.createElement(Hz,{id:r,type:"pie"},s=>v.createElement(v.Fragment,null,v.createElement(Ooe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(Loe,Ts({},n,{id:s})),v.createElement(Joe,Ts({},n,{id:s}))))}cp.displayName="Pie";function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){ele(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ele(e,t,r){return(t=tle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tle(e){var t=rle(e,"string");return typeof t=="symbol"?t:t+""}function rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nle={xAxis:{},yAxis:{},zAxis:{}},Kz=vn({name:"cartesianAxis",initialState:nle,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Mt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Mt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Mt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Mt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Mt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Mt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Mt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Mt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Mt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=z2(z2({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:ale,replaceXAxis:ile,removeXAxis:sle,addYAxis:ole,replaceYAxis:lle,removeYAxis:cle,addZAxis:kfe,replaceZAxis:Pfe,removeZAxis:Rfe,updateYAxisWidth:ule}=Kz.actions,dle=Kz.reducer,fle=de([gr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),hle=de([fle,Mi,Ii],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Gz=()=>ze(hle),mle="Invariant failed";function ple(e,t){throw new Error(mle)}var gle=["x","y"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(null,arguments)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vle(e,t,r){return(t=yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yle(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ble(e,t){if(e==null)return{};var r,n,a=wle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jle(e,t){var{x:r,y:n}=e,a=ble(e,gle),s="".concat(r),c=parseInt(s,10),u="".concat(n),f=parseInt(u,10),h="".concat(t.height||a.height),m=parseInt(h,10),g="".concat(t.width||a.width),y=parseInt(g,10);return Uu(Uu(Uu(Uu(Uu({},t),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:m,width:y,name:t.name,radius:t.radius})}function up(e){return v.createElement(Bz,Ow({shapeType:"rectangle",propTransformer:jle,activeClassName:"recharts-active-bar"},e))}var _le=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if($e(t))return t;var s=$e(n)||Nr(n);return s?t(n,a):(s||ple(),r)}},Sle={},Wz=vn({name:"errorBars",initialState:Sle,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Dfe,replaceErrorBar:Mfe,removeErrorBar:Ife}=Wz.actions,Ele=Wz.reducer,Nle=["children"];function Cle(e,t){if(e==null)return{};var r,n,a=Ole(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ole(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ale={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Tle=v.createContext(Ale);function kle(e){var{children:t}=e,r=Cle(e,Nle);return v.createElement(Tle.Provider,{value:r},t)}function Yz(e,t){var r,n,a=ze(h=>zi(h,e)),s=ze(h=>$i(h,t)),c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:jr.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:_r.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function Ple(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Gz(),{needClipX:s,needClipY:c,needClip:u}=Yz(t,r);if(!u||!a)return null;var{x:f,y:h,width:m,height:g}=a;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:s?f:f-m/2,y:c?h:h-g/2,width:s?m:m*2,height:c?g:g*2}))}function Rle(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Jt(e.zIndex)?e.zIndex:t}var tb={exports:{}},rb={};var U2;function Dle(){if(U2)return rb;U2=1;var e=yc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return rb.useSyncExternalStoreWithSelector=function(f,h,m,g,y){var x=a(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function _(O){if(!E){if(E=!0,A=O,O=g(O),y!==void 0&&S.hasValue){var I=S.value;if(y(I,O))return C=I}return C=O}if(I=C,r(A,O))return I;var N=g(O);return y!==void 0&&y(I,N)?(A=O,I):(A=O,C=N)}var E=!1,A,C,R=m===void 0?null:m;return[function(){return _(h())},R===null?void 0:function(){return _(R())}]},[h,m,g,y]);var w=n(f,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},rb}var B2;function Mle(){return B2||(B2=1,tb.exports=Dle()),tb.exports}Mle();function Ile(e){e()}function Lle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ile(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var q2={notify(){},get:()=>[]};function zle(e,t){let r,n=q2,a=0,s=!1;function c(w){m();const _=n.subscribe(w);let E=!1;return()=>{E||(E=!0,_(),g())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function h(){return s}function m(){a++,r||(r=e.subscribe(f),n=Lle())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=q2)}function y(){s||(s=!0,m())}function x(){s&&(s=!1,g())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>n};return S}var $le=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ule=$le(),Ble=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qle=Ble(),Fle=()=>Ule||qle?v.useLayoutEffect:v.useEffect,Hle=Fle();function F2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Vle(e,t){if(F2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!F2(e[r[a]],t[r[a]]))return!1;return!0}var Kle=Symbol.for("react-redux-context"),Gle=typeof globalThis<"u"?globalThis:{};function Wle(){if(!v.createContext)return{};const e=Gle[Kle]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Yle=Wle();function Xle(e){const{children:t,context:r,serverState:n,store:a}=e,s=v.useMemo(()=>{const f=zle(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=v.useMemo(()=>a.getState(),[a]);Hle(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=r||Yle;return v.createElement(u.Provider,{value:s},t)}var Zle=Xle,Qle=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Jle(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function v1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Qle.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Vle(e[n],t[n]))return!1}else if(!Jle(e[n],t[n]))return!1;return!0}var ece=["onMouseEnter","onMouseLeave","onClick"],tce=["value","background","tooltipPosition"],rce=["id"],nce=["onMouseEnter","onClick","onMouseLeave"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){ace(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ace(e,t,r){return(t=ice(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ice(e){var t=sce(e,"string");return typeof t=="symbol"?t:t+""}function sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(e,t){if(e==null)return{};var r,n,a=oce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:tg(r,t),payload:e}]},cce=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:c,unit:u,tooltipType:f}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:tg(s,t),hide:c,type:f,color:a,unit:u}};return v.createElement(qz,{tooltipEntrySettings:h})});function uce(e){var t=ze(Io),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:u,onClick:f}=s,h=dp(s,ece),m=m1(c,n),g=p1(u),y=g1(f,n);if(!a||r==null)return null;var x=nd(a);return v.createElement(Aa,{zIndex:Rle(a,Mr.barBackground)},r.map((S,w)=>{var{value:_,background:E,tooltipPosition:A}=S,C=dp(S,tce);if(!E)return null;var R=m(S,w),O=g(S,w),I=y(S,w),N=Zr(Zr(Zr(Zr(Zr({option:a,isActive:String(w)===t},C),{},{fill:"#eee"},E),x),Vp(h,S,w)),{},{onMouseEnter:R,onMouseLeave:O,onClick:I,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(up,Ri({key:"background-bar-".concat(w)},N))}))}function dce(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Zr(Zr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return v.createElement(Ose,{value:t?a:void 0},r)}function fce(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:c}=e,u=ze(Io),f=ze(i1),h=r&&String(s)===u&&(f==null||c===f),m=h?r:t;return h?v.createElement(Aa,{zIndex:Mr.activeBar},v.createElement(up,Ri({},n,{name:String(n.name)},a,{isActive:h,option:m,index:s,dataKey:c}))):v.createElement(up,Ri({},n,{name:String(n.name)},a,{isActive:h,option:m,index:s,dataKey:c}))}function hce(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return v.createElement(up,Ri({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function mce(e){var t,{data:r,props:n}=e,a=(t=ba(n))!==null&&t!==void 0?t:{},{id:s}=a,c=dp(a,rce),{shape:u,dataKey:f,activeBar:h}=n,{onMouseEnter:m,onClick:g,onMouseLeave:y}=n,x=dp(n,nce),S=m1(m,f),w=p1(y),_=g1(g,f);return r?v.createElement(v.Fragment,null,r.map((E,A)=>v.createElement(nn,Ri({key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(A),className:"recharts-bar-rectangle"},Vp(x,E,A),{onMouseEnter:S(E,A),onMouseLeave:w(E,A),onClick:_(E,A)}),h?v.createElement(fce,{shape:u,activeBar:h,baseProps:c,entry:E,index:A,dataKey:f}):v.createElement(hce,{shape:u,baseProps:c,entry:E,index:A,dataKey:f})))):null}function pce(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=t,g=r.current,y=hg(t,"recharts-bar-"),[x,S]=v.useState(!1),w=!x,_=v.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),E=v.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);return v.createElement(dce,{showLabels:w,rects:n},v.createElement(fg,{animationId:y,begin:c,duration:u,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:E,key:y},A=>{var C=A===1?n:n?.map((R,O)=>{var I=g&&g[O];if(I)return Zr(Zr({},R),{},{x:hr(I.x,R.x,A),y:hr(I.y,R.y,A),width:hr(I.width,R.width,A),height:hr(I.height,R.height,A)});if(a==="horizontal"){var N=hr(0,R.height,A),T=hr(R.stackedBarStart,R.y,A);return Zr(Zr({},R),{},{y:T,height:N})}var U=hr(0,R.width,A),G=hr(R.stackedBarStart,R.x,A);return Zr(Zr({},R),{},{width:U,x:G})});return A>0&&(r.current=C??null),C==null?null:v.createElement(nn,null,v.createElement(mce,{props:t,data:C}))}),v.createElement(Mz,{label:t.label}),t.children)}function gce(e){var t=v.useRef(null);return v.createElement(pce,{previousRectanglesRef:t,props:e})}var Xz=0,vce=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:It(e,t)}};class yce extends v.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:c,needClip:u,background:f,id:h}=this.props;if(t||r==null)return null;var m=gt("recharts-bar",a),g=h;return v.createElement(nn,{className:m,id:h},u&&v.createElement("defs",null,v.createElement(Ple,{clipPathId:g,xAxisId:s,yAxisId:c})),v.createElement(nn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},v.createElement(uce,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),v.createElement(gce,this.props)))}}var xce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Xz,xAxisId:0,yAxisId:0,zIndex:Mr.bar};function bce(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m}=e,{needClip:g}=Yz(t,r),y=og(),x=yn(),S=h1(e.children,Lo),w=ze(A=>Wce(A,t,r,x,e.id,S));if(y!=="vertical"&&y!=="horizontal")return null;var _,E=w?.[0];return E==null||E.height==null||E.width==null?_=0:_=y==="vertical"?E.height/2:E.width/2,v.createElement(kle,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:vce,errorBarOffset:_},v.createElement(yce,Ri({},e,{layout:y,needClip:g,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function wce(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:g,offset:y,cells:x,parentViewBox:S,dataStartIndex:w}=e,_=t==="horizontal"?u:c,E=m?_.scale.domain():null,A=hZ({numericAxis:_}),C=_.scale(A);return g.map((R,O)=>{var I,N,T,U,G,B;m?I=oZ(m[O+w],E):(I=It(R,r),Array.isArray(I)||(I=[A,I]));var K=_le(n,Xz)(I[1],O);if(t==="horizontal"){var F,[oe,J]=[u.scale(I[0]),u.scale(I[1])];N=dT({axis:c,ticks:f,bandSize:s,offset:a.offset,entry:R,index:O}),T=(F=J??oe)!==null&&F!==void 0?F:void 0,U=a.size;var L=oe-J;if(G=wa(L)?0:L,B={x:N,y:y.top,width:U,height:y.height},Math.abs(K)>0&&Math.abs(G)<Math.abs(K)){var D=Er(G||K)*(Math.abs(K)-Math.abs(G));T-=D,G+=D}}else{var[q,re]=[c.scale(I[0]),c.scale(I[1])];if(N=q,T=dT({axis:u,ticks:h,bandSize:s,offset:a.offset,entry:R,index:O}),U=re-q,G=a.size,B={x:y.left,y:T,width:y.width,height:G},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var X=Er(U||K)*(Math.abs(K)-Math.abs(U));U+=X}}if(N==null||T==null||U==null||G==null)return null;var M=Zr(Zr({},R),{},{stackedBarStart:C,x:N,y:T,width:U,height:G,value:m?I:I[1],payload:R,background:B,tooltipPosition:{x:N+U/2,y:T+G/2},parentViewBox:S},x&&x[O]&&x[O].props);return M}).filter(Boolean)}function jce(e){var t=Kr(e,xce),r=yn();return v.createElement(Hz,{id:t.id,type:"bar"},n=>v.createElement(v.Fragment,null,v.createElement(moe,{legendPayload:lce(t)}),v.createElement(cce,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),v.createElement(Coe,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:fZ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),v.createElement(Aa,{zIndex:t.zIndex},v.createElement(bce,Ri({},t,{id:n})))))}var fp=v.memo(jce,v1);fp.displayName="Bar";function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){_ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ce(e,t,r){return(t=Sce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sce(e){var t=Ece(e,"string");return typeof t=="symbol"?t:t+""}function Ece(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nce=(e,t)=>t,Cce=(e,t,r)=>r,Oce=(e,t,r,n)=>n,Ace=(e,t,r,n,a)=>a,Gd=de([D_,Ace],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Tce=de([Gd],e=>e?.maxBarSize),kce=(e,t,r,n,a,s)=>s,K2=(e,t,r)=>{var n=r??e;if(!Nr(n))return Fr(n,t,0)},Pce=de([ht,D_,Nce,Cce,Oce],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Rce=(e,t,r,n)=>{var a=ht(e);return a==="horizontal"?ww(e,"yAxis",r,n):ww(e,"xAxis",t,n)},Dce=(e,t,r)=>{var n=ht(e);return n==="horizontal"?qk(e,"xAxis",t):qk(e,"yAxis",r)},Mce=(e,t,r)=>{var n={},a=e.filter(jg),s=e.filter(h=>h.stackId==null),c=a.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),n),u=Object.entries(c).map(h=>{var[m,g]=h,y=g.map(S=>S.dataKey),x=K2(t,r,g[0].barSize);return{stackId:m,dataKeys:y,barSize:x}}),f=s.map(h=>{var m=[h.dataKey].filter(y=>y!=null),g=K2(t,r,h.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...f]},Ice=de([Pce,mre,Dce],Mce),Lce=(e,t,r,n,a)=>{var s,c,u=Gd(e,t,r,n,a);if(u!=null){var f=ht(e),h=m3(e),{maxBarSize:m}=u,g=Nr(m)?h:m,y,x;return f==="horizontal"?(y=vc(e,"xAxis",t,n),x=gc(e,"xAxis",t,n)):(y=vc(e,"yAxis",r,n),x=gc(e,"yAxis",r,n)),(s=(c=Lm(y,x,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},Zz=(e,t,r,n)=>{var a=ht(e),s,c;return a==="horizontal"?(s=vc(e,"xAxis",t,n),c=gc(e,"xAxis",t,n)):(s=vc(e,"yAxis",r,n),c=gc(e,"yAxis",r,n)),Lm(s,c)};function zce(e,t,r,n,a){var s=n.length;if(!(s<1)){var c=Fr(e,r,0,!0),u,f=[];if(Jt(n[0].barSize)){var h=!1,m=r/s,g=n.reduce((E,A)=>E+(A.barSize||0),0);g+=(s-1)*c,g>=r&&(g-=(s-1)*c,c=0),g>=r&&m>0&&(h=!0,m*=.9,g=s*m);var y=(r-g)/2>>0,x={offset:y-c,size:0};u=n.reduce((E,A)=>{var C,R={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:x.offset+x.size+c,size:h?m:(C=A.barSize)!==null&&C!==void 0?C:0}},O=[...E,R];return x=O[O.length-1].position,O},f)}else{var S=Fr(t,r,0,!0);r-2*S-(s-1)*c<=0&&(c=0);var w=(r-2*S-(s-1)*c)/s;w>1&&(w>>=0);var _=Jt(a)?Math.min(w,a):w;u=n.reduce((E,A,C)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(w+c)*C+(w-_)/2,size:_}}],f)}return u}}var $ce=(e,t,r,n,a,s,c)=>{var u=Nr(c)?t:c,f=zce(r,n,a!==s?a:s,e,u);return a!==s&&f!=null&&(f=f.map(h=>Vh(Vh({},h),{},{position:Vh(Vh({},h.position),{},{offset:h.position.offset-a/2})}))),f},Uce=de([Ice,m3,hre,p3,Lce,Zz,Tce],$ce),Bce=(e,t,r,n)=>vc(e,"xAxis",t,n),qce=(e,t,r,n)=>vc(e,"yAxis",r,n),Fce=(e,t,r,n)=>gc(e,"xAxis",t,n),Hce=(e,t,r,n)=>gc(e,"yAxis",r,n),Vce=de([Uce,Gd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Kce=(e,t)=>{var r=k_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(c=>c.key===r)}}}},Gce=de([Rce,Gd],Kce),Wce=de([gr,Gj,Bce,qce,Fce,Hce,Vce,ht,j_,Zz,Gce,Gd,kce],(e,t,r,n,a,s,c,u,f,h,m,g,y)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:w}=f;if(!(g==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:_}=g,E;if(_!=null&&_.length>0?E=_:E=x?.slice(S,w+1),E!=null)return wce({layout:u,barSettings:g,pos:c,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:E,offset:e,cells:y,dataStartIndex:S})}}),Qz=e=>{var{chartData:t}=e,r=$t(),n=yn();return v.useEffect(()=>n?()=>{}:(r(t2(t)),()=>{r(t2(void 0))}),[t,r,n]),null},G2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Jz=vn({name:"brush",initialState:G2,reducers:{setBrushSettings(e,t){return t.payload==null?G2:t.payload}}}),{setBrushSettings:Lfe}=Jz.actions,Yce=Jz.reducer;function Xce(e,t,r){return(t=Zce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zce(e){var t=Qce(e,"string");return typeof t=="symbol"?t:t+""}function Qce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class y1{static create(t){return new y1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Xce(y1,"EPS",1e-4);function Jce(e){return(e%180+180)%180}var eue=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Jce(a),c=s*Math.PI/180,u=Math.atan(n/r),f=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},tue={dots:[],areas:[],lines:[]},e$=vn({name:"referenceElements",initialState:tue,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=va(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=va(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=va(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:zfe,removeDot:$fe,addArea:Ufe,removeArea:Bfe,addLine:qfe,removeLine:Ffe}=e$.actions,rue=e$.reducer,nue=v.createContext(void 0),aue=e=>{var{children:t}=e,[r]=v.useState("".concat(ad("recharts"),"-clip")),n=Gz();if(n==null)return null;var{x:a,y:s,width:c,height:u}=n;return v.createElement(nue.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:s,height:u,width:c}))),t)};function t$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function iue(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return eue(n,r)}function sue(e,t,r){var n=r==="width",{x:a,y:s,width:c,height:u}=e;return t===1?{start:n?a:s,end:n?a+c:s+u}:{start:n?a+c:s+u,end:n?a:s}}function hp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function oue(e,t){return t$(e,t+1)}function lue(e,t,r,n,a){for(var s=(n||[]).slice(),{start:c,end:u}=t,f=0,h=1,m=c,g=function(){var S=n?.[f];if(S===void 0)return{v:t$(n,h)};var w=f,_,E=()=>(_===void 0&&(_=r(S,w)),_),A=S.coordinate,C=f===0||hp(e,A,E,m,u);C||(f=0,m=c,h+=1),C&&(m=A+e*(E()/2+a),f+=h)},y;h<=s.length;)if(y=g(),y)return y.v;return[]}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cue(e,t,r){return(t=uue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uue(e){var t=due(e,"string");return typeof t=="symbol"?t:t+""}function due(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fue(e,t,r,n,a){for(var s=(n||[]).slice(),c=s.length,{start:u}=t,{end:f}=t,h=function(y){var x=s[y],S,w=()=>(S===void 0&&(S=r(x,y)),S);if(y===c-1){var _=e*(x.coordinate+e*w()/2-f);s[y]=x=zr(zr({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else s[y]=x=zr(zr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var E=hp(e,x.tickCoord,w,u,f);E&&(f=x.tickCoord-e*(w()/2+a),s[y]=zr(zr({},x),{},{isShow:!0}))}},m=c-1;m>=0;m--)h(m);return s}function hue(e,t,r,n,a,s){var c=(n||[]).slice(),u=c.length,{start:f,end:h}=t;if(s){var m=n[u-1],g=r(m,u-1),y=e*(m.coordinate+e*g/2-h);if(c[u-1]=m=zr(zr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var x=hp(e,m.tickCoord,()=>g,f,h);x&&(h=m.tickCoord-e*(g/2+a),c[u-1]=zr(zr({},m),{},{isShow:!0}))}}for(var S=s?u-1:u,w=function(A){var C=c[A],R,O=()=>(R===void 0&&(R=r(C,A)),R);if(A===0){var I=e*(C.coordinate-e*O()/2-f);c[A]=C=zr(zr({},C),{},{tickCoord:I<0?C.coordinate-I*e:C.coordinate})}else c[A]=C=zr(zr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var N=hp(e,C.tickCoord,O,f,h);N&&(f=C.tickCoord+e*(O()/2+a),c[A]=zr(zr({},C),{},{isShow:!0}))}},_=0;_<S;_++)w(_);return c}function x1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:c,orientation:u,interval:f,tickFormatter:h,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if($e(f)||Pd.isSsr){var y;return(y=oue(a,$e(f)?f:0))!==null&&y!==void 0?y:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",w=m&&S==="width"?Wu(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(C,R)=>{var O=typeof h=="function"?h(C.value,R):C.value;return S==="width"?iue(Wu(O,{fontSize:t,letterSpacing:r}),w,g):Wu(O,{fontSize:t,letterSpacing:r})[S]},E=a.length>=2?Er(a[1].coordinate-a[0].coordinate):1,A=sue(s,E,S);return f==="equidistantPreserveStart"?lue(E,A,_,a,c):(f==="preserveStart"||f==="preserveStartEnd"?x=hue(E,A,_,a,c,f==="preserveStartEnd"):x=fue(E,A,_,a,c),x.filter(C=>C.isShow))}var mue=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=r?r.getBoundingClientRect().width:0,f=a+s,h=c+f+u+(r?n:0);return Math.round(h)}return 0},pue=["axisLine","width","height","className","hide","ticks","axisType"];function gue(e,t){if(e==null)return{};var r,n,a=vue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo.apply(null,arguments)}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yue(e,t,r){return(t=xue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xue(e){var t=bue(e,"string");return typeof t=="symbol"?t:t+""}function bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Mr.axis};function wue(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:c,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var h=ir(ir(ir({},f),ba(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!c||s==="bottom"&&c);h=ir(ir({},h),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=ir(ir({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return v.createElement("line",zo({},h,{className:gt("recharts-cartesian-axis-line",Po(u,"className"))}))}function jue(e,t,r,n,a,s,c,u,f){var h,m,g,y,x,S,w=u?-1:1,_=e.tickSize||c,E=$e(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=m=e.coordinate,y=r+ +!u*a,g=y-w*_,S=g-w*f,x=E;break;case"left":g=y=e.coordinate,m=t+ +!u*n,h=m-w*_,x=h-w*f,S=E;break;case"right":g=y=e.coordinate,m=t+ +u*n,h=m+w*_,x=h+w*f,S=E;break;default:h=m=e.coordinate,y=r+ +u*a,g=y+w*_,S=g+w*f,x=E;break}return{line:{x1:h,y1:g,x2:m,y2:y},tick:{x,y:S}}}function _ue(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Sue(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Eue(e){var{option:t,tickProps:r,value:n}=e,a,s=gt(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,ir(ir({},r),{},{className:s}));else if(typeof t=="function")a=t(ir(ir({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=gt(c,t?.className)),a=v.createElement(Ag,zo({},r,{className:c}),n)}return a}var Nue=v.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:c,unit:u,padding:f,tickTextProps:h,orientation:m,mirror:g,x:y,y:x,width:S,height:w,tickSize:_,tickMargin:E,fontSize:A,letterSpacing:C,getTicksConfig:R,events:O,axisType:I}=e,N=x1(ir(ir({},R),{},{ticks:r}),A,C),T=_ue(m,g),U=Sue(m,g),G=ba(R),B=nd(n),K={};typeof a=="object"&&(K=a);var F=ir(ir({},G),{},{fill:"none"},K),oe=N.map(D=>ir({entry:D},jue(D,y,x,S,w,m,_,g,E))),J=oe.map(D=>{var{entry:q,line:re}=D;return v.createElement(nn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&v.createElement("line",zo({},F,re,{className:gt("recharts-cartesian-axis-tick-line",Po(a,"className"))})))}),L=oe.map((D,q)=>{var{entry:re,tick:X}=D,M=ir(ir(ir(ir({textAnchor:T,verticalAnchor:U},G),{},{stroke:"none",fill:s},B),X),{},{index:q,payload:re,visibleTicksCount:N.length,tickFormatter:c,padding:f},h);return v.createElement(nn,zo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},Vp(O,re,q)),n&&v.createElement(Eue,{option:n,tickProps:M,value:"".concat(typeof c=="function"?c(re.value,q):re.value).concat(u||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},L.length>0&&v.createElement(Aa,{zIndex:Mr.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},L)),J.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},J))}),Cue=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:c,ticks:u,axisType:f}=e,h=gue(e,pue),[m,g]=v.useState(""),[y,x]=v.useState(""),S=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return mue({ticks:S.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=v.useCallback(_=>{if(_){var E=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=E;var A=E[0];if(A){var C=window.getComputedStyle(A),R=C.fontSize,O=C.letterSpacing;(R!==m||O!==y)&&(g(R),x(O))}}},[m,y]);return c||n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(Aa,{zIndex:e.zIndex},v.createElement(nn,{className:gt("recharts-cartesian-axis",s)},v.createElement(wue,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ba(e)}),v.createElement(Nue,{ref:w,axisType:f,events:h,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(ose,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(vse,{label:e.label,labelRef:e.labelRef}),e.children)))}),b1=v.forwardRef((e,t)=>{var r=Kr(e,_i);return v.createElement(Cue,zo({},r,{ref:t}))});b1.displayName="CartesianAxis";var Oue=["x1","y1","x2","y2","key"],Aue=["offset"],Tue=["xAxisId","yAxisId"],kue=["xAxisId","yAxisId"];function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){Pue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pue(e,t,r){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rue(e){var t=Due(e,"string");return typeof t=="symbol"?t:t+""}function Due(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(null,arguments)}function mp(e,t){if(e==null)return{};var r,n,a=Mue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Iue=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:c,ry:u}=e;return v.createElement("rect",{x:n,y:a,ry:u,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function r$(e){var{option:t,lineItemProps:r}=e,n;if(v.isValidElement(t))n=v.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:c,x2:u,y2:f,key:h}=r,m=mp(r,Oue),g=(a=ba(m))!==null&&a!==void 0?a:{},{offset:y}=g,x=mp(g,Aue);n=v.createElement("line",xo({},x,{x1:s,y1:c,x2:u,y2:f,fill:"none",key:h}))}return n}function Lue(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=e,u=mp(e,Tue),f=a.map((h,m)=>{var g=$r($r({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(m),index:m});return v.createElement(r$,{key:"line-".concat(m),option:n,lineItemProps:g})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function zue(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=e,u=mp(e,kue),f=a.map((h,m)=>{var g=$r($r({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(m),index:m});return v.createElement(r$,{option:n,lineItemProps:g,key:"line-".concat(m)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function $ue(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:c,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var h=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var m=h.map((g,y)=>{var x=!h[y+1],S=x?a+c-g:h[y+1]-g;if(S<=0)return null;var w=y%t.length;return v.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:S,width:s,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Uue(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:c,height:u,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==h[0]&&h.unshift(0);var m=h.map((g,y)=>{var x=!h[y+1],S=x?a+c-g:h[y+1]-g;if(S<=0)return null;var w=y%r.length;return v.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:S,height:u,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Bue=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return B4(x1($r($r($r({},_i),r),{},{ticks:q4(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},que=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return B4(x1($r($r($r({},_i),r),{},{ticks:q4(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Fue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Mr.grid};function pp(e){var t=Z4(),r=Q4(),n=X4(),a=$r($r({},Kr(e,Fue)),{},{x:$e(e.x)?e.x:n.left,y:$e(e.y)?e.y:n.top,width:$e(e.width)?e.width:n.width,height:$e(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:u,y:f,width:h,height:m,syncWithTicks:g,horizontalValues:y,verticalValues:x}=a,S=yn(),w=ze(U=>Fk(U,"xAxis",s,S)),_=ze(U=>Fk(U,"yAxis",c,S));if(!qa(h)||!qa(m)||!$e(u)||!$e(f))return null;var E=a.verticalCoordinatesGenerator||Bue,A=a.horizontalCoordinatesGenerator||que,{horizontalPoints:C,verticalPoints:R}=a;if((!C||!C.length)&&typeof A=="function"){var O=y&&y.length,I=A({yAxis:_?$r($r({},_),{},{ticks:O?y:_.ticks}):void 0,width:t??h,height:r??m,offset:n},O?!0:g);zm(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(C=I)}if((!R||!R.length)&&typeof E=="function"){var N=x&&x.length,T=E({xAxis:w?$r($r({},w),{},{ticks:N?x:w.ticks}):void 0,width:t??h,height:r??m,offset:n},N?!0:g);zm(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(R=T)}return v.createElement(Aa,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Iue,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement($ue,xo({},a,{horizontalPoints:C})),v.createElement(Uue,xo({},a,{verticalPoints:R})),v.createElement(Lue,xo({},a,{offset:n,horizontalPoints:C,xAxis:w,yAxis:_})),v.createElement(zue,xo({},a,{offset:n,verticalPoints:R,xAxis:w,yAxis:_}))))}pp.displayName="CartesianGrid";var Hue=["domain","range"],Vue=["domain","range"];function Z2(e,t){if(e==null)return{};var r,n,a=Kue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Q2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function n$(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=Z2(e,Hue),{domain:s,range:c}=t,u=Z2(t,Vue);return!Q2(r,s)||!Q2(n,c)?!1:v1(a,u)}var Gue=["dangerouslySetInnerHTML","ticks"],Wue=["id"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(null,arguments)}function J2(e,t){if(e==null)return{};var r,n,a=Yue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xue(e){var t=$t(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(ale(e)):r.current!==e&&t(ile({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(sle(r.current)),r.current=null)},[t]),null}var Zue=e=>{var{xAxisId:t,className:r}=e,n=ze(Gj),a=yn(),s="xAxis",c=ze(_=>Dc(_,s,t,a)),u=ze(_=>G3(_,s,t,a)),f=ze(_=>F3(_,t)),h=ze(_=>dne(_,t)),m=ze(_=>S3(_,t));if(f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,x=J2(e,Gue),{id:S}=m,w=J2(m,Wue);return v.createElement(b1,Aw({},x,w,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:gt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},Que={allowDataOverflow:jr.allowDataOverflow,allowDecimals:jr.allowDecimals,allowDuplicatedCategory:jr.allowDuplicatedCategory,angle:jr.angle,axisLine:_i.axisLine,height:jr.height,hide:!1,includeHidden:jr.includeHidden,interval:jr.interval,minTickGap:jr.minTickGap,mirror:jr.mirror,orientation:jr.orientation,padding:jr.padding,reversed:jr.reversed,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,tickLine:_i.tickLine,tickSize:_i.tickSize,type:jr.type,xAxisId:0},Jue=e=>{var t=Kr(e,Que);return v.createElement(v.Fragment,null,v.createElement(Xue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Zue,t))},gp=v.memo(Jue,n$);gp.displayName="XAxis";var ede=["dangerouslySetInnerHTML","ticks"],tde=["id"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}function eP(e,t){if(e==null)return{};var r,n,a=rde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nde(e){var t=$t(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(ole(e)):r.current!==e&&t(lle({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(cle(r.current)),r.current=null)},[t]),null}var ade=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=v.useRef(null),c=v.useRef(null),u=ze(Gj),f=yn(),h=$t(),m="yAxis",g=ze(O=>Dc(O,m,t,f)),y=ze(O=>H3(O,t)),x=ze(O=>hne(O,t)),S=ze(O=>G3(O,m,t,f)),w=ze(O=>E3(O,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!y||u1(a)||v.isValidElement(a)||w==null)){var O=s.current;if(O){var I=O.getCalculatedWidth();Math.round(y.width)!==Math.round(I)&&h(ule({id:t,width:I}))}}},[S,y,h,a,t,n,w]),y==null||x==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:E}=e,A=eP(e,ede),{id:C}=w,R=eP(w,tde);return v.createElement(b1,Tw({},A,R,{ref:s,labelRef:c,scale:g,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:gt("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:S,axisType:m}))},ide={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,angle:_r.angle,axisLine:_i.axisLine,hide:!1,includeHidden:_r.includeHidden,interval:_r.interval,minTickGap:_r.minTickGap,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,tickLine:_i.tickLine,tickSize:_i.tickSize,type:_r.type,width:_r.width,yAxisId:0},sde=e=>{var t=Kr(e,ide);return v.createElement(v.Fragment,null,v.createElement(nde,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(ade,t))},vp=v.memo(sde,n$);vp.displayName="YAxis";var ode=(e,t)=>t,w1=de([ode,ht,j3,yr,cz,Ui,Oae,gr],Mae),j1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},a$=ra("mouseClick"),i$=Ad();i$.startListening({actionCreator:a$,effect:(e,t)=>{var r=e.payload,n=w1(t.getState(),j1(r));n?.activeIndex!=null&&t.dispatch(Cne({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var kw=ra("mouseMove"),s$=Ad(),Kh=null;s$.startListening({actionCreator:kw,effect:(e,t)=>{var r=e.payload;Kh!==null&&cancelAnimationFrame(Kh);var n=j1(r);Kh=requestAnimationFrame(()=>{var a=t.getState(),s=J_(a,a.tooltip.settings.shared);if(s==="axis"){var c=w1(a,n);c?.activeIndex!=null?t.dispatch(tz({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(ez())}Kh=null})}});var tP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},o$=vn({name:"rootProps",initialState:tP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:tP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),lde=o$.reducer,{updateOptions:cde}=o$.actions,l$=vn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ude}=l$.actions,dde=l$.reducer,c$=ra("keyDown"),u$=ra("focus"),_1=Ad();_1.startListening({actionCreator:c$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=e1(a,Ic(r),Bd(r),Vd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=Ui(r);if(s==="Enter"){var h=ip(r,"axis","hover",String(a.index));t.dispatch(_w({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var m=vne(r),g=m==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,x=u+y*g;if(!(f==null||x>=f.length||x<0)){var S=ip(r,"axis","hover",String(x));t.dispatch(_w({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});_1.startListening({actionCreator:u$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",c=ip(r,"axis","hover",String(s));t.dispatch(_w({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Qn=ra("externalEvent"),d$=Ad(),nb=new Map;d$.startListening({actionCreator:Qn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=nb.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:hae(u),activeDataKey:i1(u),activeIndex:Io(u),activeLabel:fz(u),activeTooltipIndex:Io(u),isTooltipActive:mae(u)};r(f,n)}finally{nb.delete(a)}});nb.set(a,c)}}});var fde=de([Mc],e=>e.tooltipItemPayloads),hde=de([fde,Fd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var c=t(s,r);return c}}}),f$=ra("touchMove"),h$=Ad();h$.startListening({actionCreator:f$,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=J_(n,n.tooltip.settings.shared);if(a==="axis"){var s=w1(n,j1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(tz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,u=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(H4),m=(c=f.getAttribute(V4))!==null&&c!==void 0?c:void 0,g=hde(t.getState(),h,m);t.dispatch(J3({activeDataKey:m,activeIndex:h,activeCoordinate:g}))}}}});var mde=f4({brush:Yce,cartesianAxis:dle,chartData:fie,errorBars:Ele,graphicalItems:Eoe,layout:tZ,legend:oQ,options:oie,polarAxis:$se,polarOptions:dde,referenceElements:rue,rootProps:lde,tooltip:One,zIndex:Yae}),pde=function(t){return NX({reducer:mde,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([i$.middleware,s$.middleware,_1.middleware,d$.middleware,h$.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(C4({type:"raf"}))},devTools:Pd.devToolsEnabled})};function m$(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=yn(),s=v.useRef(null);if(a)return r;s.current==null&&(s.current=pde(t));var c=zj;return v.createElement(Zle,{context:c,store:s.current},r)}function gde(e){var{layout:t,margin:r}=e,n=$t(),a=yn();return v.useEffect(()=>{a||(n(QX(t)),n(ZX(r)))},[n,a,t,r]),null}var p$=v.memo(gde,v1);function g$(e){var t=$t();return v.useEffect(()=>{t(cde(e))},[t,e]),null}function rP(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=Fz("".concat(n).concat(t)),s=$t();return v.useLayoutEffect(()=>(s(Gae({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Wae({zIndex:t,isPanorama:r}))}),[s,t,a,r]),v.createElement("g",{tabIndex:-1,id:a})}function nP(e){var{children:t,isPanorama:r}=e,n=ze(Lae);if(!n||n.length===0)return t;var a=n.filter(c=>c<0),s=n.filter(c=>c>0);return v.createElement(v.Fragment,null,a.map(c=>v.createElement(rP,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>v.createElement(rP,{key:c,zIndex:c,isPanorama:r})))}var vde=["children"];function yde(e,t){if(e==null)return{};var r,n,a=xde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(null,arguments)}var bde={width:"100%",height:"100%",display:"block"},wde=v.forwardRef((e,t)=>{var r=Z4(),n=Q4(),a=cL();if(!qa(r)||!qa(n))return null;var{children:s,otherAttributes:c,title:u,desc:f}=e,h,m;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?m=c.role:m=a?"application":void 0),v.createElement(TI,yp({},c,{title:u,desc:f,role:m,tabIndex:h,width:r,height:n,style:bde,ref:t}),s)}),jde=e=>{var{children:t}=e,r=ze(ig);if(!r)return null;var{width:n,height:a,y:s,x:c}=r;return v.createElement(TI,{width:n,height:a,x:c,y:s},t)},aP=v.forwardRef((e,t)=>{var{children:r}=e,n=yde(e,vde),a=yn();return a?v.createElement(jde,null,v.createElement(nP,{isPanorama:!0},r)):v.createElement(wde,yp({ref:t},n),v.createElement(nP,{isPanorama:!1},r))});function _de(){var e=$t(),[t,r]=v.useState(null),n=ze(xZ);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Jt(s)&&s!==n&&e(eZ(s))}},[t,e,n]),r}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){Ede(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ede(e,t,r){return(t=Nde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nde(e){var t=Cde(e,"string");return typeof t=="symbol"?t:t+""}function Cde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(null,arguments)}var Ode=()=>(wie(),null);function xp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ade=v.forwardRef((e,t)=>{var r,n,a=v.useRef(null),[s,c]=v.useState({containerWidth:xp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:xp((n=e.style)===null||n===void 0?void 0:n.height)}),u=v.useCallback((h,m)=>{c(g=>{var y=Math.round(h),x=Math.round(m);return g.containerWidth===y&&g.containerHeight===x?g:{containerWidth:y,containerHeight:x}})},[]),f=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=h.getBoundingClientRect();u(m,g);var y=S=>{var{width:w,height:_}=S[0].contentRect;u(w,_)},x=new ResizeObserver(y);x.observe(h),a.current=x}},[t,u]);return v.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[u]),v.createElement(v.Fragment,null,v.createElement(lg,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",$o({ref:f},e)))}),Tde=v.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=v.useState({containerWidth:xp(r),containerHeight:xp(n)}),c=v.useCallback((f,h)=>{s(m=>{var g=Math.round(f),y=Math.round(h);return m.containerWidth===g&&m.containerHeight===y?m:{containerWidth:g,containerHeight:y}})},[]),u=v.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();c(h,m)}},[t,c]);return v.createElement(v.Fragment,null,v.createElement(lg,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",$o({ref:u},e)))}),kde=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return v.createElement(v.Fragment,null,v.createElement(lg,{width:r,height:n}),v.createElement("div",$o({ref:t},e)))}),Pde=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ci(r)||Ci(n)?v.createElement(Tde,$o({},e,{ref:t})):v.createElement(kde,$o({},e,{ref:t}))});function Rde(e){return e===!0?Ade:Pde}var Dde=v.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:x,onTouchMove:S,onTouchStart:w,style:_,width:E,responsive:A,dispatchTouchEvents:C=!0}=e,R=v.useRef(null),O=$t(),[I,N]=v.useState(null),[T,U]=v.useState(null),G=_de(),B=Wj(),K=B?.width>0?B.width:E,F=B?.height>0?B.height:a,oe=v.useCallback(z=>{G(z),typeof t=="function"&&t(z),N(z),U(z),z!=null&&(R.current=z)},[G,t,N,U]),J=v.useCallback(z=>{O(a$(z)),O(Qn({handler:s,reactEvent:z}))},[O,s]),L=v.useCallback(z=>{O(kw(z)),O(Qn({handler:h,reactEvent:z}))},[O,h]),D=v.useCallback(z=>{O(ez()),O(Qn({handler:m,reactEvent:z}))},[O,m]),q=v.useCallback(z=>{O(kw(z)),O(Qn({handler:g,reactEvent:z}))},[O,g]),re=v.useCallback(()=>{O(u$())},[O]),X=v.useCallback(z=>{O(c$(z.key))},[O]),M=v.useCallback(z=>{O(Qn({handler:c,reactEvent:z}))},[O,c]),H=v.useCallback(z=>{O(Qn({handler:u,reactEvent:z}))},[O,u]),Q=v.useCallback(z=>{O(Qn({handler:f,reactEvent:z}))},[O,f]),P=v.useCallback(z=>{O(Qn({handler:y,reactEvent:z}))},[O,y]),V=v.useCallback(z=>{O(Qn({handler:w,reactEvent:z}))},[O,w]),ie=v.useCallback(z=>{C&&O(f$(z)),O(Qn({handler:S,reactEvent:z}))},[O,C,S]),W=v.useCallback(z=>{O(Qn({handler:x,reactEvent:z}))},[O,x]),je=Rde(A);return v.createElement(xz.Provider,{value:I},v.createElement(iW.Provider,{value:T},v.createElement(je,{width:K??_?.width,height:F??_?.height,className:gt("recharts-wrapper",n),style:Sde({position:"relative",cursor:"default",width:K,height:F},_),onClick:J,onContextMenu:M,onDoubleClick:H,onFocus:re,onKeyDown:X,onMouseDown:Q,onMouseEnter:L,onMouseLeave:D,onMouseMove:q,onMouseUp:P,onTouchEnd:W,onTouchMove:ie,onTouchStart:V,ref:oe},v.createElement(Ode,null),r)))}),Mde=["width","height","responsive","children","className","style","compact","title","desc"];function Ide(e,t){if(e==null)return{};var r,n,a=Lde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v$=v.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:c,style:u,compact:f,title:h,desc:m}=e,g=Ide(e,Mde),y=ba(g);return f?v.createElement(v.Fragment,null,v.createElement(lg,{width:r,height:n}),v.createElement(aP,{otherAttributes:y,title:h,desc:m},s)):v.createElement(Dde,{className:c,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(aP,{otherAttributes:y,title:h,desc:m,ref:t},v.createElement(aue,null,s)))});function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(null,arguments)}var zde={top:5,right:5,bottom:5,left:5},$de={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zde,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ude=v.forwardRef(function(t,r){var n,a=Kr(t.categoricalChartProps,$de),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(m$,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},v.createElement(Qz,{chartData:h.data}),v.createElement(p$,{layout:a.layout,margin:a.margin}),v.createElement(g$,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(v$,Pw({},a,{ref:r})))}),Bde=["axis","item"],Rw=v.forwardRef((e,t)=>v.createElement(Ude,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bde,tooltipPayloadSearcher:bz,categoricalChartProps:e,ref:t}));function qde(e){var t=$t();return v.useEffect(()=>{t(ude(e))},[t,e]),null}var Fde=["layout"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(null,arguments)}function Hde(e,t){if(e==null)return{};var r,n,a=Vde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kde={top:5,right:5,bottom:5,left:5},y$={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kde,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Gde=v.forwardRef(function(t,r){var n,a=Kr(t.categoricalChartProps,y$),{layout:s}=a,c=Hde(a,Fde),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return v.createElement(m$,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},v.createElement(Qz,{chartData:a.data}),v.createElement(p$,{layout:s,margin:a.margin}),v.createElement(g$,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(qde,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),v.createElement(v$,Dw({},c,{ref:r})))});function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){Wde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wde(e,t,r){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zde=["item"],Qde=oP(oP({},y$),{},{layout:"centric",startAngle:0,endAngle:360}),Mw=v.forwardRef((e,t)=>{var r=Kr(e,Qde);return v.createElement(Gde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zde,tooltipPayloadSearcher:bz,categoricalChartProps:r,ref:t})});function Jde(){const{orders:e,expenses:t,addExpense:r,deleteExpense:n}=Vr(),{t:a}=lr(),[s,c]=v.useState(!1),[u,f]=v.useState({description:"",amount:"",category:"Other",date:new Date().toISOString().split("T")[0]}),[h,m]=v.useState(1),[g,y]=v.useState({id:"",customer:"",date:"",paymentMethod:""}),[x,S]=v.useState(null),[w,_]=v.useState(!1),E=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],A=e.filter(D=>D.status==="Closed").reduce((D,q)=>D+q.total,0),C=t.reduce((D,q)=>D+q.amount,0),R=A-C,O=e.filter(D=>D.status==="Closed"&&D.paymentMethod).reduce((D,q)=>{const re=q.paymentMethod;return D[re]=(D[re]||0)+q.total,D},{}),I=Object.entries(O).map(([D,q])=>({name:a(D.toLowerCase())||D,value:q})),N=e.filter(D=>D.status==="Closed").reduce((D,q)=>{const re=q.orderType||"dine_in";return D[re]=(D[re]||0)+q.total,D},{}),T=Object.entries(N).map(([D,q])=>({name:a(D==="dine_in"?"dineIn":D)||D,value:q})),U=t.reduce((D,q)=>(D[q.category]=(D[q.category]||0)+q.amount,D),{}),G=Object.entries(U).map(([D,q])=>({name:D,value:q})),B=v.useMemo(()=>{try{let D=e.filter(q=>q&&q.status==="Closed");return D.sort((q,re)=>{try{let X=0,M=0;if(q.closedAt){const H=new Date(q.closedAt);isNaN(H.getTime())||(X=H.getTime())}if(re.closedAt){const H=new Date(re.closedAt);isNaN(H.getTime())||(M=H.getTime())}if(X===0&&q.time)try{if(q.time.includes(",")){const[H]=q.time.split(","),Q=H.trim().split("/");if(Q.length===3){const[P,V,ie]=Q,W=new Date(parseInt(ie),parseInt(V)-1,parseInt(P));isNaN(W.getTime())||(X=W.getTime())}}else{const H=new Date(q.time);isNaN(H.getTime())||(X=H.getTime())}}catch{}if(M===0&&re.time)try{if(re.time.includes(",")){const[H]=re.time.split(","),Q=H.trim().split("/");if(Q.length===3){const[P,V,ie]=Q,W=new Date(parseInt(ie),parseInt(V)-1,parseInt(P));isNaN(W.getTime())||(M=W.getTime())}}else{const H=new Date(re.time);isNaN(H.getTime())||(M=H.getTime())}}catch{}return M-X}catch(X){return console.error("Erro ao ordenar vendas:",X),0}}),g.id&&(D=D.filter(q=>q&&q.id&&q.id.toLowerCase().includes(g.id.toLowerCase()))),g.customer&&(D=D.filter(q=>q&&q.customer&&q.customer.toLowerCase().includes(g.customer.toLowerCase()))),g.date&&(D=D.filter(q=>{try{let re="";if(q.closedAt){const X=new Date(q.closedAt);isNaN(X.getTime())||(re=X.toISOString().split("T")[0])}else if(q.time)try{if(q.time.includes(",")){const[X]=q.time.split(","),M=X.trim().split("/");if(M.length===3){const[H,Q,P]=M;re=`${P}-${Q.padStart(2,"0")}-${H.padStart(2,"0")}`}}else{const X=new Date(q.time);isNaN(X.getTime())||(re=X.toISOString().split("T")[0])}}catch{}return re===g.date}catch{return!1}})),g.paymentMethod&&(D=D.filter(q=>q&&q.paymentMethod===g.paymentMethod)),D}catch(D){return console.error("Erro ao processar vendas:",D),[]}},[e,g]),K=20,F=v.useMemo(()=>{try{return Math.ceil((B?.length||0)/K)||1}catch{return 1}},[B]),oe=v.useMemo(()=>{try{if(!B||B.length===0)return[];const D=(h-1)*K,q=D+K;return B.slice(D,q)}catch(D){return console.error("Erro ao paginar vendas:",D),[]}},[B,h]),J=(D,q)=>{y(re=>({...re,[D]:q})),m(1)},L=async()=>{if(!(!u.description||!u.amount))try{const D=await r({description:u.description,amount:parseFloat(u.amount),category:u.category,date:u.date});D.success?(f({description:"",amount:"",category:"Other",date:new Date().toISOString().split("T")[0]}),c(!1)):alert(`Failed to add expense: ${D.error}`)}catch{alert("An unexpected error occurred")}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:a("finance")}),o.jsx("p",{className:"text-muted-foreground",children:a("settingsDescription")})]}),o.jsxs(YG,{defaultValue:"overview",className:"space-y-4",children:[o.jsxs(CI,{children:[o.jsx(tm,{value:"overview",children:a("overview")}),o.jsx(tm,{value:"sales",children:a("sales")}),o.jsx(tm,{value:"expenses",children:a("expenses")})]}),o.jsxs(rm,{value:"overview",className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:a("revenue")}),o.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:ge(A)})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:a("expenses")}),o.jsx(Nq,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:ge(C)})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:a("netProfit")}),o.jsx(Sp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:`text-2xl font-bold ${R>=0?"text-green-600":"text-red-600"}`,children:ge(R)})})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(Ne,{className:"col-span-1",children:[o.jsx(Ae,{children:o.jsx(Te,{children:a("salesByPaymentMethod")})}),o.jsx(Ce,{className:"h-[300px]",children:o.jsx(rc,{width:"100%",height:"100%",children:o.jsxs(Mw,{children:[o.jsx(cp,{data:I,cx:"50%",cy:"50%",labelLine:!1,label:({name:D,percent:q})=>`${D} ${(q?q*100:0).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:I.map((D,q)=>o.jsx(Lo,{fill:E[q%E.length]},`cell-${q}`))}),o.jsx(ac,{formatter:D=>ge(D)})]})})})]}),o.jsxs(Ne,{className:"col-span-1",children:[o.jsx(Ae,{children:o.jsx(Te,{children:a("salesByOrderType")})}),o.jsx(Ce,{className:"h-[300px]",children:o.jsx(rc,{width:"100%",height:"100%",children:o.jsxs(Rw,{data:T,children:[o.jsx(pp,{strokeDasharray:"3 3"}),o.jsx(gp,{dataKey:"name"}),o.jsx(vp,{}),o.jsx(ac,{formatter:D=>ge(D)}),o.jsx(fp,{dataKey:"value",fill:"#82ca9d"})]})})})]})]})]}),o.jsxs(rm,{value:"sales",className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:a("salesByPaymentMethod")})}),o.jsx(Ce,{children:o.jsx("div",{className:"space-y-4",children:I&&I.length>0?I.map(D=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:D.name}),o.jsx("span",{children:ge(D.value)})]},D.name)):o.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum dado disponvel"})})})]}),o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:a("salesByOrderType")})}),o.jsx(Ce,{children:o.jsx("div",{className:"space-y-4",children:T&&T.length>0?T.map(D=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:D.name}),o.jsx("span",{children:ge(D.value)})]},D.name)):o.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum dado disponvel"})})})]})]}),o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{children:"Vendas Realizadas"}),B.length>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",B.length," venda",B.length!==1?"s":""]})]})}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"filter-id",children:"Filtrar por ID"}),o.jsx(Ee,{id:"filter-id",placeholder:"ID do pedido",value:g.id,onChange:D=>J("id",D.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"filter-customer",children:"Filtrar por Cliente"}),o.jsx(Ee,{id:"filter-customer",placeholder:"Nome do cliente",value:g.customer,onChange:D=>J("customer",D.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"filter-date",children:"Filtrar por Data"}),o.jsx(Ee,{id:"filter-date",type:"date",value:g.date,onChange:D=>J("date",D.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"filter-payment",children:"Mtodo de Pagamento"}),o.jsxs(Qe,{value:g.paymentMethod||"all",onValueChange:D=>J("paymentMethod",D==="all"?"":D),children:[o.jsx(Ye,{id:"filter-payment",children:o.jsx(Je,{placeholder:"Todos"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"all",children:"Todos"}),o.jsx(_e,{value:"Cash",children:"Dinheiro"}),o.jsx(_e,{value:"Card",children:"Carto"}),o.jsx(_e,{value:"PIX",children:"PIX"}),o.jsx(_e,{value:"Voucher",children:"Vale"})]})]})]})]}),(g.id||g.customer||g.date||g.paymentMethod)&&o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>{y({id:"",customer:"",date:"",paymentMethod:""}),m(1)},className:"w-full sm:w-auto",children:[o.jsx(um,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx("div",{className:"max-h-[600px] overflow-auto",children:oe.length===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:B.length===0?"Nenhuma venda encontrada":"Nenhuma venda encontrada com os filtros aplicados"}):o.jsx("div",{className:"divide-y",children:oe.map(D=>{if(!D)return null;let q=D.time||"";try{if(D.closedAt){const X=new Date(D.closedAt);isNaN(X.getTime())||(q=X.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))}else D.time&&(q=D.time)}catch(X){console.error("Erro ao formatar data:",X),q=D.time||"Data no disponvel"}const re=D.paymentMethod==="Cash"?"Dinheiro":D.paymentMethod==="Card"?"Carto":D.paymentMethod==="PIX"?"PIX":D.paymentMethod==="Voucher"?"Vale":D.paymentMethod||"";return o.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{S(D),_(!0)},children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-mono font-semibold text-sm",children:["ID: ",D.id||"N/A"]}),D.paymentMethod&&o.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-full",children:re})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:D.customer||"Cliente no informado"}),D.table&&o.jsxs("span",{className:"ml-2",children:[" Mesa: ",D.table]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[q,D.items&&D.items.length>0&&o.jsxs("span",{className:"ml-2",children:[" ",D.items.length," ",D.items.length===1?"item":"itens"]})]})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx("div",{className:"text-lg font-bold text-primary",children:ge(D.total||0)})]})})]})},D.id||Math.random())})})})}),B.length>0&&o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(h-1)*K+1," a ",Math.min(h*K,B.length)," de ",B.length," vendas"]}),F>1&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>m(D=>Math.max(1,D-1)),disabled:h===1,children:[o.jsx(Gw,{className:"h-4 w-4"}),"Anterior"]}),o.jsxs("span",{className:"text-sm font-medium",children:["Pgina ",h," de ",F]}),o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>m(D=>Math.min(F,D+1)),disabled:h===F,children:["Prxima",o.jsx(Kw,{className:"h-4 w-4"})]})]})]})]})]}),o.jsx(rn,{open:w,onOpenChange:_,children:o.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Br,{children:[o.jsx(qr,{children:"Detalhes da Venda"}),o.jsx(Mn,{children:"Informaes completas da venda realizada"})]}),x&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"ID do Pedido"}),o.jsx("p",{className:"font-mono font-bold text-lg",children:x.id})]}),o.jsxs("div",{className:"text-right",children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"Total"}),o.jsx("p",{className:"font-bold text-2xl text-primary",children:ge(x.total||0)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"Cliente"}),o.jsx("p",{className:"font-medium",children:x.customer||"No informado"})]}),x.table&&o.jsxs("div",{children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"Mesa"}),o.jsx("p",{className:"font-medium",children:x.table})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"Tipo de Pedido"}),o.jsx("p",{className:"font-medium",children:x.orderType==="dine_in"?"Mesa":x.orderType==="takeout"?"Retirada":x.orderType==="delivery"?"Delivery":x.orderType})]}),x.paymentMethod&&o.jsxs("div",{children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"Mtodo de Pagamento"}),o.jsx("p",{className:"font-medium",children:x.paymentMethod==="Cash"?"Dinheiro":x.paymentMethod==="Card"?"Carto":x.paymentMethod==="PIX"?"PIX":x.paymentMethod==="Voucher"?"Vale":x.paymentMethod})]})]}),o.jsxs("div",{children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"Data e Hora"}),o.jsx("p",{className:"font-medium",children:(()=>{try{if(x.closedAt){const D=new Date(x.closedAt);if(!isNaN(D.getTime()))return D.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}return x.time||"Data no disponvel"}catch{return x.time||"Data no disponvel"}})()})]}),x.notes&&o.jsxs("div",{children:[o.jsx(se,{className:"text-xs text-muted-foreground",children:"Observaes"}),o.jsx("p",{className:"font-medium",children:x.notes})]})]}),o.jsxs("div",{children:[o.jsx(se,{className:"text-sm font-semibold mb-3 block",children:"Itens do Pedido"}),o.jsx("div",{className:"border rounded-lg divide-y",children:x.items&&x.items.length>0?x.items.map((D,q)=>o.jsxs("div",{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:D.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[ge(D.price)," x ",D.quantity]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"font-bold",children:ge(D.price*D.quantity)})})]},q)):o.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Nenhum item encontrado"})})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsx("span",{className:"font-medium",children:ge(x.items?.reduce((D,q)=>D+q.price*q.quantity,0)||0)})]}),x.order_discount_type&&x.order_discount_value&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Desconto (",x.order_discount_type==="fixed"?"Fixo":"Percentual","):"]}),o.jsxs("span",{className:"font-medium text-red-600",children:["- ",x.order_discount_type==="fixed"?ge(x.order_discount_value):`${x.order_discount_value}%`]})]}),o.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[o.jsx("span",{children:"Total:"}),o.jsx("span",{className:"text-primary",children:ge(x.total||0)})]})]})})]}),o.jsx(pn,{children:o.jsx(xe,{variant:"outline",onClick:()=>_(!1),children:"Fechar"})})]})})]}),o.jsxs(rm,{value:"expenses",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:a("expenses")}),o.jsxs(rn,{open:s,onOpenChange:c,children:[o.jsx(wo,{asChild:!0,children:o.jsxs(xe,{children:[o.jsx(gn,{className:"mr-2 h-4 w-4"})," ",a("addExpense")]})}),o.jsxs(Ur,{children:[o.jsx(Br,{children:o.jsx(qr,{children:a("addExpense")})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{children:a("expenseDescription")}),o.jsx(Ee,{value:u.description,onChange:D=>f({...u,description:D.target.value})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{children:a("expenseAmount")}),o.jsx(Ee,{type:"number",value:u.amount,onChange:D=>f({...u,amount:D.target.value})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{children:a("expenseCategory")}),o.jsxs(Qe,{value:u.category,onValueChange:D=>f({...u,category:D}),children:[o.jsx(Ye,{children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"Inventory",children:"Inventory"}),o.jsx(_e,{value:"Utilities",children:"Utilities"}),o.jsx(_e,{value:"Salaries",children:"Salaries"}),o.jsx(_e,{value:"Rent",children:"Rent"}),o.jsx(_e,{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{children:a("expenseDate")}),o.jsx(Ee,{type:"date",value:u.date,onChange:D=>f({...u,date:D.target.value})})]})]}),o.jsx(pn,{children:o.jsx(xe,{onClick:L,children:a("save")})})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:"Expenses by Category"})}),o.jsx(Ce,{className:"h-[300px]",children:o.jsx(rc,{width:"100%",height:"100%",children:o.jsxs(Rw,{data:G,layout:"vertical",children:[o.jsx(pp,{strokeDasharray:"3 3"}),o.jsx(gp,{type:"number"}),o.jsx(vp,{dataKey:"name",type:"category",width:100}),o.jsx(ac,{formatter:D=>ge(D)}),o.jsx(fp,{dataKey:"value",fill:"#FF8042"})]})})})]}),o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:"Recent Expenses"})}),o.jsx(Ce,{className:"p-0",children:t.length===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:a("noExpenses")}):o.jsx("div",{className:"divide-y max-h-[300px] overflow-auto",children:t.map(D=>o.jsxs("div",{className:"flex items-center justify-between p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:D.description}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.category,"  ",new Date(D.date).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"font-bold",children:ge(D.amount)}),o.jsx(xe,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>n(D.id),children:o.jsx(sc,{className:"h-4 w-4"})})]})]},D.id))})})]})]})]})]})]})}const Gh=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C"];function efe(){const e=pr(),{orders:t,menuItems:r,categories:n,cancelOrder:a}=Vr(),{t:s}=lr(),{profile:c,user:u}=Ea(),[f,h]=v.useState("all"),[m,g]=v.useState("all"),[y,x]=v.useState("bar"),[S,w]=v.useState(!1),[_,E]=v.useState(null),[A,C]=v.useState(""),[R,O]=v.useState(null),[I,N]=v.useState(!1),[T,U]=v.useState(1),G=20,B=v.useMemo(()=>{const P=new Date;let V=new Date(0);switch(f){case"today":V=new Date(P.getFullYear(),P.getMonth(),P.getDate());break;case"week":V=new Date(P.getTime()-10080*60*1e3);break;case"month":V=new Date(P.getFullYear(),P.getMonth(),1);break;case"year":V=new Date(P.getFullYear(),0,1);break}return t.filter(ie=>{if(ie.status!=="Closed")return!1;const W=ie.closedAt||ie.created_at;return W?new Date(W)>=V:!1})},[t,f]),K=v.useMemo(()=>{const P=new Map;B.forEach(ie=>{ie.items.forEach(W=>{const je=P.get(W.name);if(je)je.quantity+=W.quantity,je.revenue+=W.price*W.quantity;else{const z=r.find(ee=>ee.name===W.name);P.set(W.name,{name:W.name,quantity:W.quantity,revenue:W.price*W.quantity,category:z?.category||"Other"})}})});let V=Array.from(P.values());return m!=="all"&&(V=V.filter(ie=>ie.category===m)),V.sort((ie,W)=>W.revenue-ie.revenue)},[B,r,m]),F=v.useMemo(()=>{const P=new Map;return K.forEach(V=>{const ie=P.get(V.category);ie?(ie.value+=V.quantity,ie.revenue+=V.revenue):P.set(V.category,{name:V.category,value:V.quantity,revenue:V.revenue})}),Array.from(P.values()).sort((V,ie)=>ie.revenue-V.revenue)},[K]),oe=K.reduce((P,V)=>P+V.revenue,0),J=K.reduce((P,V)=>P+V.quantity,0),L=v.useMemo(()=>{const P=new Date;let V=new Date(0);switch(f){case"today":V=new Date(P.getFullYear(),P.getMonth(),P.getDate());break;case"week":V=new Date(P.getTime()-10080*60*1e3);break;case"month":V=new Date(P.getFullYear(),P.getMonth(),1);break;case"year":V=new Date(P.getFullYear(),0,1);break}return t.filter(ie=>{if(ie.status!=="Closed")return!1;const W=ie.closedAt||ie.created_at;return W?new Date(W)>=V:!1}).sort((ie,W)=>{const je=ie.closedAt||ie.created_at,z=W.closedAt||W.created_at;if(!je||!z)return 0;const ee=new Date(je).getTime();return new Date(z).getTime()-ee})},[t,f]);v.useEffect(()=>{U(1)},[f]);const D=Math.ceil(L.length/G),q=v.useMemo(()=>{const P=(T-1)*G,V=P+G;return L.slice(P,V)},[L,T,G]),re=c&&(c.role==="admin"||c.role==="gerente"),X=P=>{if(!P)return null;switch(P){case"Cash":return o.jsx(Zl,{className:"h-4 w-4"});case"Card":return o.jsx(po,{className:"h-4 w-4"});case"Voucher":return o.jsx(Xl,{className:"h-4 w-4"});case"PIX":return o.jsx(Yl,{className:"h-4 w-4"})}},M=P=>{E(P),C(""),O(null),w(!0)},H=async()=>{if(!_||!A){O("Por favor, insira sua senha");return}if(!u){O("Usurio no autenticado");return}N(!0),O(null);try{let P=u.email||"";if(!P&&c){const{data:W}=await we.from("user_profiles").select("email").eq("id",u.id).single();W&&(P=W.email)}if(!P){O("No foi possvel verificar a senha"),N(!1);return}const{error:V}=await we.auth.signInWithPassword({email:P,password:A});if(V){O("Senha incorreta"),N(!1);return}const ie=await a(_);ie.success?(w(!1),E(null),C("")):O(ie.error||"Erro ao cancelar venda")}catch(P){console.error("Error cancelling order:",P),O(P.message||"Erro ao cancelar venda")}finally{N(!1)}},Q=_?t.find(P=>P.id===_):null;return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s("salesAnalysis")||"Sales Analysis"}),o.jsx("p",{className:"text-muted-foreground",children:s("salesByProduct")||"View sales data by product with filters"})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:s("timePeriod")||"Time Period"}),o.jsx(um,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsxs(Qe,{value:f,onValueChange:h,children:[o.jsx(Ye,{children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"all",children:s("allTime")||"All Time"}),o.jsx(_e,{value:"today",children:s("today")||"Today"}),o.jsx(_e,{value:"week",children:s("thisWeek")||"This Week"}),o.jsx(_e,{value:"month",children:s("thisMonth")||"This Month"}),o.jsx(_e,{value:"year",children:s("thisYear")||"This Year"})]})]})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:s("category")||"Category"}),o.jsx(um,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsxs(Qe,{value:m,onValueChange:g,children:[o.jsx(Ye,{children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"all",children:s("allCategories")||"All Categories"}),n.map(P=>o.jsx(_e,{value:P.name,children:P.name},P.id))]})]})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:s("chartType")||"Chart Type"}),o.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsxs(Qe,{value:y,onValueChange:P=>x(P),children:[o.jsx(Ye,{children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"bar",children:s("barChart")||"Bar Chart"}),o.jsx(_e,{value:"pie",children:s("pieChart")||"Pie Chart"})]})]})})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:s("totalRevenue")||"Total Revenue"}),o.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:ge(oe)})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:s("totalItems")||"Total Items Sold"}),o.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:J})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:s("uniqueProducts")||"Unique Products"}),o.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:K.length})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:s("avgOrderValue")||"Avg Revenue per Item"}),o.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(Ce,{children:o.jsx("div",{className:"text-2xl font-bold",children:J>0?ge(oe/J):ge(0)})})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(Ne,{className:"col-span-1",children:[o.jsx(Ae,{children:o.jsx(Te,{children:s("productSales")||"Product Sales"})}),o.jsx(Ce,{children:o.jsx("div",{className:"h-[400px]",children:y==="bar"?o.jsx(rc,{width:"100%",height:"100%",children:o.jsxs(Rw,{data:K.slice(0,10),children:[o.jsx(pp,{strokeDasharray:"3 3"}),o.jsx(gp,{dataKey:"name",angle:-45,textAnchor:"end",height:100,fontSize:12}),o.jsx(vp,{}),o.jsx(ac,{formatter:(P,V)=>[V==="revenue"?ge(P):P,V==="revenue"?"Revenue":"Quantity"]}),o.jsx(fp,{dataKey:"revenue",fill:"#8884d8"})]})}):o.jsx(rc,{width:"100%",height:"100%",children:o.jsxs(Mw,{children:[o.jsx(cp,{data:K.slice(0,8),cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:V})=>`${P} ${((V||0)*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"revenue",children:K.slice(0,8).map((P,V)=>o.jsx(Lo,{fill:Gh[V%Gh.length]},`cell-${V}`))}),o.jsx(ac,{formatter:P=>ge(P)})]})})})})]}),o.jsxs(Ne,{className:"col-span-1",children:[o.jsx(Ae,{children:o.jsx(Te,{children:s("categoryDistribution")||"Category Distribution"})}),o.jsx(Ce,{children:o.jsx("div",{className:"h-[400px]",children:o.jsx(rc,{width:"100%",height:"100%",children:o.jsxs(Mw,{children:[o.jsx(cp,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:V})=>`${P} ${((V||0)*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"revenue",children:F.map((P,V)=>o.jsx(Lo,{fill:Gh[V%Gh.length]},`cell-${V}`))}),o.jsx(ac,{formatter:P=>ge(P)})]})})})})]})]}),o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:s("topProducts")||"Top Products"})}),o.jsx(Ce,{children:o.jsxs("div",{className:"space-y-4",children:[K.slice(0,10).map((P,V)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium",children:V+1})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:P.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:P.category})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:ge(P.revenue)}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.quantity," units"]})]})]},P.name)),K.length===0&&o.jsx("div",{className:"text-center text-muted-foreground py-8",children:s("noSalesData")||"No sales data available for the selected period"})]})})]}),o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{children:"Vendas Realizadas"}),L.length>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",L.length," venda",L.length!==1?"s":""]})]})}),o.jsx(Ce,{children:o.jsx("div",{className:"space-y-4",children:L.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhuma venda encontrada para o perodo selecionado"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"ID"}),o.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Cliente"}),o.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Data/Hora"}),o.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Status Pagamento"}),o.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Mtodo Pagamento"}),o.jsx("th",{className:"text-right py-2 px-4 font-medium",children:"Total"}),re&&o.jsx("th",{className:"text-center py-2 px-4 font-medium",children:"Aes"})]})}),o.jsx("tbody",{children:q.map(P=>o.jsxs("tr",{className:"border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>e(`/orders/${P.id}`),children:[o.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:P.id}),o.jsx("td",{className:"py-3 px-4",children:P.customer}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:P.closedAt?new Date(P.closedAt).toLocaleString("pt-BR"):P.created_at?new Date(P.created_at).toLocaleString("pt-BR"):P.time}),o.jsx("td",{className:"py-3 px-4",children:P.status==="Closed"&&P.paymentMethod?o.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[o.jsx(ga,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Pago"})]}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx("td",{className:"py-3 px-4",children:P.paymentMethod?o.jsxs("div",{className:"flex items-center gap-2",children:[X(P.paymentMethod),o.jsx("span",{children:s(P.paymentMethod.toLowerCase())||P.paymentMethod})]}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx("td",{className:"py-3 px-4 text-right font-medium",children:ge(P.total)}),re&&o.jsx("td",{className:"py-3 px-4 text-center",onClick:V=>V.stopPropagation(),children:o.jsxs(xe,{variant:"destructive",size:"sm",onClick:()=>M(P.id),children:[o.jsx(wd,{className:"h-4 w-4 mr-1"}),"Cancelar"]})})]},P.id))})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(T-1)*G+1," a ",Math.min(T*G,L.length)," de ",L.length," venda",L.length!==1?"s":""]}),D>1&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>U(P=>Math.max(1,P-1)),disabled:T===1,children:[o.jsx(Gw,{className:"h-4 w-4"}),"Anterior"]}),o.jsxs("div",{className:"text-sm font-medium",children:["Pgina ",T," de ",D]}),o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>U(P=>Math.min(D,P+1)),disabled:T===D,children:["Prxima",o.jsx(Kw,{className:"h-4 w-4"})]})]})]})]})})})]}),o.jsx(rn,{open:S,onOpenChange:w,children:o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:"Cancelar Venda"}),o.jsx(Mn,{children:Q&&o.jsxs(o.Fragment,{children:["Tem certeza que deseja cancelar a venda ",o.jsx("strong",{children:Q.id}),"?",o.jsx("br",{}),"Valor: ",ge(Q.total),o.jsx("br",{}),"Cliente: ",Q.customer,o.jsx("br",{}),o.jsx("br",{}),"Para confirmar, insira sua senha de login:"]})})]}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"password",children:"Senha"}),o.jsx(Ee,{id:"password",type:"password",value:A,onChange:P=>{C(P.target.value),O(null)},placeholder:"Digite sua senha",disabled:I}),R&&o.jsx("p",{className:"text-sm text-destructive",children:R})]})}),o.jsxs(pn,{children:[o.jsx(xe,{variant:"outline",onClick:()=>{w(!1),C(""),O(null),E(null)},disabled:I,children:"Cancelar"}),o.jsx(xe,{variant:"destructive",onClick:H,disabled:I||!A,children:I?"Cancelando...":"Confirmar Cancelamento"})]})]})})]})}function tfe(){const{hasPermission:e}=Ea(),[t,r]=v.useState({merchant_id:"",client_id:"",client_secret:"",authorization_code:"",polling_interval:30,is_active:!1}),[n,a]=v.useState(null),[s,c]=v.useState([]),[u,f]=v.useState(!1),[h,m]=v.useState(!1),[g,y]=v.useState(null),x="http://localhost:3000";v.useEffect(()=>{e("admin")&&(S(),w(),_())},[e]);const S=async()=>{try{const O=await(await fetch(`${x}/api/ifood/config`)).json();O.success&&O.config&&r({merchant_id:O.config.merchant_id||"",client_id:O.config.client_id||"",client_secret:"",authorization_code:O.config.authorization_code||"",polling_interval:O.config.polling_interval||30,is_active:O.config.is_active||!1})}catch(R){console.error("Error loading config:",R)}},w=async()=>{try{const O=await(await fetch(`${x}/api/ifood/status`)).json();O.success&&a(O.status)}catch(R){console.error("Error loading status:",R)}},_=async()=>{try{const O=await(await fetch(`${x}/api/ifood/mapping`)).json();O.success&&c(O.mappings||[])}catch(R){console.error("Error loading mappings:",R)}},E=async()=>{if(!t.merchant_id||!t.client_id||!t.client_secret){y({type:"error",text:"Preencha todos os campos obrigatrios"});return}f(!0),y(null);try{console.log("Enviando configurao para:",`${x}/api/ifood/config`);const R=await fetch(`${x}/api/ifood/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("Resposta recebida:",R.status,R.statusText),!R.ok){let I=`Erro HTTP ${R.status}: ${R.statusText}`;try{I=(await R.json()).message||I}catch{}y({type:"error",text:I});return}const O=await R.json();console.log("Resultado:",O),O.success?(y({type:"success",text:O.message||"Configurao salva com sucesso!"}),r(I=>({...I,client_secret:""})),await w()):y({type:"error",text:O.message||"Erro ao salvar configurao"})}catch(R){console.error("Erro ao salvar configurao:",R);const O=R instanceof Error?`Erro de conexo: ${R.message}. Verifique se o backend est rodando em ${x}`:"Erro de conexo com o servidor. Verifique se o backend est rodando.";y({type:"error",text:O})}finally{f(!1)}},A=async()=>{m(!0),y(null);try{const O=await(await fetch(`${x}/api/ifood/sync`,{method:"POST"})).json();O.success?(y({type:"success",text:"Sincronizao iniciada"}),setTimeout(()=>{w(),_()},2e3)):y({type:"error",text:O.message||"Erro ao sincronizar"})}catch{y({type:"error",text:"Erro de conexo com o servidor"})}finally{m(!1)}},C=R=>R?new Date(R).toLocaleString("pt-BR"):"Nunca";return e("admin")?o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Integrao iFood"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure e gerencie a integrao com o iFood para receber pedidos automaticamente"})]}),g&&o.jsx("div",{className:`p-4 rounded-lg ${g.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:g.text}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Status da Integrao"}),o.jsx(pt,{children:"Informaes sobre o estado atual da integrao"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Configurado:"}),n?.configured?o.jsxs(Qt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:[o.jsx(ga,{className:"h-3 w-3 mr-1"}),"Sim"]}):o.jsxs(Qt,{variant:"outline",className:"bg-gray-100 text-gray-700 border-gray-200",children:[o.jsx(nx,{className:"h-3 w-3 mr-1"}),"No"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Ativo:"}),n?.active?o.jsxs(Qt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:[o.jsx(ga,{className:"h-3 w-3 mr-1"}),"Sim"]}):o.jsxs(Qt,{variant:"outline",className:"bg-gray-100 text-gray-700 border-gray-200",children:[o.jsx(nx,{className:"h-3 w-3 mr-1"}),"No"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Autenticado:"}),n?.authenticated?o.jsxs(Qt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:[o.jsx(ga,{className:"h-3 w-3 mr-1"}),"Sim"]}):o.jsxs(Qt,{variant:"outline",className:"bg-red-100 text-red-700 border-red-200",children:[o.jsx(nx,{className:"h-3 w-3 mr-1"}),"No"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"ltima Sincronizao:"}),o.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[o.jsx(Qr,{className:"h-3 w-3"}),C(n?.last_sync||null)]})]}),n?.polling_interval&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Intervalo de Polling:"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.polling_interval,"s"]})]}),o.jsxs(xe,{onClick:A,disabled:h||!n?.configured,className:"w-full",children:[o.jsx(bo,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),h?"Sincronizando...":"Sincronizar Agora"]})]})]}),n?.configured&&n?.webhook_url&&o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"URL do Webhook"}),o.jsx(pt,{children:"Configure esta URL no painel do iFood para receber pedidos via webhook"})]}),o.jsx(Ce,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"URL do Webhook"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ee,{value:n.webhook_url,readOnly:!0,className:"font-mono text-sm"}),o.jsx(xe,{variant:"outline",size:"icon",onClick:()=>{navigator.clipboard.writeText(n.webhook_url||""),y({type:"success",text:"URL copiada para a rea de transferncia!"}),setTimeout(()=>y(null),3e3)},title:"Copiar URL",children:o.jsx(FB,{className:"h-4 w-4"})}),o.jsx(xe,{variant:"outline",size:"icon",onClick:()=>window.open(n.webhook_url||"","_blank"),title:"Abrir URL",children:o.jsx(kP,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'Copie esta URL e configure no painel do iFood em "Configuraes de Integrao"  "Webhooks"'})]})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Configurao"}),o.jsx(pt,{children:"Configure suas credenciais do iFood. O client_secret ser criptografado antes de ser armazenado."})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"merchant_id",children:"Merchant ID *"}),o.jsx(Ee,{id:"merchant_id",type:"text",value:t.merchant_id,onChange:R=>r(O=>({...O,merchant_id:R.target.value})),placeholder:"ID do estabelecimento no iFood"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"client_id",children:"Client ID *"}),o.jsx(Ee,{id:"client_id",type:"text",value:t.client_id,onChange:R=>r(O=>({...O,client_id:R.target.value})),placeholder:"Client ID da API do iFood"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"client_secret",children:"Client Secret *"}),o.jsx(Ee,{id:"client_secret",type:"password",value:t.client_secret,onChange:R=>r(O=>({...O,client_secret:R.target.value})),placeholder:"Client Secret da API do iFood"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco para manter o secret atual. Ser criptografado antes de ser armazenado."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"authorization_code",children:"Authorization Code (Cdigo de Autorizao)"}),o.jsx(Ee,{id:"authorization_code",type:"text",value:t.authorization_code||"",onChange:R=>r(O=>({...O,authorization_code:R.target.value})),placeholder:"Cdigo de autorizao do iFood (opcional)"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Cdigo de autorizao fornecido pelo iFood durante o processo de integrao OAuth."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"polling_interval",children:"Intervalo de Polling (segundos)"}),o.jsx(Ee,{id:"polling_interval",type:"number",min:"10",max:"300",value:t.polling_interval,onChange:R=>r(O=>({...O,polling_interval:parseInt(R.target.value)||30}))}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Intervalo em segundos para verificar novos pedidos (mnimo: 10s, mximo: 300s)"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(se,{htmlFor:"is_active",children:"Ativar Integrao"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quando ativado, o sistema buscar pedidos automaticamente"})]}),o.jsx(yi,{id:"is_active",checked:t.is_active,onCheckedChange:R=>r(O=>({...O,is_active:R}))})]}),o.jsxs(xe,{onClick:E,disabled:u,className:"w-full",children:[o.jsx(bd,{className:"h-4 w-4 mr-2"}),u?"Salvando...":"Salvar Configurao"]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Mapeamento de Produtos"}),o.jsx(pt,{children:"Produtos do iFood mapeados para produtos do sistema"})]}),o.jsx(Ce,{children:s.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum mapeamento encontrado. Os produtos sero mapeados automaticamente por SKU quando os pedidos chegarem."}):o.jsx("div",{className:"space-y-4",children:s.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:R.products?.name||`Produto ID: ${R.product_id}`})]}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[o.jsxs("span",{children:["iFood ID: ",R.ifood_product_id]}),R.ifood_sku&&o.jsxs("span",{className:"ml-4",children:["SKU: ",R.ifood_sku]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-medium",children:["R$ ",R.products?.price?.toFixed(2)||"0.00"]}),R.products?.sku&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["SKU: ",R.products.sku]})]})]},R.id))})})]})]}):o.jsx("div",{className:"container mx-auto p-6",children:o.jsx(Ne,{children:o.jsx(Ce,{className:"pt-6",children:o.jsx("p",{className:"text-center text-muted-foreground",children:"Voc no tem permisso para acessar esta pgina."})})})})}function rfe(){const{orders:e,updateOrderStatus:t,isDemoMode:r}=Vr(),{isOrderDisplayEnabled:n}=Na(),[a,s]=v.useState(!1),[c,u]=v.useState(new Date),[f,h]=v.useState("connected");v.useEffect(()=>{if(r){const C=setInterval(()=>{console.log("Demo mode: Auto-refreshing orders..."),window.location.reload()},3e4);return()=>clearInterval(C)}},[r]);const m=e.filter(C=>C.status!=="Delivered"&&C.status!=="Closed"),g=async(C,R)=>{console.log(`Updating order ${C} to status: ${R}`),h("checking");try{const O=await t(C,R);console.log("Update result:",O),O.success?(u(new Date),h("connected"),console.log("Order status updated successfully")):(console.error("Failed to update order:",O.error),h("disconnected"))}catch(O){console.error("Error updating order status:",O),h("disconnected")}},y=async()=>{console.log("Manual refresh triggered"),s(!0),h("checking"),window.location.reload()},x=C=>{switch(C.toLowerCase()){case"pending":return"Preparing";case"preparing":return"Ready";case"ready":return"Delivered";default:return"Delivered"}},S=C=>{switch(C.toLowerCase()){case"pending":return{label:"Pendente",className:"bg-red-100 text-red-700 border-red-200",icon:Qr,nextAction:"Preparar"};case"preparing":return{label:"Preparando",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:Qr,nextAction:"Pronto"};case"ready":return{label:"Pronto",className:"bg-green-100 text-green-700 border-green-200",icon:ga,nextAction:"Entregar"};default:return{label:C,className:"bg-gray-100 text-gray-700 border-gray-200",icon:Qr,nextAction:"Entregar"}}},w=C=>{switch(C){case"delivery":return dm;case"pickup":return tn;default:return ic}},_=C=>{switch(C){case"delivery":return"Delivery";case"pickup":return"Retirada";default:return"Mesa"}};if(!n)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs(Ne,{className:"w-full max-w-md",children:[o.jsx(Ae,{children:o.jsx(Te,{className:"text-center",children:"Tela de Pedidos Desativada"})}),o.jsxs(Ce,{className:"text-center",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Esta funcionalidade est desativada. Ative-a nas configuraes para usar a tela dedicada de pedidos."}),o.jsx(xe,{onClick:()=>window.history.back(),children:"Voltar"})]})]})});const E=()=>{switch(f){case"connected":return o.jsx($P,{className:"w-4 h-4 text-green-500"});case"checking":return o.jsx(bo,{className:"w-4 h-4 text-blue-500 animate-spin"});case"disconnected":return o.jsx(zP,{className:"w-4 h-4 text-red-500"})}},A=()=>{switch(f){case"connected":return r?"Modo Demo - Auto-refresh 30s":"Conectado - Tempo Real";case"checking":return"Atualizando...";case"disconnected":return"Erro de conexo"}};return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx("header",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tela de Pedidos"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Pedidos ativos  ltima atualizao: ",c.toLocaleTimeString()]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E(),o.jsx("span",{className:"text-gray-600",children:A()})]}),o.jsxs(Qt,{variant:"outline",className:"text-lg px-3 py-1",children:[m.length," pedidos ativos"]}),o.jsx(xe,{variant:"outline",size:"sm",onClick:y,disabled:a,children:o.jsx(bo,{className:`w-4 h-4 ${a?"animate-spin":""}`})})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.length===0?o.jsx("div",{className:"text-center py-16",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[o.jsx(ga,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum pedido ativo"}),o.jsx("p",{className:"text-gray-600",children:"Todos os pedidos foram concludos. "})]})}):o.jsx("div",{className:"grid grid-cols-2 gap-6",children:m.sort((C,R)=>new Date(C.time).getTime()-new Date(R.time).getTime()).map(C=>{const R=S(C.status),O=w(C.orderType||"dine_in"),I=R.icon,N=x(C.status);return o.jsxs(Ne,{className:"relative overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsx(Ae,{className:"pb-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full",children:o.jsxs("span",{className:"font-mono font-bold text-sm",children:["#",C.id]})}),o.jsxs(Qt,{variant:"outline",className:`${R.className} text-sm`,children:[o.jsx(I,{className:"w-3 h-3 mr-1"}),R.label]})]})}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.customer}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[o.jsx(O,{className:"w-4 h-4"}),_(C.orderType||"dine_in"),C.table&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["Mesa ",C.table]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Itens:"}),o.jsx("div",{className:"space-y-1",children:C.items.map((T,U)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[T.quantity,"x ",T.name]}),o.jsx("span",{className:"text-gray-900 font-medium",children:ge(T.price*T.quantity)})]},U))})]}),o.jsxs("div",{className:"text-sm text-gray-500",children:[o.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),C.time.split(" ")[1],"  ",C.time.split(" ")[0]]}),o.jsx("div",{className:"border-t pt-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:ge(C.total)})]})}),C.status!=="Delivered"&&C.status!=="Closed"&&o.jsxs(xe,{onClick:()=>g(C.id,N),className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white",size:"lg",disabled:a||f==="checking",children:[f==="checking"?o.jsx(bo,{className:"w-4 h-4 mr-2 animate-spin"}):null,R.nextAction]})]})]},C.id)})})})]})}function nfe(){const{orders:e,updateOrderStatus:t,isDemoMode:r}=Vr(),{isOrderDisplayEnabled:n}=Na(),[a,s]=v.useState(!1),[c,u]=v.useState(new Date),[f,h]=v.useState("connected"),[m,g]=v.useState("all");v.useEffect(()=>{if(r){const N=setInterval(()=>{console.log("Demo mode: Auto-refreshing orders..."),window.location.reload()},3e4);return()=>clearInterval(N)}},[r]);const y=e.filter(N=>{if(N.status==="Delivered"||N.status==="Closed")return!1;switch(m){case"pending":return N.status.toLowerCase()==="pending";case"preparing":return N.status.toLowerCase()==="preparing";case"ready":return N.status.toLowerCase()==="ready";default:return!0}}),x={all:e.filter(N=>N.status!=="Delivered"&&N.status!=="Closed").length,pending:e.filter(N=>N.status.toLowerCase()==="pending").length,preparing:e.filter(N=>N.status.toLowerCase()==="preparing").length,ready:e.filter(N=>N.status.toLowerCase()==="ready").length},S=async(N,T)=>{console.log(`Updating order ${N} to status: ${T}`),h("checking");try{const U=await t(N,T);console.log("Update result:",U),U.success?(u(new Date),h("connected"),console.log("Order status updated successfully")):(console.error("Failed to update order:",U.error),h("disconnected"))}catch(U){console.error("Error updating order status:",U),h("disconnected")}},w=async()=>{console.log("Manual refresh triggered"),s(!0),h("checking"),window.location.reload()},_=N=>{switch(N.toLowerCase()){case"pending":return"Preparing";case"preparing":return"Ready";case"ready":return"Delivered";default:return"Delivered"}},E=N=>{switch(N.toLowerCase()){case"pending":return{label:"Pendente",className:"bg-red-100 text-red-700 border-red-200",icon:Qr,nextAction:"Preparar"};case"preparing":return{label:"Preparando",className:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:Qr,nextAction:"Pronto"};case"ready":return{label:"Pronto",className:"bg-green-100 text-green-700 border-green-200",icon:ga,nextAction:"Entregar"};default:return{label:N,className:"bg-gray-100 text-gray-700 border-gray-200",icon:Qr,nextAction:"Entregar"}}},A=N=>{switch(N){case"delivery":return dm;case"pickup":return tn;default:return ic}},C=N=>{switch(N){case"delivery":return"Delivery";case"pickup":return"Retirada";default:return"Mesa"}},R=window.location!==window.parent.location;if(!n)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs(Ne,{className:"w-full max-w-md",children:[o.jsx(Ae,{children:o.jsx(Te,{className:"text-center",children:"Tela de Pedidos Desativada"})}),o.jsxs(Ce,{className:"text-center",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Esta funcionalidade est desativada. Ative-a nas configuraes para usar a tela dedicada de pedidos."}),R?o.jsx(xe,{onClick:()=>window.close(),children:"Fechar Janela"}):o.jsx(xe,{onClick:()=>window.history.back(),children:"Voltar"})]})]})});const O=()=>{switch(f){case"connected":return o.jsx($P,{className:"w-4 h-4 text-green-500"});case"checking":return o.jsx(bo,{className:"w-4 h-4 text-blue-500 animate-spin"});case"disconnected":return o.jsx(zP,{className:"w-4 h-4 text-red-500"})}},I=()=>{switch(f){case"connected":return r?"Modo Demo - Auto-refresh 30s":"Conectado - Tempo Real";case"checking":return"Atualizando...";case"disconnected":return"Erro de conexo"}};return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx("header",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tela de Pedidos"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Pedidos ativos  ltima atualizao: ",c.toLocaleTimeString()]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[O(),o.jsx("span",{className:"text-gray-600",children:I()})]}),o.jsxs(Qt,{variant:"outline",className:"text-lg px-3 py-1",children:[x.all," pedidos ativos"]}),o.jsx(xe,{variant:"outline",size:"lg",onClick:w,disabled:a,className:"touch-manipulation min-h-[48px] min-w-[48px]",children:o.jsx(bo,{className:`w-5 h-5 ${a?"animate-spin":""}`})}),R&&o.jsx(xe,{variant:"outline",size:"lg",onClick:()=>window.close(),className:"ml-2 touch-manipulation min-h-[48px] min-w-[48px]",children:"Fechar"})]})]})})}),o.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(um,{className:"w-5 h-5 text-gray-500"}),o.jsx("span",{className:"font-medium text-gray-700",children:"Filtrar por Status:"})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[o.jsxs(xe,{variant:m==="all"?"default":"outline",onClick:()=>g("all"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="all"?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"hover:bg-gray-50"}`,children:[o.jsx("span",{className:"font-semibold text-lg",children:x.all}),o.jsx("span",{className:"text-xs",children:"Todos"})]}),o.jsxs(xe,{variant:m==="pending"?"default":"outline",onClick:()=>g("pending"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="pending"?"bg-red-600 hover:bg-red-700 text-white border-red-600":"hover:bg-gray-50"}`,children:[o.jsx("span",{className:"font-semibold text-lg",children:x.pending}),o.jsx("span",{className:"text-xs",children:"Pendente"})]}),o.jsxs(xe,{variant:m==="preparing"?"default":"outline",onClick:()=>g("preparing"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="preparing"?"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-600":"hover:bg-gray-50"}`,children:[o.jsx("span",{className:"font-semibold text-lg",children:x.preparing}),o.jsx("span",{className:"text-xs",children:"Preparando"})]}),o.jsxs(xe,{variant:m==="ready"?"default":"outline",onClick:()=>g("ready"),className:`flex flex-col items-center gap-1 py-4 px-3 h-auto touch-manipulation min-h-[60px] ${m==="ready"?"bg-green-600 hover:bg-green-700 text-white border-green-600":"hover:bg-gray-50"}`,children:[o.jsx("span",{className:"font-semibold text-lg",children:x.ready}),o.jsx("span",{className:"text-xs",children:"Pronto"})]})]})]})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:y.length===0?o.jsx("div",{className:"text-center py-16",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[o.jsx(ga,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),o.jsx("p",{className:"text-gray-600",children:m==="all"?"Todos os pedidos foram concludos. ":`No h pedidos com status "${m}".`})]})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-2 gap-6",children:y.sort((N,T)=>new Date(N.time).getTime()-new Date(T.time).getTime()).map(N=>{const T=E(N.status),U=A(N.orderType||"dine_in"),G=T.icon,B=_(N.status);return o.jsxs(Ne,{className:"relative overflow-hidden hover:shadow-lg transition-shadow touch-manipulation",children:[o.jsx(Ae,{className:"pb-3",children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"bg-orange-500 text-white px-4 py-2 rounded-full flex-shrink-0",children:o.jsxs("span",{className:"font-mono font-bold text-base",children:["#",N.id]})}),o.jsxs(Qt,{variant:"outline",className:`${T.className} text-sm px-3 py-1 flex-shrink-0`,children:[o.jsx(G,{className:"w-4 h-4 mr-1"}),T.label]})]})}),o.jsxs(Ce,{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:N.customer}),o.jsxs("div",{className:"flex items-center gap-3 text-base text-gray-600 mt-1",children:[o.jsx(U,{className:"w-5 h-5"}),C(N.orderType||"dine_in"),N.table&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["Mesa ",N.table]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-base",children:"Itens:"}),o.jsx("div",{className:"space-y-2",children:N.items.map((K,F)=>o.jsxs("div",{className:"flex justify-between text-base py-1",children:[o.jsxs("span",{className:"text-gray-600 flex-1",children:[K.quantity,"x ",K.name]}),o.jsx("span",{className:"text-gray-900 font-medium ml-2",children:ge(K.price*K.quantity)})]},F))})]}),o.jsxs("div",{className:"text-base text-gray-500 py-2",children:[o.jsx(Qr,{className:"w-4 h-4 inline mr-2"}),N.time.split(" ")[1],"  ",N.time.split(" ")[0]]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:ge(N.total)})]})}),N.status!=="Delivered"&&N.status!=="Closed"&&o.jsxs(xe,{onClick:()=>S(N.id,B),className:"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white touch-manipulation min-h-[56px] text-base font-semibold",size:"lg",disabled:a||f==="checking",children:[f==="checking"?o.jsx(bo,{className:"w-5 h-5 mr-3 animate-spin"}):null,T.nextAction]})]})]},N.id)})})})]})}function afe(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState(!1),[c,u]=v.useState(null),{signIn:f}=Ea(),{t:h}=lr(),m=pr(),g=async y=>{y.preventDefault(),u(null),s(!0);const x=await f(e,r);x.success?m("/"):u(x.error||"Erro ao fazer login"),s(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(Ne,{className:"w-full max-w-md",children:[o.jsxs(Ae,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(XR,{size:"md",showText:!0})}),o.jsx(pt,{children:h("loginDescription")||"Entre com suas credenciais para acessar o sistema"})]}),o.jsx(Ce,{children:o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c&&o.jsx("div",{className:"bg-destructive/10 text-destructive text-sm p-3 rounded-md",children:c}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"emailOrUsername",children:h("emailOrUsername")||"Email ou Nome de Usurio"}),o.jsx(Ee,{id:"emailOrUsername",type:"text",placeholder:h("emailOrUsernamePlaceholder")||"seu@email.com ou nomeusuario",value:e,onChange:y=>t(y.target.value),required:!0,disabled:a,autoComplete:"username"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"password",children:h("password")||"Senha"}),o.jsx(Ee,{id:"password",type:"password",placeholder:h("passwordPlaceholder")||"",value:r,onChange:y=>n(y.target.value),required:!0,disabled:a,autoComplete:"current-password"})]}),o.jsx(xe,{type:"submit",className:"w-full",disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(Wl,{className:"mr-2 h-4 w-4 animate-spin"}),h("loggingIn")||"Entrando..."]}):h("login")||"Entrar"})]})})]})})}const ab=e=>({id:e.id,menu_item_id:null,name:e.name,unit:e.unit??"UN",min_stock:e.min_stock??0,current_stock:e.current_stock??0,cost_price:e.cost_price,selling_price:e.price,category:e.category,image:e.image,description:e.description,status:e.status,is_cold:e.is_cold??null,discount_type:e.discount_type??null,discount_value:e.discount_value??null,discount_applies_to:e.discount_applies_to??null,product_type:e.product_type,ncm:e.ncm,cst_icms:e.cst_icms,cfop:e.cfop,icms_rate:e.icms_rate,ipi_rate:e.ipi_rate,ean_code:e.ean_code,created_at:e.created_at,updated_at:e.updated_at}),x$=v.createContext(void 0);function ife({children:e}){const[t,r]=v.useState([]),[n,a]=v.useState([]),[s,c]=v.useState([]),[u,f]=v.useState(!0),[h,m]=v.useState(null),g=v.useCallback(async()=>{try{const{data:N,error:T}=await we.from("products").select("*").order("name");if(T)throw T;const U=(N||[]).map(ab);r(U)}catch(N){console.error("Error fetching products:",N),m(N.message||"Erro ao carregar itens de estoque")}},[]),y=v.useCallback(async()=>{try{const{data:N,error:T}=await we.from("purchase_invoices").select("*").order("invoice_date",{ascending:!1});if(T)throw T;a(N||[])}catch(N){console.error("Error fetching purchase invoices:",N),m(N.message||"Erro ao carregar notas fiscais")}},[]),x=v.useCallback(async N=>{try{let T=we.from("stock_movements").select("*").order("created_at",{ascending:!1});N&&(T=T.eq("product_id",N));const{data:U,error:G}=await T;if(G)throw G;c(U||[])}catch(T){console.error("Error fetching stock movements:",T),m(T.message||"Erro ao carregar movimentaes")}},[]),S=async N=>{try{const T={name:N.name,unit:N.unit||"UN",min_stock:N.min_stock??0,current_stock:N.current_stock??0,cost_price:N.cost_price??null,price:N.selling_price??null,category:N.category||null,description:N.description||null,status:N.status||null,product_type:N.product_type||null,ncm:N.ncm||null,cst_icms:N.cst_icms||null,cfop:N.cfop||null,icms_rate:N.icms_rate??null,ipi_rate:N.ipi_rate??null,ean_code:N.ean_code||null};N.image&&(T.image=N.image);const{data:U,error:G}=await we.from("products").insert(T).select().single();if(G){if(G.message?.includes("'image' column")){delete T.image;const{data:K,error:F}=await we.from("products").insert(T).select().single();if(F)throw F;const oe=ab(K);return r(J=>[...J,oe]),{success:!0,data:oe}}throw G}const B=ab(U);return r(K=>[...K,B]),{success:!0,data:B}}catch(T){return console.error("Error adding inventory item:",T),{success:!1,error:T.message||"Erro ao adicionar item"}}},w=async(N,T)=>{try{const U={};T.name!==void 0&&(U.name=T.name),T.unit!==void 0&&(U.unit=T.unit),T.min_stock!==void 0&&(U.min_stock=T.min_stock),T.current_stock!==void 0&&(U.current_stock=T.current_stock),T.cost_price!==void 0&&(U.cost_price=T.cost_price??null),T.selling_price!==void 0&&(U.price=T.selling_price??null),T.category!==void 0&&(U.category=T.category||null),T.description!==void 0&&(U.description=T.description||null),T.status!==void 0&&(U.status=T.status||null),T.is_cold!==void 0&&(U.is_cold=T.is_cold??null),T.discount_type!==void 0&&(U.discount_type=T.discount_type||null),T.discount_value!==void 0&&(U.discount_value=T.discount_value??null),T.discount_applies_to!==void 0&&(U.discount_applies_to=T.discount_applies_to||null),T.product_type!==void 0&&(U.product_type=T.product_type||null),T.ncm!==void 0&&(U.ncm=T.ncm||null),T.cst_icms!==void 0&&(U.cst_icms=T.cst_icms||null),T.cfop!==void 0&&(U.cfop=T.cfop||null),T.icms_rate!==void 0&&(U.icms_rate=T.icms_rate??null),T.ipi_rate!==void 0&&(U.ipi_rate=T.ipi_rate??null),T.ean_code!==void 0&&(U.ean_code=T.ean_code||null),T.image!==void 0&&(U.image=T.image||null);const{error:G}=await we.from("products").update(U).eq("id",N);if(G){if(G.message?.includes("'image' column")){delete U.image;const{error:B}=await we.from("products").update(U).eq("id",N);if(B)throw B;return await g(),{success:!0}}throw G}return await g(),{success:!0}}catch(U){return console.error("Error updating inventory item:",U),{success:!1,error:U.message||"Erro ao atualizar item"}}},_=async N=>{try{const{error:T}=await we.from("products").delete().eq("id",N);if(T)throw T;return r(U=>U.filter(G=>G.id!==N)),{success:!0}}catch(T){return console.error("Error deleting product:",T),{success:!1,error:T.message||"Erro ao deletar item"}}},E=async N=>{try{const{data:{user:T}}=await we.auth.getUser(),{data:U,error:G}=await we.from("purchase_invoices").insert({invoice_number:N.invoice_number,invoice_series:N.invoice_series,nfe_key:N.nfe_key,supplier_name:N.supplier_name,supplier_cnpj:N.supplier_cnpj,supplier_address:N.supplier_address,invoice_date:N.invoice_date,total_amount:N.total_amount,xml_file_path:N.xml_file_path,xml_content:N.xml_content,notes:N.notes,created_by:T?.id||null}).select().single();if(G)throw G;const B=N.items.map(F=>({invoice_id:U.id,product_id:F.product_id,inventory_item_id:F.product_id,product_name:F.product_name,quantity:F.quantity,unit:F.unit||"UN",unit_price:F.unit_price,total_price:F.total_price})),{error:K}=await we.from("invoice_items").insert(B);if(K)throw K;for(const F of N.items){let oe=F.product_id;if(!oe){const{data:J}=await we.from("products").select("id").ilike("name",`%${F.product_name}%`).limit(1);J&&J.length>0&&(oe=J[0].id)}oe&&await R({product_id:oe,movement_type:"entry",quantity:F.quantity,reference_id:U.id,reference_type:"invoice",notes:`Entrada via nota fiscal ${N.invoice_number}`})}return await y(),{success:!0,data:U}}catch(T){return console.error("Error adding purchase invoice:",T),{success:!1,error:T.message||"Erro ao adicionar nota fiscal"}}},A=async(N,T)=>{try{const{error:U}=await we.from("purchase_invoices").update(T).eq("id",N);if(U)throw U;return await y(),{success:!0}}catch(U){return console.error("Error updating purchase invoice:",U),{success:!1,error:U.message||"Erro ao atualizar nota fiscal"}}},C=async N=>{try{const{error:T}=await we.from("purchase_invoices").delete().eq("id",N);if(T)throw T;return a(U=>U.filter(G=>G.id!==N)),{success:!0}}catch(T){return console.error("Error deleting purchase invoice:",T),{success:!1,error:T.message||"Erro ao deletar nota fiscal"}}},R=async N=>{try{const{data:{user:T}}=await we.auth.getUser(),{data:U,error:G}=await we.from("stock_movements").insert({...N,created_by:T?.id||null}).select().single();if(G)throw G;return await g(),await x(N.product_id),{success:!0,data:U}}catch(T){return console.error("Error adding stock movement:",T),{success:!1,error:T.message||"Erro ao adicionar movimentao"}}},O=v.useCallback(N=>t.find(T=>T.id===N),[t]),I=v.useCallback(()=>t.filter(N=>N.current_stock<=N.min_stock),[t]);return v.useEffect(()=>{(async()=>{f(!0),await Promise.all([g(),y(),x()]),f(!1)})()},[g,y,x]),v.useEffect(()=>{const N=we.channel("stock-changes").on("postgres_changes",{event:"*",schema:"public",table:"products"},()=>{g()}).on("postgres_changes",{event:"*",schema:"public",table:"purchase_invoices"},()=>{y()}).on("postgres_changes",{event:"*",schema:"public",table:"stock_movements"},()=>{x()}).subscribe();return()=>{we.removeChannel(N)}},[g,y,x]),o.jsx(x$.Provider,{value:{inventoryItems:t,purchaseInvoices:n,stockMovements:s,isLoading:u,error:h,fetchInventoryItems:g,addInventoryItem:S,updateInventoryItem:w,deleteInventoryItem:_,fetchPurchaseInvoices:y,addPurchaseInvoice:E,updatePurchaseInvoice:A,deletePurchaseInvoice:C,fetchStockMovements:x,addStockMovement:R,getInventoryItemById:O,getLowStockItems:I},children:e})}function S1(){const e=v.useContext(x$);if(e===void 0)throw new Error("useStock must be used within a StockProvider");return e}function fi({children:e,requiredRole:t,requireAuth:r=!0}){const{user:n,profile:a,isLoading:s,hasPermission:c}=Ea(),{t:u}=lr();if(s)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:u("loading")||"Carregando..."})]})});if(r&&!n)return o.jsx(bP,{to:"/login",replace:!0});if(t){if(!a)return o.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:o.jsxs(Ne,{className:"w-full max-w-md",children:[o.jsxs(Ae,{children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"rounded-full bg-destructive/10 p-3",children:o.jsx(ob,{className:"h-8 w-8 text-destructive"})})}),o.jsx(Te,{className:"text-center",children:u("accessDenied")||"Acesso Negado"}),o.jsx(pt,{className:"text-center",children:u("accessDeniedMessage")||"Voc no tem permisso para acessar esta pgina"})]}),o.jsx(Ce,{className:"text-center",children:o.jsx(xe,{onClick:()=>window.history.back(),children:u("back")||"Voltar"})})]})});if(!c(t))return o.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:o.jsxs(Ne,{className:"w-full max-w-md",children:[o.jsxs(Ae,{children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"rounded-full bg-destructive/10 p-3",children:o.jsx(ob,{className:"h-8 w-8 text-destructive"})})}),o.jsx(Te,{className:"text-center",children:u("accessDenied")||"Acesso Negado"}),o.jsx(pt,{className:"text-center",children:u("accessDeniedMessage")||"Voc no tem permisso para acessar esta pgina"})]}),o.jsx(Ce,{className:"text-center",children:o.jsx(xe,{onClick:()=>window.history.back(),children:u("back")||"Voltar"})})]})})}return o.jsx(o.Fragment,{children:e})}function sfe(){const{id:e}=jp(),t=pr(),{tables:r,orders:n,closeTable:a,menuItems:s}=Vr(),{t:c}=lr(),{settings:u}=Na(),[f,h]=v.useState("Cash"),[m,g]=v.useState([]),[y,x]=v.useState(null),[S,w]=v.useState(null),[_,E]=v.useState(null),A=r.find(T=>T.id===Number(e)),C=n.filter(T=>T.table===A?.number&&T.status!=="Closed");v.useEffect(()=>{if(C.length===0)return;(async()=>{const U=C.flatMap(K=>K.items.map(F=>F.id).filter(F=>F!=null));if(U.length===0)return;const{data:G,error:B}=await we.from("products").select("*").in("id",U);!B&&G&&g(G)})()},[C,Jr]);const R=v.useMemo(()=>{let T=0;for(const U of C){let G=0;for(const B of U.items){const K=m.find(re=>re.id===B.id),F=s.find(re=>re.id===B.id),oe=B.price,J=K?.discount_type||F?.discount_type,L=K?.discount_value||F?.discount_value,D=K?.discount_applies_to||F?.discount_applies_to,q=Xh(oe,J,L,D,f);G+=q*B.quantity}if(U.order_discount_type&&U.order_discount_value!==null&&U.order_discount_value!==void 0&&U.order_discount_value>0){if(U.order_discount_type==="fixed")G=Math.max(0,G-U.order_discount_value);else if(U.order_discount_type==="percentage"){const B=G*U.order_discount_value/100;G=Math.max(0,G-B)}}T+=G}return T},[C,m,s,f]),O=v.useMemo(()=>R,[R]),I=v.useMemo(()=>{let T=O;if(y&&S!==null&&S>0){if(y==="fixed")T=Math.max(0,T-S);else if(y==="percentage"){const U=T*S/100;T=Math.max(0,T-U)}}return T},[O,y,S]);v.useEffect(()=>{if(y&&S!==null&&S>0){const T=Da(y,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,O);T.isValid?E(null):E(T.errorMessage||null)}else E(null)},[y,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,O]);const N=async()=>{if(y&&S!==null&&S>0){const T=Da(y,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,O);if(!T.isValid){alert(T.errorMessage||"Limite de desconto maior do que o permitido.");return}}if(A){const T=await a(A.id,f);T.success?t("/tables"):alert(`Failed to close table: ${T.error}`)}};return A?o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>t(`/tables/${e}`),children:o.jsx($a,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:[c("billForTable")," ",A.number]}),o.jsx("p",{className:"text-muted-foreground",children:c("consolidatedView")})]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsx("div",{className:"space-y-6",children:C.map(T=>o.jsxs(Ne,{children:[o.jsx(Ae,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Te,{className:"text-base",children:[c("orderId"),": ",T.id]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:T.time})]})}),o.jsx(Ce,{children:o.jsxs("div",{className:"space-y-2",children:[T.items.map(U=>{const G=m.find(D=>D.id===U.id),B=s.find(D=>D.id===U.id),K=G?.discount_type||B?.discount_type,F=G?.discount_value||B?.discount_value,oe=G?.discount_applies_to||B?.discount_applies_to,J=Xh(U.price,K,F,oe,f),L=K&&F&&oe?.includes(f);return o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[U.quantity,"x ",U.name]}),o.jsx("div",{className:"flex flex-col items-end",children:L&&U.price!==J?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"line-through text-muted-foreground text-xs",children:ge(U.price*U.quantity)}),o.jsx("span",{className:"text-green-600 font-semibold",children:ge(J*U.quantity)})]}):o.jsx("span",{children:ge(J*U.quantity)})})]},U.id)}),(()=>{let U=T.items.reduce((K,F)=>{const oe=m.find(D=>D.id===F.id),J=s.find(D=>D.id===F.id),L=Xh(F.price,oe?.discount_type||J?.discount_type,oe?.discount_value||J?.discount_value,oe?.discount_applies_to||J?.discount_applies_to,f);return K+L*F.quantity},0);const G=U;if(T.order_discount_type&&T.order_discount_value!==null&&T.order_discount_value!==void 0&&T.order_discount_value>0){if(T.order_discount_type==="fixed")U=Math.max(0,U-T.order_discount_value);else if(T.order_discount_type==="percentage"){const K=U*T.order_discount_value/100;U=Math.max(0,U-K)}}const B=U<G;return o.jsxs("div",{className:"border-t pt-2 mt-2 space-y-1",children:[B&&o.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[o.jsx("span",{children:"Desconto do Pedido:"}),o.jsx("span",{children:T.order_discount_type==="fixed"?`-${ge(T.order_discount_value||0)}`:`-${ge(G*(T.order_discount_value||0)/100)}`})]}),o.jsxs("div",{className:"flex justify-between font-bold",children:[o.jsxs("span",{children:[c("subtotal"),":"]}),B?o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"line-through text-muted-foreground text-xs",children:ge(G)}),o.jsx("span",{className:"text-green-600",children:ge(U)})]}):o.jsx("span",{children:ge(U)})]})]})})()]})})]},T.id))}),o.jsx("div",{className:"space-y-6",children:o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsx(Te,{children:c("orderSummary")})}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[o.jsx("span",{children:c("totalAmountDue")}),o.jsx("div",{className:"flex flex-col items-end",children:(()=>{const T=C.reduce((G,B)=>G+B.total,0);return I<T?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"line-through text-muted-foreground text-base",children:ge(T)}),o.jsx("span",{className:"text-2xl text-green-600",children:ge(I)})]}):o.jsx("span",{className:"text-2xl",children:ge(I)})})()})]}),C.length>0?o.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:c("paymentMethod")}),o.jsxs(To,{value:f,onValueChange:T=>h(T),className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[o.jsx(Zl,{className:"mb-3 h-6 w-6"}),c("cash")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[o.jsx(po,{className:"mb-3 h-6 w-6"}),c("card")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[o.jsx(Xl,{className:"mb-3 h-6 w-6"}),c("voucher")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:[o.jsx(Yl,{className:"mb-3 h-6 w-6"}),c("pix")]})]})]})]}),o.jsxs(rn,{children:[o.jsx(wo,{asChild:!0,children:o.jsx(xe,{className:"w-full",size:"lg",children:c("closeTableAndPay")})}),o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:c("confirmPayment")}),o.jsxs(Mn,{children:[c("selectPaymentMethod")," ",ge(I),".",o.jsx("br",{}),c("closeTableWarning")]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:c("paymentMethod")}),o.jsxs(To,{value:f,onValueChange:T=>h(T),className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(qt,{value:"Cash",id:"cash",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"cash",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Zl,{className:"mb-3 h-6 w-6"}),c("cash")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Card",id:"card",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"card",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(po,{className:"mb-3 h-6 w-6"}),c("card")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"Voucher",id:"voucher",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"voucher",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Xl,{className:"mb-3 h-6 w-6"}),c("voucher")]})]}),o.jsxs("div",{children:[o.jsx(qt,{value:"PIX",id:"pix",className:"peer sr-only"}),o.jsxs(se,{htmlFor:"pix",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-orange-600 peer-data-[state=checked]:bg-orange-50 peer-data-[state=checked]:text-orange-900 peer-data-[state=checked]:shadow-md [&:has([data-state=checked])]:border-orange-600 [&:has([data-state=checked])]:bg-orange-50 [&:has([data-state=checked])]:text-orange-900 [&:has([data-state=checked])]:shadow-md",children:[o.jsx(Yl,{className:"mb-3 h-6 w-6"}),c("pix")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Desconto no Pagamento"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Qe,{value:y||"none",onValueChange:T=>{if(T==="none")x(null),w(null),E(null);else if(x(T),S===null&&w(0),S!==null&&S>0){const U=Da(T,S,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,O);E(U.isValid?null:U.errorMessage||null)}},children:[o.jsx(Ye,{className:"flex-1",children:o.jsx(Je,{placeholder:"Tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem desconto"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]}),y&&o.jsx(Ee,{type:"number",step:y==="fixed"?"0.01":"0.1",min:"0",max:y==="percentage"?"100":void 0,value:S||"",onChange:T=>{const U=T.target.value,G=U?parseFloat(U):null;if(w(G),G!==null&&G>0){const B=Da(y,G,u.paymentDiscountLimitType,u.paymentDiscountLimitValue,O);E(B.isValid?null:B.errorMessage||null)}else E(null)},placeholder:y==="fixed"?"0.00":"0",className:`flex-1 ${_?"border-red-500":""}`})]}),_&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:_})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsx("span",{children:ge(R)})]}),y&&S!==null&&S>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Desconto no Pagamento:"}),o.jsx("span",{children:y==="fixed"?`-${ge(S)}`:`-${ge(O*S/100)}`})]}),o.jsxs("div",{className:"flex justify-between font-bold pt-2 border-t",children:[o.jsx("span",{children:"Total:"}),I<O?o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"line-through text-muted-foreground text-sm",children:ge(O)}),o.jsx("span",{className:"text-green-600 text-lg",children:ge(I)})]}):o.jsx("span",{children:ge(I)})]})]})]}),o.jsx(pn,{children:o.jsx(xe,{onClick:N,children:c("confirmPayment")})})]})]})]}):o.jsx("div",{className:"text-center text-muted-foreground py-4",children:c("noActiveOrders")})]})]})})]})]}):o.jsx("div",{children:c("tableNotFound")})}const b$=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-x-auto overflow-y-visible",children:o.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",e),...t})}));b$.displayName="Table";const w$=v.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:He("[&_tr]:border-b",e),...t}));w$.displayName="TableHeader";const j$=v.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",e),...t}));j$.displayName="TableBody";const ofe=v.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ofe.displayName="TableFooter";const lm=v.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));lm.displayName="TableRow";const Vl=v.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Vl.displayName="TableHead";const uo=v.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));uo.displayName="TableCell";const lfe=v.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",e),...t}));lfe.displayName="TableCaption";const Rg=v.createContext(void 0),lP=({children:e})=>{const[t,r]=v.useState(!1),n=v.useRef(null),a=v.useRef(null);return v.useEffect(()=>{const s=c=>{n.current&&!n.current.contains(c.target)&&r(!1)};if(t)return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t]),o.jsx(Rg.Provider,{value:{open:t,setOpen:r,triggerRef:a},children:o.jsx("div",{ref:n,className:"relative",children:e})})},Iw=v.forwardRef(({className:e,children:t,onClick:r,asChild:n,...a},s)=>{const c=v.useContext(Rg);if(!c)throw new Error("DropdownMenuTrigger must be used within DropdownMenu");const u=h=>{c.setOpen(!c.open),r?.(h)},f=h=>{typeof s=="function"?s(h):s&&(s.current=h),c.triggerRef.current=h};return n&&v.isValidElement(t)?v.cloneElement(t,{ref:f,onClick:u,...a}):o.jsx("button",{ref:f,className:e,onClick:u,...a,children:t})});Iw.displayName="DropdownMenuTrigger";const Lw=v.forwardRef(({className:e,align:t="start",sideOffset:r=4,side:n,children:a,...s},c)=>{const u=v.useContext(Rg);if(!u)throw new Error("DropdownMenuContent must be used within DropdownMenu");const[f,h]=v.useState(null),m=v.useRef(null),g=v.useCallback(()=>{if(!u.triggerRef.current||!m.current)return;const y=u.triggerRef.current.getBoundingClientRect(),x=m.current.getBoundingClientRect(),S=window.innerHeight,w=window.innerWidth,_=x.width||150,E=x.height||100,A=S-y.bottom,C=y.top,R=A<E&&C>A,O=n||(R?"top":"bottom");let I;t==="end"?I=y.right-_:t==="center"?I=y.left+y.width/2-_/2:I=y.left,t==="end"?I=Math.max(8,I):t==="center"?(I<8&&(I=8),I+_>w-8&&(I=w-_-8)):I=Math.min(I,w-_-8);const N=O==="top"?y.top-E-r:y.bottom+r;h({top:N,left:I})},[u.triggerRef,t,n,r]);return v.useEffect(()=>{if(!u.open){h(null);return}if(!u.triggerRef.current)return;const y=u.triggerRef.current.getBoundingClientRect(),x=150,S=100,w=window.innerWidth,E=window.innerHeight-y.bottom,A=y.top,C=E<S&&A>E,R=n||(C?"top":"bottom");let O;t==="end"?O=y.right-x:t==="center"?O=y.left+y.width/2-x/2:O=y.left,t==="end"?O=Math.max(8,O):t==="center"?(O<8&&(O=8),O+x>w-8&&(O=w-x-8)):O=Math.min(O,w-x-8);const I=R==="top"?y.top-S-r:y.bottom+r;h({top:I,left:O});const N=setTimeout(()=>{g()},0);return()=>clearTimeout(N)},[u.open,u.triggerRef,t,n,r,g]),v.useEffect(()=>{if(!u.open||!m.current)return;const y=new ResizeObserver(()=>{g()});return y.observe(m.current),()=>{y.disconnect()}},[u.open,g]),u.open?o.jsx("div",{ref:y=>{typeof c=="function"?c(y):c&&(c.current=y),m.current=y},className:He("z-[9999] min-w-[8rem] overflow-hidden rounded-md border bg-background p-1 text-foreground shadow-lg","fixed",e),style:f?{top:`${f.top}px`,left:`${f.left}px`}:void 0,...s,children:a}):null});Lw.displayName="DropdownMenuContent";const Vu=v.forwardRef(({className:e,inset:t,onClick:r,...n},a)=>{const s=v.useContext(Rg),c=u=>{r?.(u),s?.setOpen(!1)};return o.jsx("div",{ref:a,className:He("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors","hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),onClick:c,...n})});Vu.displayName="DropdownMenuItem";const cfe=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:He("-mx-1 my-1 h-px bg-muted",e),...t}));cfe.displayName="DropdownMenuSeparator";function ufe(){const e=pr(),{inventoryItems:t,deleteInventoryItem:r,isLoading:n}=S1(),{t:a}=lr(),[s,c]=v.useState(""),[u,f]=v.useState("name"),[h,m]=v.useState("asc"),[g,y]=v.useState(1),x=12,S=v.useMemo(()=>t.filter(O=>!s||O.name.toLowerCase().includes(s.toLowerCase())||O.category?.toLowerCase().includes(s.toLowerCase())),[t,s]),w=v.useMemo(()=>[...S].sort((O,I)=>{let N,T;if(u==="name")N=(O.name??"").toString().toLowerCase(),T=(I.name??"").toString().toLowerCase();else if(u==="selling_price")N=O.selling_price??0,T=I.selling_price??0;else if(u==="current_stock")N=O.current_stock??0,T=I.current_stock??0;else if(u==="category")N=(O.category??"").toString().toLowerCase(),T=(I.category??"").toString().toLowerCase();else return 0;return N<T?h==="asc"?-1:1:N>T?h==="asc"?1:-1:0}),[S,u,h]),_=Math.ceil(w.length/x),E=w.slice((g-1)*x,g*x),A=O=>{u===O?m(h==="asc"?"desc":"asc"):(f(O),m("asc"))},C=async O=>{if(window.confirm("Tem certeza que deseja excluir este produto?")){const I=await r(O);I.success||alert(I.error||"Erro ao excluir produto")}},R=O=>O.current_stock!==null&&O.current_stock!==void 0?O.selling_price?o.jsx(Qt,{variant:"default",children:"Produto"}):o.jsx(Qt,{variant:"secondary",children:"Estoque"}):O.selling_price?o.jsx(Qt,{variant:"outline",children:"Venda"}):o.jsx(Qt,{variant:"secondary",children:"-"});return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:a("loading")||"Carregando..."})]})}):o.jsxs("div",{className:"space-y-6 w-full max-w-full overflow-x-hidden",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 w-full",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:a("stockManagement")||"Controle de Estoque"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[o.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-[300px] min-w-0",children:[o.jsx(Xw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ee,{placeholder:"Buscar produtos...",value:s,onChange:O=>{c(O.target.value),y(1)},className:"pl-9 w-full"})]}),o.jsxs(xe,{className:"bg-primary hover:bg-primary/90 w-full sm:w-auto shrink-0",onClick:()=>e("/products/new"),children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Adicionar Produto"}),o.jsx("span",{className:"sm:hidden",children:"Adicionar"})]})]})]}),o.jsx("div",{className:"hidden md:block border rounded-lg w-full overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(b$,{children:[o.jsx(w$,{children:o.jsxs(lm,{children:[o.jsx(Vl,{className:"min-w-[200px]",children:"Item"}),o.jsx(Vl,{className:"cursor-pointer whitespace-nowrap",onClick:()=>A("selling_price"),children:o.jsxs("div",{className:"flex items-center gap-2",children:["Preo",o.jsx(rx,{className:"h-4 w-4"})]})}),o.jsx(Vl,{className:"cursor-pointer whitespace-nowrap",onClick:()=>A("current_stock"),children:o.jsxs("div",{className:"flex items-center gap-2",children:["Estoque",o.jsx(rx,{className:"h-4 w-4"})]})}),o.jsx(Vl,{className:"cursor-pointer whitespace-nowrap",onClick:()=>A("category"),children:o.jsxs("div",{className:"flex items-center gap-2",children:["Tipo",o.jsx(rx,{className:"h-4 w-4"})]})}),o.jsx(Vl,{className:"w-[50px]"})]})}),o.jsx(j$,{children:E.length===0?o.jsx(lm,{children:o.jsx(uo,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Nenhum produto encontrado"})}):E.map(O=>o.jsxs(lm,{children:[o.jsx(uo,{children:o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[O.image?o.jsx("img",{src:O.image,alt:O.name,className:"w-10 h-10 rounded-md object-cover shrink-0"}):o.jsx("div",{className:"w-10 h-10 rounded-md bg-muted flex items-center justify-center shrink-0",children:o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:O.name.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:O.name}),O.category&&o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:O.category}),O.description&&o.jsx("div",{className:"text-xs text-muted-foreground truncate mt-1",children:O.description})]})]})}),o.jsx(uo,{className:"whitespace-nowrap",children:O.selling_price?ge(O.selling_price):"-"}),o.jsx(uo,{className:"whitespace-nowrap",children:O.current_stock!==null&&O.current_stock!==void 0?O.current_stock.toLocaleString("pt-BR"):""}),o.jsx(uo,{children:R(O)}),o.jsx(uo,{children:o.jsxs(lP,{children:[o.jsx(Iw,{asChild:!0,children:o.jsx(xe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(zC,{className:"h-4 w-4"})})}),o.jsxs(Lw,{align:"end",children:[o.jsxs(Vu,{onClick:()=>e(`/stock/edit/${O.id}`),children:[o.jsx(lb,{className:"h-4 w-4 mr-2"}),"Editar"]}),o.jsxs(Vu,{onClick:()=>C(O.id),className:"text-destructive",children:[o.jsx(sc,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},O.id))})]})})}),o.jsx("div",{className:"md:hidden space-y-3 w-full",children:E.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground border rounded-lg",children:"Nenhum produto encontrado"}):E.map(O=>o.jsxs("div",{className:"border rounded-lg p-4 space-y-3 w-full",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[O.image?o.jsx("img",{src:O.image,alt:O.name,className:"w-12 h-12 rounded-md object-cover shrink-0"}):o.jsx("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center shrink-0",children:o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:O.name.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-medium truncate",children:O.name}),O.category&&o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:O.category}),O.description&&o.jsx("div",{className:"text-xs text-muted-foreground truncate mt-1",children:O.description})]})]}),o.jsxs(lP,{children:[o.jsx(Iw,{asChild:!0,children:o.jsx(xe,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:o.jsx(zC,{className:"h-4 w-4"})})}),o.jsxs(Lw,{align:"end",children:[o.jsxs(Vu,{onClick:()=>e(`/stock/edit/${O.id}`),children:[o.jsx(lb,{className:"h-4 w-4 mr-2"}),"Editar"]}),o.jsxs(Vu,{onClick:()=>C(O.id),className:"text-destructive",children:[o.jsx(sc,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Preo"}),o.jsx("span",{className:"font-medium",children:O.selling_price?ge(O.selling_price):"-"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Estoque"}),o.jsx("span",{className:"font-medium",children:O.current_stock!==null&&O.current_stock!==void 0?O.current_stock.toLocaleString("pt-BR"):""})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Tipo"}),R(O)]})]})]},O.id))}),_>1&&o.jsxs("div",{className:"flex items-center justify-center gap-2 w-full overflow-x-auto pb-2",children:[o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>y(O=>Math.max(1,O-1)),disabled:g===1,className:"shrink-0",children:[o.jsx($a,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),o.jsx("div",{className:"flex items-center gap-1 shrink-0",children:Array.from({length:_},(O,I)=>I+1).map(O=>O===1||O===_||O>=g-1&&O<=g+1?o.jsx(xe,{variant:g===O?"default":"outline",size:"sm",onClick:()=>y(O),className:"w-10 shrink-0",children:O},O):O===g-2||O===g+2?o.jsx("span",{className:"px-2 shrink-0",children:"..."},O):null)}),o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>y(O=>Math.min(_,O+1)),disabled:g===_,className:"shrink-0",children:[o.jsx("span",{className:"hidden sm:inline",children:"Prxima"}),o.jsx(NB,{className:"h-4 w-4 ml-1 sm:ml-0"})]})]})]})}function dfe(){const e=pr(),{addInventoryItem:t,isLoading:r}=S1(),{menuItems:n,categories:a,isLoading:s,addCategory:c}=Vr(),{t:u}=lr(),[f,h]=v.useState(!1),[m,g]=v.useState(null),[y,x]=v.useState(!1),[S,w]=v.useState(!1),[_,E]=v.useState(""),[A,C]=v.useState(!1),[R,O]=v.useState(null),I="materialApoio/imagem-nao-disponivel.gif",[N,T]=v.useState({menu_item_id:null,name:"",unit:"UN",min_stock:0,current_stock:0,cost_price:null,selling_price:null,category:"",image:I,product_type:"",ncm:"",cst_icms:"",cfop:"",icms_rate:null,ipi_rate:null,ean_code:""}),U=n||[],G=a||[],B=[{value:"alimento",label:"Alimento"},{value:"bebida",label:"Bebida"},{value:"limpeza",label:"Limpeza"},{value:"embalagem",label:"Embalagem"},{value:"outros",label:"Outros"}],K=[{value:"00",label:"00 - Tributada integralmente"},{value:"10",label:"10 - Tributada e com cobrana do ICMS por substituio tributria"},{value:"20",label:"20 - Com reduo de base de clculo"},{value:"30",label:"30 - Isenta ou no tributada e com cobrana do ICMS por substituio tributria"},{value:"40",label:"40 - Isenta"},{value:"41",label:"41 - No tributada"},{value:"50",label:"50 - Suspenso"},{value:"51",label:"51 - Diferimento"},{value:"60",label:"60 - ICMS cobrado anteriormente por substituio tributria"},{value:"70",label:"70 - Com reduo de base de clculo e cobrana do ICMS por substituio tributria"},{value:"90",label:"90 - Outras"}],F=[{value:"1101",label:"1101 - Compra para industrializao"},{value:"1102",label:"1102 - Compra para comercializao"},{value:"1401",label:"1401 - Compra para industrializao em operao com produto sujeito ao regime de substituio tributria"},{value:"1403",label:"1403 - Compra para comercializao em operao com mercadoria sujeita ao regime de substituio tributria"},{value:"1551",label:"1551 - Compra de bem para o ativo imobilizado"},{value:"1556",label:"1556 - Compra de material para uso ou consumo"},{value:"1651",label:"1651 - Compra de combustvel ou lubrificante para industrializao"},{value:"1652",label:"1652 - Compra de combustvel ou lubrificante para comercializao"},{value:"1653",label:"1653 - Compra de combustvel ou lubrificante para consumo"}],oe=[{value:0,label:"0% - Isento"},{value:7,label:"7% - Reduzida"},{value:12,label:"12% - Reduzida"},{value:18,label:"18% - Normal"},{value:25,label:"25% - Aumentada"}],J=M=>{if(!M||M==="none"){T(Q=>({...Q,menu_item_id:null}));return}const H=U.find(Q=>Q.id===parseInt(M));H&&T(Q=>({...Q,menu_item_id:H.id,name:H.name,selling_price:H.price,category:H.category,image:H.image||I}))},L=M=>{if(M==="add-new-category"){w(!0);return}T({...N,category:M==="none"?"":M})},D=async()=>{if(!_.trim()){O("Nome da categoria  obrigatrio");return}C(!0),O(null);try{const M=await c(_.trim());M.success?(T({...N,category:_.trim()}),E(""),O(null),w(!1)):O(M.error||"Erro ao criar categoria")}catch(M){O(M.message||"Erro ao criar categoria")}finally{C(!1)}},re=(()=>{if(!N.cost_price||!N.icms_rate)return null;const M=N.cost_price*N.icms_rate/100,H=N.ipi_rate?N.cost_price*N.ipi_rate/100:0,Q=N.cost_price+M+H;return{costPrice:N.cost_price,icmsValue:M,ipiValue:H,totalWithTaxes:Q}})(),X=async M=>{if(M.preventDefault(),g(null),x(!1),!N.name.trim()){g("Nome do produto  obrigatrio");return}if(N.min_stock<0){g("Estoque mnimo no pode ser negativo");return}if(N.current_stock<0){g("Estoque atual no pode ser negativo");return}if(N.icms_rate!==null&&(N.icms_rate<0||N.icms_rate>100)){g("Alquota de ICMS deve estar entre 0% e 100%");return}if(N.ipi_rate!==null&&(N.ipi_rate<0||N.ipi_rate>100)){g("Alquota de IPI deve estar entre 0% e 100%");return}h(!0);try{const H=await t({menu_item_id:N.menu_item_id,name:N.name,unit:N.unit,min_stock:N.min_stock,current_stock:N.current_stock,cost_price:N.cost_price,selling_price:N.selling_price,category:N.category||null,image:N.image||I,product_type:N.product_type||null,ncm:N.ncm||null,cst_icms:N.cst_icms||null,cfop:N.cfop||null,icms_rate:N.icms_rate,ipi_rate:N.ipi_rate,ean_code:N.ean_code||null});H.success?(x(!0),setTimeout(()=>{e("/stock")},1500)):g(H.error||"Erro ao adicionar item")}catch(H){g(H.message||"Erro ao adicionar item")}finally{h(!1)}};return r||s?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:u("loading")||"Carregando..."})]})}):o.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>e("/stock"),children:o.jsx($a,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:u("addInventoryItem")||"Adicionar Item ao Estoque"}),o.jsx("p",{className:"text-muted-foreground",children:u("addInventoryItemDescription")||"Cadastre um novo item no estoque com informaes fiscais completas"})]})]}),y&&o.jsx(Ne,{className:"border-green-200 bg-green-50",children:o.jsx(Ce,{className:"p-4",children:o.jsx("p",{className:"text-green-800 font-semibold",children:"Item adicionado com sucesso! Redirecionando..."})})}),o.jsxs("form",{onSubmit:X,className:"space-y-6",children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes Bsicas do Produto"}),o.jsx(pt,{children:"Dados principais do item de estoque"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"menu_item",children:"Vincular a Item de Bebidas (Opcional)"}),o.jsxs(Qe,{value:N.menu_item_id?.toString()||"none",onValueChange:J,children:[o.jsx(Ye,{id:"menu_item",children:o.jsx(Je,{placeholder:"Selecione um item de bebidas ou deixe em branco"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Nenhum (criar item independente)"}),U.map(M=>o.jsx(_e,{value:M.id.toString(),children:M.name},M.id))]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(se,{htmlFor:"name",children:"Nome do Produto *"}),o.jsx(Ee,{id:"name",value:N.name,onChange:M=>T({...N,name:M.target.value}),required:!0,placeholder:"Ex: Arroz, Feijo, leo..."})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(se,{htmlFor:"image",children:"URL da Imagem"}),o.jsx(Ee,{id:"image",value:N.image,onChange:M=>T({...N,image:M.target.value||I}),placeholder:"URL da imagem ou caminho do arquivo"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe em branco para usar a imagem padro. Se vincular a um item do menu, a imagem ser copiada automaticamente."}),N.image&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:N.image,alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onError:M=>{M.currentTarget.src=I}})})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"unit",children:"Unidade de Medida"}),o.jsx(Ee,{id:"unit",value:N.unit,onChange:M=>T({...N,unit:M.target.value}),placeholder:"UN, KG, L, etc"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"category",children:"Categoria"}),o.jsxs(Qe,{value:N.category||"none",onValueChange:L,children:[o.jsx(Ye,{id:"category",children:o.jsx(Je,{placeholder:"Selecione uma categoria"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem categoria"}),G.map(M=>o.jsx(_e,{value:M.name,children:M.name},M.id)),o.jsx(_e,{value:"add-new-category",className:"text-primary font-semibold",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-4 h-4"}),"Adicionar nova categoria..."]})})]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"min_stock",children:"Estoque Mnimo"}),o.jsx(Ee,{id:"min_stock",type:"number",min:"0",step:"0.01",value:N.min_stock,onChange:M=>T({...N,min_stock:parseFloat(M.target.value)||0})})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"current_stock",children:"Estoque Atual"}),o.jsx(Ee,{id:"current_stock",type:"number",min:"0",step:"0.01",value:N.current_stock,onChange:M=>T({...N,current_stock:parseFloat(M.target.value)||0})})]})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes de Preo"}),o.jsx(pt,{children:"Preos de custo e venda do produto"})]}),o.jsx(Ce,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cost_price",children:"Preo de Custo (R$)"}),o.jsx(Ee,{id:"cost_price",type:"number",min:"0",step:"0.01",value:N.cost_price||"",onChange:M=>T({...N,cost_price:M.target.value?parseFloat(M.target.value):null}),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"selling_price",children:"Preo de Venda (R$)"}),o.jsx(Ee,{id:"selling_price",type:"number",min:"0",step:"0.01",value:N.selling_price||"",onChange:M=>T({...N,selling_price:M.target.value?parseFloat(M.target.value):null}),placeholder:"0.00"})]})]})})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes Fiscais"}),o.jsx(pt,{children:"Dados necessrios para emisso de nota fiscal e clculo de impostos"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"product_type",children:"Tipo de Produto *"}),o.jsxs(Qe,{value:N.product_type,onValueChange:M=>T({...N,product_type:M}),children:[o.jsx(Ye,{id:"product_type",children:o.jsx(Je,{placeholder:"Selecione o tipo"})}),o.jsx(Xe,{children:B.map(M=>o.jsx(_e,{value:M.value,children:M.label},M.value))})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tipo determina a alquota de imposto aplicvel"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ncm",children:"NCM (Nomenclatura Comum do Mercosul)"}),o.jsx(Ee,{id:"ncm",value:N.ncm,onChange:M=>T({...N,ncm:M.target.value}),placeholder:"Ex: 1006.30.21",maxLength:8}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cdigo de 8 dgitos para classificao fiscal"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cst_icms",children:"CST ICMS (Cdigo de Situao Tributria)"}),o.jsxs(Qe,{value:N.cst_icms||"none",onValueChange:M=>T({...N,cst_icms:M==="none"?"":M}),children:[o.jsx(Ye,{id:"cst_icms",children:o.jsx(Je,{placeholder:"Selecione o CST"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No informado"}),K.map(M=>o.jsx(_e,{value:M.value,children:M.label},M.value))]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cfop",children:"CFOP (Cdigo Fiscal de Operaes)"}),o.jsxs(Qe,{value:N.cfop||"none",onValueChange:M=>T({...N,cfop:M==="none"?"":M}),children:[o.jsx(Ye,{id:"cfop",children:o.jsx(Je,{placeholder:"Selecione o CFOP"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No informado"}),F.map(M=>o.jsx(_e,{value:M.value,children:M.label},M.value))]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"icms_rate",children:"Alquota de ICMS (%)"}),o.jsxs(Qe,{value:N.icms_rate?.toString()||"none",onValueChange:M=>T({...N,icms_rate:M==="none"?null:parseFloat(M)}),children:[o.jsx(Ye,{id:"icms_rate",children:o.jsx(Je,{placeholder:"Selecione a alquota"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No informado"}),oe.map(M=>o.jsx(_e,{value:M.value.toString(),children:M.label},M.value))]})]}),o.jsx(Ee,{className:"mt-2",type:"number",min:"0",max:"100",step:"0.01",value:N.icms_rate||"",onChange:M=>T({...N,icms_rate:M.target.value?parseFloat(M.target.value):null}),placeholder:"Ou digite um valor personalizado"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ipi_rate",children:"Alquota de IPI (%)"}),o.jsx(Ee,{id:"ipi_rate",type:"number",min:"0",max:"100",step:"0.01",value:N.ipi_rate||"",onChange:M=>T({...N,ipi_rate:M.target.value?parseFloat(M.target.value):null}),placeholder:"0.00 (opcional)"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Apenas para produtos industrializados"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ean_code",children:"Cdigo de Barras (EAN)"}),o.jsx(Ee,{id:"ean_code",value:N.ean_code,onChange:M=>T({...N,ean_code:M.target.value}),placeholder:"7891234567890",maxLength:13}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cdigo EAN-13 (13 dgitos)"})]})]}),re&&o.jsxs(Ne,{className:"bg-muted",children:[o.jsx(Ae,{children:o.jsx(Te,{className:"text-base",children:"Clculo de Impostos"})}),o.jsx(Ce,{children:o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Preo de Custo:"}),o.jsx("span",{className:"font-medium",children:ge(re.costPrice)})]}),N.icms_rate!==null&&o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["ICMS (",N.icms_rate,"%):"]}),o.jsx("span",{className:"font-medium",children:ge(re.icmsValue)})]}),N.ipi_rate!==null&&N.ipi_rate>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["IPI (",N.ipi_rate,"%):"]}),o.jsx("span",{className:"font-medium",children:ge(re.ipiValue)})]}),o.jsxs("div",{className:"flex justify-between pt-2 border-t font-semibold",children:[o.jsx("span",{children:"Preo com Impostos:"}),o.jsx("span",{className:"text-lg",children:ge(re.totalWithTaxes)})]})]})})]})]})]}),m&&o.jsx(Ne,{className:"border-destructive",children:o.jsx(Ce,{className:"p-4",children:o.jsx("p",{className:"text-destructive",children:m})})}),o.jsx(rn,{open:S,onOpenChange:w,children:o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:"Adicionar Nova Categoria"}),o.jsx(Mn,{children:"Digite o nome da nova categoria que deseja criar."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"new-category-name",children:"Nome da Categoria"}),o.jsx(Ee,{id:"new-category-name",value:_,onChange:M=>{E(M.target.value),O(null)},placeholder:"Ex: Bebidas, Limpeza, etc.",onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),D())},autoFocus:!0})]}),R&&o.jsx("p",{className:"text-sm text-destructive",children:R})]}),o.jsxs(pn,{children:[o.jsx(xe,{variant:"outline",onClick:()=>{w(!1),E(""),O(null)},disabled:A,children:"Cancelar"}),o.jsx(xe,{onClick:D,disabled:A||!_.trim(),children:A?"Criando...":"Criar Categoria"})]})]})}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsxs(xe,{type:"button",variant:"outline",onClick:()=>e("/stock"),children:[o.jsx($a,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),o.jsxs(xe,{type:"submit",disabled:f||r,children:[o.jsx(bd,{className:"w-4 h-4 mr-2"}),f?"Salvando...":"Salvar Item"]})]})]})]})}const Dg=v.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Dg.displayName="Textarea";const Xr="materialApoio/imagem-nao-disponivel.gif";function ffe(){const{id:e}=jp(),t=pr(),{updateInventoryItem:r,isLoading:n,getInventoryItemById:a}=S1(),{menuItems:s,categories:c,isLoading:u,addCategory:f}=Vr(),{t:h}=lr(),[m,g]=v.useState(!1),[y,x]=v.useState(null),[S,w]=v.useState(!1),[_,E]=v.useState(!1),[A,C]=v.useState(""),[R,O]=v.useState(!1),[I,N]=v.useState(null),[T,U]=v.useState(!1),[G,B]=v.useState(0),[K,F]=v.useState(null),[oe,J]=v.useState(null),[L,D]=v.useState(null),q=v.useRef(null),re=v.useRef(!0),X=e?parseInt(e):null,M=X?a(X):null,H=s||[],Q=c||[],[P,V]=v.useState({menu_item_id:null,name:"",unit:"UN",min_stock:0,current_stock:0,cost_price:null,selling_price:null,category:"",image:Xr,description:null,status:null,is_cold:!1,discount_type:null,discount_value:null,discount_applies_to:null,product_type:"",ncm:"",cst_icms:"",cfop:"",icms_rate:null,ipi_rate:null,ean_code:""});v.useEffect(()=>{if(M){const pe=M.image||Xr;V(Pe=>{const it=Pe.image&&Pe.image!==Xr?Pe.image:pe;return{menu_item_id:M.menu_item_id,name:M.name,unit:M.unit,min_stock:M.min_stock,current_stock:M.current_stock,cost_price:M.cost_price,selling_price:M.selling_price,category:M.category||"",image:it,description:M.description||null,status:M.status||null,is_cold:M.is_cold??!1,discount_type:M.discount_type??null,discount_value:M.discount_value??null,discount_applies_to:M.discount_applies_to??null,product_type:M.product_type||"",ncm:M.ncm||"",cst_icms:M.cst_icms||"",cfop:M.cfop||"",icms_rate:M.icms_rate,ipi_rate:M.ipi_rate,ean_code:M.ean_code||""}}),re.current&&(pe!==Xr&&J(pe),re.current=!1)}},[M]),v.useEffect(()=>()=>{L&&URL.revokeObjectURL(L)},[L]);const ie=[{value:"alimento",label:"Alimento"},{value:"bebida",label:"Bebida"},{value:"limpeza",label:"Limpeza"},{value:"embalagem",label:"Embalagem"},{value:"outros",label:"Outros"}],W=[{value:"UN",label:"UN - Unidade"},{value:"KG",label:"KG - Quilograma"},{value:"L",label:"L - Litro"},{value:"CX",label:"CX - Caixa"},{value:"PC",label:"PC - Pacote"}],je=[{value:"00",label:"00 - Tributada integralmente"},{value:"10",label:"10 - Tributada e com cobrana do ICMS por substituio tributria"},{value:"20",label:"20 - Com reduo de base de clculo"},{value:"30",label:"30 - Isenta ou no tributada e com cobrana do ICMS por substituio tributria"},{value:"40",label:"40 - Isenta"},{value:"41",label:"41 - No tributada"},{value:"50",label:"50 - Suspenso"},{value:"51",label:"51 - Diferimento"},{value:"60",label:"60 - ICMS cobrado anteriormente por substituio tributria"},{value:"70",label:"70 - Com reduo de base de clculo e cobrana do ICMS por substituio tributria"},{value:"90",label:"90 - Outras"}],z=[{value:"1101",label:"1101 - Compra para industrializao"},{value:"1102",label:"1102 - Compra para comercializao"},{value:"1401",label:"1401 - Compra para industrializao em operao com produto sujeito ao regime de substituio tributria"},{value:"1403",label:"1403 - Compra para comercializao em operao com mercadoria sujeita ao regime de substituio tributria"},{value:"1551",label:"1551 - Compra de bem para o ativo imobilizado"},{value:"1556",label:"1556 - Compra de material para uso ou consumo"},{value:"1651",label:"1651 - Compra de combustvel ou lubrificante para industrializao"},{value:"1652",label:"1652 - Compra de combustvel ou lubrificante para comercializao"},{value:"1653",label:"1653 - Compra de combustvel ou lubrificante para consumo"}],ee=[{value:0,label:"0% - Isento"},{value:7,label:"7% - Reduzida"},{value:12,label:"12% - Reduzida"},{value:18,label:"18% - Normal"},{value:25,label:"25% - Aumentada"}],ce=pe=>{if(!pe||pe==="none"){V(it=>({...it,menu_item_id:null}));return}const Pe=H.find(it=>it.id===parseInt(pe));Pe&&V(it=>({...it,menu_item_id:Pe.id,name:it.name||Pe.name,selling_price:it.selling_price||Pe.price,category:it.category||Pe.category||"",image:it.image===Xr?Pe.image||Xr:it.image}))},Y=pe=>new Promise((Pe,it)=>{const Ht=new FileReader;Ht.readAsDataURL(pe),Ht.onload=Ot=>{const vt=new Image;vt.src=Ot.target?.result,vt.onload=()=>{let Gr=vt.width,cr=vt.height;Gr>cr?Gr>800&&(cr=cr*800/Gr,Gr=800):cr>800&&(Gr=Gr*800/cr,cr=800);const Ka=document.createElement("canvas");Ka.width=800,Ka.height=800;const $n=Ka.getContext("2d");if(!$n){it(new Error("No foi possvel criar contexto do canvas"));return}$n.fillStyle="#FFFFFF",$n.fillRect(0,0,800,800);const Lc=(800-Gr)/2,Mg=(800-cr)/2;$n.drawImage(vt,Lc,Mg,Gr,cr),Ka.toBlob(qi=>{if(!qi){it(new Error("Erro ao redimensionar imagem"));return}const Wr=new File([qi],pe.name,{type:"image/jpeg",lastModified:Date.now()});Pe(Wr)},"image/jpeg",.9)},vt.onerror=()=>it(new Error("Erro ao carregar imagem"))},Ht.onerror=()=>it(new Error("Erro ao ler arquivo"))}),ae=async pe=>{const Pe=pe.target.files?.[0];if(!Pe)return;if(!Pe.type.startsWith("image/")){F("Por favor, selecione apenas arquivos de imagem");return}const{data:{user:it}}=await we.auth.getUser();if(!it){F("Voc precisa estar logado para fazer upload de imagens.");return}const Ht=URL.createObjectURL(Pe);D(Ht),U(!0),B(0),F(null);let Ot=null;try{B(10);const vt=await Y(Pe);B(30);const Bi=`${Date.now()}-${Math.random().toString(36).substring(2)}.jpg`;let Gr=30;Ot=setInterval(()=>{Gr+=5,Gr<=70?B(Gr):Ot&&(clearInterval(Ot),Ot=null)},150);const{error:cr}=await we.storage.from("product-images").upload(Bi,vt,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(Ot&&(clearInterval(Ot),Ot=null),B(70),cr){Ot&&(clearInterval(Ot),Ot=null),cr.message.includes("Bucket not found")?F('Bucket de imagens no encontrado. Por favor, crie um bucket chamado "product-images" no Supabase Storage.'):cr.message.includes("row-level security policy")||cr.message.includes("RLS")?F("Erro de poltica de segurana. Execute o script setup_storage_policies.sql no SQL Editor do Supabase para configurar as polticas do bucket."):F(`Erro ao fazer upload: ${cr.message}`),Ht&&URL.revokeObjectURL(Ht),D(null),B(0),U(!1);return}B(75);const Ka="https://qzzbbrloztzfjcreaumt.supabase.co";let $n=null;Ka&&($n=`${Ka}/storage/v1/object/public/product-images/${Bi}`),B(85),$n?(B(90),J($n),V(Lc=>({...Lc,image:$n})),B(95),Ht&&URL.revokeObjectURL(Ht),D(null),B(100),F(null),U(!1),setTimeout(()=>{B(0)},800)):(F("Erro ao obter URL da imagem. Verifique se o bucket est pblico e as polticas RLS esto configuradas."),Ht&&URL.revokeObjectURL(Ht),D(null),B(0),U(!1))}catch(vt){Ot&&(clearInterval(Ot),Ot=null),F(vt.message||"Erro ao fazer upload da imagem"),Ht&&URL.revokeObjectURL(Ht),D(null),B(0)}finally{Ot&&(clearInterval(Ot),Ot=null),q.current&&(q.current.value="")}},he=pe=>{if(pe==="add-new-category"){E(!0);return}V({...P,category:pe==="none"?"":pe})},Se=async()=>{if(!A.trim()){N("Nome da categoria  obrigatrio");return}O(!0),N(null);try{const pe=await f(A.trim());pe.success?(V({...P,category:A.trim()}),C(""),E(!1)):N(pe.error||"Erro ao criar categoria")}catch(pe){N(pe.message||"Erro ao criar categoria")}finally{O(!1)}},Ke=(()=>{if(!P.cost_price||!P.icms_rate)return null;const pe=P.cost_price*P.icms_rate/100,Pe=P.ipi_rate?P.cost_price*P.ipi_rate/100:0,it=P.cost_price+pe+Pe;return{costPrice:P.cost_price,icmsValue:pe,ipiValue:Pe,totalWithTaxes:it}})(),ct=async pe=>{if(pe.preventDefault(),x(null),w(!1),!X){x("ID do item no encontrado");return}if(!P.name.trim()){x("Nome do produto  obrigatrio");return}if(P.min_stock<0){x("Estoque mnimo no pode ser negativo");return}if(P.current_stock<0){x("Estoque atual no pode ser negativo");return}if(P.icms_rate!==null&&(P.icms_rate<0||P.icms_rate>100)){x("Alquota de ICMS deve estar entre 0% e 100%");return}if(P.ipi_rate!==null&&(P.ipi_rate<0||P.ipi_rate>100)){x("Alquota de IPI deve estar entre 0% e 100%");return}if(T){x("Aguarde o upload da imagem terminar antes de salvar");return}g(!0);try{const Pe=oe||P.image||Xr,it=await r(X,{menu_item_id:P.menu_item_id,name:P.name,unit:P.unit,min_stock:P.min_stock,current_stock:P.current_stock,cost_price:P.cost_price,selling_price:P.selling_price,category:P.category||null,image:Pe,description:P.description||null,status:P.status||null,is_cold:P.is_cold||null,discount_type:P.discount_type||null,discount_value:P.discount_value||null,discount_applies_to:P.discount_applies_to||null,product_type:P.product_type||null,ncm:P.ncm||null,cst_icms:P.cst_icms||null,cfop:P.cfop||null,icms_rate:P.icms_rate,ipi_rate:P.ipi_rate,ean_code:P.ean_code||null});if(it.success){const Ht=oe||(P.image&&P.image!==Xr?P.image:null);Ht&&J(Ht),w(!0),setTimeout(()=>{t("/stock")},1500)}else x(it.error||"Erro ao atualizar item")}catch(Pe){x(Pe.message||"Erro ao atualizar item")}finally{g(!1)}};return n||u||!M?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:h("loading")||"Carregando..."})]})}):o.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>t("/stock"),children:o.jsx($a,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:h("editInventoryItem")||"Editar Item do Estoque"}),o.jsx("p",{className:"text-muted-foreground",children:h("editInventoryItemDescription")||"Edite as informaes do item de estoque"})]})]}),S&&o.jsx(Ne,{className:"border-green-200 bg-green-50",children:o.jsx(Ce,{className:"p-4",children:o.jsx("p",{className:"text-green-800 font-semibold",children:"Item atualizado com sucesso! Redirecionando..."})})}),o.jsxs("form",{onSubmit:ct,className:"space-y-6",children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes Bsicas do Produto"}),o.jsx(pt,{children:"Dados principais do item de estoque"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"menu_item",children:"Vincular a Item de Bebidas (Opcional)"}),o.jsxs(Qe,{value:P.menu_item_id?.toString()||"none",onValueChange:ce,children:[o.jsx(Ye,{id:"menu_item",children:o.jsx(Je,{placeholder:"Selecione um item de bebidas ou deixe em branco"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Nenhum (criar item independente)"}),H.map(pe=>o.jsx(_e,{value:pe.id.toString(),children:pe.name},pe.id))]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"name",children:"Nome do Produto *"}),o.jsx(Ee,{id:"name",value:P.name,onChange:pe=>V({...P,name:pe.target.value}),required:!0,placeholder:"Ex: Arroz, Feijo, leo..."})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"category",children:"Categoria"}),o.jsxs(Qe,{value:P.category||"none",onValueChange:he,children:[o.jsx(Ye,{id:"category",children:o.jsx(Je,{placeholder:"Selecione uma categoria"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem categoria"}),Q.map(pe=>o.jsx(_e,{value:pe.name,children:pe.name},pe.id)),o.jsxs(_e,{value:"add-new-category",children:[o.jsx(gn,{className:"w-4 h-4 inline mr-2"}),"Nova categoria"]})]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"image",children:"Imagem do Produto"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(xe,{type:"button",variant:"outline",onClick:()=>q.current?.click(),disabled:T||m||!Jr,className:"w-auto",children:T?o.jsxs(o.Fragment,{children:[o.jsx(Wl,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando... ",G,"%"]}):o.jsxs(o.Fragment,{children:[o.jsx(Zw,{className:"w-4 h-4 mr-2"}),P.image&&P.image!==Xr?"Alterar Imagem":"Selecionar Imagem"]})}),o.jsx(Ee,{ref:q,type:"file",accept:"image/*",onChange:ae,className:"hidden",disabled:T}),!Jr]}),T&&G>0&&o.jsx("div",{className:"w-full mb-2",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${G}%`}})})}),K&&o.jsx("p",{className:"text-sm text-destructive mb-2",children:K}),(L||oe||P.image&&P.image!==Xr)&&o.jsxs("div",{className:"mt-2",children:[T&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Redimensionando e enviando imagem (800x800px)..."}),!T&&P.image&&P.image!==Xr&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Imagem carregada com sucesso. A imagem foi redimensionada automaticamente para 800x800px."}),o.jsx("img",{src:L||oe||P.image||Xr,alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onLoad:()=>{oe&&L&&!T&&(URL.revokeObjectURL(L),D(null))},onError:pe=>{const Pe=pe.currentTarget;if(L&&Pe.src!==L){Pe.src=L;return}if(oe&&Pe.src!==oe){Pe.src=oe;return}if(P.image&&P.image!==Xr&&Pe.src!==P.image){Pe.src=P.image;return}Pe.src!==Xr&&(Pe.src=Xr)}})]})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes de Venda"}),o.jsx(pt,{children:"Preencha se o produto ser vendido diretamente"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"selling_price",children:"Preo de Venda"}),o.jsx(Ee,{id:"selling_price",type:"number",step:"0.01",min:"0",value:P.selling_price||"",onChange:pe=>V({...P,selling_price:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"description",children:"Descrio"}),o.jsx(Dg,{id:"description",value:P.description||"",onChange:pe=>V({...P,description:pe.target.value||null}),placeholder:"Descrio do produto",rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"is_cold",checked:P.is_cold||!1,onChange:pe=>V({...P,is_cold:pe.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx(se,{htmlFor:"is_cold",className:"cursor-pointer",children:"Bebida gelada (mostra cone de floco de neve)"})]}),P.selling_price&&o.jsxs("div",{children:[o.jsx(se,{htmlFor:"status",children:"Status"}),o.jsxs(Qe,{value:P.status||"Available",onValueChange:pe=>V({...P,status:pe}),children:[o.jsx(Ye,{id:"status",children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"Available",children:"Disponvel"}),o.jsx(_e,{value:"Sold Out",children:"Esgotado"})]})]})]}),o.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-base font-semibold",children:"Desconto por Mtodo de Pagamento"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Configure desconto para pagamentos em dinheiro e PIX"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"discount_type",children:"Tipo de Desconto"}),o.jsxs(Qe,{value:P.discount_type||"none",onValueChange:pe=>{V(pe==="none"?{...P,discount_type:null,discount_value:null,discount_applies_to:null}:{...P,discount_type:pe,discount_value:P.discount_value||null})},children:[o.jsx(Ye,{id:"discount_type",children:o.jsx(Je,{placeholder:"Selecione o tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem desconto"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]})]}),P.discount_type&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"discount_value",children:P.discount_type==="fixed"?"Valor do Desconto (R$)":"Percentual do Desconto (%)"}),o.jsx(Ee,{id:"discount_value",type:"number",step:P.discount_type==="fixed"?"0.01":"0.1",min:"0",max:P.discount_type==="percentage"?"100":void 0,value:P.discount_value||"",onChange:pe=>V({...P,discount_value:pe.target.value?parseFloat(pe.target.value):null}),placeholder:P.discount_type==="fixed"?"0.00":"0"})]}),o.jsxs("div",{children:[o.jsx(se,{children:"Aplicar desconto para:"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"discount_cash",checked:P.discount_applies_to?.includes("Cash")||!1,onChange:pe=>{const Pe=P.discount_applies_to||[];pe.target.checked?V({...P,discount_applies_to:[...Pe,"Cash"]}):V({...P,discount_applies_to:Pe.filter(it=>it!=="Cash")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx(se,{htmlFor:"discount_cash",className:"cursor-pointer",children:"Dinheiro (Cash)"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"discount_pix",checked:P.discount_applies_to?.includes("PIX")||!1,onChange:pe=>{const Pe=P.discount_applies_to||[];pe.target.checked?V({...P,discount_applies_to:[...Pe,"PIX"]}):V({...P,discount_applies_to:Pe.filter(it=>it!=="PIX")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx(se,{htmlFor:"discount_pix",className:"cursor-pointer",children:"PIX"})]})]})]})]})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes de Estoque"}),o.jsx(pt,{children:"Preencha se o produto ter controle de estoque"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"unit",children:"Unidade de Medida"}),o.jsxs(Qe,{value:P.unit??"",onValueChange:pe=>V({...P,unit:pe}),children:[o.jsx(Ye,{id:"unit",children:o.jsx(Je,{placeholder:"Selecione uma unidade"})}),o.jsx(Xe,{children:W.map(pe=>o.jsx(_e,{value:pe.value,children:pe.label},pe.value))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"min_stock",children:"Estoque Mnimo"}),o.jsx(Ee,{id:"min_stock",type:"number",min:"0",step:"0.01",value:P.min_stock,onChange:pe=>V({...P,min_stock:parseFloat(pe.target.value)||0})})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"current_stock",children:"Estoque Atual"}),o.jsx(Ee,{id:"current_stock",type:"number",min:"0",step:"0.01",value:P.current_stock,onChange:pe=>V({...P,current_stock:parseFloat(pe.target.value)||0})})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cost_price",children:"Preo de Custo"}),o.jsx(Ee,{id:"cost_price",type:"number",step:"0.01",min:"0",value:P.cost_price||"",onChange:pe=>V({...P,cost_price:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"0.00"})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes Fiscais"}),o.jsx(pt,{children:"Dados necessrios para emisso de nota fiscal e clculo de impostos"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"product_type",children:"Tipo de Produto *"}),o.jsxs(Qe,{value:P.product_type||"none",onValueChange:pe=>V({...P,product_type:pe==="none"?"":pe}),children:[o.jsx(Ye,{id:"product_type",children:o.jsx(Je,{placeholder:"Selecione o tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No informado"}),ie.map(pe=>o.jsx(_e,{value:pe.value,children:pe.label},pe.value))]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ncm",children:"NCM (Nomenclatura Comum do Mercosul)"}),o.jsx(Ee,{id:"ncm",value:P.ncm,onChange:pe=>V({...P,ncm:pe.target.value}),placeholder:"Ex: 1006.30.21",maxLength:8})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cst_icms",children:"CST ICMS (Cdigo de Situao Tributria)"}),o.jsxs(Qe,{value:P.cst_icms||"none",onValueChange:pe=>V({...P,cst_icms:pe==="none"?"":pe}),children:[o.jsx(Ye,{id:"cst_icms",children:o.jsx(Je,{placeholder:"Selecione o CST"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No informado"}),je.map(pe=>o.jsx(_e,{value:pe.value,children:pe.label},pe.value))]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cfop",children:"CFOP (Cdigo Fiscal de Operaes)"}),o.jsxs(Qe,{value:P.cfop||"none",onValueChange:pe=>V({...P,cfop:pe==="none"?"":pe}),children:[o.jsx(Ye,{id:"cfop",children:o.jsx(Je,{placeholder:"Selecione o CFOP"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No informado"}),z.map(pe=>o.jsx(_e,{value:pe.value,children:pe.label},pe.value))]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"icms_rate",children:"Alquota de ICMS (%)"}),o.jsxs(Qe,{value:P.icms_rate?.toString()||"none",onValueChange:pe=>V({...P,icms_rate:pe==="none"?null:parseFloat(pe)}),children:[o.jsx(Ye,{id:"icms_rate",children:o.jsx(Je,{placeholder:"Selecione a alquota"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No informado"}),ee.map(pe=>o.jsx(_e,{value:pe.value.toString(),children:pe.label},pe.value))]})]}),o.jsx(Ee,{className:"mt-2",type:"number",min:"0",max:"100",step:"0.01",value:P.icms_rate||"",onChange:pe=>V({...P,icms_rate:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"Ou digite um valor personalizado"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ipi_rate",children:"Alquota de IPI (%)"}),o.jsx(Ee,{id:"ipi_rate",type:"number",min:"0",max:"100",step:"0.01",value:P.ipi_rate||"",onChange:pe=>V({...P,ipi_rate:pe.target.value?parseFloat(pe.target.value):null}),placeholder:"0.00 (opcional)"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ean_code",children:"Cdigo de Barras (EAN)"}),o.jsx(Ee,{id:"ean_code",value:P.ean_code,onChange:pe=>V({...P,ean_code:pe.target.value}),placeholder:"7891234567890",maxLength:13})]})]}),Ke&&o.jsxs(Ne,{className:"bg-muted",children:[o.jsx(Ae,{children:o.jsx(Te,{className:"text-base",children:"Clculo de Impostos"})}),o.jsx(Ce,{children:o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Preo de Custo:"}),o.jsx("span",{className:"font-medium",children:ge(Ke.costPrice)})]}),P.icms_rate!==null&&o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["ICMS (",P.icms_rate,"%):"]}),o.jsx("span",{className:"font-medium",children:ge(Ke.icmsValue)})]}),P.ipi_rate!==null&&P.ipi_rate>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["IPI (",P.ipi_rate,"%):"]}),o.jsx("span",{className:"font-medium",children:ge(Ke.ipiValue)})]}),o.jsxs("div",{className:"flex justify-between pt-2 border-t font-semibold",children:[o.jsx("span",{children:"Preo com Impostos:"}),o.jsx("span",{className:"text-lg",children:ge(Ke.totalWithTaxes)})]})]})})]})]})]}),y&&o.jsx(Ne,{className:"border-destructive",children:o.jsx(Ce,{className:"p-4",children:o.jsx("p",{className:"text-destructive",children:y})})}),o.jsx(rn,{open:_,onOpenChange:E,children:o.jsxs(Ur,{children:[o.jsxs(Br,{children:[o.jsx(qr,{children:"Adicionar Nova Categoria"}),o.jsx(Mn,{children:"Digite o nome da nova categoria que deseja criar."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"new-category-name",children:"Nome da Categoria"}),o.jsx(Ee,{id:"new-category-name",value:A,onChange:pe=>{C(pe.target.value),N(null)},placeholder:"Ex: Bebidas, Limpeza, etc.",onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),Se())},autoFocus:!0})]}),I&&o.jsx("p",{className:"text-sm text-destructive",children:I})]}),o.jsxs(pn,{children:[o.jsx(xe,{variant:"outline",onClick:()=>{E(!1),C(""),N(null)},disabled:R,children:"Cancelar"}),o.jsx(xe,{onClick:Se,disabled:R||!A.trim(),children:R?"Criando...":"Criar Categoria"})]})]})}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsxs(xe,{type:"button",variant:"outline",onClick:()=>t("/stock"),children:[o.jsx($a,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),o.jsxs(xe,{type:"submit",disabled:m||n||T,children:[o.jsx(bd,{className:"w-4 h-4 mr-2"}),m?"Salvando...":T?"Aguarde o upload...":"Salvar Alteraes"]})]})]})]})}const hi="materialApoio/imagem-nao-disponivel.gif";function hfe(){const e=pr(),{addProduct:t,categories:r,isLoading:n,addCategory:a}=Vr(),{t:s}=lr(),[c,u]=v.useState(!1),[f,h]=v.useState(null),[m,g]=v.useState(!1),[y,x]=v.useState(!1),[S,w]=v.useState(""),[_,E]=v.useState(!1),[A,C]=v.useState(null),[R,O]=v.useState(!1),[I,N]=v.useState(0),[T,U]=v.useState(null),[G,B]=v.useState(null),[K,F]=v.useState(null),oe=v.useRef(null),[J,L]=v.useState({name:"",category:"",image:hi,price:null,description:null,status:null,is_cold:!1,discount_type:null,discount_value:null,discount_applies_to:null,unit:null,min_stock:null,current_stock:null,cost_price:null,product_type:null,ncm:null,cst_icms:null,cfop:null,icms_rate:null,ipi_rate:null,ean_code:null}),D=[{value:"alimento",label:"Alimento"},{value:"bebida",label:"Bebida"},{value:"limpeza",label:"Limpeza"},{value:"embalagem",label:"Embalagem"},{value:"outros",label:"Outros"}],q=[{value:"UN",label:"UN - Unidade"},{value:"KG",label:"KG - Quilograma"},{value:"L",label:"L - Litro"},{value:"CX",label:"CX - Caixa"},{value:"PC",label:"PC - Pacote"}];v.useEffect(()=>()=>{K&&URL.revokeObjectURL(K)},[K]);const re=P=>new Promise((V,ie)=>{const W=new FileReader;W.readAsDataURL(P),W.onload=je=>{const z=new Image;z.src=je.target?.result,z.onload=()=>{let Y=z.width,ae=z.height;Y>ae?Y>800&&(ae=ae*800/Y,Y=800):ae>800&&(Y=Y*800/ae,ae=800);const he=document.createElement("canvas");he.width=800,he.height=800;const Se=he.getContext("2d");if(!Se){ie(new Error("No foi possvel criar contexto do canvas"));return}Se.fillStyle="#FFFFFF",Se.fillRect(0,0,800,800);const Oe=(800-Y)/2,Ke=(800-ae)/2;Se.drawImage(z,Oe,Ke,Y,ae),he.toBlob(ct=>{if(!ct){ie(new Error("Erro ao redimensionar imagem"));return}const pe=new File([ct],P.name,{type:"image/jpeg",lastModified:Date.now()});V(pe)},"image/jpeg",.9)},z.onerror=()=>ie(new Error("Erro ao carregar imagem"))},W.onerror=()=>ie(new Error("Erro ao ler arquivo"))}),X=async P=>{const V=P.target.files?.[0];if(!V)return;if(!V.type.startsWith("image/")){U("Por favor, selecione apenas arquivos de imagem");return}const ie=URL.createObjectURL(V);F(ie),O(!0),N(0),U(null);let W=null;try{N(10);const je=await re(V);N(30);const ee=`product-images/${`${Date.now()}-${Math.random().toString(36).substring(2)}.jpg`}`;let ce=30;W=setInterval(()=>{ce+=5,ce<=70?N(ce):W&&(clearInterval(W),W=null)},150);const{error:Y}=await we.storage.from("product-images").upload(ee,je,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(W&&(clearInterval(W),W=null),N(70),Y){W&&(clearInterval(W),W=null),Y.message.includes("Bucket not found")?U('Bucket de imagens no encontrado. Por favor, crie um bucket chamado "product-images" no Supabase Storage.'):Y.message.includes("row-level security policy")||Y.message.includes("RLS")?U("Erro de poltica de segurana. Execute o script setup_storage_policies.sql no SQL Editor do Supabase para configurar as polticas do bucket."):U(`Erro ao fazer upload: ${Y.message}`),ie&&URL.revokeObjectURL(ie),F(null),N(0),O(!1);return}N(75);const ae="https://qzzbbrloztzfjcreaumt.supabase.co";let he=null;ae&&(he=`${ae}/storage/v1/object/public/product-images/${ee}`),N(85),he?(N(90),B(he),L(Se=>({...Se,image:he})),N(95),ie&&URL.revokeObjectURL(ie),F(null),N(100),U(null),O(!1),setTimeout(()=>{N(0)},800)):(U("Erro ao obter URL da imagem. Verifique se o bucket est pblico e as polticas RLS esto configuradas."),ie&&URL.revokeObjectURL(ie),F(null),N(0),O(!1))}catch(je){W&&(clearInterval(W),W=null),U(je.message||"Erro ao fazer upload da imagem"),ie&&URL.revokeObjectURL(ie),F(null),N(0)}finally{W&&(clearInterval(W),W=null),oe.current&&(oe.current.value="")}},M=P=>{if(P==="add-new-category"){x(!0);return}L({...J,category:P==="none"?null:P})},H=async()=>{if(!S.trim()){C("Nome da categoria  obrigatrio");return}E(!0),C(null);try{const P=await a(S.trim());P.success?(L({...J,category:S.trim()}),w(""),C(null),x(!1)):C(P.error||"Erro ao criar categoria")}catch(P){C(P.message||"Erro ao criar categoria")}finally{E(!1)}},Q=async P=>{if(P.preventDefault(),h(null),g(!1),!J.name||J.name.trim()===""){h("Nome do produto  obrigatrio");return}if(!J.price&&!J.unit){h("Produto deve ter preo de venda ou informaes de estoque (unidade)");return}if(R){h("Aguarde o upload da imagem terminar antes de salvar");return}u(!0),h(null),g(!1);try{console.log("Tentando criar produto:",J);const V=G||J.image||hi,ie={...J,image:V},W=await t(ie);console.log("Resultado da criao:",W),W&&W.success?(g(!0),setTimeout(()=>{e("/settings")},1500)):h(W?.error||"Erro ao criar produto")}catch(V){console.error("Erro ao criar produto:",V),h(V?.message||"Erro ao criar produto")}finally{u(!1)}};return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:s("loading")||"Carregando..."})]})}):o.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),children:o.jsx($a,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Cadastrar Produto"}),o.jsx("p",{className:"text-muted-foreground",children:"Cadastre um novo produto com todas as informaes necessrias"})]})]}),o.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes Bsicas"}),o.jsx(pt,{children:"Dados principais do produto"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"name",children:"Nome do Produto *"}),o.jsx(Ee,{id:"name",value:J.name,onChange:P=>L({...J,name:P.target.value}),required:!0,placeholder:"Ex: Pizza Margherita"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"category",children:"Categoria"}),o.jsxs(Qe,{value:J.category||"none",onValueChange:M,children:[o.jsx(Ye,{id:"category",children:o.jsx(Je,{placeholder:"Selecione uma categoria"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem categoria"}),r.map(P=>o.jsx(_e,{value:P.name,children:P.name},P.id)),o.jsxs(_e,{value:"add-new-category",children:[o.jsx(gn,{className:"w-4 h-4 inline mr-2"}),"Nova categoria"]})]})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"image",children:"Imagem do Produto"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(xe,{type:"button",variant:"outline",onClick:()=>oe.current?.click(),disabled:R||c||!Jr,className:"w-auto",children:R?o.jsxs(o.Fragment,{children:[o.jsx(Wl,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando... ",I,"%"]}):o.jsxs(o.Fragment,{children:[o.jsx(Zw,{className:"w-4 h-4 mr-2"}),J.image&&J.image!==hi?"Alterar Imagem":"Selecionar Imagem"]})}),o.jsx(Ee,{ref:oe,type:"file",accept:"image/*",onChange:X,className:"hidden",disabled:R}),!Jr]}),R&&I>0&&o.jsx("div",{className:"w-full mb-2",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${I}%`}})})}),T&&o.jsx("p",{className:"text-sm text-destructive mb-2",children:T}),(K||G||J.image&&J.image!==hi)&&o.jsxs("div",{className:"mt-2",children:[R&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Redimensionando e enviando imagem (800x800px)..."}),!R&&J.image&&J.image!==hi&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Imagem carregada com sucesso. A imagem foi redimensionada automaticamente para 800x800px."}),o.jsx("img",{src:K||G||J.image||hi,alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onLoad:()=>{G&&K&&!R&&(URL.revokeObjectURL(K),F(null))},onError:P=>{const V=P.currentTarget;if(K&&V.src!==K){V.src=K;return}if(G&&V.src!==G){V.src=G;return}if(J.image&&J.image!==hi&&V.src!==J.image){V.src=J.image;return}V.src!==hi&&(V.src=hi)}})]})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes de Venda"}),o.jsx(pt,{children:"Preencha se o produto ser vendido diretamente"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"price",children:"Preo de Venda"}),o.jsx(Ee,{id:"price",type:"number",step:"0.01",min:"0",value:J.price||"",onChange:P=>L({...J,price:P.target.value?parseFloat(P.target.value):null}),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"description",children:"Descrio"}),o.jsx(Dg,{id:"description",value:J.description||"",onChange:P=>L({...J,description:P.target.value||null}),placeholder:"Descrio do produto",rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"is_cold",checked:J.is_cold||!1,onChange:P=>L({...J,is_cold:P.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx(se,{htmlFor:"is_cold",className:"cursor-pointer",children:"Bebida gelada (mostra cone de floco de neve)"})]}),J.price&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"status",children:"Status"}),o.jsxs(Qe,{value:J.status||"Available",onValueChange:P=>L({...J,status:P}),children:[o.jsx(Ye,{id:"status",children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"Available",children:"Disponvel"}),o.jsx(_e,{value:"Sold Out",children:"Esgotado"})]})]})]}),o.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-base font-semibold",children:"Desconto por Mtodo de Pagamento"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Configure desconto para pagamentos em dinheiro e PIX"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"discount_type",children:"Tipo de Desconto"}),o.jsxs(Qe,{value:J.discount_type||"none",onValueChange:P=>{L(P==="none"?{...J,discount_type:null,discount_value:null,discount_applies_to:null}:{...J,discount_type:P,discount_value:J.discount_value||null})},children:[o.jsx(Ye,{id:"discount_type",children:o.jsx(Je,{placeholder:"Selecione o tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem desconto"}),o.jsx(_e,{value:"fixed",children:"Valor fixo (R$)"}),o.jsx(_e,{value:"percentage",children:"Percentual (%)"})]})]})]}),J.discount_type&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"discount_value",children:J.discount_type==="fixed"?"Valor do Desconto (R$)":"Percentual do Desconto (%)"}),o.jsx(Ee,{id:"discount_value",type:"number",step:J.discount_type==="fixed"?"0.01":"0.1",min:"0",max:J.discount_type==="percentage"?"100":void 0,value:J.discount_value||"",onChange:P=>L({...J,discount_value:P.target.value?parseFloat(P.target.value):null}),placeholder:J.discount_type==="fixed"?"0.00":"0"})]}),o.jsxs("div",{children:[o.jsx(se,{children:"Aplicar desconto para:"}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"discount_cash",checked:J.discount_applies_to?.includes("Cash")||!1,onChange:P=>{const V=J.discount_applies_to||[];P.target.checked?L({...J,discount_applies_to:[...V,"Cash"]}):L({...J,discount_applies_to:V.filter(ie=>ie!=="Cash")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx(se,{htmlFor:"discount_cash",className:"cursor-pointer",children:"Dinheiro (Cash)"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"discount_pix",checked:J.discount_applies_to?.includes("PIX")||!1,onChange:P=>{const V=J.discount_applies_to||[];P.target.checked?L({...J,discount_applies_to:[...V,"PIX"]}):L({...J,discount_applies_to:V.filter(ie=>ie!=="PIX")})},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx(se,{htmlFor:"discount_pix",className:"cursor-pointer",children:"PIX"})]})]}),J.discount_type&&J.discount_value&&J.discount_applies_to&&J.discount_applies_to.length>0&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:J.discount_type==="fixed"?`Desconto de ${ge(J.discount_value)} aplicado em pagamentos via ${J.discount_applies_to.join(" e ")}`:`Desconto de ${J.discount_value}% aplicado em pagamentos via ${J.discount_applies_to.join(" e ")}`})]})]})]})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes de Estoque"}),o.jsx(pt,{children:"Preencha se o produto ter controle de estoque"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"unit",children:"Unidade de Medida"}),o.jsxs(Qe,{value:J.unit||"",onValueChange:P=>L({...J,unit:P||null}),children:[o.jsx(Ye,{id:"unit",children:o.jsx(Je,{placeholder:"Selecione uma unidade"})}),o.jsx(Xe,{children:q.map(P=>o.jsx(_e,{value:P.value,children:P.label},P.value))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"min_stock",children:"Estoque Mnimo"}),o.jsx(Ee,{id:"min_stock",type:"number",min:"0",step:"0.01",value:J.min_stock||"",onChange:P=>L({...J,min_stock:P.target.value?parseFloat(P.target.value):null})})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"current_stock",children:"Estoque Atual"}),o.jsx(Ee,{id:"current_stock",type:"number",min:"0",step:"0.01",value:J.current_stock||"",onChange:P=>L({...J,current_stock:P.target.value?parseFloat(P.target.value):null})})]})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cost_price",children:"Preo de Custo"}),o.jsx(Ee,{id:"cost_price",type:"number",step:"0.01",min:"0",value:J.cost_price||"",onChange:P=>L({...J,cost_price:P.target.value?parseFloat(P.target.value):null}),placeholder:"0.00"})]})]})]}),o.jsxs(Ne,{children:[o.jsxs(Ae,{children:[o.jsx(Te,{children:"Informaes Fiscais (Opcional)"}),o.jsx(pt,{children:"Dados para emisso de notas fiscais e clculo de impostos"})]}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"product_type",children:"Tipo de Produto"}),o.jsxs(Qe,{value:J.product_type||"none",onValueChange:P=>L({...J,product_type:P==="none"?null:P}),children:[o.jsx(Ye,{id:"product_type",children:o.jsx(Je,{placeholder:"Selecione o tipo"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"No especificado"}),D.map(P=>o.jsx(_e,{value:P.value,children:P.label},P.value))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ncm",children:"NCM"}),o.jsx(Ee,{id:"ncm",value:J.ncm||"",onChange:P=>L({...J,ncm:P.target.value||null}),placeholder:"00000000",maxLength:8})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ean_code",children:"Cdigo de Barras (EAN)"}),o.jsx(Ee,{id:"ean_code",value:J.ean_code||"",onChange:P=>L({...J,ean_code:P.target.value||null}),placeholder:"7891234567890"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cst_icms",children:"CST ICMS"}),o.jsx(Ee,{id:"cst_icms",value:J.cst_icms||"",onChange:P=>L({...J,cst_icms:P.target.value||null}),placeholder:"00"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"cfop",children:"CFOP"}),o.jsx(Ee,{id:"cfop",value:J.cfop||"",onChange:P=>L({...J,cfop:P.target.value||null}),placeholder:"1102"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"icms_rate",children:"Alquota ICMS (%)"}),o.jsx(Ee,{id:"icms_rate",type:"number",step:"0.01",min:"0",max:"100",value:J.icms_rate||"",onChange:P=>L({...J,icms_rate:P.target.value?parseFloat(P.target.value):null}),placeholder:"18"})]}),o.jsxs("div",{children:[o.jsx(se,{htmlFor:"ipi_rate",children:"Alquota IPI (%)"}),o.jsx(Ee,{id:"ipi_rate",type:"number",step:"0.01",min:"0",max:"100",value:J.ipi_rate||"",onChange:P=>L({...J,ipi_rate:P.target.value?parseFloat(P.target.value):null}),placeholder:"10"})]})]})]})]}),f&&o.jsx("div",{className:"p-4 bg-destructive/10 text-destructive rounded-md",children:f}),m&&o.jsx("div",{className:"p-4 bg-green-500/10 text-green-700 rounded-md",children:"Produto cadastrado com sucesso! Redirecionando..."}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx(xe,{type:"button",variant:"outline",onClick:()=>e("/settings"),children:"Cancelar"}),o.jsxs(xe,{type:"submit",disabled:c||R,children:[o.jsx(bd,{className:"w-4 h-4 mr-2"}),c?"Salvando...":R?"Aguarde o upload...":"Salvar Produto"]})]})]}),y&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs(Ne,{className:"w-full max-w-md",children:[o.jsx(Ae,{children:o.jsx(Te,{children:"Nova Categoria"})}),o.jsxs(Ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{htmlFor:"newCategoryName",children:"Nome da Categoria"}),o.jsx(Ee,{id:"newCategoryName",value:S,onChange:P=>w(P.target.value),placeholder:"Ex: Bebidas"}),A&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:A})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(xe,{variant:"outline",onClick:()=>{x(!1),w(""),C(null)},children:"Cancelar"}),o.jsx(xe,{onClick:H,disabled:_,children:_?"Criando...":"Criar"})]})]})]})})]})}function mfe(){const e=pr(),{menuItems:t,categories:r,isLoading:n}=Vr(),[a,s]=v.useState([]),[c,u]=v.useState(!0),[f,h]=v.useState(null),[m,g]=v.useState(!1),[y,x]=v.useState(null),[S,w]=v.useState(!1),[_,E]=v.useState(null),[A,C]=v.useState(!1),[R,O]=v.useState(0),[I,N]=v.useState(null),[T,U]=v.useState(null),[G,B]=v.useState(null),K=v.useRef(null),[F,oe]=v.useState({name:"",description:"",image:null,type:"kit",price:null,discount_percentage:null,discount_amount:null,enabled:!0,category:"none",items:[]}),[J,L]=v.useState([]);v.useEffect(()=>()=>{G&&URL.revokeObjectURL(G)},[G]);const D=z=>new Promise((ee,ce)=>{const Y=new FileReader;Y.readAsDataURL(z),Y.onload=ae=>{const he=new Image;he.src=ae.target?.result,he.onload=()=>{let Ke=he.width,ct=he.height;Ke>ct?Ke>800&&(ct=ct*800/Ke,Ke=800):ct>800&&(Ke=Ke*800/ct,ct=800);const pe=document.createElement("canvas");pe.width=800,pe.height=800;const Pe=pe.getContext("2d");if(!Pe){ce(new Error("No foi possvel criar contexto do canvas"));return}Pe.fillStyle="#FFFFFF",Pe.fillRect(0,0,800,800);const it=(800-Ke)/2,Ht=(800-ct)/2;Pe.drawImage(he,it,Ht,Ke,ct),pe.toBlob(Ot=>{if(!Ot){ce(new Error("Erro ao redimensionar imagem"));return}const vt=new File([Ot],z.name,{type:"image/jpeg",lastModified:Date.now()});ee(vt)},"image/jpeg",.9)},he.onerror=()=>ce(new Error("Erro ao carregar imagem"))},Y.onerror=()=>ce(new Error("Erro ao ler arquivo"))}),q=async z=>{const ee=z.target.files?.[0];if(!ee)return;if(!ee.type.startsWith("image/")){N("Por favor, selecione apenas arquivos de imagem");return}const ce=URL.createObjectURL(ee);B(ce),C(!0),O(0),N(null);let Y=null;try{O(10);const ae=await D(ee);O(30);const Se=`promotions/${`${Date.now()}-${Math.random().toString(36).substring(2)}.jpg`}`;let Oe=30;Y=setInterval(()=>{Oe+=5,Oe<=70?O(Oe):Y&&(clearInterval(Y),Y=null)},150);const{error:Ke}=await we.storage.from("product-images").upload(Se,ae,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(Y&&(clearInterval(Y),Y=null),O(70),Ke){Y&&(clearInterval(Y),Y=null),Ke.message.includes("Bucket not found")?N('Bucket de imagens no encontrado. Por favor, crie um bucket chamado "product-images" no Supabase Storage.'):Ke.message.includes("row-level security policy")||Ke.message.includes("RLS")?N("Erro de poltica de segurana. Execute o script setup_storage_policies.sql no SQL Editor do Supabase para configurar as polticas do bucket."):N(`Erro ao fazer upload: ${Ke.message}`),ce&&URL.revokeObjectURL(ce),B(null),O(0),C(!1);return}O(75);const ct="https://qzzbbrloztzfjcreaumt.supabase.co";let pe=null;ct&&(pe=`${ct}/storage/v1/object/public/product-images/${Se}`),O(85),pe?(O(90),U(pe),oe(Pe=>({...Pe,image:pe})),O(95),ce&&URL.revokeObjectURL(ce),B(null),O(100),N(null),C(!1),setTimeout(()=>{O(0)},800)):(N("Erro ao obter URL da imagem. Verifique se o bucket est pblico e as polticas RLS esto configuradas."),ce&&URL.revokeObjectURL(ce),B(null),O(0),C(!1))}catch(ae){Y&&(clearInterval(Y),Y=null),N(ae.message||"Erro ao fazer upload da imagem"),ce&&URL.revokeObjectURL(ce),B(null),O(0)}finally{Y&&(clearInterval(Y),Y=null),K.current&&(K.current.value="")}},re=async()=>{try{u(!0),h(null);const{data:z,error:ee}=await we.from("promotions").select("*").order("created_at",{ascending:!1});if(ee){if(ee.code==="42P01"||ee.message?.includes("does not exist")){console.warn("Tabela promotions no existe ainda. Execute o script create_promotions_table.sql"),s([]),u(!1);return}throw ee}if(!z){s([]),u(!1);return}const ce=await Promise.all(z.map(async Y=>{if(Y.type==="kit")try{const{data:ae,error:he}=await we.from("promotion_items").select(`
                                    *,
                                    products:product_id (
                                        id,
                                        name,
                                        price,
                                        image
                                    )
                                `).eq("promotion_id",Y.id);if(he)return he.code==="42P01"||he.message?.includes("does not exist")?(console.warn("Tabela promotion_items no existe ainda"),{...Y,items:[]}):(console.error("Error fetching promotion items:",he),{...Y,items:[]});const Se=(ae||[]).map(Oe=>({id:Oe.id,promotion_id:Oe.promotion_id,product_id:Oe.product_id,quantity:Oe.quantity,created_at:Oe.created_at,product:Oe.products?{id:Oe.products.id,name:Oe.products.name,price:Oe.products.price,image:Oe.products.image}:void 0}));return{...Y,items:Se}}catch(ae){return console.error("Error processing promotion items:",ae),{...Y,items:[]}}return{...Y,items:[]}}));s(ce)}catch(z){console.error("Error fetching promotions:",z),h(z.message||"Erro ao carregar promoes")}finally{u(!1)}};v.useEffect(()=>{re()},[]);const X=()=>{try{x(null),oe({name:"",description:"",image:null,type:"kit",price:null,discount_percentage:null,discount_amount:null,enabled:!0,category:"none",items:[]}),L([]),U(null),B(null),N(null),h(null),E(null),g(!0)}catch(z){console.error("Error opening create dialog:",z),h("Erro ao abrir formulrio de criao")}},M=z=>{x(z),oe({name:z.name,description:z.description||"",image:z.image,type:z.type,price:z.price,discount_percentage:z.discount_percentage,discount_amount:z.discount_amount,enabled:z.enabled,category:z.category||"none",items:z.items?.map(ee=>({product_id:ee.product_id,quantity:ee.quantity}))||[]}),L(z.items?.map(ee=>({product_id:ee.product_id,quantity:ee.quantity}))||[]),U(null),B(null),N(null),E(null),g(!0)},H=()=>{L([...J,{product_id:0,quantity:1}])},Q=z=>{L(J.filter((ee,ce)=>ce!==z))},P=(z,ee,ce)=>{const Y=[...J];Y[z]={...Y[z],[ee]:ce},L(Y)},V=async()=>{if(E(null),!F.name.trim()){E("Nome da promoo  obrigatrio");return}if(F.type==="kit"&&J.length===0){E("Adicione pelo menos um produto ao kit");return}if(F.type==="kit"&&!J.some(ee=>ee.product_id>0)){E("Selecione pelo menos um produto vlido no kit");return}if(F.type==="product"&&!F.price){E("Preo  obrigatrio para produtos novos");return}if(A){E("Aguarde o upload da imagem terminar antes de salvar");return}try{w(!0),h(null),E(null);const z=T||F.image,ee={name:F.name.trim(),description:F.description||null,image:z,type:F.type,price:F.price,discount_percentage:F.discount_percentage,discount_amount:F.discount_amount,enabled:F.enabled??!0,category:F.category==="none"||!F.category?null:F.category};if(y){const{data:ce,error:Y}=await we.from("promotions").update(ee).eq("id",y.id).select().single();if(Y)throw Y;if(F.type==="kit"&&ce&&(await we.from("promotion_items").delete().eq("promotion_id",ce.id),J.length>0)){const ae=J.filter(he=>he.product_id>0).map(he=>({promotion_id:ce.id,product_id:he.product_id,quantity:he.quantity}));if(ae.length>0){const{error:he}=await we.from("promotion_items").insert(ae);if(he)throw he}}}else{const{data:ce,error:Y}=await we.from("promotions").insert(ee).select().single();if(Y)throw Y;if(F.type==="kit"&&ce){const ae=J.filter(he=>he.product_id>0).map(he=>({promotion_id:ce.id,product_id:he.product_id,quantity:he.quantity}));if(ae.length>0){const{error:he}=await we.from("promotion_items").insert(ae);if(he)throw he}}}await re(),g(!1),x(null),E(null)}catch(z){console.error("Error saving promotion:",z);const ee=z.message||"Erro ao salvar promoo";E(ee),h(ee)}finally{w(!1)}},ie=async z=>{if(confirm("Tem certeza que deseja excluir esta promoo?"))try{const{error:ee}=await we.from("promotions").delete().eq("id",z);if(ee)throw ee;await re()}catch(ee){console.error("Error deleting promotion:",ee),h(ee.message||"Erro ao excluir promoo")}},W=async z=>{try{const{error:ee}=await we.from("promotions").update({enabled:!z.enabled}).eq("id",z.id);if(ee)throw ee;await re()}catch(ee){console.error("Error toggling promotion:",ee),h(ee.message||"Erro ao atualizar promoo")}},je=t?.filter(z=>z.price!=null&&z.price>0)||[];return n||c?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(Wl,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:o.jsx($a,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Promoes e Produtos Customizados"}),o.jsx("p",{className:"text-muted-foreground",children:"Gerencie promoes e combinaes de produtos"})]})]}),o.jsxs(xe,{onClick:X,children:[o.jsx(gn,{className:"h-4 w-4 mr-2"}),"Nova Promoo"]})]}),f&&o.jsx(Ne,{className:"border-destructive",children:o.jsx(Ce,{className:"pt-6",children:o.jsx("p",{className:"text-destructive",children:f})})}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(z=>o.jsxs(Ne,{children:[o.jsx(Ae,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Te,{className:"text-lg",children:z.name}),o.jsx(pt,{className:"mt-1",children:z.type==="kit"?o.jsxs(Qt,{variant:"secondary",children:[o.jsx(tn,{className:"h-3 w-3 mr-1"}),"Kit"]}):o.jsxs(Qt,{variant:"secondary",children:[o.jsx(Yw,{className:"h-3 w-3 mr-1"}),"Produto"]})})]}),o.jsx(yi,{checked:z.enabled,onCheckedChange:()=>W(z)})]})}),o.jsxs(Ce,{className:"space-y-4",children:[z.image&&o.jsx("img",{src:z.image,alt:z.name,className:"w-full h-48 object-cover rounded-lg"}),z.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:z.description}),z.type==="kit"&&z.items&&z.items.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold",children:"Produtos do Kit:"}),o.jsx("ul",{className:"text-sm space-y-1",children:z.items.map((ee,ce)=>o.jsxs("li",{className:"flex justify-between",children:[o.jsx("span",{children:ee.product?.name||`Produto #${ee.product_id}`}),o.jsxs("span",{className:"text-muted-foreground",children:["x",ee.quantity]})]},ce))})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[z.price&&o.jsx("span",{className:"text-lg font-bold",children:ge(z.price)}),(z.discount_percentage||z.discount_amount)&&o.jsx(Qt,{variant:"outline",children:z.discount_percentage?`${z.discount_percentage}% OFF`:z.discount_amount?`${ge(z.discount_amount)} OFF`:""})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(xe,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>M(z),children:[o.jsx(MP,{className:"h-4 w-4 mr-2"}),"Editar"]}),o.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>ie(z.id),children:o.jsx(sc,{className:"h-4 w-4"})})]})]})]},z.id))}),a.length===0&&!c&&o.jsx(Ne,{children:o.jsxs(Ce,{className:"pt-6 text-center space-y-2",children:[o.jsx("p",{className:"text-muted-foreground",children:"Nenhuma promoo cadastrada"}),!Jr,f&&f.includes("does not exist")&&o.jsx("p",{className:"text-xs text-destructive",children:"Execute o script create_promotions_table.sql no banco de dados"})]})}),o.jsx(rn,{open:m,onOpenChange:g,children:o.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Br,{children:[o.jsx(qr,{children:y?"Editar Promoo":"Nova Promoo"}),o.jsx(Mn,{children:"Crie uma promoo como produto novo ou combinao de produtos (kit)"})]}),_&&o.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:_}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"name",children:"Nome *"}),o.jsx(Ee,{id:"name",value:F.name,onChange:z=>oe({...F,name:z.target.value}),placeholder:"Ex: Combo Burger + Batata"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"description",children:"Descrio"}),o.jsx(Dg,{id:"description",value:F.description||"",onChange:z=>oe({...F,description:z.target.value}),placeholder:"Descrio da promoo...",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"type",children:"Tipo *"}),o.jsxs(Qe,{value:F.type,onValueChange:z=>{oe({...F,type:z}),z==="product"&&L([])},children:[o.jsx(Ye,{children:o.jsx(Je,{})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"kit",children:"Kit (Combinao de Produtos)"}),o.jsx(_e,{value:"product",children:"Produto Novo"})]})]})]}),F.type==="product"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"price",children:"Preo *"}),o.jsx(Ee,{id:"price",type:"number",step:"0.01",min:"0",value:F.price||"",onChange:z=>oe({...F,price:parseFloat(z.target.value)||null}),placeholder:"0.00"})]}),F.type==="kit"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(se,{children:"Produtos do Kit *"}),o.jsxs(xe,{type:"button",variant:"outline",size:"sm",onClick:H,children:[o.jsx(gn,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]}),J.map((z,ee)=>o.jsx(Ne,{children:o.jsx(Ce,{className:"pt-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Qe,{value:z.product_id>0?z.product_id.toString():void 0,onValueChange:ce=>{const Y=parseInt(ce);!isNaN(Y)&&Y>0&&P(ee,"product_id",Y)},children:[o.jsx(Ye,{className:"flex-1",children:o.jsx(Je,{placeholder:"Selecione um produto"})}),o.jsx(Xe,{children:je.length>0?je.map(ce=>o.jsxs(_e,{value:ce.id.toString(),children:[ce.name," - ",ge(ce.price||0)]},ce.id)):o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"Nenhum produto disponvel"})})]}),o.jsx(Ee,{type:"number",min:"1",step:"1",value:z.quantity,onChange:ce=>P(ee,"quantity",parseInt(ce.target.value)||1),className:"w-20"}),o.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>Q(ee),children:o.jsx(wd,{className:"h-4 w-4"})})]})})},`product-${ee}-${z.product_id}`)),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"kit-price",children:"Preo do Kit (opcional)"}),o.jsx(Ee,{id:"kit-price",type:"number",step:"0.01",min:"0",value:F.price||"",onChange:z=>oe({...F,price:parseFloat(z.target.value)||null}),placeholder:"Deixe vazio para usar soma dos produtos"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Se no informado, ser calculado automaticamente pela soma dos produtos"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"discount_percentage",children:"Desconto Percentual (%)"}),o.jsx(Ee,{id:"discount_percentage",type:"number",step:"0.01",min:"0",max:"100",value:F.discount_percentage||"",onChange:z=>oe({...F,discount_percentage:parseFloat(z.target.value)||null}),placeholder:"0"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"discount_amount",children:"Desconto Fixo (R$)"}),o.jsx(Ee,{id:"discount_amount",type:"number",step:"0.01",min:"0",value:F.discount_amount||"",onChange:z=>oe({...F,discount_amount:parseFloat(z.target.value)||null}),placeholder:"0.00"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"category",children:"Categoria"}),o.jsxs(Qe,{value:F.category||void 0,onValueChange:z=>oe({...F,category:z==="none"?null:z}),children:[o.jsx(Ye,{children:o.jsx(Je,{placeholder:"Selecione uma categoria"})}),o.jsxs(Xe,{children:[o.jsx(_e,{value:"none",children:"Sem categoria"}),r&&r.length>0?r.map(z=>o.jsx(_e,{value:z.name,children:z.name},z.id)):null]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"image",children:"Imagem da Promoo"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(xe,{type:"button",variant:"outline",onClick:()=>K.current?.click(),disabled:A||S||!Jr,className:"w-auto",children:A?o.jsxs(o.Fragment,{children:[o.jsx(Wl,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando... ",R,"%"]}):o.jsxs(o.Fragment,{children:[o.jsx(Zw,{className:"w-4 h-4 mr-2"}),F.image?"Alterar Imagem":"Selecionar Imagem"]})}),o.jsx(Ee,{ref:K,type:"file",accept:"image/*",onChange:q,className:"hidden",disabled:A}),!Jr]}),A&&R>0&&o.jsx("div",{className:"w-full mb-2",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${R}%`}})})}),I&&o.jsx("p",{className:"text-sm text-destructive mb-2",children:I}),(G||T||F.image)&&o.jsxs("div",{className:"mt-2",children:[A&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Redimensionando e enviando imagem (800x800px)..."}),!A&&F.image&&o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Imagem carregada com sucesso. A imagem foi redimensionada automaticamente para 800x800px."}),o.jsx("img",{src:G||T||F.image||"",alt:"Preview",className:"w-32 h-32 object-cover rounded-md border",onLoad:()=>{T&&G&&!A&&(URL.revokeObjectURL(G),B(null))},onError:z=>{const ee=z.currentTarget;if(G&&ee.src!==G){ee.src=G;return}if(T&&ee.src!==T){ee.src=T;return}if(F.image&&ee.src!==F.image){ee.src=F.image;return}}})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx(se,{htmlFor:"image-url",className:"text-xs text-muted-foreground",children:"Ou cole uma URL de imagem:"}),o.jsx(Ee,{id:"image-url",value:F.image||"",onChange:z=>oe({...F,image:z.target.value||null}),placeholder:"https://...",disabled:A})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(yi,{id:"enabled",checked:F.enabled??!0,onCheckedChange:z=>oe({...F,enabled:z})}),o.jsx(se,{htmlFor:"enabled",children:"Habilitada"})]})]}),o.jsxs(pn,{children:[o.jsx(xe,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),o.jsxs(xe,{onClick:V,disabled:S||A,children:[S&&o.jsx(Wl,{className:"h-4 w-4 mr-2 animate-spin"}),S?y?"Salvando...":"Criando...":A?"Aguarde o upload...":y?"Salvar":"Criar"]})]})]})})]})}function pfe(){const{user:e,isLoading:t}=Ea();return t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?o.jsx(dV,{children:o.jsxs(wP,{children:[o.jsx(Gt,{path:"/",element:o.jsx(mV,{})}),o.jsx(Gt,{path:"/orders",element:o.jsx(gV,{})}),o.jsx(Gt,{path:"/orders/new",element:o.jsx(AG,{})}),o.jsx(Gt,{path:"/orders/:id",element:o.jsx(DG,{})}),o.jsx(Gt,{path:"/finance",element:o.jsx(fi,{requiredRole:["admin","gerente"],children:o.jsx(Jde,{})})}),o.jsx(Gt,{path:"/sales",element:o.jsx(fi,{requiredRole:["admin","gerente"],children:o.jsx(efe,{})})}),o.jsx(Gt,{path:"/tables",element:o.jsx(MG,{})}),o.jsx(Gt,{path:"/tables/:id",element:o.jsx(IG,{})}),o.jsx(Gt,{path:"/tables/:id/bill",element:o.jsx(sfe,{})}),o.jsx(Gt,{path:"/menu",element:o.jsx(zG,{})}),o.jsx(Gt,{path:"/settings",element:o.jsx(fi,{requiredRole:["admin","gerente"],children:o.jsx(VG,{})})}),o.jsx(Gt,{path:"/ifood",element:o.jsx(fi,{requiredRole:"admin",children:o.jsx(tfe,{})})}),o.jsx(Gt,{path:"/order-display",element:o.jsx(rfe,{})}),o.jsx(Gt,{path:"/stock",element:o.jsx(fi,{requiredRole:"admin",children:o.jsx(ufe,{})})}),o.jsx(Gt,{path:"/stock/add",element:o.jsx(fi,{requiredRole:"admin",children:o.jsx(dfe,{})})}),o.jsx(Gt,{path:"/stock/edit/:id",element:o.jsx(fi,{requiredRole:"admin",children:o.jsx(ffe,{})})}),o.jsx(Gt,{path:"/products/new",element:o.jsx(fi,{requiredRole:["admin","gerente"],children:o.jsx(hfe,{})})}),o.jsx(Gt,{path:"/promotions",element:o.jsx(fi,{requiredRole:["admin","gerente","usuario"],children:o.jsx(mfe,{})})})]})}):o.jsx(bP,{to:"/login",replace:!0})}function gfe(){return o.jsx(nV,{children:o.jsx(iV,{children:o.jsx(sV,{children:o.jsx(ife,{children:o.jsx(hV,{children:o.jsx(lB,{children:o.jsxs(wP,{children:[o.jsx(Gt,{path:"/login",element:o.jsx(afe,{})}),o.jsx(Gt,{path:"/order-display-standalone",element:o.jsx(nfe,{})}),o.jsx(Gt,{path:"/*",element:o.jsx(pfe,{})})]})})})})})})})}WU.createRoot(document.getElementById("root")).render(o.jsx(v.StrictMode,{children:o.jsx(gfe,{})}));
